(window.webpackJsonpAzureNotebooks=window.webpackJsonpAzureNotebooks||[]).push([[18],{"./src/features/tableOfContents/async/index.ts":function(e,n,t){"use strict";t.r(n),t.d(n,"epics",(function(){return d})),t.d(n,"TableOfContentsComponent",(function(){return V}));var a=t("./src/core/notebook/index.ts"),o=t("./node_modules/typesafe-actions/dist/index.umd.js"),s=t("./node_modules/rxjs/operators/index.js"),l=t("./node_modules/rxjs/index.js"),c=t("./src/common/diagnostics/index.ts"),r=t("./src/features/tableOfContents/featureConstants.ts"),i=t("./src/common/telemetry1/telemetryUtils.ts"),d=[(e,n,t)=>e.pipe(Object(s.filter)(Object(o.isActionOf)(a.a.setSidePanelVisibleStatus)),Object(s.withLatestFrom)(n),Object(s.mergeMap)(([e,n])=>(e.payload?(c.b.logEvent("Table of contents opened",r.b.concat("open"),{}),Object(i.d)("showSidePanel",void 0,void 0)):Object(i.c)("showSidePanel",void 0,void 0),Object(l.empty)())))],u=t("./node_modules/office-ui-fabric-react/lib/components/Button/IconButton/IconButton.js"),p=t("./node_modules/office-ui-fabric-react/lib/components/Tooltip/TooltipHost.js"),g=t("./node_modules/react/index.js"),f=t.n(g),b=t("./node_modules/react-redux/es/index.js"),O=t("./src/common/DefaultLangContext.tsx"),m=t("./src/common/localization/index.ts"),h=t("./src/features/tableOfContents/async/localization/en.json"),C=t("./src/features/tableOfContents/async/localization/languages/en.cs.json"),k=t("./src/features/tableOfContents/async/localization/languages/en.de.json"),j=t("./src/features/tableOfContents/async/localization/languages/en.es.json"),x=t("./src/features/tableOfContents/async/localization/languages/en.fr.json"),y=t("./src/features/tableOfContents/async/localization/languages/en.hu.json"),z=t("./src/features/tableOfContents/async/localization/languages/en.it.json"),N=t("./src/features/tableOfContents/async/localization/languages/en.ja.json"),T=t("./src/features/tableOfContents/async/localization/languages/en.ko.json"),v=t("./src/features/tableOfContents/async/localization/languages/en.nl.json"),S=t("./src/features/tableOfContents/async/localization/languages/en.pl.json"),w=t("./src/features/tableOfContents/async/localization/languages/en.pt-BR.json"),E=t("./src/features/tableOfContents/async/localization/languages/en.pt-PT.json"),M=t("./src/features/tableOfContents/async/localization/languages/en.ru.json"),L=t("./src/features/tableOfContents/async/localization/languages/en.sv.json"),H=t("./src/features/tableOfContents/async/localization/languages/en.tr.json"),J=t("./src/features/tableOfContents/async/localization/languages/en.zh-Hans.json"),P=t("./src/features/tableOfContents/async/localization/languages/en.zh-Hant.json"),R=t("../core-contract/lib/types.js");Object(m.c)({en:h}),t("./src/common/theme/common.scss");var _=t("./node_modules/@nteract/core/lib/index.js"),I=t("./src/core/notebook/selectors.ts"),A=t("./node_modules/office-ui-fabric-react/lib/components/GroupedList/GroupSpacer.js"),D=t("./node_modules/office-ui-fabric-react/lib/components/GroupedList/GroupedList.js"),B=t("./src/core/notebook/actions/tableOfContents.ts"),G=t("./src/core/config/selectors/index.ts"),F=t("./src/core/config/index.ts");const K={iconName:"Cancel"};class Z extends f.a.PureComponent{constructor(e){super(e),this.shouldCloseOnZeroHeaders=!0,this.buildQueue=()=>{const e=[],n=Array.from(this.props.cellOrder);for(const t of n){const n=this.props.headers.get(t);if(void 0!==n){const a={text:n.text,id:t,level:n.level};e.push(a)}}return e},this.buildGroups=(e,n)=>{for(;n.length&&n[0].level>e.level+1;){const t=n.shift(),a=this.createTocHeader(t);e.children.push(a),this.buildGroups(a,n)}},this.onRenderHeader=e=>{const n=e.group.isCollapsed?{iconName:"ChevronRight",className:"collapse-toggle"}:{iconName:"ChevronDown",className:"collapse-toggle"},t=this.shouldRenderIcon(e);return f.a.createElement("div",null,t?f.a.createElement("div",{className:"table-of-contents-row collapse-header class-"+e.group.level.toString()},f.a.createElement(A.a,{indentWidth:20,count:e.groupLevel||0}),f.a.createElement(u.a,{onClick:()=>{e.onToggleCollapse(e.group);const n=document.activeElement;n instanceof HTMLElement&&n.blur()},iconProps:n,ariaLabel:this.locStrings.collapseExpandToggle,className:"collapse-toggle"}),f.a.createElement("span",{className:"table-of-contents-link collapse-header class-"+e.group.level.toString(),onClick:this.clickLink.bind(this,e.group.key,e.group.name),onKeyDown:this.onLinkKeyDown.bind(this,e.group.key,e.group.name),tabIndex:0},e.group.name)):f.a.createElement("div",{className:"table-of-contents-row no-collapse-header aznb-full-flex-row"},f.a.createElement(A.a,{indentWidth:20,count:e.groupLevel||0}),f.a.createElement("span",{className:"table-of-contents-link  no-collapse-header class-"+e.group.level.toString(),onClick:this.clickLink.bind(this,e.group.key,e.group.name),onKeyDown:this.onLinkKeyDown.bind(this,e.group.key,e.group.name),tabIndex:0},e.group.name)))},this.onRenderCell=(e,n,t)=>{},this.shouldRenderIcon=e=>void 0!==e.group.children&&e.group.children.length>=1,this.onLinkKeyDown=(e,n,t)=>{"Enter"===t.key&&(t.preventDefault(),t.stopPropagation(),this.clickLink(e,n))}}createTocHeader(e){return{key:e.id,level:e.level-1,name:e.text,startIndex:1,count:1,isCollapsed:!1,children:Array()}}render(){if(!this.props.isOpen)return null;const e=this.buildQueue(),n=!(0===e.length);var t;this.locStrings=(t=this.props.locale,Object(m.c)({[R.Locale.en]:h,[R.Locale.cs]:C,[R.Locale.de]:k,[R.Locale.es]:j,[R.Locale.fr]:x,[R.Locale.hu]:y,[R.Locale.it]:z,[R.Locale.ja]:N,[R.Locale.ko]:T,[R.Locale.nl]:v,[R.Locale.pl]:S,[R.Locale.pt_BR]:w,[R.Locale.pt_PT]:E,[R.Locale.ru]:M,[R.Locale.sv]:L,[R.Locale.tr]:H,[R.Locale.zh_Hans]:J,[R.Locale.zh_Hant]:P},t));const a={key:"root",name:"root",startIndex:-1,level:-1,count:0,children:[]};this.buildGroups(a,e);const o={onRenderHeader:this.onRenderHeader};return f.a.createElement("div",{className:"table-of-contents-container"},f.a.createElement("div",{className:"table-of-contents-header"},f.a.createElement("div",{className:"table-of-contents-title"},this.locStrings.tableOfContentsTitle),f.a.createElement("div",{className:"close-button-container"},f.a.createElement(p.a,{content:this.locStrings.close,className:"nb-tooltip"},f.a.createElement(u.a,{iconProps:K,ariaLabel:this.locStrings.close,onClick:this.props.closeSidePanel})))),n?f.a.createElement("div",{className:"aznb-table-of-contents"},f.a.createElement(D.a,{items:[],onRenderCell:this.onRenderCell,groups:a.children,groupProps:o,className:"table-of-contents-grouped-list"})):f.a.createElement("div",{className:"empty-table-of-contents"},this.locStrings.tableOfContentsNoHeadersMessage))}clickLink(e,n){this.props.clickLink(e,this.props.contentRef),c.b.logEvent("Table of contents link clicked",r.b.concat("linkClicked"),{cellId:e,heading:n})}}Z.contextType=O.a;var V=Object(b.connect)((e,{contentRef:n})=>e=>({headers:Object(I.getHeaders)(e),cellOrder:Object(I.getCellOrder)(e,{contentRef:n}),isOpen:Object(I.isSidePanelVisible)(e),tocTheme:Object(G.theme)(e),locale:F.d.locale(e)}),e=>({closeSidePanel:()=>e(Object(B.setSidePanelVisibleStatus)(!1)),clickLink:(n,t)=>{e(Object(B.focusedCellHeader)({id:n})),e(_.actions.focusCell({id:n,contentRef:t}))}}))(Z)},"./src/features/tableOfContents/async/localization/en.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"Table of contents","tableOfContentsNoHeadersMessage":"Please add a header in a Markdown cell to enable the table of contents.","close":"Close","collapseExpandToggle":"Collapse/expand"}')},"./src/features/tableOfContents/async/localization/languages/en.cs.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"Obsah","tableOfContentsNoHeadersMessage":"Pokud chcete povolit obsah, přidejte prosím do buňky Markdown hlavičku.","close":"Zavřít","collapseExpandToggle":"Sbalit nebo rozbalit"}')},"./src/features/tableOfContents/async/localization/languages/en.de.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"Inhaltsverzeichnis","tableOfContentsNoHeadersMessage":"Fügen Sie einen Header in einer Markdown-Zelle hinzu, um das Inhaltsverzeichnis zu aktivieren.","close":"Schließen","collapseExpandToggle":"Aufklappen/zuklappen"}')},"./src/features/tableOfContents/async/localization/languages/en.es.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"Tabla de contenido","tableOfContentsNoHeadersMessage":"Agregue un encabezado en una celda de Markdown para habilitar la tabla de contenido.","close":"Cerrar","collapseExpandToggle":"Contraer o expandir"}')},"./src/features/tableOfContents/async/localization/languages/en.fr.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"Table des matières","tableOfContentsNoHeadersMessage":"Ajoutez un en-tête dans une cellule Markdown pour activer la table des matières.","close":"Fermer","collapseExpandToggle":"Réduire/développer"}')},"./src/features/tableOfContents/async/localization/languages/en.hu.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"Tartalomjegyzék","tableOfContentsNoHeadersMessage":"Adjon meg egy fejlécet egy Markdown-cellában a tartalomjegyzék használatához.","close":"Bezárás","collapseExpandToggle":"Összecsukás/kibontás"}')},"./src/features/tableOfContents/async/localization/languages/en.it.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"Sommario","tableOfContentsNoHeadersMessage":"Per abilitare il sommario, aggiungere un\'intestazione in una cella Markdown.","close":"Chiudi","collapseExpandToggle":"Comprimi/Espandi"}')},"./src/features/tableOfContents/async/localization/languages/en.ja.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"目次","tableOfContentsNoHeadersMessage":"目次を有効にするには、Markdown セルにヘッダーを追加してください。","close":"閉じる","collapseExpandToggle":"折りたたむまたは展開する"}')},"./src/features/tableOfContents/async/localization/languages/en.ko.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"목차","tableOfContentsNoHeadersMessage":"콘텐츠 표를 사용하려면 Markdown 셀에 머리글을 추가하세요.","close":"닫기","collapseExpandToggle":"축소/확장"}')},"./src/features/tableOfContents/async/localization/languages/en.nl.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"Inhoudsopgave","tableOfContentsNoHeadersMessage":"Voeg een koptekst toe aan een Markdown-cel om de inhoudsopgave in te schakelen.","close":"Sluiten","collapseExpandToggle":"Samenvouwen/uitvouwen"}')},"./src/features/tableOfContents/async/localization/languages/en.pl.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"Spis treści","tableOfContentsNoHeadersMessage":"Dodaj nagłówek w komórce Markdown, aby włączyć spis treści.","close":"Zamknij","collapseExpandToggle":"Zwiń/rozwiń"}')},"./src/features/tableOfContents/async/localization/languages/en.pt-BR.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"Sumário","tableOfContentsNoHeadersMessage":"Adicione um cabeçalho em uma célula de Markdown para habilitar o sumário.","close":"Fechar","collapseExpandToggle":"Recolher/expandir"}')},"./src/features/tableOfContents/async/localization/languages/en.pt-PT.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"Índice","tableOfContentsNoHeadersMessage":"Adicione um cabeçalho numa célula de Markdown para utilizar o índice.","close":"Fechar","collapseExpandToggle":"Fechar/expandir"}')},"./src/features/tableOfContents/async/localization/languages/en.ru.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"Оглавление","tableOfContentsNoHeadersMessage":"Чтобы включить оглавление, добавьте в ячейку Markdown заголовок.","close":"Закрыть","collapseExpandToggle":"Свернуть/развернуть"}')},"./src/features/tableOfContents/async/localization/languages/en.sv.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"Innehållsförteckning","tableOfContentsNoHeadersMessage":"Lägg till ett rubrik i en markdown-cell för att aktivera innehållsförteckningen.","close":"Stäng","collapseExpandToggle":"Minimera/expandera"}')},"./src/features/tableOfContents/async/localization/languages/en.tr.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"İçindekiler tablosu","tableOfContentsNoHeadersMessage":"İçindekiler etkinleştirmek için lütfen Markdown hücresine üst bilgi ekleyin.","close":"Kapat","collapseExpandToggle":"Daralt/genişlet"}')},"./src/features/tableOfContents/async/localization/languages/en.zh-Hans.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"目录","tableOfContentsNoHeadersMessage":"请在 Markdown 单元格中添加标题以启动内容表格。","close":"关闭","collapseExpandToggle":"折叠/展开"}')},"./src/features/tableOfContents/async/localization/languages/en.zh-Hant.json":function(e){e.exports=JSON.parse('{"tableOfContentsTitle":"目錄","tableOfContentsNoHeadersMessage":"請在 Markdown 儲存格中新增標題，以啟用目錄。","close":"關閉","collapseExpandToggle":"摺疊/展開"}')}}]);