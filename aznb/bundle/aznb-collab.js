webpackJsonpAzureNotebooks([0],Array(1982).concat([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4867);n.d(t,"CollaborationManager",function(){return r.a});var i=n(5394);n.d(t,"NotebookCollaboration",function(){return i.a});var o=n(5395);n.d(t,"reducer",function(){return o.a});var s=n(3251);n.d(t,"initialState",function(){return s.a});var a=n(2213),c=n(2120),u=n(5396);n.d(t,"actions",function(){return a}),n.d(t,"selectors",function(){return c}),n.d(t,"epics",function(){return u.a});var l=n(5639);n.d(t,"EditorComponent",function(){return l.a});var h=n(5640);n.d(t,"OutputAnnotationPanel",function(){return h.a});var d=n(5643);n.d(t,"PreviewAdapter",function(){return d.a});var p=n(5644);n.d(t,"CollaborationSessionPanel",function(){return p.a});var f=n(5645);n.d(t,"PresenceDecorators",function(){return f.a})},,,,,function(e,t,n){"use strict";t.a=function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)}},,,,,,,function(e,t,n){"use strict";(function(t){var r=n(141);function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function o(e){return t.Buffer&&"function"===typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=n(734),a=Object.prototype.hasOwnProperty,c=Array.prototype.slice,u="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function h(e){return!o(e)&&("function"===typeof t.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var d=e.exports=v,p=/\s*function\s+([^\(\s]*)\s*/;function f(e){if(s.isFunction(e)){if(u)return e.name;var t=e.toString().match(p);return t&&t[1]}}function m(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(u||!s.isFunction(e))return s.inspect(e);var t=f(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,n,r,i){throw new d.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function v(e,t){e||b(e,!0,t,"==",d.ok)}function y(e,t,n,r){if(e===t)return!0;if(o(e)&&o(t))return 0===i(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(h(e)&&h(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var a=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==a&&a===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=S(e),o=S(t);if(i&&!o||!i&&o)return!1;if(i)return e=c.call(e),t=c.call(t),y(e,t,n);var a,u,l=C(e),h=C(t);if(l.length!==h.length)return!1;for(l.sort(),h.sort(),u=l.length-1;u>=0;u--)if(l[u]!==h[u])return!1;for(u=l.length-1;u>=0;u--)if(a=l[u],!y(e[a],t[a],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function S(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,n,r){var i;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(n){t=n}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&b(i,n,"Missing expected exception"+r);var o="string"===typeof r,a=!e&&i&&!n;if((!e&&s.isError(i)&&o&&_(i,n)||a)&&b(i,n,"Got unwanted exception"+r),e&&i&&n&&!_(i,n)||!e&&i)throw i}d.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=m(g((t=this).actual),128)+" "+t.operator+" "+m(g(t.expected),128),this.generatedMessage=!0);var n=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var i=r.stack,o=f(n),s=i.indexOf("\n"+o);if(s>=0){var a=i.indexOf("\n",s+1);i=i.substring(a+1)}this.stack=i}}},s.inherits(d.AssertionError,Error),d.fail=b,d.ok=v,d.equal=function(e,t,n){e!=t&&b(e,t,n,"==",d.equal)},d.notEqual=function(e,t,n){e==t&&b(e,t,n,"!=",d.notEqual)},d.deepEqual=function(e,t,n){y(e,t,!1)||b(e,t,n,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,n){y(e,t,!0)||b(e,t,n,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,n){y(e,t,!1)&&b(e,t,n,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,n,r){y(t,n,!0)&&b(t,n,r,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,n){e!==t&&b(e,t,n,"===",d.strictEqual)},d.notStrictEqual=function(e,t,n){e===t&&b(e,t,n,"!==",d.notStrictEqual)},d.throws=function(e,t,n){w(!0,e,t,n)},d.doesNotThrow=function(e,t,n){w(!1,e,t,n)},d.ifError=function(e){if(e)throw e},d.strict=r(function e(t,n){t||b(t,!0,n,"==",e)},d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var C=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(t,n(19))},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4967);n.d(t,"ConnectionState",function(){return r.a});var i=n(4968);n.d(t,"MessageType",function(){return i.a}),n.d(t,"NackErrorType",function(){return i.b});var o=n(4969);n.d(t,"FileMode",function(){return o.a}),n.d(t,"TreeEntry",function(){return o.b});var s=n(4970);n.n(s);for(var a in s)["ConnectionState","MessageType","NackErrorType","FileMode","TreeEntry","default"].indexOf(a)<0&&function(e){n.d(t,e,function(){return s[e]})}(a);var c=n(4971);n.d(t,"ScopeType",function(){return c.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1987),i=n(2276),o=n(3189),s=n(2032),a=n(2640),c=n(2392),u=n(2639),l=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.a;break;case 1:if(!n){s.destination=o.a;break}if("object"===typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new h(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new h(s,n,r,i)}return s}return r.a(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(s.a),h=function(e){function t(t,n,r,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var u=c;return Object(i.a)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=r,c._complete=s,c}return r.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return c.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4876);n.d(t,"performanceNow",function(){return r.a});var i=n(4878);n.d(t,"fromBase64ToUtf8",function(){return i.a}),n.d(t,"fromUtf8ToBase64",function(){return i.b});var o=n(4879);n.d(t,"BatchManager",function(){return o.a});var s=n(4880);n.d(t,"doIfNotDisposed",function(){return s.a});var a=n(4881);n.d(t,"EventEmitterWithErrorHandling",function(){return a.a});var c=n(4882);n.d(t,"EventForwarder",function(){return c.a});var u=n(4883);n.d(t,"raiseConnectedEvent",function(){return u.a});var l=n(4884);n.d(t,"hashFile",function(){return l.c}),n.d(t,"gitHashFile",function(){return l.a}),n.d(t,"gitHashFileAsync",function(){return l.b});var h=n(4887);n.d(t,"NumberComparer",function(){return h.b}),n.d(t,"Heap",function(){return h.a});var d=n(4888);n.d(t,"BaseTelemetryNullLogger",function(){return d.a}),n.d(t,"TelemetryLogger",function(){return d.f}),n.d(t,"TelemetryNullLogger",function(){return d.g}),n.d(t,"ChildLogger",function(){return d.b}),n.d(t,"MultiSinkLogger",function(){return d.d}),n.d(t,"DebugLogger",function(){return d.c}),n.d(t,"PerformanceEvent",function(){return d.e});var p=n(4890);n.d(t,"PromiseCache",function(){return p.a});var f=n(3088);n.d(t,"Deferred",function(){return f.a}),n.d(t,"assertNotRejected",function(){return f.c}),n.d(t,"LazyPromise",function(){return f.b});var m=n(4891);n.d(t,"RangeTracker",function(){return m.a});var g=n(4953);n.d(t,"RateLimiter",function(){return g.a});var b=n(4954);n.d(t,"safelyParseJSON",function(){return b.a});var v=n(4955);n.d(t,"Timer",function(){return v.b}),n.d(t,"PromiseTimer",function(){return v.a});var y=n(4956);n.d(t,"Trace",function(){return y.a});var S=n(2595);n.d(t,"TypedEventEmitter",function(){return S.a})},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(2638),i=n(5155),o=n(2210),s=n(2641),a=n(2392),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=Object(i.a)(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||a.a.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.a.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(r.a)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=u(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(s.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=u(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function u(e){if(e||(e=a.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},,function(e,t,n){(function(r){t.log=function(...e){return"object"===typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"%CDN_BUNDLE_URL%",AZNB_PUB_COMPONENT_VERSION:"1.1.3",AZNB_PUB_DEFAULT_ENDPOINT:"%AZNB_BACKEND_ENDPOINT%",AZNB_PUB_AZNBCONTENT_ENDPOINT:"%AZNB_PUB_AZNBCONTENT_ENDPOINT%",AZNB_PUB_BUILDTAG:"notebooks-release-prod.3971045.20200812160335.a3c03bb2"}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(4889)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(t,n(29))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1987),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(2002).a)},function(e,t,n){"use strict";t.a=function(e,t,n,o,s){void 0===s&&(s=new r.a(e,n,o));if(s.closed)return;return Object(i.a)(t)(s)};var r=n(2142),i=n(3202)},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4959);n.d(t,"DocumentStorageServiceProxy",function(){return r.a});var i=n(4960);n.d(t,"MultiDocumentServiceFactory",function(){return i.a});var o=n(4961);n.d(t,"configurableUrlResolver",function(){return o.b}),n.d(t,"MultiUrlResolver",function(){return o.a});var s=n(4962);n.d(t,"OnlineStatus",function(){return s.a}),n.d(t,"invalidFileNameErrorCode",function(){return s.f}),n.d(t,"isOnline",function(){return s.g}),n.d(t,"createNetworkError",function(){return s.c}),n.d(t,"createWriteError",function(){return s.e}),n.d(t,"createFatalError",function(){return s.b}),n.d(t,"createSummarizingError",function(){return s.d});var a=n(4963);n.d(t,"readAndParse",function(){return a.a});var c=n(4964);n.d(t,"createIError",function(){return c.a});var u=n(3108);n.d(t,"isFluidResolvedUrl",function(){return u.b}),n.d(t,"ensureFluidResolvedUrl",function(){return u.a});var l=n(4965);n.d(t,"combineAppAndProtocolSummary",function(){return l.a}),n.d(t,"getDocAttributesFromProtocolSummary",function(){return l.b}),n.d(t,"getQuorumValuesFromProtocolSummary",function(){return l.c})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2057),i=n(3190),o=n(2276),s=n(3191),a=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,a=this._parents,u=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,d=a?a.length:0;n;)n.remove(this),n=++h<d&&a[h]||null;if(Object(o.a)(u))try{u.call(this)}catch(f){t=!0,e=f instanceof s.a?c(f.errors):[f]}if(Object(r.a)(l))for(h=-1,d=l.length;++h<d;){var p=l[h];if(Object(i.a)(p))try{p.unsubscribe()}catch(f){t=!0,e=e||[],f instanceof s.a?e=e.concat(c(f.errors)):e.push(f)}}if(t)throw new s.a(e)}},e.prototype.add=function(t){var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce(function(e,t){return e.concat(t instanceof s.a?t.errors:t)},[])}},,,,,,function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return a}),n.d(t,"i",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"j",function(){return l}),n.d(t,"h",function(){return h}),n.d(t,"a",function(){return d}),n.d(t,"k",function(){return p});var r=100,i=359,o=100,s=255,a=100,c=3,u=6,l=1,h=3,d=/^[\da-f]{0,6}$/i,p=/^\d{0,3}$/},,,,,,,,,,function(e,t,n){var r=n(4870),i=n(4871),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return h});var r=n(1987),i=n(2010),o=n(2002),s=n(2032),a=n(2394),c=n(3193),u=n(2640),l=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.a(t,e),t}(o.a),h=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.a(t,e),t.prototype[u.a]=function(){return new l(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),s.a.EMPTY):this.isStopped?(e.complete(),s.a.EMPTY):(this.observers.push(e),new c.a(this,e))},t.prototype.asObservable=function(){var e=new i.a;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(i.a),d=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.a.EMPTY},t}(h)},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=Array.isArray||function(e){return e&&"number"===typeof e.length}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),t.b=function(e){return e?function(e){return new r.a(function(t){return e.schedule(function(){return t.complete()})})}(e):i};var r=n(2010),i=new r.a(function(e){return e.complete()})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2277),i=new(n(2278).a)(r.a)},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2368),i=n(2594);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=y(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),h=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(393);function y(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(a);u[0]=u[0].replace(/\\/g,"/");var y=e=u.join(a);if(y=y.trim(),!n&&1===e.split("#").length){var S=c.exec(y);if(S)return this.path=y,this.href=y,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=s.exec(y);if(_){var w=(_=_[0]).toLowerCase();this.protocol=w,y=y.substr(_.length)}if(n||_||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===y.substr(0,2);!C||_&&g[_]||(y=y.substr(2),this.slashes=!0)}if(!g[_]&&(C||_&&!b[_])){for(var k,x,O=-1,I=0;I<d.length;I++){-1!==(T=y.indexOf(d[I]))&&(-1===O||T<O)&&(O=T)}-1!==(x=-1===O?y.lastIndexOf("@"):y.lastIndexOf("@",O))&&(k=y.slice(0,x),y=y.slice(x+1),this.auth=decodeURIComponent(k)),O=-1;for(I=0;I<h.length;I++){var T;-1!==(T=y.indexOf(h[I]))&&(-1===O||T<O)&&(O=T)}-1===O&&(O=y.length),this.host=y.slice(0,O),y=y.slice(O),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var N=this.hostname.split(/\./),M=(I=0,N.length);I<M;I++){var P=N[I];if(P&&!P.match(p)){for(var j="",D=0,R=P.length;D<R;D++)P.charCodeAt(D)>127?j+="x":j+=P[D];if(!j.match(p)){var L=N.slice(0,I),A=N.slice(I+1),F=P.match(f);F&&(L.push(F[1]),A.unshift(F[2])),A.length&&(y="/"+A.join(".")+y),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=r.toASCII(this.hostname));var B=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+B,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!m[w])for(I=0,M=l.length;I<M;I++){var z=l[I];if(-1!==y.indexOf(z)){var W=encodeURIComponent(z);W===z&&(W=escape(z)),y=y.split(z).join(W)}}var H=y.indexOf("#");-1!==H&&(this.hash=y.substr(H),y=y.slice(0,H));var V=y.indexOf("?");if(-1!==V?(this.search=y.substr(V),this.query=y.substr(V+1),t&&(this.query=v.parse(this.query)),y=y.slice(0,V)):t&&(this.search="",this.query={}),y&&(this.pathname=y),b[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var U=this.search||"";this.path=B+U}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return b[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!b[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var p=h[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),S=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=S||y||n.host&&e.pathname,w=_,C=n.pathname&&n.pathname.split("/")||[],k=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!b[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),_=_&&(""===f[0]||""===C[0])),S)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=f;else if(f.length)C||(C=[]),C.pop(),C=C.concat(f),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(k)n.hostname=n.host=C.shift(),(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=C.slice(-1)[0],O=(n.host||e.host||C.length>1)&&("."===x||".."===x)||""===x,I=0,T=C.length;T>=0;T--)"."===(x=C[T])?C.splice(T,1):".."===x?(C.splice(T,1),I++):I&&(C.splice(T,1),I--);if(!_&&!w)for(;I--;I)C.unshift("..");!_||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),O&&"/"!==C.join("/").substr(-1)&&C.push("");var E,N=""===C[0]||C[0]&&"/"===C[0].charAt(0);k&&(n.hostname=n.host=N?"":C.length?C.shift():"",(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift()));return(_=_||n.host&&C.length)&&!N&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var r=n(3120),i=n(5001),o=Object.prototype.toString;function s(e){return"[object Array]"===o.call(e)}function a(e){return null!==e&&"object"===typeof e}function c(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),s(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:a,isUndefined:function(e){return"undefined"===typeof e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!==typeof window&&"undefined"!==typeof document},forEach:u,merge:function e(){var t={};function n(n,r){"object"===typeof t[r]&&"object"===typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";t.a=function(e,t){return function(n){if("function"!==typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}};var r=n(1987),i=n(2002);var o=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i.a)},,,,,,,function(e,t,n){(function(t){(function(){var n,r,i,o,s,a;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-s)/1e6},r=t.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),a=1e9*t.uptime(),s=o-a):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(t,n(29))},function(e,t,n){"use strict";t.a=function(e){return e&&"function"===typeof e.schedule}},,,,,,,,,,function(e,t,n){var r=n(3090),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4966);n.d(t,"getGitMode",function(){return r.g}),n.d(t,"getGitType",function(){return r.h}),n.d(t,"buildSnapshotTree",function(){return r.f}),n.d(t,"buildHierarchy",function(){return r.e}),n.d(t,"BlobTreeEntry",function(){return r.a}),n.d(t,"CommitTreeEntry",function(){return r.b}),n.d(t,"TreeTreeEntry",function(){return r.c}),n.d(t,"addBlobToTree",function(){return r.d});var i=n(4972);n.d(t,"isSystemMessage",function(){return i.b}),n.d(t,"ProtocolOpHandler",function(){return i.a});var o=n(3109);n.d(t,"Quorum",function(){return o.a}),n.d(t,"QuorumProxy",function(){return o.b});var s=n(4973);n.d(t,"isSystemType",function(){return s.a});var a=n(4974);n.d(t,"getQuorumTreeEntries",function(){return a.b}),n.d(t,"mergeAppAndProtocolTree",function(){return a.c}),n.d(t,"generateServiceProtocolEntries",function(){return a.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5017);n.d(t,"generateToken",function(){return r.a}),n.d(t,"generateUser",function(){return r.b});var i=n(3133);n.d(t,"getRandomName",function(){return i.b}),n.d(t,"choose",function(){return i.a});var o=n(5033);n.d(t,"GitManager",function(){return o.a});var s=n(5057);n.d(t,"Historian",function(){return s.a});var a=n(3137);n.d(t,"RestWrapper",function(){return a.a});var c=n(5058);n.d(t,"getOrCreateRepository",function(){return c.a});var u=n(5059);n.d(t,"canRead",function(){return u.a}),n.d(t,"canWrite",function(){return u.c}),n.d(t,"canSummarize",function(){return u.b});var l=n(5060);n.d(t,"promiseTimeout",function(){return l.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2168);n.d(t,"MergeNode",function(){return r.i}),n.d(t,"ordinalToArray",function(){return r.s}),n.d(t,"MaxNodesInBlock",function(){return r.g}),n.d(t,"MergeBlock",function(){return r.h}),n.d(t,"BaseSegment",function(){return r.a}),n.d(t,"ExternalSegment",function(){return r.c}),n.d(t,"reservedTileLabelsKey",function(){return r.C}),n.d(t,"reservedRangeLabelsKey",function(){return r.B}),n.d(t,"reservedMarkerIdKey",function(){return r.z}),n.d(t,"reservedMarkerSimpleTypeKey",function(){return r.A}),n.d(t,"refHasTileLabels",function(){return r.y}),n.d(t,"refHasRangeLabels",function(){return r.w}),n.d(t,"refHasTileLabel",function(){return r.x}),n.d(t,"refHasRangeLabel",function(){return r.v}),n.d(t,"refGetTileLabels",function(){return r.u}),n.d(t,"refGetRangeLabels",function(){return r.t}),n.d(t,"Marker",function(){return r.f}),n.d(t,"IncrementalExecOp",function(){return r.d}),n.d(t,"IncrementalMapState",function(){return r.e}),n.d(t,"CollaborationWindow",function(){return r.b}),n.d(t,"compareNumbers",function(){return r.n}),n.d(t,"compareStrings",function(){return r.o}),n.d(t,"clock",function(){return r.m}),n.d(t,"elapsedMicroseconds",function(){return r.p}),n.d(t,"internedSpaces",function(){return r.r}),n.d(t,"RegisterCollection",function(){return r.k}),n.d(t,"clientSeqComparer",function(){return r.l}),n.d(t,"glc",function(){return r.q}),n.d(t,"MergeTree",function(){return r.j});var i=n(2387);n.d(t,"ReferenceType",function(){return i.b}),n.d(t,"IntervalType",function(){return i.a});var o=n(2209);n.d(t,"combine",function(){return o.c}),n.d(t,"matchProperties",function(){return o.g}),n.d(t,"extend",function(){return o.e}),n.d(t,"clone",function(){return o.b}),n.d(t,"addProperties",function(){return o.a}),n.d(t,"extendIfUndefined",function(){return o.f}),n.d(t,"createMap",function(){return o.d});var s=n(2626);n.d(t,"SnapshotLegacy",function(){return s.a});var a=n(2274);n.d(t,"Stack",function(){return a.j}),n.d(t,"ListRemoveEntry",function(){return a.h}),n.d(t,"ListMakeEntry",function(){return a.f}),n.d(t,"ListMakeHead",function(){return a.g}),n.d(t,"List",function(){return a.e}),n.d(t,"numberComparer",function(){return a.r}),n.d(t,"Heap",function(){return a.a}),n.d(t,"LinearDictionary",function(){return a.d}),n.d(t,"RedBlackTree",function(){return a.i}),n.d(t,"integerRangeUnion",function(){return a.p}),n.d(t,"integerRangeOverlaps",function(){return a.n}),n.d(t,"integerRangeComparer",function(){return a.l}),n.d(t,"integerRangeCopy",function(){return a.m}),n.d(t,"integerRangeToString",function(){return a.o}),n.d(t,"IntegerRangeTree",function(){return a.b}),n.d(t,"intervalComparer",function(){return a.q}),n.d(t,"IntervalTree",function(){return a.c}),n.d(t,"TST",function(){return a.k});var c=n(5096);n.d(t,"loadSegments",function(){return c.a});var u=n(5097);n.d(t,"Client",function(){return u.a});var l=n(3155);n.d(t,"SegmentGroupCollection",function(){return l.a});var h=n(5098);n.n(h);for(var d in h)["loadSegments","MergeNode","ordinalToArray","MaxNodesInBlock","MergeBlock","BaseSegment","ExternalSegment","reservedTileLabelsKey","reservedRangeLabelsKey","reservedMarkerIdKey","reservedMarkerSimpleTypeKey","refHasTileLabels","refHasRangeLabels","refHasTileLabel","refHasRangeLabel","refGetTileLabels","refGetRangeLabels","Marker","IncrementalExecOp","IncrementalMapState","CollaborationWindow","compareNumbers","compareStrings","clock","elapsedMicroseconds","internedSpaces","RegisterCollection","clientSeqComparer","glc","MergeTree","ReferenceType","IntervalType","combine","matchProperties","extend","clone","addProperties","extendIfUndefined","createMap","SnapshotLegacy","Stack","ListRemoveEntry","ListMakeEntry","ListMakeHead","List","numberComparer","Heap","LinearDictionary","RedBlackTree","integerRangeUnion","integerRangeOverlaps","integerRangeComparer","integerRangeCopy","integerRangeToString","IntegerRangeTree","intervalComparer","IntervalTree","TST","Client","SegmentGroupCollection","default"].indexOf(d)<0&&function(e){n.d(t,e,function(){return h[e]})}(d);var p=n(3157);n.d(t,"createAnnotateMarkerOp",function(){return p.a}),n.d(t,"createAnnotateRangeOp",function(){return p.b}),n.d(t,"createRemoveRangeOp",function(){return p.h}),n.d(t,"createInsertSegmentOp",function(){return p.f}),n.d(t,"createInsertOp",function(){return p.e}),n.d(t,"createInsertFromRegisterOp",function(){return p.d}),n.d(t,"createInsertToRegisterOp",function(){return p.g}),n.d(t,"createGroupOp",function(){return p.c});var f=n(3154);n.d(t,"TrackingGroup",function(){return f.a}),n.d(t,"TrackingGroupCollection",function(){return f.b});var m=n(3156);n.d(t,"SegmentPropertiesManager",function(){return m.a});var g=n(2625);n.d(t,"SortedSegmentSet",function(){return g.a});var b=n(2628);n.d(t,"TextSegment",function(){return b.b}),n.d(t,"MergeTreeTextHelper",function(){return b.a});var v=n(2386);n.d(t,"LocalReference",function(){return v.a}),n.d(t,"LocalReferenceCollection",function(){return v.b});var y=n(3158);n.d(t,"SnapshotLoader",function(){return y.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5283);n.d(t,"performanceNow",function(){return r.a});var i=n(5285);n.d(t,"fromBase64ToUtf8",function(){return i.a}),n.d(t,"fromUtf8ToBase64",function(){return i.b});var o=n(5286);n.d(t,"BatchManager",function(){return o.a});var s=n(5287);n.d(t,"doIfNotDisposed",function(){return s.a});var a=n(5288);n.d(t,"EventEmitterWithErrorHandling",function(){return a.a});var c=n(5289);n.d(t,"EventForwarder",function(){return c.a});var u=n(5290);n.d(t,"raiseConnectedEvent",function(){return u.a});var l=n(5291);n.d(t,"hashFile",function(){return l.c}),n.d(t,"gitHashFile",function(){return l.a}),n.d(t,"gitHashFileAsync",function(){return l.b});var h=n(5292);n.d(t,"NumberComparer",function(){return h.b}),n.d(t,"Heap",function(){return h.a});var d=n(5293);n.d(t,"BaseTelemetryNullLogger",function(){return d.a}),n.d(t,"TelemetryLogger",function(){return d.f}),n.d(t,"TelemetryNullLogger",function(){return d.g}),n.d(t,"ChildLogger",function(){return d.b}),n.d(t,"MultiSinkLogger",function(){return d.d}),n.d(t,"DebugLogger",function(){return d.c}),n.d(t,"PerformanceEvent",function(){return d.e});var p=n(5294);n.d(t,"PromiseCache",function(){return p.a});var f=n(3224);n.d(t,"Deferred",function(){return f.a}),n.d(t,"assertNotRejected",function(){return f.c}),n.d(t,"LazyPromise",function(){return f.b});var m=n(5295);n.d(t,"RangeTracker",function(){return m.a});var g=n(5296);n.d(t,"RateLimiter",function(){return g.a});var b=n(5297);n.d(t,"safelyParseJSON",function(){return b.a});var v=n(5298);n.d(t,"Timer",function(){return v.b}),n.d(t,"PromiseTimer",function(){return v.a});var y=n(5299);n.d(t,"Trace",function(){return y.a});var S=n(2659);n.d(t,"TypedEventEmitter",function(){return S.a})},,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3161);n.d(t,"CounterFactory",function(){return r.b}),n.d(t,"Counter",function(){return r.a}),n.d(t,"CounterValueType",function(){return r.c});var i=n(5099);n.d(t,"MapFactory",function(){return i.a}),n.d(t,"SharedMap",function(){return i.b});var o=n(5107);n.d(t,"DirectoryFactory",function(){return o.a}),n.d(t,"SharedDirectory",function(){return o.b});var s=n(3163);n.d(t,"MapKernel",function(){return s.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"version",function(){return vr}),n.d(t,"Collection",function(){return k}),n.d(t,"Iterable",function(){return Sr}),n.d(t,"Seq",function(){return J}),n.d(t,"Map",function(){return Pt}),n.d(t,"OrderedMap",function(){return bn}),n.d(t,"List",function(){return nn}),n.d(t,"Stack",function(){return Cn}),n.d(t,"Set",function(){return Dn}),n.d(t,"OrderedSet",function(){return rr}),n.d(t,"Record",function(){return cr}),n.d(t,"Range",function(){return zn}),n.d(t,"Repeat",function(){return mr}),n.d(t,"is",function(){return de}),n.d(t,"fromJS",function(){return gr}),n.d(t,"hash",function(){return ge}),n.d(t,"isImmutable",function(){return P}),n.d(t,"isCollection",function(){return v}),n.d(t,"isKeyed",function(){return S}),n.d(t,"isIndexed",function(){return w}),n.d(t,"isAssociative",function(){return C}),n.d(t,"isOrdered",function(){return D}),n.d(t,"isValueObject",function(){return he}),n.d(t,"get",function(){return rt}),n.d(t,"getIn",function(){return Wn}),n.d(t,"has",function(){return nt}),n.d(t,"hasIn",function(){return Vn}),n.d(t,"merge",function(){return vt}),n.d(t,"mergeDeep",function(){return St}),n.d(t,"mergeWith",function(){return yt}),n.d(t,"mergeDeepWith",function(){return _t}),n.d(t,"remove",function(){return ot}),n.d(t,"removeIn",function(){return lt}),n.d(t,"set",function(){return st}),n.d(t,"setIn",function(){return ct}),n.d(t,"update",function(){return dt}),n.d(t,"updateIn",function(){return at});var r=5,i=1<<r,o=i-1,s={};function a(e){e&&(e.value=!0)}function c(){}function u(e){return void 0===e.size&&(e.size=e.__iterate(h)),e.size}function l(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?u(e)+t:t}function h(){return!0}function d(e,t,n){return(0===e&&!g(e)||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function p(e,t){return m(e,t,0)}function f(e,t){return m(e,t,t)}function m(e,t,n){return void 0===e?n:g(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function g(e){return e<0||0===e&&1/e===-1/0}var b="@@__IMMUTABLE_ITERABLE__@@";function v(e){return Boolean(e&&e[b])}var y="@@__IMMUTABLE_KEYED__@@";function S(e){return Boolean(e&&e[y])}var _="@@__IMMUTABLE_INDEXED__@@";function w(e){return Boolean(e&&e[_])}function C(e){return S(e)||w(e)}var k=function(e){return v(e)?e:J(e)},x=function(e){function t(e){return S(e)?e:Q(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(k),O=function(e){function t(e){return w(e)?e:Z(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(k),I=function(e){function t(e){return v(e)&&!C(e)?e:X(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(k);k.Keyed=x,k.Indexed=O,k.Set=I;var T="@@__IMMUTABLE_SEQ__@@";function E(e){return Boolean(e&&e[T])}var N="@@__IMMUTABLE_RECORD__@@";function M(e){return Boolean(e&&e[N])}function P(e){return v(e)||M(e)}var j="@@__IMMUTABLE_ORDERED__@@";function D(e){return Boolean(e&&e[j])}var R=0,L=1,A=2,F="function"===typeof Symbol&&Symbol.iterator,B="@@iterator",q=F||B,z=function(e){this.next=e};function W(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function H(){return{value:void 0,done:!0}}function V(e){return!!K(e)}function U(e){return e&&"function"===typeof e.next}function $(e){var t=K(e);return t&&t.call(e)}function K(e){var t=e&&(F&&e[F]||e[B]);if("function"===typeof t)return t}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=R,z.VALUES=L,z.ENTRIES=A,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[q]=function(){return this};var G=Object.prototype.hasOwnProperty;function Y(e){return!(!Array.isArray(e)&&"string"!==typeof e)||e&&"object"===typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var J=function(e){function t(e){return null===e||void 0===e?ie():P(e)?e.toSeq():function(e){var t=ae(e);if(t)return t;if("object"===typeof e)return new te(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var n=this._cache;if(n){for(var r=n.length,i=0;i!==r;){var o=n[t?r-++i:i++];if(!1===e(o[1],o[0],this))break}return i}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var n=this._cache;if(n){var r=n.length,i=0;return new z(function(){if(i===r)return{value:void 0,done:!0};var o=n[t?r-++i:i++];return W(e,o[0],o[1])})}return this.__iteratorUncached(e,t)},t}(k),Q=function(e){function t(e){return null===e||void 0===e?ie().toKeyedSeq():v(e)?S(e)?e.toSeq():e.fromEntrySeq():M(e)?e.toSeq():oe(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(J),Z=function(e){function t(e){return null===e||void 0===e?ie():v(e)?S(e)?e.entrySeq():e.toIndexedSeq():M(e)?e.toSeq().entrySeq():se(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(J),X=function(e){function t(e){return(v(e)&&!C(e)?e:Z(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(J);J.isSeq=E,J.Keyed=Q,J.Set=X,J.Indexed=Z,J.prototype[T]=!0;var ee=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[l(this,e)]:t},t.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length,i=0;i!==r;){var o=t?r-++i:i++;if(!1===e(n[o],o,this))break}return i},t.prototype.__iterator=function(e,t){var n=this._array,r=n.length,i=0;return new z(function(){if(i===r)return{value:void 0,done:!0};var o=t?r-++i:i++;return W(e,o,n[o])})},t}(Z),te=function(e){function t(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return G.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length,o=0;o!==i;){var s=r[t?i-++o:o++];if(!1===e(n[s],s,this))break}return o},t.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length,o=0;return new z(function(){if(o===i)return{value:void 0,done:!0};var s=r[t?i-++o:o++];return W(e,s,n[s])})},t}(Q);te.prototype[j]=!0;var ne,re=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=$(this._collection),r=0;if(U(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=$(this._collection);if(!U(n))return new z(H);var r=0;return new z(function(){var t=n.next();return t.done?t:W(e,r++,t.value)})},t}(Z);function ie(){return ne||(ne=new ee([]))}function oe(e){var t=Array.isArray(e)?new ee(e):V(e)?new re(e):void 0;if(t)return t.fromEntrySeq();if("object"===typeof e)return new te(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function se(e){var t=ae(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function ae(e){return Y(e)?new ee(e):V(e)?new re(e):void 0}var ce="@@__IMMUTABLE_MAP__@@";function ue(e){return Boolean(e&&e[ce])}function le(e){return ue(e)&&D(e)}function he(e){return Boolean(e&&"function"===typeof e.equals&&"function"===typeof e.hashCode)}function de(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(he(e)&&he(t)&&e.equals(t))}var pe="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function fe(e){return e>>>1&1073741824|3221225471&e}var me=Object.prototype.valueOf;function ge(e){switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return function(e){if(e!==e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return fe(t)}(e);case"string":return e.length>ke?function(e){var t=Ie[e];void 0===t&&(t=be(e),Oe===xe&&(Oe=0,Ie={}),Oe++,Ie[e]=t);return t}(e):be(e);case"object":case"function":return null===e?1108378658:"function"===typeof e.hashCode?fe(e.hashCode(e)):(e.valueOf!==me&&"function"===typeof e.valueOf&&(e=e.valueOf(e)),function(e){var t;if(_e&&void 0!==(t=Se.get(e)))return t;if(void 0!==(t=e[Ce]))return t;if(!ye){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ce]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}t=++we,1073741824&we&&(we=0);if(_e)Se.set(e,t);else{if(void 0!==ve&&!1===ve(e))throw new Error("Non-extensible objects are not allowed as keys.");if(ye)Object.defineProperty(e,Ce,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ce]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ce]=t}}return t}(e));case"undefined":return 1108378659;default:if("function"===typeof e.toString)return be(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function be(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return fe(t)}var ve=Object.isExtensible,ye=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var Se,_e="function"===typeof WeakMap;_e&&(Se=new WeakMap);var we=0,Ce="__immutablehash__";"function"===typeof Symbol&&(Ce=Symbol(Ce));var ke=16,xe=255,Oe=0,Ie={},Te=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=De(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var n=this,r=je(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t,r){return e(t,r,n)},t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(Q);Te.prototype[j]=!0;var Ee=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this,r=0;return t&&u(this),this._iter.__iterate(function(i){return e(i,t?n.size-++r:r++,n)},t)},t.prototype.__iterator=function(e,t){var n=this,r=this._iter.__iterator(L,t),i=0;return t&&u(this),new z(function(){var o=r.next();return o.done?o:W(e,t?n.size-++i:i++,o.value,o)})},t}(Z),Ne=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(L,t);return new z(function(){var t=n.next();return t.done?t:W(e,t.value,t.value,t)})},t}(X),Me=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Ve(t);var r=v(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(L,t);return new z(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Ve(r);var i=v(r);return W(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}})},t}(Q);function Pe(e){var t=$e(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Ke,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===A){var r=e.__iterator(t,n);return new z(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===L?R:L,n)},t}function je(e,t,n){var r=$e(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,s);return o===s?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate(function(e,i,s){return!1!==r(t.call(n,e,i,s),i,o)},i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(A,i);return new z(function(){var i=o.next();if(i.done)return i;var s=i.value,a=s[0];return W(r,a,t.call(n,s[1],a,e),i)})},r}function De(e,t){var n=this,r=$e(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Pe(e);return t.reverse=function(){return e.flip()},t}),r.get=function(n,r){return e.get(t?n:-1-n,r)},r.has=function(n){return e.has(t?n:-1-n)},r.includes=function(t){return e.includes(t)},r.cacheResult=Ke,r.__iterate=function(n,r){var i=this,o=0;return r&&u(e),e.__iterate(function(e,s){return n(e,t?s:r?i.size-++o:o++,i)},!r)},r.__iterator=function(r,i){var o=0;i&&u(e);var s=e.__iterator(A,!i);return new z(function(){var e=s.next();if(e.done)return e;var a=e.value;return W(r,t?a[0]:i?n.size-++o:o++,a[1],e)})},r}function Re(e,t,n,r){var i=$e(e);return r&&(i.has=function(r){var i=e.get(r,s);return i!==s&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,s);return o!==s&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var s=this,a=0;return e.__iterate(function(e,o,c){if(t.call(n,e,o,c))return a++,i(e,r?o:a-1,s)},o),a},i.__iteratorUncached=function(i,o){var s=e.__iterator(A,o),a=0;return new z(function(){for(;;){var o=s.next();if(o.done)return o;var c=o.value,u=c[0],l=c[1];if(t.call(n,l,u,e))return W(i,r?u:a++,l,o)}})},i}function Le(e,t,n,r){var i=e.size;if(d(t,n,i))return e;var o=p(t,i),s=f(n,i);if(o!==o||s!==s)return Le(e.toSeq().cacheResult(),t,n,r);var a,c=s-o;c===c&&(a=c<0?0:c);var u=$e(e);return u.size=0===a?a:e.size&&a||void 0,!r&&E(e)&&a>=0&&(u.get=function(t,n){return(t=l(this,t))>=0&&t<a?e.get(t+o,n):n}),u.__iterateUncached=function(t,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(t,n);var s=0,c=!0,u=0;return e.__iterate(function(e,n){if(!c||!(c=s++<o))return u++,!1!==t(e,r?n:u-1,i)&&u!==a}),u},u.__iteratorUncached=function(t,n){if(0!==a&&n)return this.cacheResult().__iterator(t,n);if(0===a)return new z(H);var i=e.__iterator(t,n),s=0,c=0;return new z(function(){for(;s++<o;)i.next();if(++c>a)return{value:void 0,done:!0};var e=i.next();return r||t===L||e.done?e:W(t,c-1,t===R?void 0:e.value[1],e)})},u}function Ae(e,t,n,r){var i=$e(e);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,c=0;return e.__iterate(function(e,o,u){if(!a||!(a=t.call(n,e,o,u)))return c++,i(e,r?o:c-1,s)}),c},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var a=e.__iterator(A,o),c=!0,u=0;return new z(function(){var e,o,l;do{if((e=a.next()).done)return r||i===L?e:W(i,u++,i===R?void 0:e.value[1],e);var h=e.value;o=h[0],l=h[1],c&&(c=t.call(n,l,o,s))}while(c);return i===A?e:W(i,o,l,e)})},i}function Fe(e,t,n){var r=$e(e);return r.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var s=0,a=!1;return function e(c,u){c.__iterate(function(o,c){return(!t||u<t)&&v(o)?e(o,u+1):(s++,!1===i(o,n?c:s-1,r)&&(a=!0)),!a},o)}(e,0),s},r.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var o=e.__iterator(r,i),s=[],a=0;return new z(function(){for(;o;){var e=o.next();if(!1===e.done){var c=e.value;if(r===A&&(c=c[1]),t&&!(s.length<t)||!v(c))return n?e:W(r,a++,c,e);s.push(o),o=c.__iterator(r,i)}else o=s.pop()}return{value:void 0,done:!0}})},r}function Be(e,t,n){t||(t=Ge);var r=S(e),i=0,o=e.toSeq().map(function(t,r){return[r,t,i++,n?n(t,r,e):t]}).valueSeq().toArray();return o.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?Q(o):w(e)?Z(o):X(o)}function qe(e,t,n){if(t||(t=Ge),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return ze(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return ze(t,e,n)?n:e})}function ze(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function We(e,t,n,r){var i=$e(e),o=new ee(n).map(function(e){return e.size});return i.size=r?o.max():o.min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(L,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=n.map(function(e){return e=k(e),$(i?e.reverse():e)}),s=0,a=!1;return new z(function(){var n;return a||(n=o.map(function(e){return e.next()}),a=r?n.every(function(e){return e.done}):n.some(function(e){return e.done})),a?{value:void 0,done:!0}:W(e,s++,t.apply(null,n.map(function(e){return e.value})))})},i}function He(e,t){return e===t?e:E(e)?t:e.constructor(t)}function Ve(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Ue(e){return S(e)?x:w(e)?O:I}function $e(e){return Object.create((S(e)?Q:w(e)?Z:X).prototype)}function Ke(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):J.prototype.cacheResult.call(this)}function Ge(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function Ye(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function Je(e,t){if(!e)throw new Error(t)}function Qe(e){Je(e!==1/0,"Cannot perform this action with an infinite size.")}function Ze(e){if(Y(e)&&"string"!==typeof e)return e;if(D(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}function Xe(e){return e&&("function"!==typeof e.constructor||"Object"===e.constructor.name)}function et(e){return"object"===typeof e&&(P(e)||Array.isArray(e)||Xe(e))}function tt(e){try{return"string"===typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function nt(e,t){return P(e)?e.has(t):et(e)&&G.call(e,t)}function rt(e,t,n){return P(e)?e.get(t,n):nt(e,t)?"function"===typeof e.get?e.get(t):e[t]:n}function it(e){if(Array.isArray(e))return Ye(e);var t={};for(var n in e)G.call(e,n)&&(t[n]=e[n]);return t}function ot(e,t){if(!et(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(P(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!G.call(e,t))return e;var n=it(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function st(e,t,n){if(!et(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(P(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(G.call(e,t)&&n===e[t])return e;var r=it(e);return r[t]=n,r}function at(e,t,n,r){r||(r=n,n=void 0);var i=function e(t,n,r,i,o,a){var c=n===s;if(i===r.length){var u=c?o:n,l=a(u);return l===u?n:l}if(!c&&!et(n))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,i).map(tt)+"]: "+n);var h=r[i];var d=c?s:rt(n,h,s);var p=e(d===s?t:P(d),d,r,i+1,o,a);return p===d?n:p===s?ot(n,h):st(c?t?Vt():{}:n,h,p)}(P(e),e,Ze(t),0,n,r);return i===s?n:i}function ct(e,t,n){return at(e,t,s,function(){return n})}function ut(e,t){return ct(this,e,t)}function lt(e,t){return at(e,t,function(){return s})}function ht(e){return lt(this,e)}function dt(e,t,n,r){return at(e,[t],n,r)}function pt(e,t,n){return 1===arguments.length?e(this):dt(this,e,t,n)}function ft(e,t,n){return at(this,e,t,n)}function mt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return bt(this,e)}function gt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if("function"!==typeof e)throw new TypeError("Invalid merger function: "+e);return bt(this,t,e)}function bt(e,t,n){for(var r=[],i=0;i<t.length;i++){var o=x(t[i]);0!==o.size&&r.push(o)}return 0===r.length?e:0!==e.toSeq().size||e.__ownerID||1!==r.length?e.withMutations(function(e){for(var t=n?function(t,r){dt(e,r,s,function(e){return e===s?t:n(e,t,r)})}:function(t,n){e.set(n,t)},i=0;i<r.length;i++)r[i].forEach(t)}):e.constructor(r[0])}function vt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ct(e,t)}function yt(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Ct(t,n,e)}function St(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return wt(e,t)}function _t(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return wt(t,n,e)}function wt(e,t,n){return Ct(e,t,function(e){return function t(n,r,i){return et(n)&&et(r)?Ct(n,[r],t):e?e(n,r,i):r}}(n))}function Ct(e,t,n){if(!et(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(P(e))return"function"===typeof n&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),i=e,o=r?O:x,s=r?function(t){i===e&&(i=it(i)),i.push(t)}:function(t,r){var o=G.call(i,r),s=o&&n?n(i[r],t,r):t;o&&s===i[r]||(i===e&&(i=it(i)),i[r]=s)},a=0;a<t.length;a++)o(t[a]).forEach(s);return i}function kt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return wt(this,e)}function xt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return wt(this,t,e)}function Ot(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return at(this,e,Vt(),function(e){return Ct(e,t)})}function It(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return at(this,e,Vt(),function(e){return wt(e,t)})}function Tt(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Et(){return this.__ownerID?this:this.__ensureOwner(new c)}function Nt(){return this.__ensureOwner()}function Mt(){return this.__altered}Ee.prototype.cacheResult=Te.prototype.cacheResult=Ne.prototype.cacheResult=Me.prototype.cacheResult=Ke;var Pt=function(e){function t(t){return null===t||void 0===t?Vt():ue(t)&&!D(t)?t:Vt().withMutations(function(n){var r=e(t);Qe(r.size),r.forEach(function(e,t){return n.set(t,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Vt().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return Ut(this,e,t)},t.prototype.remove=function(e){return Ut(this,e,s)},t.prototype.deleteAll=function(e){var t=k(e);return 0===t.size?this:this.withMutations(function(e){t.forEach(function(t){return e.remove(t)})})},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Vt()},t.prototype.sort=function(e){return bn(Be(this,e))},t.prototype.sortBy=function(e,t){return bn(Be(this,t,e))},t.prototype.map=function(e,t){return this.withMutations(function(n){n.forEach(function(r,i){n.set(i,e.call(t,r,i,n))})})},t.prototype.__iterator=function(e,t){return new qt(this,e,t)},t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ht(this.size,this._root,e,this.__hash):0===this.size?Vt():(this.__ownerID=e,this.__altered=!1,this)},t}(x);Pt.isMap=ue;var jt=Pt.prototype;jt[ce]=!0,jt.delete=jt.remove,jt.removeAll=jt.deleteAll,jt.setIn=ut,jt.removeIn=jt.deleteIn=ht,jt.update=pt,jt.updateIn=ft,jt.merge=jt.concat=mt,jt.mergeWith=gt,jt.mergeDeep=kt,jt.mergeDeepWith=xt,jt.mergeIn=Ot,jt.mergeDeepIn=It,jt.withMutations=Tt,jt.wasAltered=Mt,jt.asImmutable=Nt,jt["@@transducer/init"]=jt.asMutable=Et,jt["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},jt["@@transducer/result"]=function(e){return e.asImmutable()};var Dt=function(e,t){this.ownerID=e,this.entries=t};Dt.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(de(n,i[o][0]))return i[o][1];return r},Dt.prototype.update=function(e,t,n,r,i,o,u){for(var l=i===s,h=this.entries,d=0,p=h.length;d<p&&!de(r,h[d][0]);d++);var f=d<p;if(f?h[d][1]===i:l)return this;if(a(u),(l||!f)&&a(o),!l||1!==h.length){if(!f&&!l&&h.length>=Qt)return function(e,t,n,r){e||(e=new c);for(var i=new Ft(e,ge(n),[n,r]),o=0;o<t.length;o++){var s=t[o];i=i.update(e,0,void 0,s[0],s[1])}return i}(e,h,r,i);var m=e&&e===this.ownerID,g=m?h:Ye(h);return f?l?d===p-1?g.pop():g[d]=g.pop():g[d]=[r,i]:g.push([r,i]),m?(this.entries=g,this):new Dt(e,g)}};var Rt=function(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n};Rt.prototype.get=function(e,t,n,i){void 0===t&&(t=ge(n));var s=1<<((0===e?t:t>>>e)&o),a=this.bitmap;return 0===(a&s)?i:this.nodes[Yt(a&s-1)].get(e+r,t,n,i)},Rt.prototype.update=function(e,t,n,a,c,u,l){void 0===n&&(n=ge(a));var h=(0===t?n:n>>>t)&o,d=1<<h,p=this.bitmap,f=0!==(p&d);if(!f&&c===s)return this;var m=Yt(p&d-1),g=this.nodes,b=f?g[m]:void 0,v=$t(b,e,t+r,n,a,c,u,l);if(v===b)return this;if(!f&&v&&g.length>=Zt)return function(e,t,n,r,o){for(var s=0,a=new Array(i),c=0;0!==n;c++,n>>>=1)a[c]=1&n?t[s++]:void 0;return a[r]=o,new Lt(e,s+1,a)}(e,g,p,h,v);if(f&&!v&&2===g.length&&Kt(g[1^m]))return g[1^m];if(f&&v&&1===g.length&&Kt(v))return v;var y=e&&e===this.ownerID,S=f?v?p:p^d:p|d,_=f?v?Jt(g,m,v,y):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,s=0;s<r;s++)s===t&&(o=1),i[s]=e[s+o];return i}(g,m,y):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),s=0,a=0;a<i;a++)a===t?(o[a]=n,s=-1):o[a]=e[a+s];return o}(g,m,v,y);return y?(this.bitmap=S,this.nodes=_,this):new Rt(e,S,_)};var Lt=function(e,t,n){this.ownerID=e,this.count=t,this.nodes=n};Lt.prototype.get=function(e,t,n,i){void 0===t&&(t=ge(n));var s=(0===e?t:t>>>e)&o,a=this.nodes[s];return a?a.get(e+r,t,n,i):i},Lt.prototype.update=function(e,t,n,i,a,c,u){void 0===n&&(n=ge(i));var l=(0===t?n:n>>>t)&o,h=a===s,d=this.nodes,p=d[l];if(h&&!p)return this;var f=$t(p,e,t+r,n,i,a,c,u);if(f===p)return this;var m=this.count;if(p){if(!f&&--m<Xt)return function(e,t,n,r){for(var i=0,o=0,s=new Array(n),a=0,c=1,u=t.length;a<u;a++,c<<=1){var l=t[a];void 0!==l&&a!==r&&(i|=c,s[o++]=l)}return new Rt(e,i,s)}(e,d,m,l)}else m++;var g=e&&e===this.ownerID,b=Jt(d,l,f,g);return g?(this.count=m,this.nodes=b,this):new Lt(e,m,b)};var At=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n};At.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(de(n,i[o][0]))return i[o][1];return r},At.prototype.update=function(e,t,n,r,i,o,c){void 0===n&&(n=ge(r));var u=i===s;if(n!==this.keyHash)return u?this:(a(c),a(o),Gt(this,e,t,n,[r,i]));for(var l=this.entries,h=0,d=l.length;h<d&&!de(r,l[h][0]);h++);var p=h<d;if(p?l[h][1]===i:u)return this;if(a(c),(u||!p)&&a(o),u&&2===d)return new Ft(e,this.keyHash,l[1^h]);var f=e&&e===this.ownerID,m=f?l:Ye(l);return p?u?h===d-1?m.pop():m[h]=m.pop():m[h]=[r,i]:m.push([r,i]),f?(this.entries=m,this):new At(e,this.keyHash,m)};var Ft=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n};Ft.prototype.get=function(e,t,n,r){return de(n,this.entry[0])?this.entry[1]:r},Ft.prototype.update=function(e,t,n,r,i,o,c){var u=i===s,l=de(r,this.entry[0]);return(l?i===this.entry[1]:u)?this:(a(c),u?void a(o):l?e&&e===this.ownerID?(this.entry[1]=i,this):new Ft(e,this.keyHash,[r,i]):(a(o),Gt(this,e,t,ge(r),[r,i])))},Dt.prototype.iterate=At.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Rt.prototype.iterate=Lt.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},Ft.prototype.iterate=function(e,t){return e(this.entry)};var Bt,qt=function(e){function t(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Wt(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,i=void 0;if(n.entry){if(0===r)return zt(e,n.entry)}else if(n.entries){if(r<=(i=n.entries.length-1))return zt(e,n.entries[this._reverse?i-r:r])}else if(r<=(i=n.nodes.length-1)){var o=n.nodes[this._reverse?i-r:r];if(o){if(o.entry)return zt(e,o.entry);t=this._stack=Wt(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(z);function zt(e,t){return W(e,t[0],t[1])}function Wt(e,t){return{node:e,index:0,__prev:t}}function Ht(e,t,n,r){var i=Object.create(jt);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Vt(){return Bt||(Bt=Ht(0))}function Ut(e,t,n){var r,i;if(e._root){var o={value:!1},a={value:!1};if(r=$t(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===s?-1:1:0)}else{if(n===s)return e;i=1,r=new Dt(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Ht(i,r):Vt()}function $t(e,t,n,r,i,o,c,u){return e?e.update(t,n,r,i,o,c,u):o===s?e:(a(u),a(c),new Ft(t,r,[i,o]))}function Kt(e){return e.constructor===Ft||e.constructor===At}function Gt(e,t,n,i,s){if(e.keyHash===i)return new At(t,i,[e.entry,s]);var a,c=(0===n?e.keyHash:e.keyHash>>>n)&o,u=(0===n?i:i>>>n)&o,l=c===u?[Gt(e,t,n+r,i,s)]:(a=new Ft(t,i,s),c<u?[e,a]:[a,e]);return new Rt(t,1<<c|1<<u,l)}function Yt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function Jt(e,t,n,r){var i=r?e:Ye(e);return i[t]=n,i}var Qt=i/4,Zt=i/2,Xt=i/4,en="@@__IMMUTABLE_LIST__@@";function tn(e){return Boolean(e&&e[en])}var nn=function(e){function t(t){var n=ln();if(null===t||void 0===t)return n;if(tn(t))return t;var o=e(t),s=o.size;return 0===s?n:(Qe(s),s>0&&s<i?un(0,s,r,null,new on(o.toArray())):n.withMutations(function(e){e.setSize(s),o.forEach(function(t,n){return e.set(n,t)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=l(this,e))>=0&&e<this.size){var n=pn(this,e+=this._origin);return n&&n.array[e&o]}return t},t.prototype.set=function(e,t){return function(e,t,n){if((t=l(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?fn(e,t).set(0,n):fn(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,i=e._root,o={value:!1};t>=mn(e._capacity)?r=hn(r,e.__ownerID,0,t,n,o):i=hn(i,e.__ownerID,e._level,t,n,o);if(!o.value)return e;if(e.__ownerID)return e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e;return un(e._origin,e._capacity,e._level,i,r)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=r,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ln()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){fn(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},t.prototype.pop=function(){return fn(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){fn(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},t.prototype.shift=function(){return fn(this,1)},t.prototype.concat=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++){var i=t[r],o=e("string"!==typeof i&&V(i)?i:[i]);0!==o.size&&n.push(o)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations(function(e){n.forEach(function(t){return t.forEach(function(t){return e.push(t)})})}):this.constructor(n[0])},t.prototype.setSize=function(e){return fn(this,0,e)},t.prototype.map=function(e,t){var n=this;return this.withMutations(function(r){for(var i=0;i<n.size;i++)r.set(i,e.call(t,r.get(i),i,r))})},t.prototype.slice=function(e,t){var n=this.size;return d(e,t,n)?this:fn(this,p(e,n),f(t,n))},t.prototype.__iterator=function(e,t){var n=t?this.size:0,r=cn(this,t);return new z(function(){var i=r();return i===an?{value:void 0,done:!0}:W(e,t?--n:n++,i)})},t.prototype.__iterate=function(e,t){for(var n,r=t?this.size:0,i=cn(this,t);(n=i())!==an&&!1!==e(n,t?--r:r++,this););return r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?un(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?ln():(this.__ownerID=e,this.__altered=!1,this)},t}(O);nn.isList=tn;var rn=nn.prototype;rn[en]=!0,rn.delete=rn.remove,rn.merge=rn.concat,rn.setIn=ut,rn.deleteIn=rn.removeIn=ht,rn.update=pt,rn.updateIn=ft,rn.mergeIn=Ot,rn.mergeDeepIn=It,rn.withMutations=Tt,rn.wasAltered=Mt,rn.asImmutable=Nt,rn["@@transducer/init"]=rn.asMutable=Et,rn["@@transducer/step"]=function(e,t){return e.push(t)},rn["@@transducer/result"]=function(e){return e.asImmutable()};var on=function(e,t){this.array=e,this.ownerID=t};on.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var i=n>>>t&o;if(i>=this.array.length)return new on([],e);var s,a=0===i;if(t>0){var c=this.array[i];if((s=c&&c.removeBefore(e,t-r,n))===c&&a)return this}if(a&&!s)return this;var u=dn(this,e);if(!a)for(var l=0;l<i;l++)u.array[l]=void 0;return s&&(u.array[i]=s),u},on.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var i,s=n-1>>>t&o;if(s>=this.array.length)return this;if(t>0){var a=this.array[s];if((i=a&&a.removeAfter(e,t-r,n))===a&&s===this.array.length-1)return this}var c=dn(this,e);return c.array.splice(s+1),i&&(c.array[s]=i),c};var sn,an={};function cn(e,t){var n=e._origin,o=e._capacity,s=mn(o),a=e._tail;return c(e._root,e._level,0);function c(e,u,l){return 0===u?function(e,r){var c=r===s?a&&a.array:e&&e.array,u=r>n?0:n-r,l=o-r;l>i&&(l=i);return function(){if(u===l)return an;var e=t?--l:u++;return c&&c[e]}}(e,l):function(e,s,a){var u,l=e&&e.array,h=a>n?0:n-a>>s,d=1+(o-a>>s);d>i&&(d=i);return function(){for(;;){if(u){var e=u();if(e!==an)return e;u=null}if(h===d)return an;var n=t?--d:h++;u=c(l&&l[n],s-r,a+(n<<s))}}}(e,u,l)}}function un(e,t,n,r,i,o,s){var a=Object.create(rn);return a.size=t-e,a._origin=e,a._capacity=t,a._level=n,a._root=r,a._tail=i,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function ln(){return sn||(sn=un(0,0,r))}function hn(e,t,n,i,s,c){var u,l=i>>>n&o,h=e&&l<e.array.length;if(!h&&void 0===s)return e;if(n>0){var d=e&&e.array[l],p=hn(d,t,n-r,i,s,c);return p===d?e:((u=dn(e,t)).array[l]=p,u)}return h&&e.array[l]===s?e:(c&&a(c),u=dn(e,t),void 0===s&&l===u.array.length-1?u.array.pop():u.array[l]=s,u)}function dn(e,t){return t&&e&&t===e.ownerID?e:new on(e?e.array.slice():[],t)}function pn(e,t){if(t>=mn(e._capacity))return e._tail;if(t<1<<e._level+r){for(var n=e._root,i=e._level;n&&i>0;)n=n.array[t>>>i&o],i-=r;return n}}function fn(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var i=e.__ownerID||new c,s=e._origin,a=e._capacity,u=s+t,l=void 0===n?a:n<0?a+n:s+n;if(u===s&&l===a)return e;if(u>=l)return e.clear();for(var h=e._level,d=e._root,p=0;u+p<0;)d=new on(d&&d.array.length?[void 0,d]:[],i),p+=1<<(h+=r);p&&(u+=p,s+=p,l+=p,a+=p);for(var f=mn(a),m=mn(l);m>=1<<h+r;)d=new on(d&&d.array.length?[d]:[],i),h+=r;var g=e._tail,b=m<f?pn(e,l-1):m>f?new on([],i):g;if(g&&m>f&&u<a&&g.array.length){for(var v=d=dn(d,i),y=h;y>r;y-=r){var S=f>>>y&o;v=v.array[S]=dn(v.array[S],i)}v.array[f>>>r&o]=g}if(l<a&&(b=b&&b.removeAfter(i,0,l)),u>=m)u-=m,l-=m,h=r,d=null,b=b&&b.removeBefore(i,0,u);else if(u>s||m<f){for(p=0;d;){var _=u>>>h&o;if(_!==m>>>h&o)break;_&&(p+=(1<<h)*_),h-=r,d=d.array[_]}d&&u>s&&(d=d.removeBefore(i,h,u-p)),d&&m<f&&(d=d.removeAfter(i,h,m-p)),p&&(u-=p,l-=p)}return e.__ownerID?(e.size=l-u,e._origin=u,e._capacity=l,e._level=h,e._root=d,e._tail=b,e.__hash=void 0,e.__altered=!0,e):un(u,l,h,d,b)}function mn(e){return e<i?0:e-1>>>r<<r}var gn,bn=function(e){function t(e){return null===e||void 0===e?yn():le(e)?e:yn().withMutations(function(t){var n=x(e);Qe(n.size),n.forEach(function(e,n){return t.set(n,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):yn()},t.prototype.set=function(e,t){return Sn(this,e,t)},t.prototype.remove=function(e){return Sn(this,e,s)},t.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?vn(t,n,e,this.__hash):0===this.size?yn():(this.__ownerID=e,this._map=t,this._list=n,this)},t}(Pt);function vn(e,t,n,r){var i=Object.create(bn.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function yn(){return gn||(gn=vn(Vt(),ln()))}function Sn(e,t,n){var r,o,a=e._map,c=e._list,u=a.get(t),l=void 0!==u;if(n===s){if(!l)return e;c.size>=i&&c.size>=2*a.size?(r=(o=c.filter(function(e,t){return void 0!==e&&u!==t})).toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=a.remove(t),o=u===c.size-1?c.pop():c.set(u,void 0))}else if(l){if(n===c.get(u)[1])return e;r=a,o=c.set(u,[t,n])}else r=a.set(t,c.size),o=c.set(c.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):vn(r,o)}bn.isOrderedMap=le,bn.prototype[j]=!0,bn.prototype.delete=bn.prototype.remove;var _n="@@__IMMUTABLE_STACK__@@";function wn(e){return Boolean(e&&e[_n])}var Cn=function(e){function t(e){return null===e||void 0===e?In():wn(e)?e:In().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var n=this._head;for(e=l(this,e);n&&e--;)n=n.next;return n?n.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:e[r],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):On(t,n)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&wn(t))return t;Qe(t.size);var n=this.size,r=this._head;return t.__iterate(function(e){n++,r={value:e,next:r}},!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):On(n,r)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):In()},t.prototype.slice=function(t,n){if(d(t,n,this.size))return this;var r=p(t,this.size);if(f(n,this.size)!==this.size)return e.prototype.slice.call(this,t,n);for(var i=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):On(i,o)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?On(this.size,this._head,e,this.__hash):0===this.size?In():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var n=this;if(t)return new ee(this.toArray()).__iterate(function(t,r){return e(t,r,n)},t);for(var r=0,i=this._head;i&&!1!==e(i.value,r++,this);)i=i.next;return r},t.prototype.__iterator=function(e,t){if(t)return new ee(this.toArray()).__iterator(e,t);var n=0,r=this._head;return new z(function(){if(r){var t=r.value;return r=r.next,W(e,n++,t)}return{value:void 0,done:!0}})},t}(O);Cn.isStack=wn;var kn,xn=Cn.prototype;function On(e,t,n,r){var i=Object.create(xn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function In(){return kn||(kn=On(0))}xn[_n]=!0,xn.shift=xn.pop,xn.unshift=xn.push,xn.unshiftAll=xn.pushAll,xn.withMutations=Tt,xn.wasAltered=Mt,xn.asImmutable=Nt,xn["@@transducer/init"]=xn.asMutable=Et,xn["@@transducer/step"]=function(e,t){return e.unshift(t)},xn["@@transducer/result"]=function(e){return e.asImmutable()};var Tn="@@__IMMUTABLE_SET__@@";function En(e){return Boolean(e&&e[Tn])}function Nn(e){return En(e)&&D(e)}function Mn(e,t){if(e===t)return!0;if(!v(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||S(e)!==S(t)||w(e)!==w(t)||D(e)!==D(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!C(e);if(D(e)){var r=e.entries();return t.every(function(e,t){var i=r.next().value;return i&&de(i[1],e)&&(n||de(i[0],t))})&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var a=!0,c=t.__iterate(function(t,r){if(n?!e.has(t):i?!de(t,e.get(r,s)):!de(e.get(r,s),t))return a=!1,!1});return a&&e.size===c}function Pn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function jn(e){if(!e||"object"!==typeof e)return e;if(!v(e)){if(!et(e))return e;e=J(e)}if(S(e)){var t={};return e.__iterate(function(e,n){t[n]=jn(e)}),t}var n=[];return e.__iterate(function(e){n.push(jn(e))}),n}var Dn=function(e){function t(t){return null===t||void 0===t?Bn():En(t)&&!D(t)?t:Bn().withMutations(function(n){var r=e(t);Qe(r.size),r.forEach(function(e){return n.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(x(e).keySeq())},t.intersect=function(e){return(e=k(e).toArray()).length?Ln.intersect.apply(t(e.pop()),e):Bn()},t.union=function(e){return(e=k(e).toArray()).length?Ln.union.apply(t(e.pop()),e):Bn()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return An(this,this._map.set(e,e))},t.prototype.remove=function(e){return An(this,this._map.remove(e))},t.prototype.clear=function(){return An(this,this._map.clear())},t.prototype.map=function(e,t){var n=this,r=[],i=[];return this.forEach(function(o){var s=e.call(t,o,o,n);s!==o&&(r.push(o),i.push(s))}),this.withMutations(function(e){r.forEach(function(t){return e.remove(t)}),i.forEach(function(t){return e.add(t)})})},t.prototype.union=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(n){for(var r=0;r<t.length;r++)e(t[r]).forEach(function(e){return n.add(e)})}):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map(function(t){return e(t)});var r=[];return this.forEach(function(e){t.every(function(t){return t.includes(e)})||r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},t.prototype.subtract=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map(function(t){return e(t)});var r=[];return this.forEach(function(e){t.some(function(t){return t.includes(e)})&&r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},t.prototype.sort=function(e){return rr(Be(this,e))},t.prototype.sortBy=function(e,t){return rr(Be(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t){return e(t,t,n)},t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(I);Dn.isSet=En;var Rn,Ln=Dn.prototype;function An(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Fn(e,t){var n=Object.create(Ln);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Bn(){return Rn||(Rn=Fn(Vt()))}Ln[Tn]=!0,Ln.delete=Ln.remove,Ln.merge=Ln.concat=Ln.union,Ln.withMutations=Tt,Ln.asImmutable=Nt,Ln["@@transducer/init"]=Ln.asMutable=Et,Ln["@@transducer/step"]=function(e,t){return e.add(t)},Ln["@@transducer/result"]=function(e){return e.asImmutable()},Ln.__empty=Bn,Ln.__make=Fn;var qn,zn=function(e){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);if(Je(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<e&&(r=-r),this._start=e,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-e)/r-1)+1),0===this.size){if(qn)return qn;qn=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+l(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,n){return d(e,n,this.size)?this:(e=p(e,this.size),(n=f(n,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var n=this.size,r=this._step,i=t?this._start+(n-1)*r:this._start,o=0;o!==n&&!1!==e(i,t?n-++o:o++,this);)i+=t?-r:r;return o},t.prototype.__iterator=function(e,t){var n=this.size,r=this._step,i=t?this._start+(n-1)*r:this._start,o=0;return new z(function(){if(o===n)return{value:void 0,done:!0};var s=i;return i+=t?-r:r,W(e,t?n-++o:o++,s)})},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:Mn(this,e)},t}(Z);function Wn(e,t,n){for(var r=Ze(t),i=0;i!==r.length;)if((e=rt(e,r[i++],s))===s)return n;return e}function Hn(e,t){return Wn(this,e,t)}function Vn(e,t){return Wn(e,t,s)!==s}function Un(){Qe(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e}k.isIterable=v,k.isKeyed=S,k.isIndexed=w,k.isAssociative=C,k.isOrdered=D,k.Iterator=z,Pn(k,{toArray:function(){Qe(this.size);var e=new Array(this.size||0),t=S(this),n=0;return this.__iterate(function(r,i){e[n++]=t?[i,r]:r}),e},toIndexedSeq:function(){return new Ee(this)},toJS:function(){return jn(this)},toKeyedSeq:function(){return new Te(this,!0)},toMap:function(){return Pt(this.toKeyedSeq())},toObject:Un,toOrderedMap:function(){return bn(this.toKeyedSeq())},toOrderedSet:function(){return rr(S(this)?this.valueSeq():this)},toSet:function(){return Dn(S(this)?this.valueSeq():this)},toSetSeq:function(){return new Ne(this)},toSeq:function(){return w(this)?this.toIndexedSeq():S(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Cn(S(this)?this.valueSeq():this)},toList:function(){return nn(S(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return He(this,function(e,t){var n=S(e),r=[e].concat(t).map(function(e){return v(e)?n&&(e=x(e)):e=n?oe(e):se(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===r.length)return e;if(1===r.length){var i=r[0];if(i===e||n&&S(i)||w(e)&&w(i))return i}var o=new ee(r);return n?o=o.toKeyedSeq():w(e)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),o}(this,e))},includes:function(e){return this.some(function(t){return de(t,e)})},entries:function(){return this.__iterator(A)},every:function(e,t){Qe(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1}),n},filter:function(e,t){return He(this,Re(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Qe(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Qe(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(R)},map:function(e,t){return He(this,je(this,e,t))},reduce:function(e,t,n){return Yn(this,e,t,n,arguments.length<2,!1)},reduceRight:function(e,t,n){return Yn(this,e,t,n,arguments.length<2,!0)},reverse:function(){return He(this,De(this,!0))},slice:function(e,t){return He(this,Le(this,e,t,!0))},some:function(e,t){return!this.every(Zn(e),t)},sort:function(e){return He(this,Be(this,e))},values:function(){return this.__iterator(L)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return u(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Pt().asMutable();return e.__iterate(function(i,o){r.update(t.call(n,i,o,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return Mn(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(Qn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Zn(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,i,o){if(e.call(t,n,i,o))return r=[i,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(h,null,e)},flatMap:function(e,t){return He(this,function(e,t,n){var r=Ue(e);return e.toSeq().map(function(i,o){return r(t.call(n,i,o,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return He(this,Fe(this,e,!0))},fromEntrySeq:function(){return new Me(this)},get:function(e,t){return this.find(function(t,n){return de(n,e)},void 0,t)},getIn:Hn,groupBy:function(e,t){return function(e,t,n){var r=S(e),i=(D(e)?bn():Pt()).asMutable();e.__iterate(function(o,s){i.update(t.call(n,o,s,e),function(e){return(e=e||[]).push(r?[s,o]:o),e})});var o=Ue(e);return i.map(function(t){return He(e,o(t))}).asImmutable()}(this,e,t)},has:function(e){return this.get(e,s)!==s},hasIn:function(e){return Vn(this,e)},isSubset:function(e){return e="function"===typeof e.includes?e:k(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:k(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return de(t,e)})},keySeq:function(){return this.toSeq().map(Jn).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return qe(this,e)},maxBy:function(e,t){return qe(this,t,e)},min:function(e){return qe(this,e?Xn(e):tr)},minBy:function(e,t){return qe(this,t?Xn(t):tr,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return He(this,Ae(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Zn(e),t)},sortBy:function(e,t){return He(this,Be(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return He(this,function(e,t,n){var r=$e(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var s=0;return e.__iterate(function(e,i,a){return t.call(n,e,i,a)&&++s&&r(e,i,o)}),s},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var s=e.__iterator(A,i),a=!0;return new z(function(){if(!a)return{value:void 0,done:!0};var e=s.next();if(e.done)return e;var i=e.value,c=i[0],u=i[1];return t.call(n,u,c,o)?r===A?e:W(r,c,u,e):(a=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Zn(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=D(e),n=S(e),r=t?1:0;return function(e,t){return t=pe(t,3432918353),t=pe(t<<15|t>>>-15,461845907),t=pe(t<<13|t>>>-13,5),t=pe((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=fe((t=pe(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+nr(ge(e),ge(t))|0}:function(e,t){r=r+nr(ge(e),ge(t))|0}:t?function(e){r=31*r+ge(e)|0}:function(e){r=r+ge(e)|0}),r)}(this))}});var $n=k.prototype;$n[b]=!0,$n[q]=$n.values,$n.toJSON=$n.toArray,$n.__toStringMapper=tt,$n.inspect=$n.toSource=function(){return this.toString()},$n.chain=$n.flatMap,$n.contains=$n.includes,Pn(x,{flip:function(){return He(this,Pe(this))},mapEntries:function(e,t){var n=this,r=0;return He(this,this.toSeq().map(function(i,o){return e.call(t,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return He(this,this.toSeq().flip().map(function(r,i){return e.call(t,r,i,n)}).flip())}});var Kn=x.prototype;Kn[y]=!0,Kn[q]=$n.entries,Kn.toJSON=Un,Kn.__toStringMapper=function(e,t){return tt(t)+": "+tt(e)},Pn(O,{toKeyedSeq:function(){return new Te(this,!1)},filter:function(e,t){return He(this,Re(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return He(this,De(this,!1))},slice:function(e,t){return He(this,Le(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t||0,0),0===n||2===n&&!t)return this;e=p(e,e<0?this.count():this.size);var r=this.slice(0,e);return He(this,1===n?r:r.concat(Ye(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return He(this,Fe(this,e,!1))},get:function(e,t){return(e=l(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=l(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return He(this,function(e,t){var n=$e(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate(function(e){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)},r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(L,r),s=0;return new z(function(){return(!i||s%2)&&(i=o.next()).done?i:s%2?W(n,s++,t):W(n,s++,i.value,i)})},n}(this,e))},interleave:function(){var e=[this].concat(Ye(arguments)),t=We(this.toSeq(),Z.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),He(this,n)},keySeq:function(){return zn(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return He(this,Ae(this,e,t,!1))},zip:function(){return He(this,We(this,er,[this].concat(Ye(arguments))))},zipAll:function(){return He(this,We(this,er,[this].concat(Ye(arguments)),!0))},zipWith:function(e){var t=Ye(arguments);return t[0]=this,He(this,We(this,e,t))}});var Gn=O.prototype;function Yn(e,t,n,r,i,o){return Qe(e.size),e.__iterate(function(e,o,s){i?(i=!1,n=e):n=t.call(r,n,e,o,s)},o),n}function Jn(e,t){return t}function Qn(e,t){return[t,e]}function Zn(e){return function(){return!e.apply(this,arguments)}}function Xn(e){return function(){return-e.apply(this,arguments)}}function er(){return Ye(arguments)}function tr(e,t){return e<t?1:e>t?-1:0}function nr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}Gn[_]=!0,Gn[j]=!0,Pn(I,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),I.prototype.has=$n.includes,I.prototype.contains=I.prototype.includes,Pn(Q,x.prototype),Pn(Z,O.prototype),Pn(X,I.prototype);var rr=function(e){function t(e){return null===e||void 0===e?ar():Nn(e)?e:ar().withMutations(function(t){var n=I(e);Qe(n.size),n.forEach(function(e){return t.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(x(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Dn);rr.isOrderedSet=Nn;var ir,or=rr.prototype;function sr(e,t){var n=Object.create(or);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function ar(){return ir||(ir=sr(yn()))}or[j]=!0,or.zip=Gn.zip,or.zipWith=Gn.zipWith,or.__empty=ar,or.__make=sr;var cr=function(e,t){var n,r=function(o){var s=this;if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e),c=i._indices={};i._name=t,i._keys=a,i._defaultValues=e;for(var u=0;u<a.length;u++){var l=a[u];c[l]=u,i[l]?"object"===typeof console&&console.warn&&console.warn("Cannot define "+hr(this)+' with property "'+l+'" since that property name is part of the Record API.'):pr(i,l)}}this.__ownerID=void 0,this._values=nn().withMutations(function(e){e.setSize(s._keys.length),x(o).forEach(function(t,n){e.set(s._indices[n],t===s._defaultValues[n]?void 0:t)})})},i=r.prototype=Object.create(ur);return i.constructor=r,t&&(r.displayName=t),r};cr.prototype.toString=function(){for(var e,t=hr(this)+" { ",n=this._keys,r=0,i=n.length;r!==i;r++)t+=(r?", ":"")+(e=n[r])+": "+tt(this.get(e));return t+" }"},cr.prototype.equals=function(e){return this===e||e&&this._keys===e._keys&&dr(this).equals(dr(e))},cr.prototype.hashCode=function(){return dr(this).hashCode()},cr.prototype.has=function(e){return this._indices.hasOwnProperty(e)},cr.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._indices[e],r=this._values.get(n);return void 0===r?this._defaultValues[e]:r},cr.prototype.set=function(e,t){if(this.has(e)){var n=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(n!==this._values&&!this.__ownerID)return lr(this,n)}return this},cr.prototype.remove=function(e){return this.set(e)},cr.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:lr(this,e)},cr.prototype.wasAltered=function(){return this._values.wasAltered()},cr.prototype.toSeq=function(){return dr(this)},cr.prototype.toJS=function(){return jn(this)},cr.prototype.entries=function(){return this.__iterator(A)},cr.prototype.__iterator=function(e,t){return dr(this).__iterator(e,t)},cr.prototype.__iterate=function(e,t){return dr(this).__iterate(e,t)},cr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?lr(this,t,e):(this.__ownerID=e,this._values=t,this)},cr.isRecord=M,cr.getDescriptiveName=hr;var ur=cr.prototype;function lr(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function hr(e){return e.constructor.displayName||e.constructor.name||"Record"}function dr(e){return oe(e._keys.map(function(t){return[t,e.get(t)]}))}function pr(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Je(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(n){}}ur[N]=!0,ur.delete=ur.remove,ur.deleteIn=ur.removeIn=ht,ur.getIn=Hn,ur.hasIn=$n.hasIn,ur.merge=mt,ur.mergeWith=gt,ur.mergeIn=Ot,ur.mergeDeep=kt,ur.mergeDeepWith=xt,ur.mergeDeepIn=It,ur.setIn=ut,ur.update=pt,ur.updateIn=ft,ur.withMutations=Tt,ur.asMutable=Et,ur.asImmutable=Nt,ur[q]=ur.entries,ur.toJSON=ur.toObject=$n.toObject,ur.inspect=ur.toSource=function(){return this.toString()};var fr,mr=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);if(this._value=e,this.size=void 0===n?1/0:Math.max(0,n),0===this.size){if(fr)return fr;fr=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(e,t){return this.has(e)?this._value:t},t.prototype.includes=function(e){return de(this._value,e)},t.prototype.slice=function(e,n){var r=this.size;return d(e,n,r)?this:new t(this._value,f(n,r)-p(e,r))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(e){return de(this._value,e)?0:-1},t.prototype.lastIndexOf=function(e){return de(this._value,e)?this.size:-1},t.prototype.__iterate=function(e,t){for(var n=this.size,r=0;r!==n&&!1!==e(this._value,t?n-++r:r++,this););return r},t.prototype.__iterator=function(e,t){var n=this,r=this.size,i=0;return new z(function(){return i===r?{value:void 0,done:!0}:W(e,t?r-++i:i++,n._value)})},t.prototype.equals=function(e){return e instanceof t?de(this._value,e._value):Mn(e)},t}(Z);function gr(e,t){return function e(t,n,r,i,o,s){var a=Array.isArray(r)?Z:Xe(r)?Q:null;if(a){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),o&&""!==i&&o.push(i);var c=n.call(s,i,a(r).map(function(i,s){return e(t,n,i,s,o,r)}),o&&o.slice());return t.pop(),o&&o.pop(),c}return r}([],t||br,e,"",t&&t.length>2?[]:void 0,{"":e})}function br(e,t){return S(t)?t.toMap():t.toList()}var vr="4.0.0-rc.11",yr={version:vr,Collection:k,Iterable:k,Seq:J,Map:Pt,OrderedMap:bn,List:nn,Stack:Cn,Set:Dn,OrderedSet:rr,Record:cr,Range:zn,Repeat:mr,is:de,fromJS:gr,hash:ge,isImmutable:P,isCollection:v,isKeyed:S,isIndexed:w,isAssociative:C,isOrdered:D,isValueObject:he,isSeq:E,isList:tn,isMap:ue,isOrderedMap:le,isStack:wn,isSet:En,isOrderedSet:Nn,isRecord:M,get:rt,getIn:Wn,has:nt,hasIn:Vn,merge:vt,mergeDeep:St,mergeWith:yt,mergeDeepWith:_t,remove:ot,removeIn:lt,set:st,setIn:ct,update:dt,updateIn:at},Sr=k;t.default=yr},function(e,t,n){"use strict";t.a=function(e,t){if(!t)return e instanceof r.a?e:new r.a(Object(d.a)(e));if(null!=e){if(Object(s.a)(e))return Object(h.a)(e,t);if(Object(i.a)(e))return Object(u.a)(e,t);if(Object(o.a)(e))return Object(c.a)(e,t);if(Object(a.a)(e)||"string"===typeof e)return Object(l.a)(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")};var r=n(2010),i=n(3207),o=n(3206),s=n(5169),a=n(5170),c=n(2141),u=n(5171),l=n(5172),h=n(5173),d=n(3202)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(5281)),r(n(5282)),r(n(3225)),r(n(5300)),r(n(5301)),r(n(5304)),r(n(5305))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=n(2369),o=(n.n(i),n(30)),s=n(276);const a=e=>e.features[s.a],c=Object(r.createSelector)(a,e=>e.documentUrl);t.sharedDocumentUrl=c;const u=Object(r.createSelector)(a,e=>e.userId);t.userId=u;const l=Object(r.createSelector)(a,e=>e.sessionStatus);t.sessionStatus=l;const h=Object(r.createSelector)(a,e=>e.audience);t.audience=h;const d=Object(r.createSelector)(a,e=>e.presence);t.presence=d;const p=Object(r.createSelector)(a,e=>e.cellOutputAnnotations);t.cellOutputAnnotations=p;const f=Object(r.createSelector)(a,e=>e.sessionConfig);t.sessionConfig=f;const m=Object(r.createSelector)(a,e=>e.isLeader);t.isLeader=m;const g=Object(r.createSelector)(a,e=>e.contentModelSnapshot);t.contentModelSnapshot=g;const b=Object(r.createSelector)(a,e=>{var t;return null===(t=e.manager)||void 0===t?void 0:t.model});t.model=b;const v=Object(r.createSelector)(a,e=>e.cellIdMap);t.cellIdMap=v;const y=Object(r.createSelector)(a,e=>e.reverseCellIdMap);t.reverseCellIdMap=y;t.outputCreatedBy=((e,t)=>{const n=p(e);if(n)return n.get(t,void 0)});t.getPeerByUserId=((e,t)=>{const n=h(e);if(n){const e=n.get(t);return e?e.toJS():void 0}});t.audienceSize=(e=>{const t=h(e);return t?t.filter(e=>e.get("presence")===i.PresenceStatus.active).size:0});t.allowSaveNotebook=(e=>"inactive"===l(e)||"inactive"!==l(e)&&!0===m(e));t.getNotebookModelForSave=((e,t)=>{return"inactive"!==l(e)&&!0===m(e)?g(e):Object(o.d)(e,t)});t.cellIdExistsInMap=((e,t)=>{const n=v(e);return!!n&&n.has(t)});t.getLocalCellId=((e,t)=>{const n=y(e);if(n)return n.get(t)});t.getRemoteCellId=((e,t)=>{const n=v(e);if(n)return n.get(t)});t.localCellIdsInMap=(e=>{const t=v(e);return t?t.keys():[]})},,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r=n(5100);n.d(t,"a",function(){return r.a});n(5104);var i=n(5105);n.d(t,"c",function(){return i.a}),n.d(t,"d",function(){return i.b}),n.d(t,"e",function(){return i.c});var o=n(5106);n.d(t,"b",function(){return o.a})},function(e,t,n){"use strict";t.a=function(e,t){return t?new r.a(function(n){var r=new i.a,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}):new r.a(Object(o.a)(e))};var r=n(2010),i=n(2032),o=n(3199)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1987),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(2002).a)},function(e,t,n){"use strict";t.a=function(e,t,n){var i=[],o=(n/=100)*(t/=100),s=e/60,a=o*(1-Math.abs(s%2-1)),c=n-o;switch(Math.floor(s)){case 0:i=[o,a,0];break;case 1:i=[a,o,0];break;case 2:i=[0,o,a];break;case 3:i=[0,a,o];break;case 4:i=[a,0,o];break;case 5:i=[o,0,a]}return{r:Math.round(r.d*(i[0]+c)),g:Math.round(r.d*(i[1]+c)),b:Math.round(r.d*(i[2]+c))}};var r=n(2038)},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===n&&(n=0);return e<n?n:e>t?t:e}},,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(22),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){var r=n(4892),i=1,o=4;e.exports=function(e){return r(e,i|o)}},function(e,t,n){var r=n(4903),i=n(4908);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";(function(e){t.s=v,t.x=N,t.v=M,t.u=P,t.t=j,n.d(t,"d",function(){return R}),t.m=F,t.p=B,t.r=z,t.q=H;var r=n(1994),i=(n.n(r),n(2274)),o=n(2169),s=n(2386),a=n(3154),c=n(2387),u=n(5095),l=n(2209),h=n(3155),d=n(3156);class p{isLeaf(){return!1}}function f(e,t){for(const n of e.getTileLabels())t[n]=e}function m(e,t){for(const n of e.getTileLabels())void 0===t[n]&&(t[n]=e)}function g(e,t){for(const n in t){const r=t[n];if(!r.empty()){let t=e[n];void 0===t&&(t=new i.j,e[n]=t);for(const e of r.items)b(t,e)}}}function b(e,t){if(t.refType&c.b.NestBegin)return e.push(t),!0;{const n=e.top();return n&&n.refType&c.b.NestBegin?e.pop():e.push(t),!1}}function v(e){const t=[];if(e)for(let n=0,r=e.length;n<r;n++)t.push(e.charCodeAt(n));return t}t.i=p;const y=8;t.g=y;class S extends p{constructor(e){super(),this.childCount=e,this.children=new Array(y)}hierBlock(){}setOrdinal(e,t){let n,i=this.childCount;8===i&&(i=7),r(i>=1&&i<=7);const o=1<<y-(i+1);if(0===t)n=o-1;else{const e=this.children[t-1].ordinal;n=e.charCodeAt(e.length-1)+o}e.ordinal=this.ordinal+String.fromCharCode(n),S.traceOrdinals&&console.log(`so: prnt chld prev ${v(this.ordinal)} ${v(e.ordinal)} ${t>0?v(this.children[t-1].ordinal):"NA"}`),r(e.ordinal.length===this.ordinal.length+1),t>0&&r(e.ordinal>this.children[t-1].ordinal)}assignChild(e,t,n=!0){e.parent=this,e.index=t,n&&this.setOrdinal(e,t),this.children[t]=e}}t.h=S,S.traceOrdinals=!1;class _ extends S{constructor(e){super(e),this.rightmostTiles=l.d(),this.leftmostTiles=l.d(),this.rangeStacks=l.d()}addNodeReferences(e,t){!function(e,t,n,r,o){function s(e,t){let n=o[e];void 0===n&&(n=new i.j,o[e]=n),b(n,t)}if(t.isLeaf()){const i=t;if(e.localNetLength(i)>0)if(D.is(i)){const t=i.getId();if(t&&e.mapIdToSegment(t,i),i.refType&c.b.Tile&&(f(i,n),m(i,r)),i.refType&(c.b.NestBegin|c.b.NestEnd))for(const e of i.getRangeLabels())s(e,i)}else{const e=t;if(e.localRefs&&void 0!==e.localRefs.hierRefCount&&e.localRefs.hierRefCount>0)for(const t of e.localRefs)if(t.refType&c.b.Tile&&(f(t,n),m(t,r)),t.refType&(c.b.NestBegin|c.b.NestEnd))for(const e of t.getRangeLabels())s(e,t)}}else{const e=t;g(o,e.rangeStacks),l.e(n,e.rightmostTiles),l.f(r,e.leftmostTiles)}}(e,t,this.rightmostTiles,this.leftmostTiles,this.rangeStacks)}hierBlock(){return this}hierToString(e){let t="";for(const n in this.rangeStacks){const r=this.rangeStacks[n];t+=z(e),t+=`${n}: `;for(const e of r.items)t+=`${e.toString()} `;t+="\n"}return t}}class w extends p{constructor(){super(),this.clientId=o.a,this.seq=o.e,this.segmentGroups=new h.a(this),this.trackingCollection=new a.b(this)}addProperties(e,t,n,r){return this.propertyManager||(this.propertyManager=new d.a(this)),this.propertyManager.addProperties(e,t,n,r)}hasProperty(e){return this.properties&&void 0!==this.properties[e]}isLeaf(){return!0}cloneInto(e){e.clientId=this.clientId,e.properties=l.b(this.properties),e.removedClientId=this.removedClientId,e.removedSeq=this.removedSeq,e.seq=this.seq}canAppend(e){return!1}addSerializedProps(e){this.properties&&(e.props=this.properties)}ack(e,t,n){const i=this.segmentGroups.dequeue();switch(r.equal(i,e),t.op.type){case 2:return r(this.propertyManager),this.propertyManager.ackPendingProperties(t.op),!0;case 0:return r.equal(this.seq,o.d),this.seq=t.sequencedMessage.sequenceNumber,!0;case 1:const s=n.getBranchId(this.clientId),a=n.getRemovalInfo(n.localBranchId,s,this);return r(a),r(a.removedSeq),a.removedSeq===o.d?(a.removedSeq=t.sequencedMessage.sequenceNumber,!0):(J.diagOverlappingRemove&&console.log(`grump @seq ${t.sequencedMessage.sequenceNumber} `+`cli ${H(n,n.collabWindow.clientId)} `+`from ${a.removedSeq} text ${n.toString()}`),!1);default:r.fail(`${t.op.type} is in unrecognized operation type`)}}splitAt(e){if(e>0){const t=this.createSplitSegmentAt(e);if(t){if(this.propertyManager&&this.propertyManager.copyTo(t),t.parent=this.parent,t.ordinal=this.ordinal+String.fromCharCode(0),t.removedClientId=this.removedClientId,t.removedSeq=this.removedSeq,this.removalsByBranch){t.removalsByBranch=[];for(let e=0,n=this.removalsByBranch.length;e<n;e++){const n=this.removalsByBranch[e];n&&(t.removalsByBranch[e]={removedClientId:n.removedClientId,removedSeq:n.removedSeq,removedClientOverlap:n.removedClientOverlap?[...n.removedClientOverlap]:void 0})}}t.seq=this.seq,t.clientId=this.clientId,this.removedClientOverlap&&(t.removedClientOverlap=[...this.removedClientOverlap]),this.segmentGroups.copyTo(t),this.trackingCollection.copyTo(t),this.localRefs&&this.localRefs.split(e,t)}return t}}}t.a=w;class C extends w{constructor(e,t,n){super(),this.placeholderSeq=e,this.sequenceLength=t,this.sequenceIndex=n,this.type=C.type}toJSONObject(){const e={sequenceIndex:this.sequenceIndex,sequenceLength:this.sequenceLength};return super.addSerializedProps(e),e}mergeTreeInsert(e,t,n,r,i,o){e.insertSegments(t,[this],n,r,i,o)}clone(){throw new Error("clone not implemented")}append(){throw new Error("Can not append to external segment")}removeRange(e,t){throw new Error("Method not implemented.")}createSplitSegmentAt(e){throw new Error("Method not implemented.")}}t.c=C,C.type="ExternalSegment";const k="referenceTileLabels";t.C=k;const x="referenceRangeLabels";t.B=x;const O="markerId";t.z=O;const I="markerSimpleType";t.A=I;const T=e=>e.refType&c.b.Tile&&e.properties&&e.properties[k];t.y=T;const E=e=>e.refType&(c.b.NestBegin|c.b.NestEnd)&&e.properties&&e.properties[x];function N(e,t){if(e.hasTileLabels())for(const n of e.properties[k])if(t===n)return!0;return!1}function M(e,t){if(e.hasRangeLabels())for(const n of e.properties[x])if(t===n)return!0;return!1}function P(e){return e.hasTileLabels()?e.properties[k]:[]}function j(e){return e.hasRangeLabels()?e.properties[x]:[]}t.w=E;class D extends w{constructor(e){super(),this.refType=e,this.type=D.type,this.cachedLength=1}static is(e){return e.type===D.type}static make(e,t){const n=new D(e);return t&&n.addProperties(t),n}toJSONObject(){const e={marker:{refType:this.refType}};return super.addSerializedProps(e),e}static fromJSONObject(e){if(e&&"object"===typeof e&&"marker"in e)return D.make(e.marker.refType,e.props)}clone(){const e=D.make(this.refType,this.properties);return this.cloneInto(e),e}getSegment(){return this}getOffset(){return 0}hasSimpleType(e){return this.hasProperty(I)&&this.properties[I]===e}getProperties(){return this.properties}getId(){if(this.properties&&this.properties[O])return this.properties[O]}hasTileLabels(){return T(this)}hasRangeLabels(){return E(this)}hasTileLabel(e){return N(this,e)}hasRangeLabel(e){return M(this,e)}getTileLabels(){return P(this)}getRangeLabels(){return j(this)}toString(){let e="";this.refType&c.b.Tile&&(e+="Tile"),this.refType&c.b.NestBegin&&(e.length>0&&(e+="; "),e+="RangeBegin"),this.refType&c.b.NestEnd&&(e.length>0&&(e+="; "),e+="RangeEnd");let t="";const n=this.getId();if(n&&(e+=` (${n}) `),this.hasTileLabels()){t+="tile -- ";const e=this.properties[k];for(let n=0,r=e.length;n<r;n++){n>0&&(t+="; "),t+=e[n]}}if(this.hasRangeLabels()){let e="begin";this.refType&c.b.NestEnd&&(e="end"),this.hasTileLabels()&&(t+=" "),t+=`range ${e} -- `;const n=this.properties[x];for(let r=0,i=n.length;r<i;r++){r>0&&(t+="; "),t+=n[r]}}let r="";return this.properties&&(r+=JSON.stringify(this.properties,(e,t)=>{const n=!!t&&t.IComponentHandle;return n?`#Handle(${n.routeContext.path}/${n.path})`:t})),`M ${e}: ${t} ${r}`}removeRange(e,t){return console.log("remove range called on marker"),!1}createSplitSegmentAt(e){}canAppend(e){return!1}append(){throw new Error("Can not append to marker")}}var R;t.f=D,D.type="Marker",function(e){e[e.Go=0]="Go",e[e.Stop=1]="Stop",e[e.Yield=2]="Yield"}(R||(R={}));class L{constructor(e,t,n,r,i,o,s,a,c=0){this.block=e,this.actions=t,this.pos=n,this.refSeq=r,this.clientId=i,this.context=o,this.start=s,this.end=a,this.childIndex=c,this.op=R.Go}}t.e=L;class A{constructor(){this.clientId=o.a,this.collaborating=!1,this.minSeq=0,this.currentSeq=0}loadFrom(e){this.clientId=e.clientId,this.collaborating=e.collaborating,this.minSeq=e.minSeq,this.currentSeq=e.currentSeq}}t.b=A;t.n=((e,t)=>e-t);function F(){return e.hrtime?e.hrtime():Date.now()}function B(t){if(e.hrtime){const n=e.hrtime(t);return Math.round(1e6*n[0]+n[1]/1e3)}return 1e3*(Date.now()-t)}t.o=((e,t)=>e.localeCompare(t));const q=[""," ","  "];function z(e){if(void 0===q[e]){q[e]="";for(let t=0;t<e;t++)q[e]+=" "}return q[e]}t.k=class{constructor(){this.clientCollections=l.d()}set(e,t,n){this.clientCollections[e]||(this.clientCollections[e]=l.d()),this.clientCollections[e][t]=n}get(e,t){const n=this.clientCollections[e];if(n)return n[t]}getLength(e,t){const n=this.get(e,t);let r=0;if(n)for(const i of n)r+=i.cachedLength;return r}removeClient(e){this.clientCollections[e]=void 0}};t.l={min:{refSeq:-1,clientId:""},compare:(e,t)=>e.refSeq-t.refSeq};const W={min:{maxSeq:-2},compare:(e,t)=>e.maxSeq-t.maxSeq};function H(e,t){return e.getLongClientId?e.getLongClientId(t):t.toString()}function V(e,t){for(const n of t.rangeLabels)if(e.hasRangeLabel(n)){let r=t.stacks[n];void 0===r&&(r=new i.j,t.stacks[n]=r),b(r,e)}}function U(e,t,n,r,i,o,s){return D.is(e)&&e.refType&(c.b.NestBegin|c.b.NestEnd)&&V(e,s),!1}function $(e,t,n,r,i,o,s){if(e.isLeaf()){const t=e;s.mergeTree.localNetLength(t)>0&&D.is(t)&&t.refType&(c.b.NestBegin|c.b.NestEnd)&&V(t,s)}else{const t=e;g(s.stacks,t.rangeStacks)}return!0}function K(e,t,n,r,i,o,s){return D.is(e)&&e.hasTileLabel(s.tileLabel)&&(s.tile=e),!1}function G(e,t,n,r,i,o,s){if(e.isLeaf()){const t=e;s.mergeTree.localNetLength(t)>0&&D.is(t)&&t.hasTileLabel(s.tileLabel)&&(s.tile=t)}else{const t=e;let n;void 0!==(n=s.posPrecedesTile?t.rightmostTiles[s.tileLabel]:t.leftmostTiles[s.tileLabel])&&(s.tile=n)}return!0}const Y={min:{minRequired:Number.MIN_VALUE},compare:(e,t)=>e.minRequired-t.minRequired};class J{constructor(e){this.options=e,this.windowTime=0,this.packTime=0,this.ordTime=0,this.maxOrdTime=0,this.collabWindow=new A,this.idToSegment=l.d(),this.clientIdToBranchId=[],this.localBranchId=0,this.minSeqPending=!1,this.splitLeafSegment=((e,t)=>{if(!(t>0))return{};const n=e.splitAt(t);return this.mergeTreeMaintenanceCallback&&this.mergeTreeMaintenanceCallback({operation:-2,deltaSegments:[{segment:e},{segment:n}]}),{next:n}}),this.blockUpdateActions=J.initBlockUpdateActions,this.root=this.initialNode()}makeBlock(e){let t;return(t=J.blockUpdateMarkers?new _(e):new S(e)).ordinal="",t}initialNode(){const e=this.makeBlock(0);return e.cachedLength=0,e}clone(){const e=new J(this.options);e.root=e.blockClone(this.root)}blockClone(e,t){const n=this.makeBlock(e.childCount);for(let r=0;r<e.childCount;r++){const i=e.children[r];if(i.isLeaf()){const e=this.segmentClone(i);n.assignChild(e,r),t&&t.push(e)}else n.assignChild(this.blockClone(i,t),r)}return this.nodeUpdateLengthNewStructure(n),this.nodeUpdateOrdinals(n),n}segmentClone(e){return e.clone()}localNetLength(e){const t=this.getBranchId(e.clientId);let n=e;return this.localBranchId>t&&(n=this.getRemovalInfo(this.localBranchId,t,e)),void 0!==n.removedSeq?0:e.cachedLength}getBranchId(e){return this.clientIdToBranchId.length>e&&e>=0?this.clientIdToBranchId[e]:e===o.a?0:this.localBranchId}mapIdToSegment(e,t){this.idToSegment[e]=t}addNode(e,t){const n=e.childCount++;return e.assignChild(t,n,!1),n}reloadFromSegments(e){r(!this.collabWindow.collaborating);const t=y-1,n=e=>{const r=Math.ceil(e.length/t),i=new Array(r);for(let n=0,o=0;o<r;o++){const r=i[o]=this.makeBlock(0);for(let i=0;i<t&&n<e.length;i++,n++)this.addNode(r,e[n]);this.blockUpdate(r)}return 1===i.length?i[0]:n(i)};e.length>0?(this.root=n(e),this.nodeUpdateOrdinals(this.root)):(this.root=this.makeBlock(0),this.root.cachedLength=0),this.root.index=0}startCollaboration(e,t,n,r){this.collabWindow.clientId=e,this.collabWindow.minSeq=t,this.collabWindow.collaborating=!0,this.collabWindow.currentSeq=n,this.localBranchId=r,this.segmentsToScour=new i.a([],W),this.pendingSegments=i.g();this.nodeUpdateLengthNewStructure(this.root,!0)}addToLRUSet(e,t){!0!==e.parent.needsScour&&t>this.collabWindow.currentSeq&&(e.parent.needsScour=!0,this.segmentsToScour.add({segment:e,maxSeq:t}))}underflow(e){return e.childCount<y/2}scourNode(e,t){let n;for(let r=0;r<e.childCount;r++){const i=e.children[r];if(i.isLeaf()){const e=i;if(e.segmentGroups.empty)if(void 0!==e.removedSeq){const r=this.getBranchId(e.clientId);this.getBranchId(e.removedClientId)!==r||e.removedSeq>this.collabWindow.minSeq?t.push(e):e.trackingCollection.empty?(J.traceZRemove&&console.log(`${this.getLongClientId(this.collabWindow.clientId)}: Zremove ${e.text}; cli ${this.getLongClientId(e.clientId)}`),e.parent=void 0):t.push(e),n=void 0}else if(e.seq<=this.collabWindow.minSeq){n&&n.canAppend(e)&&l.g(n.properties,e.properties)&&n.trackingCollection.matches(e.trackingCollection)&&this.getBranchId(n.clientId)===this.getBranchId(e.clientId)&&this.localNetLength(e)>0?(J.traceAppend&&console.log(`${this.getLongClientId(this.collabWindow.clientId)}: append ${n.text} + ${e.text}; cli ${this.getLongClientId(n.clientId)} + cli ${this.getLongClientId(e.clientId)}`),n.append(e),this.mergeTreeMaintenanceCallback&&this.mergeTreeMaintenanceCallback({operation:-1,deltaSegments:[{segment:n},{segment:e}]}),e.parent=void 0,e.trackingCollection.trackingGroups.forEach(t=>t.unlink(e))):(t.push(e),n=this.localNetLength(e)>0?e:void 0)}else t.push(e),n=void 0;else t.push(e),n=void 0}else t.push(i),n=void 0}}pack(e){const t=e.parent,n=t.children;let r,i;const s=[];for(r=0;r<t.childCount;r++)i=n[r],this.scourNode(i,s),i.parent=void 0;const a=s.length,c=y/2;let u=Math.min(y-1,Math.floor(a/c));u<1&&(u=1);const l=Math.floor(a/u);let h=a%u;const d=new Array(y);let p=0;for(let o=0;o<u;o++){let e=l;h>0&&(e++,h--);const n=this.makeBlock(e);for(let t=0;t<e;t++){const e=s[p++];n.assignChild(e,t,!1)}n.parent=t,d[o]=n,this.nodeUpdateLengthNewStructure(n)}p!==a&&console.log(`total count ${a} readCount ${p}`),t.children=d;for(let o=0;o<u;o++)t.assignChild(d[o],o,!1);t.childCount=u,this.underflow(t)&&t.parent?this.pack(t):(this.nodeUpdateOrdinals(t),this.blockUpdatePathLengths(t,o.d,-1,!0))}zamboniSegments(e=J.zamboniSegmentsMaxCount){let t;J.options.measureWindowTime&&(t=F());for(let n=0;n<e;n++){let e=this.segmentsToScour.peek();if(!e||e.maxSeq>this.collabWindow.minSeq)break;if((e=this.segmentsToScour.get()).segment.parent&&!1!==e.segment.parent.needsScour){const t=e.segment.parent,n=[];this.scourNode(t,n),t.needsScour=!1;const r=n.length;if(r<t.childCount){t.childCount=r,t.children=n;for(let e=0;e<r;e++)t.assignChild(n[e],e,!1);if(this.underflow(t)&&t.parent){let e;J.options.measureWindowTime&&(e=F()),this.pack(t),J.options.measureWindowTime&&(this.packTime+=B(e))}else this.nodeUpdateOrdinals(t),this.blockUpdatePathLengths(t,o.d,-1,!0)}}}J.options.measureWindowTime&&(this.windowTime+=B(t))}getCollabWindow(){return this.collabWindow}getStats(){const e=t=>{const n={maxHeight:0,nodeCount:0,leafCount:0,removedLeafCount:0,liveCount:0,histo:[]};for(let e=0;e<y;e++)n.histo[e]=0;for(let r=0;r<t.childCount;r++){const i=t.children[r];let o=1;if(i.isLeaf()){n.leafCount++,void 0!==i.removedSeq&&n.removedLeafCount++}else{const t=e(i);o=1+t.maxHeight,n.nodeCount+=t.nodeCount,n.leafCount+=t.leafCount,n.removedLeafCount+=t.removedLeafCount,n.liveCount+=t.liveCount;for(let e=0;e<y;e++)n.histo[e]+=t.histo[e]}o>n.maxHeight&&(n.maxHeight=o)}return n.histo[t.childCount]++,n.nodeCount++,n.liveCount+=t.childCount,n},t=e(this.root);return J.options.measureWindowTime&&(t.windowTime=this.windowTime,t.packTime=this.packTime,t.ordTime=this.ordTime,t.maxOrdTime=this.maxOrdTime),t}tardisPosition(e,t,n,r){return this.tardisPositionFromClient(e,t,n,r)}tardisPositionFromClient(e,t,n,i){if(r(t<n),e<this.getLength(t,i)){r(n<=this.collabWindow.currentSeq);const o=this.getContainingSegment(e,t,i);r(void 0!==o.segment);const s=this.getPosition(o.segment,n,i)+o.offset;return r(void 0!==s),s}return e}tardisRangeFromClient(e,t,n,r,i){const o=[];return this.mapRange({leaf:(e,t,n,i,s,a)=>{if(this.nodeLength(e,r,i)>0){const t=this.getPosition(e,r,i);s<0&&(s=0),a>e.cachedLength&&(a=e.cachedLength),o.push({start:t+s,end:t+a})}return!0}},n,i,void 0,e,t),o}tardisRange(e,t,n,r,i){return this.tardisRangeFromClient(e,t,n,r,i)}getLength(e,t){return this.blockLength(this.root,e,t)}get length(){return this.root.cachedLength}getPosition(e,t,n){let r,i=0,o=e.parent;for(;o;){const s=o.children;for(let a=0;a<o.childCount;a++){const o=s[a];if(r&&o===r||o===e)break;i+=this.nodeLength(o,t,n)}r=o,o=o.parent}return i}cloneSegments(e,t,n=0,r){void 0===r&&(r=this.blockLength(this.root,e,t));const i={segments:[]};return this.mapRange({leaf:(e,t,n,r,i,o,s)=>(s.segments.push(e.clone()),!0)},e,t,i,n,r),i.segments}getContainingSegment(e,t,n){let r,i;return this.searchBlock(this.root,e,0,t,n,{leaf:(e,t,n,o,s)=>(r=e,i=s,!1)}),{segment:r,offset:i}}blockLength(e,t,n){return this.collabWindow.collaborating&&n!==this.collabWindow.clientId?e.partialLengths.getPartialLength(this,t,n):e.cachedLength}getRemovalInfo(e,t,n){if(e>t){const r=e-t-1;return n.removalsByBranch||(n.removalsByBranch=[]),n.removalsByBranch[r]||(n.removalsByBranch[r]={}),n.removalsByBranch[r]}return n}nodeLength(e,t,n){if(this.collabWindow.collaborating&&this.collabWindow.clientId!==n){const r=this.getBranchId(n);if(e.isLeaf()){const i=e,s=this.getBranchId(i.clientId);if(s<=r&&(i.clientId===n||i.seq!==o.d&&i.seq<=t)){let e=i;return r>s&&(e=this.getRemovalInfo(r,s,i)),void 0!==e.removedSeq&&(e.removedClientId===n||e.removedClientOverlap&&e.removedClientOverlap.includes(n)||e.removedSeq!==o.d&&e.removedSeq<=t)?0:i.cachedLength}return 0}return e.partialLengths.getPartialLength(this,t,n)}return e.isLeaf()?this.localNetLength(e):e.cachedLength}addMinSeqListener(e,t){this.minSeqListeners||(this.minSeqListeners=new i.a([],Y)),this.minSeqListeners.add({minRequired:e,onMinGE:t})}notifyMinSeqListeners(){for(this.minSeqPending=!1;this.minSeqListeners.count()>0&&this.minSeqListeners.peek().minRequired<=this.collabWindow.minSeq;){this.minSeqListeners.get().onMinGE(this.collabWindow.minSeq)}}setMinSeq(e){r(e<=this.collabWindow.currentSeq),r(this.collabWindow.minSeq<=e),e>this.collabWindow.minSeq&&(this.collabWindow.minSeq=e,J.options.zamboniSegments&&this.zamboniSegments(),this.minSeqListeners&&this.minSeqListeners.count()&&(this.minSeqPending=!0),this.minSeqPending&&this.notifyMinSeqListeners())}referencePositionToLocalPosition(e,t=this.collabWindow.currentSeq,n=this.collabWindow.clientId){const r=e.getSegment();if(r&&r.parent){return(r.removedSeq?0:e.getOffset())+this.getPosition(r,t,n)}return s.a.DetachedPosition}getStackContext(e,t,n){const r={mergeTree:this,stacks:l.d(),rangeLabels:n};return this.search(e,o.e,t,{leaf:U,shift:$},r),r.stacks}cherryPickedUndo(e){const t=e.seg;void 0!==t.removedSeq?(t.removedSeq=void 0,t.removedClientId=void 0):(1===e.op?t.removedSeq=e.seq:t.removedSeq=o.d,t.removedClientId=this.collabWindow.clientId),this.blockUpdatePathLengths(t.parent,o.d,-1,!0)}findTile(e,t,n,r=!0){const i={mergeTree:this,posPrecedesTile:r,tileLabel:n};if(r?this.search(e,o.e,t,{leaf:K,shift:G},i):this.backwardSearch(e,o.e,t,{leaf:K,shift:G},i),i.tile){let e;if(i.tile.isLeaf()){const n=i.tile;e=this.getPosition(n,o.e,t)}else{e=i.tile.toPosition()}return{tile:i.tile,pos:e}}}search(e,t,n,r,i){return this.searchBlock(this.root,e,0,t,n,r,i)}searchBlock(e,t,n,r,i,o,s){const a=e.children;o&&o.pre&&o.pre(e,n,r,i,void 0,void 0,s);const c=o&&o.contains;for(let u=0;u<e.childCount;u++){const e=a[u],l=this.nodeLength(e,r,i);if(!c&&t<l||c&&c(e,t,r,i,void 0,void 0,s))return e.isLeaf()?(o&&o.leaf&&o.leaf(e,n,r,i,t,-1,s),e):this.searchBlock(e,t,n,r,i,o,s);o&&o.shift&&o.shift(e,n,r,i,t,void 0,s),t-=l,n+=l}o&&o.post&&o.post(e,n,r,i,void 0,void 0,s)}backwardSearch(e,t,n,r,i){const o=this.getLength(t,n);if(!(e>o))return this.backwardSearchBlock(this.root,e,o,t,n,r,i)}backwardSearchBlock(e,t,n,r,i,o,s){const a=e.children;o&&o.pre&&o.pre(e,n,r,i,void 0,void 0,s);const c=o&&o.contains;for(let u=e.childCount-1;u>=0;u--){const e=a[u],l=n-this.nodeLength(e,r,i);if(!c&&t>=l||c&&c(e,t,r,i,void 0,void 0,s))return e.isLeaf()?(o&&o.leaf&&o.leaf(e,l,r,i,t,-1,s),e):this.backwardSearchBlock(e,t,n,r,i,o,s);o&&o.shift&&o.shift(e,l,r,i,t,void 0,s),n=l}o&&o.post&&o.post(e,n,r,i,void 0,void 0,s)}updateRoot(e){if(void 0!==e){const t=this.makeBlock(2);t.index=0,t.ordinal="",t.assignChild(this.root,0,!1),t.assignChild(e,1,!1),this.root=t,this.nodeUpdateOrdinals(this.root),this.nodeUpdateLengthNewStructure(this.root)}}ackPendingSegment(e,t=!1){const n=e.sequencedMessage.sequenceNumber,r=this.pendingSegments.dequeue(),i=[];let o=!1;if(void 0!==r){t&&console.log(`segment group has ${r.segments.length} segments`),r.segments.map(t=>{o=!t.ack(r,e,this)||o,J.options.zamboniSegments&&this.addToLRUSet(t,n),i.includes(t.parent)||i.push(t.parent)});const s=this.collabWindow.clientId;for(const e of i)this.blockUpdatePathLengths(e,n,s,o)}J.options.zamboniSegments&&this.zamboniSegments()}addToPendingList(e,t){return void 0===t&&(t={segments:[]},this.pendingSegments.enqueue(t)),e.segmentGroups.enqueue(t),t}getMarkerFromId(e){return this.idToSegment[e]}posFromRelativePos(e,t=this.collabWindow.currentSeq,n=this.collabWindow.clientId){let r,i=-1;return e.id&&(r=this.getMarkerFromId(e.id)),r&&(i=this.getPosition(r,t,n),e.before?void 0!==e.offset&&(i-=e.offset):(i+=r.cachedLength,void 0!==e.offset&&(i+=e.offset))),i}insertSegments(e,t,n,r,i,s){this.ensureIntervalBoundary(e,n,r),J.traceOrdinals&&this.ordinalIntegrity(),this.blockInsert(e,n,r,i,t),this.mergeTreeDeltaCallback&&void 0!==s&&this.mergeTreeDeltaCallback(s,{operation:0,deltaSegments:t.map(e=>({segment:e}))}),J.traceOrdinals&&this.ordinalIntegrity(),this.collabWindow.collaborating&&J.options.zamboniSegments&&i!==o.d&&this.zamboniSegments()}insertAtReferencePosition(e,t,n){if(0===t.cachedLength)return;if(t.parent||t.removedSeq||t.seq!==o.e)throw new Error("Cannot insert segment that has already been inserted.");const i=e=>{let t=e.parent,n=t;for(;void 0!==t;){if(t.childCount>=y){const e=this.split(t);t===this.root?(this.updateRoot(e),n=void 0):(this.insertChildNode(t.parent,e,t.index+1),n=e.parent,this.blockUpdateLength(t.parent,o.d,s))}else this.blockUpdateLength(t,o.d,s);t=t.parent}n&&this.nodeUpdateOrdinals(n)},s=this.collabWindow.clientId,a=e.getSegment(),c=e.getOffset(),u=this.nodeLength(a,this.collabWindow.currentSeq,s);let l=a;if(0!==c&&0!==u){const e=this.splitLeafSegment(a,c);r(e.next),this.insertChildNode(a.parent,e.next,a.index+1),i(e.next),l=e.next}if(this.leftExcursion(l,e=>{if(!e.isLeaf())return!0;return 0===this.nodeLength(e,this.collabWindow.currentSeq,s)&&(this.breakTie(0,0,e,this.collabWindow.currentSeq,s)&&(l=e),!0)}),t.seq=o.d,t.clientId=s,D.is(t)){const e=t.getId();e&&this.mapIdToSegment(e,t)}this.insertChildNode(l.parent,t,l.index),i(t),this.mergeTreeDeltaCallback&&this.mergeTreeDeltaCallback(n,{deltaSegments:[{segment:t}],operation:0}),this.collabWindow.collaborating&&this.addToPendingList(t)}resolveRemoteClientPosition(e,t,n){const r=this.getContainingSegment(e,t,n),i=this.getCollabWindow();if(r&&r.segment){return this.getPosition(r.segment,i.currentSeq,i.clientId)+r.offset}if(e===this.getLength(t,n))return this.getLength(i.currentSeq,i.clientId)}insertChildNode(e,t,n){r(e.childCount<y);for(let r=e.childCount;r>n;r--)e.children[r]=e.children[r-1],e.children[r].index=r;e.childCount++,e.assignChild(t,n,!1)}blockInsert(e,t,n,r,i){let s=!1;const a=(e,t,n,r)=>(e.seq===o.d&&(J.diagInsertTie&&console.log(`@cli ${H(this,this.collabWindow.clientId)}: promoting continue due to seq ${e.seq} text ${e.toString()} ref ${n}`),s=!0),!1),c=e=>(s=!1,this.rightExcursion(e,a),J.diagInsertTie&&s&&console.log(`@cli ${H(this,this.collabWindow.clientId)}: attempting continue with seq ${r}  ref ${t} `),s);let u;const l=e=>{this.collabWindow.collaborating&&(e.seq===o.d&&n===this.collabWindow.clientId?u=this.addToPendingList(e,u):e.seq>this.collabWindow.minSeq&&J.options.zamboniSegments&&this.addToLRUSet(e,e.seq))},h=(e,t,n)=>{const r={};return e?(r.replaceCurrent=n.candidateSegment,r.next=e):r.next=n.candidateSegment,r};let d=e;for(const o of i)if(s=!1,o.cachedLength>0){if(o.seq=r,o.clientId=n,D.is(o)){const e=o.getId();e&&this.mapIdToSegment(e,o)}const e=this.insertingWalk(this.root,d,t,n,r,{leaf:h,candidateSegment:o,continuePredicate:c});if(void 0===o.parent)throw new Error(`MergeTree insert failed: ${JSON.stringify({currentSeq:this.collabWindow.currentSeq,minSeq:this.collabWindow.minSeq,segSeq:o.seq})}`);this.updateRoot(e),l(o),d+=o.cachedLength}}ensureIntervalBoundary(e,t,n){const r=this.insertingWalk(this.root,e,t,n,o.c,{leaf:this.splitLeafSegment});this.updateRoot(r)}breakTie(e,t,n,r,i,s){if(n.isLeaf()){if(0===e){const e=n,t=this.getBranchId(i),s=this.getBranchId(e.clientId),a=this.getRemovalInfo(t,s,e);if(a.removedSeq&&a.removedSeq<=r&&a.removedSeq!==o.d)return!1;if(i===this.collabWindow.clientId)return!0;if(n.seq!==o.d)return!0}return!1}return!0}leftExcursion(e,t){const n={leaf:t};let r=!0,i=e,s=i.parent;for(;s;){const e=s.children;let a,c,u=!1;for(a=s.childCount-1;a>=0;a--)if(c=e[a],u){if(c.isLeaf())r=t(c,0,o.e,this.collabWindow.clientId,0,0);else{const e=c;r=this.nodeMapReverse(e,n,0,o.e,this.collabWindow.clientId,void 0)}if(!r)return}else u=i===c;i=s,s=s.parent}}rightExcursion(e,t){const n={leaf:t};let r=!0,i=e,s=i.parent;for(;s;){const e=s.children;let a,c,u=!1;for(a=0;a<s.childCount;a++)if(c=e[a],u){if(c.isLeaf())r=t(c,0,o.e,this.collabWindow.clientId,0,0);else{const e=c;r=this.nodeMap(e,n,0,o.e,this.collabWindow.clientId,void 0)}if(!r)return}else u=i===c;i=s,s=s.parent}}insertingWalk(e,t,n,r,i,s){const a=e.children;let c,u,l,h,d=!1;for(c=0;c<e.childCount;c++){u=a[c];const o=this.nodeLength(u,n,r);if(J.traceTraversal){let e;if(!u.isLeaf()&&this.collabWindow.collaborating)e=`minLength: ${u.partialLengths.minLength}`;else{const t=u;e=`cli: ${H(this,t.clientId)} seq: ${t.seq} text: ${t.toString()}`,void 0!==t.removedSeq&&(e+=` rcli: ${H(this,t.removedClientId)} rseq: ${t.removedSeq}`)}console.log(`@tcli: ${H(this,this.collabWindow.clientId)} len: ${o} pos: ${t} ${e}`)}if(t<o||t===o&&this.breakTie(t,o,u,n,r,s.candidateSegment)){if(d=!0,u.isLeaf()){J.traceTraversal&&console.log(`@tcli: ${H(this,this.collabWindow.clientId)}: leaf action`);const n=u,r=s.leaf(n,t,s);if(r.replaceCurrent&&(J.traceOrdinals&&console.log(`assign from leaf with block ord ${v(e.ordinal)}`),e.assignChild(r.replaceCurrent,c,!1),r.replaceCurrent.ordinal=u.ordinal),!r.next)return void(s.structureChange&&this.nodeUpdateLengthNewStructure(e));l=r.next,c++}else{const a=u,d=this.insertingWalk(a,t,n,r,i,s);if(void 0===d)return void(s.structureChange?this.nodeUpdateLengthNewStructure(e):this.blockUpdateLength(e,i,r));if(d===J.theUnfinishedNode){J.traceTraversal&&console.log(`@cli ${H(this,this.collabWindow.clientId)} unfinished bus pos ${t} len ${o}`),t-=o;continue}l=d,h=d,c++}break}t-=o}if(J.traceTraversal&&!d&&t>0&&console.log(`inserting walk fell through pos ${t} len: ${this.blockLength(this.root,n,r)}`),!l&&0===t){if(i!==o.d&&s.continuePredicate&&s.continuePredicate(e))return J.theUnfinishedNode;J.traceTraversal&&console.log(`@tcli: ${H(this,this.collabWindow.clientId)}: leaf action pos 0`),l=s.leaf(void 0,t,s).next}if(l){for(let t=e.childCount;t>c;t--)e.children[t]=e.children[t-1],e.children[t].index=t;return e.assignChild(l,c,!1),e.childCount++,e.setOrdinal(l,c),e.childCount<y?(h&&(J.traceOrdinals&&console.log(`split ord ${v(h.ordinal)}`),this.nodeUpdateOrdinals(h)),void(s.structureChange?this.nodeUpdateLengthNewStructure(e):this.blockUpdateLength(e,i,r))):this.split(e)}}split(e){const t=y/2,n=this.makeBlock(t);e.childCount=t,this.nodeUpdateOrdinals(e);for(let r=0;r<t;r++)n.assignChild(e.children[t+r],r,!1),e.children[t+r]=void 0;return this.nodeUpdateLengthNewStructure(e),this.nodeUpdateLengthNewStructure(n),n}ordinalIntegrity(){console.log("chk ordnls"),this.nodeOrdinalIntegrity(this.root)}nodeOrdinalIntegrity(e){const t=e.ordinal.length;for(let n=0;n<e.childCount;n++){const r=e.children[n];r.ordinal?(t!==r.ordinal.length-1&&console.log("node integrity issue"),n>0&&r.ordinal<=e.children[n-1].ordinal&&(console.log("node sib integrity issue"),console.log(`??: prnt chld prev ${v(e.ordinal)} ${v(r.ordinal)} ${n>0?v(e.children[n-1].ordinal):"NA"}`)),r.isLeaf()||this.nodeOrdinalIntegrity(r)):(console.log(`node child ordinal not set ${n}`),console.log(`??: prnt ${v(e.ordinal)}`))}}nodeUpdateOrdinals(e){let t;J.traceOrdinals&&console.log(`update ordinals for children of node with ordinal ${v(e.ordinal)}`),J.options.measureOrdinalTime&&(t=F());for(let n=0;n<e.childCount;n++){const t=e.children[n];e.setOrdinal(t,n),t.isLeaf()||this.nodeUpdateOrdinals(t)}if(J.options.measureOrdinalTime){const e=B(t);e>this.maxOrdTime&&(this.maxOrdTime=e),this.ordTime+=e}}addOverlappingClient(e,t){e.removedClientOverlap||(e.removedClientOverlap=[]),J.diagOverlappingRemove&&console.log(`added cli ${H(this,t)} to rseq: ${e.removedSeq}`),e.removedClientOverlap.push(t)}annotateRange(e,t,n,r,i,s,a,c){this.ensureIntervalBoundary(e,i,s),this.ensureIntervalBoundary(t,i,s);const u=[];let l;this.mapRange({leaf:e=>{const t=e.addProperties(n,r,a,this.collabWindow);return u.push({segment:e,propertyDeltas:t}),this.collabWindow.collaborating&&(a===o.d?l=this.addToPendingList(e,l):J.options.zamboniSegments&&this.addToLRUSet(e,a)),!0}},i,s,void 0,e,t),this.mergeTreeDeltaCallback&&this.mergeTreeDeltaCallback(c,{operation:2,deltaSegments:u}),this.collabWindow.collaborating&&a!==o.d&&J.options.zamboniSegments&&this.zamboniSegments()}markRangeRemoved(e,t,n,i,a,c=!1,u){let l;this.ensureIntervalBoundary(e,n,i),this.ensureIntervalBoundary(t,n,i);const h=[],d=[];if(this.mapRange({leaf:(e,t,n,r)=>{const s=this.getBranchId(i),u=this.getBranchId(e.clientId);for(let l=s;l<=this.localBranchId;l++){const t=this.getRemovalInfo(l,u,e);void 0!==t.removedSeq?(J.diagOverlappingRemove&&console.log(`yump @seq ${a} cli ${H(this,this.collabWindow.clientId)}: overlaps deleted segment ${t.removedSeq} text '${e.toString()}'`),c=!0,t.removedSeq===o.d?(t.removedClientId=i,t.removedSeq=a):this.addOverlappingClient(t,i)):(t.removedClientId=i,t.removedSeq=a,h.push({segment:e}),e.localRefs&&!e.localRefs.empty&&l===this.localBranchId&&d.push(e.localRefs),e.localRefs=void 0)}this.collabWindow.collaborating&&(this.getRemovalInfo(this.localBranchId,u,e).removedSeq===o.d&&i===this.collabWindow.clientId?l=this.addToPendingList(e,l):J.options.zamboniSegments&&this.addToLRUSet(e,a));return!0},post:(e,t,n,r)=>(c?this.nodeUpdateLengthNewStructure(e):this.blockUpdateLength(e,a,i),!0)},n,i,void 0,e,t),d.length>0){const t=this.getLength(n,i);let a;if(e<t){a=this.getContainingSegment(e,n,i).segment,r(a),a.localRefs||(a.localRefs=new s.b(a)),a.localRefs.addBeforeTombstones(...d)}else if(t>0){a=this.getContainingSegment(t-1,n,i).segment,r(a),a.localRefs||(a.localRefs=new s.b(a)),a.localRefs.addAfterTombstones(...d)}else for(const e of d)e.clear();a&&this.blockUpdatePathLengths(a.parent,o.c,o.a)}this.mergeTreeDeltaCallback&&this.mergeTreeDeltaCallback(u,{operation:1,deltaSegments:h}),this.collabWindow.collaborating&&a!==o.d&&J.options.zamboniSegments&&this.zamboniSegments()}removeRange(e,t,n,r){const i={};if(this.nodeRemoveRange(this.root,e,t,n,r,i),i.highestBlockRemovingChildren){const e=i.highestBlockRemovingChildren;this.nodeUpdateOrdinals(e)}}nodeRemoveRange(e,t,n,r,i,o){const s=e.children;let a;t<0&&(a=-1);let c=e.childCount;for(let h=0;h<e.childCount;h++){const e=s[h],u=this.nodeLength(e,r,i);if(t>=0&&t<u)if(a=h,e.isLeaf()){e.removeRange(t,n)&&a--}else this.nodeRemoveRange(e,t,n,r,i,o);if(n<u){if(c=h,n>0&&c>a)if(e.isLeaf()){e.removeRange(0,n)&&c++}else this.nodeRemoveRange(e,t,n,r,i,o);break}t-=u,n-=u}const u=c-a-1,l=a+1;if(u>0){const t=l+u,n=e.childCount-t;for(let r=0;r<n;r++)e.assignChild(s[t+r],l+r,!1);e.childCount-=u,o.highestBlockRemovingChildren&&o.highestBlockRemovingChildren.parent&&o.highestBlockRemovingChildren.parent===e.parent?o.highestBlockRemovingChildren=e.parent:o.highestBlockRemovingChildren=e}this.nodeUpdateLengthNewStructure(e)}nodeUpdateLengthNewStructure(e,t=!1){this.blockUpdate(e),this.collabWindow.collaborating&&(e.partialLengths=u.a.combine(this,e,this.collabWindow,t))}removeLocalReference(e,t){if(e.localRefs){e.localRefs.removeLocalRef(t)&&this.blockUpdatePathLengths(e.parent,o.c,o.a)}}addLocalReference(e){const t=e.segment;t.localRefs||(t.localRefs=new s.b(t)),t.localRefs.addLocalRef(e),this.blockUpdatePathLengths(t.parent,o.c,o.a)}blockUpdate(e){let t,n=0;J.blockUpdateMarkers&&((t=e.hierBlock()).rightmostTiles=l.d(),t.leftmostTiles=l.d(),t.rangeStacks={});for(let o=0;o<e.childCount;o++){const s=e.children[o];n+=(r=this,(i=s).isLeaf()?r.localNetLength(i):i.cachedLength),J.blockUpdateMarkers&&t.addNodeReferences(this,s),this.blockUpdateActions&&this.blockUpdateActions.child(e,o)}var r,i;e.cachedLength=n}blockUpdatePathLengths(e,t,n,r=!1){for(;void 0!==e;)r?this.nodeUpdateLengthNewStructure(e):this.blockUpdateLength(e,t,n),e=e.parent}blockUpdateLength(e,t,n){this.blockUpdate(e),this.collabWindow.collaborating&&t!==o.d&&t!==o.c&&(void 0!==e.partialLengths&&J.options.incrementalUpdate&&n!==o.b?e.partialLengths.update(this,e,t,n,this.collabWindow):e.partialLengths=u.a.combine(this,e,this.collabWindow))}map(e,t,n,r){this.nodeMap(this.root,e,0,t,n,r)}mapRange(e,t,n,r,i,o,s=!1){s&&(i&&this.ensureIntervalBoundary(i,t,n),o&&this.ensureIntervalBoundary(o,t,n)),this.nodeMap(this.root,e,0,t,n,r,i,o)}rangeToString(e,t){let n="";for(let r=0;r<this.root.childCount;r++){const i=this.root.children[r];if(!i.isLeaf()){const r=i,s=this.blockLength(r,o.e,this.collabWindow.clientId);e<=s&&t>0&&(n+=this.nodeToString(r,n,0)),e-=s,t-=s}}return n}nodeToString(e,t,n=0){t+=z(n),t+=`Node (len ${e.cachedLength}) p len (${e.parent?e.parent.cachedLength:0}) ord ${v(e.ordinal)} with ${e.childCount} segs:\n`,J.blockUpdateMarkers&&(t+=z(n),t+=e.hierToString(n)),this.collabWindow.collaborating&&(t+=z(n),t+=`${e.partialLengths.toString(e=>H(this,e),n)}\n`);const r=e.children;for(let i=0;i<e.childCount;i++){const e=r[i];if(e.isLeaf()){const r=e;t+=z(n+4),t+=`cli: ${H(this,r.clientId)} seq: ${r.seq} ord: ${v(r.ordinal)}`;const i=this.getBranchId(r.clientId),o=this.localBranchId,s=this.getRemovalInfo(o,i,r);void 0!==s.removedSeq&&(t+=` rcli: ${H(this,s.removedClientId)} rseq: ${s.removedSeq}`),t+="\n",t+=z(n+4),t+=r.toString(),t+="\n"}else t=this.nodeToString(e,t,n+4)}return t}toString(){return this.nodeToString(this.root,"",0)}incrementalBlockMap(e){for(;!e.empty();){const t=e.top();if(t.op!==R.Go)return;if(0===t.childIndex&&(void 0===t.start&&(t.start=0),void 0===t.end&&(t.end=this.blockLength(t.block,t.refSeq,t.clientId)),t.actions.pre&&t.actions.pre(t)),t.op===R.Go&&t.childIndex<t.block.childCount){const n=t.block.children[t.childIndex],r=this.nodeLength(n,t.refSeq,t.clientId);if(J.traceIncrTraversal&&n.isLeaf()&&console.log(`considering (r ${t.refSeq} c ${H(this,t.clientId)}) seg with text ${n.text} len ${r} seq ${n.seq} rseq ${n.removedSeq} cli ${H(this,n.clientId)}`),r>0&&t.start<r&&t.end>0)if(n.isLeaf())J.traceIncrTraversal&&console.log(`action on seg with text ${n.text}`),t.actions.leaf(n,t);else{const r=new L(n,t.actions,t.pos,t.refSeq,t.clientId,t.context,t.start,t.end,0);e.push(r)}t.pos+=r,t.start-=r,t.end-=r,t.childIndex++}else t.childIndex===t.block.childCount&&(t.op===R.Go&&t.actions.post&&t.actions.post(t),e.pop())}}nodeMap(e,t,n,r,i,o,s,a){void 0===s&&(s=0),void 0===a&&(a=this.blockLength(e,r,i));let c=!0;if(t.pre&&!(c=t.pre(e,n,r,i,s,a,o)))return!0;const u=e.children;for(let l=0;l<e.childCount;l++){const e=u[l],h=this.nodeLength(e,r,i);if(J.traceTraversal){let t;if(!e.isLeaf()&&this.collabWindow.collaborating)t=`minLength: ${e.partialLengths.minLength}`;else{const n=e;t=`cli: ${H(this,n.clientId)} seq: ${n.seq} text: '${n.toString()}'`,void 0!==n.removedSeq&&(t+=` rcli: ${H(this,n.removedClientId)} rseq: ${n.removedSeq}`)}console.log(`@tcli ${H(this,this.collabWindow.clientId)}: map len: ${h} start: ${s} end: ${a} ${t}`)}if(c&&a>0&&h>0&&s<h&&(e.isLeaf()?(J.traceTraversal&&console.log(`@tcli ${H(this,this.collabWindow.clientId)}: map leaf action`),c=t.leaf(e,n,r,i,s,a,o)):c&&(c=this.nodeMap(e,t,n,r,i,o,s,a))),!c)break;t.shift&&t.shift(e,n,r,i,s,a,o),n+=h,s-=h,a-=h}return c&&t.post&&(c=t.post(e,n,r,i,s,a,o)),c}walkAllSegments(e,t,n){let r=!0;const i=e.children;for(let o=0;r&&o<e.childCount;o++){const e=i[o];r=e.isLeaf()?t(e,n):this.walkAllSegments(e,t,n)}return r}nodeMapReverse(e,t,n,r,i,o){let s=!0;const a=e.children;for(let c=e.childCount-1;c>=0;c--){const e=a[c];if(s&&(e.isLeaf()?s=t.leaf(e,n,r,i,0,0,o):s&&(s=this.nodeMapReverse(e,t,n,r,i,o))),!s)break}return s}}t.j=J,J.TextSegmentGranularity=256,J.zamboniSegmentsMaxCount=2,J.options={incrementalUpdate:!0,insertAfterRemovedSegs:!0,measureOrdinalTime:!0,measureWindowTime:!0,zamboniSegments:!0},J.traceAppend=!1,J.traceZRemove=!1,J.traceOrdinals=!1,J.traceGatherText=!1,J.diagInsertTie=!1,J.skipLeftShift=!0,J.diagOverlappingRemove=!1,J.traceTraversal=!1,J.traceIncrTraversal=!1,J.theUnfinishedNode={childCount:-1},J.blockUpdateMarkers=!0}).call(t,n(29))},function(e,t,n){"use strict";t.e=0;t.d=-1;t.c=-2;t.a=-1;t.b=-2},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5310);n.d(t,"getGitMode",function(){return r.g}),n.d(t,"getGitType",function(){return r.h}),n.d(t,"buildSnapshotTree",function(){return r.f}),n.d(t,"buildHierarchy",function(){return r.e}),n.d(t,"BlobTreeEntry",function(){return r.a}),n.d(t,"CommitTreeEntry",function(){return r.b}),n.d(t,"TreeTreeEntry",function(){return r.c}),n.d(t,"addBlobToTree",function(){return r.d});var i=n(5311);n.d(t,"isSystemMessage",function(){return i.b}),n.d(t,"ProtocolOpHandler",function(){return i.a});var o=n(3229);n.d(t,"Quorum",function(){return o.a}),n.d(t,"QuorumProxy",function(){return o.b});var s=n(5312);n.d(t,"isSystemType",function(){return s.a});var a=n(5313);n.d(t,"getQuorumTreeEntries",function(){return a.b}),n.d(t,"mergeAppAndProtocolTree",function(){return a.c}),n.d(t,"generateServiceProtocolEntries",function(){return a.a})},function(e,t,n){"use strict";t.a=function(e){var t=Object(i.a)(e);if(!t)return;return Object(r.a)(Object(r.a)({},Object(o.a)(t)),{str:e})};var r=n(1),i=n(2667),o=n(2215)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4957);n.d(t,"CreateNewHeader",function(){return r.a});var i=n(4958);n.d(t,"ErrorType",function(){return i.a})},function(e,t,n){var r,i=n(5071),o=n(3143),s=n(5072),a=n(5073),c=n(5074);"undefined"!==typeof ArrayBuffer&&(r=n(5075));var u="undefined"!==typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=u||l;t.protocol=3;var d=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=i(d),f={type:"error",data:"parser error"},m=n(5076);function g(e,t,n){for(var r=new Array(e.length),i=a(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},s=0;s<e.length;s++)o(s,e[s],i)}t.encodePacket=function(e,n,r,i){"function"===typeof n&&(i=n,n=!1),"function"===typeof r&&(i=r,r=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!==typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=d[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}(e,n,i);if("undefined"!==typeof m&&o instanceof m)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(h)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){t.encodePacket({type:e.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);i[0]=d[e.type];var o=new m([i.buffer,e.data]);return r(o)}(e,n,i);if(o&&o.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(e,i);var s=d[e.type];return void 0!==e.data&&(s+=r?c.encode(String(e.data),{strict:!1}):String(e.data)),i(""+s)},t.encodeBase64Packet=function(e,n){var r,i="b"+t.packets[e.type];if("undefined"!==typeof m&&e.data instanceof m){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];n(i+e)},o.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(u){for(var s=new Uint8Array(e.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];r=String.fromCharCode.apply(null,a)}return i+=btoa(r),n(i)},t.decodePacket=function(e,n,r){if(void 0===e)return f;if("string"===typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return f;var i=e.charAt(0);return Number(i)==i&&p[i]?e.length>1?{type:p[i],data:e.substring(1)}:{type:p[i]}:f}i=new Uint8Array(e)[0];var o=s(e,1);return m&&"blob"===n&&(o=new m([o])),{type:p[i],data:o}},t.decodeBase64Packet=function(e,t){var n=p[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=r.decode(e.substr(1));return"blob"===t&&m&&(i=new m([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){"function"===typeof n&&(r=n,n=null);var i=o(e);if(n&&i)return m&&!h?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");g(e,function(e,r){t.encodePacket(e,!!i&&n,!1,function(e){r(null,function(e){return e.length+":"+e}(e))})},function(e,t){return r(t.join(""))})},t.decodePayload=function(e,n,r){if("string"!==typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"===typeof n&&(r=n,n=null),""===e)return r(f,0,1);for(var o,s,a="",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(":"===l){if(""===a||a!=(o=Number(a)))return r(f,0,1);if(a!=(s=e.substr(c+1,o)).length)return r(f,0,1);if(s.length){if(i=t.decodePacket(s,n,!1),f.type===i.type&&f.data===i.data)return r(f,0,1);if(!1===r(i,c+o,u))return}c+=o,a=""}else a+=l}return""!==a?r(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,function(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})},function(e,t){var r=t.reduce(function(e,t){var n;return e+(n="string"===typeof t?t.length:t.byteLength).toString().length+n+2},0),i=new Uint8Array(r),o=0;return t.forEach(function(e){var t="string"===typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);n=r.buffer}i[o++]=t?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]}),n(i.buffer)})},t.encodePayloadAsBlob=function(e,n){g(e,function(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"===typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,m){var a=new m([t.buffer,s.buffer,e]);n(null,a)}})},function(e,t){return n(new m(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"===typeof n&&(r=n,n=null);for(var i=e,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),c=0===a[0],u="",l=1;255!==a[l];l++){if(u.length>310)return r(f,0,1);u+=a[l]}i=s(i,2+u.length),u=parseInt(u);var h=s(i,0,u);if(c)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(m){var d=new Uint8Array(h);h="";for(l=0;l<d.length;l++)h+=String.fromCharCode(d[l])}o.push(h),i=s(i,u)}var p=o.length;o.forEach(function(e,i){r(t.decodePacket(e,n,!0),i,p)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2624);n.d(t,"Interval",function(){return r.a}),n.d(t,"IntervalCollection",function(){return r.b}),n.d(t,"IntervalCollectionValueType",function(){return r.c}),n.d(t,"IntervalCollectionView",function(){return r.d}),n.d(t,"SequenceInterval",function(){return r.e}),n.d(t,"SequenceIntervalCollectionValueType",function(){return r.f});var i=n(3160);n.d(t,"ISharedString",function(){return i.a}),n.d(t,"SharedString",function(){return i.b});var o=n(2629);n.d(t,"SharedSegmentSequence",function(){return o.a});var s=n(2389);n.d(t,"SharedStringFactory",function(){return s.c}),n.d(t,"SharedObjectSequenceFactory",function(){return s.b}),n.d(t,"SharedNumberSequenceFactory",function(){return s.a});var a=n(3166);n.d(t,"SequenceEvent",function(){return a.b}),n.d(t,"SequenceDeltaEvent",function(){return a.a}),n.d(t,"SequenceMaintenanceEvent",function(){return a.c});var c=n(2390);n.d(t,"SubSequence",function(){return c.b}),n.d(t,"SharedSequence",function(){return c.a});var u=n(3168);n.d(t,"SharedObjectSequence",function(){return u.a});var l=n(3167);n.d(t,"SharedNumberSequence",function(){return l.a});var h=n(5112);n.d(t,"PaddingSegment",function(){return h.a}),n.d(t,"RunSegment",function(){return h.b}),n.d(t,"maxCol",function(){return h.f}),n.d(t,"maxCols",function(){return h.g}),n.d(t,"maxRow",function(){return h.h}),n.d(t,"maxRows",function(){return h.i}),n.d(t,"maxCellPosition",function(){return h.e}),n.d(t,"rowColToPosition",function(){return h.k}),n.d(t,"positionToRowCol",function(){return h.j}),n.d(t,"SparseMatrix",function(){return h.c}),n.d(t,"SparseMatrixFactory",function(){return h.d});var d=n(5113);n.d(t,"SharedIntervalCollectionFactory",function(){return d.b}),n.d(t,"SharedIntervalCollection",function(){return d.a})},function(e,t,n){"use strict";function r(e,t,n,r){switch(void 0===t&&(t=e.defaultValue),e.name){case"incr":t+=n,e.minValue&&t<e.minValue&&(t=e.minValue);break;case"consensus":if(void 0===t){t={value:n,seq:r}}else{const e=t;-1===e.seq&&(e.seq=r)}}return t}function i(e,t,n,i){if(void 0!==t){"object"!==typeof t&&console.log(`oh my ${t}`);for(const o in t){const s=t[o];null===s?delete e[o]:n&&"rewrite"!==n.name?e[o]=r(n,e[o],s,i):e[o]=s}}return e}function o(){const e=Object.create(null);return e.__=void 0,delete e.__,e}t.c=r,t.g=function(e,t){if(e){if(!t)return!1;for(const n in e){if(void 0===t[n])return!1;if(t[n]!==e[n])return!1}for(const n in t)if(void 0===e[n])return!1}else if(t)return!1;return!0},t.e=i,t.b=function(e){if(void 0===e)return;const t=o();for(const n in e){const r=e[n];null!==r&&(t[n]=r)}return t},t.a=function(e,t,n,r){(!e||n&&"rewrite"===n.name)&&(e=o());return i(e,t,n,r),e},t.f=function(e,t){if(void 0!==t){"object"!==typeof t&&console.log(`oh my ${t}`);for(const n in t)void 0===e[n]&&(e[n]=t[n])}return e},t.d=o},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="function"===typeof Symbol&&Symbol.observable||"@@observable"},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";t.a=function(e,t){return function(n){var o;if(o="function"===typeof e?e:function(){return e},"function"===typeof t)return n.lift(new i(o,t));var s=Object.create(n,r.b);return s.source=n,s.subjectFactory=o,s}};var r=n(3192);var i=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=(n.n(r),n(142));const o="collaboration/",s=Object(r.createAction)(o+"init");t.init=s;const a=Object(r.createAction)(o+"setManager",e=>t=>e(t));t.setManager=a;const c=Object(i.c)(o+"join");t.join=c;const u=Object(r.createAction)(o+"leave",e=>()=>e());t.leave=u;const l=Object(r.createAction)(o+"updateAudience",e=>(t,n)=>e({userId:t,guestUser:n}));t.updateAudience=l;const h=Object(r.createAction)(o+"updatePresence",e=>(t,n,r)=>e({peerId:t,userId:n,location:r}));t.updatePresence=h;const d=Object(r.createAction)(o+"setCursorPosition",e=>(t,n,r)=>e({cellId:t,position:n,selection:r}));t.setCursorPosition=d;const p=Object(r.createAction)(o+"updateLeaderElection",e=>t=>e(t));t.updateLeaderElection=p;const f=Object(r.createAction)(o+"saveContentModelSnapshot",e=>t=>e(t));t.saveContentModelSnapshot=f;const m=Object(r.createAction)(o+"updateCellOutputAnnotation",e=>(t,n)=>e({cellId:t,userId:n}));t.updateCellOutputAnnotation=m;const g=Object(r.createAction)(o+"deleteCellOutputAnnotation",e=>t=>e({cellId:t}));t.deleteCellOutputAnnotation=g;const b=Object(r.createAction)(o+"clearCellOutputAnnotations",e=>()=>e());t.clearCellOutputAnnotations=b;const v=Object(r.createAction)(o+"initCellOutputAnnotations",e=>t=>e(t));t.initCellOutputAnnotations=v;const y=Object(r.createAction)(o+"initCellIdMap",e=>t=>e(t));t.initCellIdMap=y;const S=Object(r.createAction)(o+"updateCellIdMap",e=>(t,n)=>e({localId:t,remoteId:n}));t.updateCellIdMap=S;const _=Object(r.createAction)(o+"deleteCellIdFromMap",e=>t=>e(t));t.deleteCellIdFromMap=_;const w=Object(r.createStandardAction)(o+"error").map((e,t)=>({payload:e,meta:t,error:!0}));t.error=w},function(e,t,n){"use strict";t.a=function(e,t,n){return[o(e),o(t),o(n)].join("")};var r=n(2038),i=n(2144);function o(e){var t=(e=Object(i.a)(e,r.d)).toString(16);return 1===t.length?"0"+t:t}},function(e,t,n){"use strict";t.a=function(e){var t=e.a,n=void 0===t?r.b:t,a=e.b,c=e.g,u=e.r,l=Object(i.a)(u,c,a),h=l.h,d=l.s,p=l.v,f=Object(o.a)(u,c,a),m=Object(s.a)(u,c,a,n,f);return{a:n,b:a,g:c,h:h,hex:f,r:u,s:d,str:m,v:p}};var r=n(2038),i=n(2670),o=n(2214),s=n(2287)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(2599),i=n(4904),o=n(4905),s="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:s:c&&c in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(3092),i=n(2600);e.exports=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,c=t.length;++a<c;){var u=t[a],l=o?o(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),s?i(n,u,l):r(n,u,l)}return n}},function(e,t,n){"use strict";var r=n(2012),i=(n.n(r),n(3111));const o=r("fluid:container-loader");t.a=o,o(`Package: ${i.a} - Version: ${i.b}`)},function(e,t,n){e.exports=n(5e3)},function(e,t,n){"use strict";t.h=i,t.f=o,t.g=function(){const e=new s(!0,void 0);return e.prev=e,e.next=e,e},t.d=function(e){const t=[],n=(t,n)=>e(t.key,n.key);function r(n,r,s,a){void 0===s&&(s=i().key),void 0===a&&(a=o().key);for(let i=0,o=t.length;i<o;i++)if(e(s,t[i].key)<=0){const o=e(a,t[i].key);if(o<0)break;if(!n(t[i],r))break}}function i(){if(t.length>0)return t[0]}function o(){if(t.length>0)return t[t.length-1]}function s(e){if(void 0!==e)for(let r=0,i=t.length;r<i;r++)if(t[r].key==e){t[r]=t[i-1],t.length--,t.sort(n);break}}return{min:i,max:o,map:function(e,t){r(e,t)},mapRange:r,remove:s,get:function(e){for(let n=0,r=t.length;n<r;n++)if(t[n].key==e)return t[n]},put:function(e,r){void 0!==e&&(void 0===r?s(e):(t.push({key:e,data:r}),t.sort(n)))},diag:function(){console.log(`size is ${t.length}`)}}},t.p=u,t.n=l,t.l=h;var r=n(2168);function i(e){if(void 0!==e&&!e.isHead)return e.next.prev=e.prev,e.prev.next=e.next,e}function o(e){const t=new s(!1,e);return t.prev=t,t.next=t,t}t.j=class{constructor(){this.items=[]}push(e){this.items.push(e)}empty(){return 0===this.items.length}top(){return this.items[this.items.length-1]}pop(){return this.items.pop()}};class s{constructor(e,t){this.isHead=e,this.data=t}clear(){this.isHead&&(this.prev=this,this.next=this)}add(e){const t=o(e);return this.prev.next=t,t.next=this,t.prev=this.prev,this.prev=t,t}dequeue(){if(!this.empty()){return i(this.next).data}}enqueue(e){return this.add(e)}walk(e){for(let t=this.next;!t.isHead;t=t.next)e(t.data,t)}some(e,t){for(let n=this;!n.isHead;n=t?n.prev:n.next)if(e(n.data,n))return n.data}count(){let e,t;for(e=this.next,t=0;!e.isHead;t++)e=e.next;return t}first(){if(!this.empty())return this.next.data}last(){if(!this.empty())return this.prev.data}empty(){return this.next===this}pushEntry(e){e.isHead=!1,e.next=this.next,e.prev=this,this.next=e,e.next.prev=e}push(e){const t=o(e);t.data=e,t.isHead=!1,t.next=this.next,t.prev=this,this.next=t,t.next.prev=t}popEntry(e){return this.next.isHead?void 0:i(this.next)}insertEntry(e){return e.isHead=!1,this.prev.next=e,e.next=this,e.prev=this.prev,this.prev=e,e}insertAfter(e){const t=o(e);return t.next=this.next,t.prev=this,this.next=t,t.next.prev=t,t}insertBefore(e){const t=o(e);return this.insertEntryBefore(t)}insertEntryBefore(e){return this.prev.next=e,e.next=this,e.prev=this.prev,this.prev=e,e}}t.e=s;const a={min:Number.MIN_VALUE,compare:(e,t)=>e-t};t.r=a;t.a=class{constructor(e,t){this.comp=t,this.L=[t.min];for(let n=0,r=e.length;n<r;n++)this.add(e[n])}count(){return this.L.length-1}peek(){return this.L[1]}get(){const e=this.L[1];return this.L[1]=this.L[this.count()],this.L.pop(),this.fixdown(1),e}add(e){this.L.push(e),this.fixup(this.count())}fixup(e){for(;e>1&&this.comp.compare(this.L[e>>1],this.L[e])>0;){const t=this.L[e>>1];this.L[e>>1]=this.L[e],this.L[e]=t,e>>=1}}fixdown(e){for(;e<<1<=this.count();){let t=e<<1;if(t<this.count()&&this.comp.compare(this.L[t],this.L[t+1])>0&&t++,this.comp.compare(this.L[e],this.L[t])<=0)break;const n=this.L[e];this.L[e]=this.L[t],this.L[t]=n,e=t}}};class c{constructor(e,t){this.compareKeys=e,this.aug=t}makeNode(e,t,n,r){const i={key:e,data:t,color:n,size:r};return this.aug&&this.aug.init&&this.aug.init(i),i}isRed(e){return e&&0==e.color}nodeSize(e){return e?e.size:0}size(){return this.nodeSize(this.root)}isEmpty(){return!this.root}get(e){if(void 0!==e)return this.nodeGet(this.root,e)}nodeGet(e,t){for(;e;){const n=this.compareKeys(t,e.key);if(n<0)e=e.left;else{if(!(n>0))return e;e=e.right}}}contains(e){return this.get(e)}gather(e,t){const n=[];return void 0!==e&&this.nodeGather(this.root,n,e,t),n}nodeGather(e,t,n,r){e&&(r.continueSubtree(e.left,n)&&this.nodeGather(e.left,t,n,r),r.matchNode(e,n)&&t.push(e),r.continueSubtree(e.right,n)&&this.nodeGather(e.right,t,n,r))}put(e,t,n){void 0!==e&&(void 0===t?this.remove(e):(this.root=this.nodePut(this.root,e,t,n),this.root.color=1))}nodePut(e,t,n,r){if(e){const i=this.compareKeys(t,e.key);if(i<0)e.left=this.nodePut(e.left,t,n,r);else if(i>0)e.right=this.nodePut(e.right,t,n,r);else if(r){const i=r(t,e.key,n,e.data);i.key&&(e.key=i.key),i.data?e.data=i.data:e.data=n}else e.data=n;return this.isRed(e.right)&&!this.isRed(e.left)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e.size=this.nodeSize(e.left)+this.nodeSize(e.right)+1,this.aug&&this.updateLocal(e),e}return this.makeNode(t,n,0,1)}updateLocal(e){this.aug&&(this.isRed(e.left)&&this.aug.update(e.left),this.isRed(e.right)&&this.aug.update(e.right),this.aug.update(e))}removeMin(){this.isEmpty()||(this.isRed(this.root.left)||this.isRed(this.root.right)||(this.root.color=0),this.root=this.nodeRemoveMin(this.root),this.isEmpty()||(this.root.color=1))}nodeRemoveMin(e){if(e.left)return this.isRed(e.left)||this.isRed(e.left.left)||(e=this.moveRedLeft(e)),e.left=this.nodeRemoveMin(e.left),this.balance(e)}removeMax(){this.isEmpty()&&(this.isRed(this.root.left)||this.isRed(this.root.right)||(this.root.color=0),this.root=this.nodeRemoveMax(this.root),this.isEmpty()||(this.root.color=1))}nodeRemoveMax(e){if(this.isRed(e.left)&&(e=this.rotateRight(e)),e.right)return this.isRed(e.right)||this.isRed(e.right.left)||(e=this.moveRedRight(e)),e.right=this.nodeRemoveMax(e.right),this.balance(e)}remove(e){if(void 0!==e){if(!this.contains(e))return;this.isRed(this.root.left)||this.isRed(this.root.right)||(this.root.color=0),this.root=this.nodeRemove(this.root,e)}}nodeRemove(e,t){if(this.compareKeys(t,e.key)<0)this.isRed(e.left)||this.isRed(e.left.left)||(e=this.moveRedLeft(e)),e.left=this.nodeRemove(e.left,t);else{if(this.isRed(e.left)&&(e=this.rotateRight(e)),0==this.compareKeys(t,e.key)&&!e.right)return;if(this.isRed(e.right)||this.isRed(e.right.left)||(e=this.moveRedRight(e)),0==this.compareKeys(t,e.key)){const t=this.nodeMin(e.right);e.key=t.key,e.data=t.data,e.right=this.nodeRemoveMin(e.right)}else e.right=this.nodeRemove(e.right,t)}return this.balance(e)}height(){return this.nodeHeight(this.root)}nodeHeight(e){return void 0===e?-1:1+Math.max(this.nodeHeight(e.left),this.nodeHeight(e.right))}floor(e){if(!this.isEmpty())return this.nodeFloor(this.root,e)}nodeFloor(e,t){if(e){const n=this.compareKeys(t,e.key);if(0==n)return e;if(n<0)return this.nodeFloor(e.left,t);{const n=this.nodeFloor(e.right,t);return n||e}}}ceil(e){if(!this.isEmpty())return this.nodeCeil(this.root,e)}nodeCeil(e,t){if(e){const n=this.compareKeys(t,e.key);if(0==n)return e;if(n>0)return this.nodeCeil(e.right,t);{const n=this.nodeCeil(e.left,t);return n||e}}}min(){if(!this.isEmpty())return this.nodeMin(this.root)}nodeMin(e){return e.left?this.nodeMin(e.left):e}max(){if(!this.isEmpty())return this.nodeMax(this.root)}nodeMax(e){return e.right?this.nodeMax(e.right):e}rotateRight(e){const t=e.left;return e.left=t.right,t.right=e,t.color=t.right.color,t.right.color=0,t.size=e.size,e.size=this.nodeSize(e.left)+this.nodeSize(e.right)+1,this.aug&&(this.updateLocal(e),this.updateLocal(t)),t}rotateLeft(e){const t=e.right;return e.right=t.left,t.left=e,t.color=t.left.color,t.left.color=0,t.size=e.size,e.size=this.nodeSize(e.left)+this.nodeSize(e.right)+1,this.aug&&(this.updateLocal(e),this.updateLocal(t)),t}oppositeColor(e){return 1==e?0:1}flipColors(e){e.color=this.oppositeColor(e.color),e.left.color=this.oppositeColor(e.left.color),e.right.color=this.oppositeColor(e.right.color)}moveRedLeft(e){return this.flipColors(e),this.isRed(e.right.left)&&(e.right=this.rotateRight(e.right),e=this.rotateLeft(e),this.flipColors(e)),e}moveRedRight(e){return this.flipColors(e),this.isRed(e.left.left)&&(e=this.rotateRight(e),this.flipColors(e)),e}balance(e){return this.isRed(e.right)&&(e=this.rotateLeft(e)),this.isRed(e.left)&&this.isRed(e.left.left)&&(e=this.rotateRight(e)),this.isRed(e.left)&&this.isRed(e.right)&&this.flipColors(e),e.size=this.nodeSize(e.left)+this.nodeSize(e.right)+1,this.aug&&this.aug.update(e),e}mapRange(e,t,n,r){this.nodeMap(this.root,e,n,r)}map(e,t){this.nodeMap(this.root,e,t)}keys(){const e=[],t={showStructure:!0,infix:t=>(e.push(t.key),!0)};return this.walk(t),e}walk(e){this.nodeWalk(this.root,e)}nodeWalk(e,t){let n=!0;return e&&(t.pre&&(t.showStructure||1===e.color)&&(n=t.pre(e)),e.left&&(n=this.nodeWalk(e.left,t)),n&&t.infix&&(t.showStructure||1===e.color)&&(n=t.infix(e)),n&&(n=this.nodeWalk(e.right,t)),n&&t.post&&(t.showStructure||1===e.color)&&(n=t.post(e))),n}nodeMap(e,t,n,r,i){if(!e)return!0;void 0===r&&(r=this.nodeMin(e).key),void 0===i&&(i=this.nodeMax(e).key);const o=this.compareKeys(r,e.key),s=this.compareKeys(i,e.key);let a=!0;return o<0&&(a=this.nodeMap(e.left,t,n,r,i)),a&&o<=0&&s>=0&&(a=t(e,n)),a&&s>0&&(a=this.nodeMap(e.right,t,n,r,i)),a}diag(){console.log(`Height is ${this.height()}`)}}function u(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function l(e,t){return e.start<t.end&&e.end>t.start}function h(e,t){return e.start===t.start?e.end-t.end:e.start-t.start}t.i=c;const d=e=>({start:e.start,end:e.end});t.m=d;const p=e=>`[${e.start},${e.end})`;t.o=p;t.b=class{constructor(){this.ranges=new c(h,this),this.diag=!1}remove(e){this.ranges.remove(e)}put(e){this.ranges.put(e,{minmax:d(e)})}toString(){return this.nodeToString(this.ranges.root)}nodeToString(e){let t="",n=0;const i={pre:e=>{let i="";return 0===e.color&&(i="R "),t+=r.r(n),t+=`${i}key: ${p(e.key)} minmax: ${p(e.data.minmax)}\n`,n+=2,!0},post:e=>(n-=2,!0),showStructure:!0};return this.ranges.nodeWalk(e,i),t}matchPos(e){return this.match({start:e,end:e+1})}match(e){return this.ranges.gather(e,this)}matchNode(e,t){return e&&l(e.key,t)}continueSubtree(e,t){const n=e&&l(e.data.minmax,t);return this.diag&&!n&&e&&(console.log(`skipping subtree of size ${e.size} key ${p(t)}`),console.log(this.nodeToString(e))),n}update(e){e.left&&e.right?e.data.minmax=u(e.key,u(e.left.data.minmax,e.right.data.minmax)):e.left?e.data.minmax=u(e.key,e.left.data.minmax):e.right?e.data.minmax=u(e.key,e.right.data.minmax):e.data.minmax=d(e.key)}};const f=(e,t)=>e.compare(t);t.q=f;t.c=class{constructor(){this.intervals=new c(f,this),this.diag=!1,this.timePut=!1,this.putTime=0,this.putCount=0}printTiming(){console.log(`put total = ${this.putTime} avg=${(this.putTime/this.putCount).toFixed(2)}`)}remove(e){this.intervals.remove(e)}put(e,t){let n;if(t&&(n=((e,n)=>({key:t(e,n)}))),this.timePut){const t=r.m();this.intervals.put(e,{minmax:e.clone()},n),this.putTime+=r.p(t),this.putCount++}else this.intervals.put(e,{minmax:e.clone()},n)}map(e){const t={infix:t=>(e(t.key),!0),showStructure:!0};this.intervals.walk(t)}match(e){return this.intervals.gather(e,this)}matchNode(e,t){return e&&e.key.overlaps(t)}continueSubtree(e,t){const n=e&&e.data.minmax.overlaps(t);return this.diag&&!n&&e&&console.log(`skipping subtree of size ${e.size} key ${t.toString()}`),n}update(e){e.left&&e.right?e.data.minmax=e.key.union(e.left.data.minmax.union(e.right.data.minmax)):e.left?e.data.minmax=e.key.union(e.left.data.minmax):e.right?e.data.minmax=e.key.union(e.right.data.minmax):e.data.minmax=e.key.clone()}};t.k=class{constructor(){this.n=0}size(){return this.n}contains(e){return this.get(e)}get(e){const t=this.nodeGet(this.root,e,0);if(void 0!==t)return t.val}nodeGet(e,t,n){if(void 0===e)return;const r=t.charAt(n);return r<e.c?this.nodeGet(e.left,t,n):r>e.c?this.nodeGet(e.right,t,n):n<t.length-1?this.nodeGet(e.mid,t,n+1):e}put(e,t){this.contains(e)||this.n++,this.root=this.nodePut(this.root,e,t,0)}nodePut(e,t,n,r){const i=t.charAt(r);return void 0===e&&(e={c:i}),i<e.c?e.left=this.nodePut(e.left,t,n,r):i>e.c?e.right=this.nodePut(e.right,t,n,r):r<t.length-1?e.mid=this.nodePut(e.mid,t,n,r+1):e.val=n,e}neighbors(e,t=2){let n=[];return this.nodeProximity(this.root,{text:""},0,e,t,n),n=n.filter(e=>e.text.length>0)}keysWithPrefix(e){const t=[],n=this.nodeGet(this.root,e,0);return void 0===n?t:(void 0!==n.val&&t.push(e),this.collect(n.mid,{text:e},t),t)}collect(e,t,n){void 0!==e&&(this.collect(e.left,t,n),void 0!==e.val&&n.push(t.text+e.c),this.collect(e.mid,{text:t.text+e.c},n),this.collect(e.right,t,n))}mapNode(e,t,n){if(void 0===e)return;const r=t.text+e.c;this.mapNode(e.left,t,n),e.val&&n(r,e.val),this.mapNode(e.mid,{text:r},n),this.mapNode(e.right,t,n)}map(e){this.mapNode(this.root,{text:""},e)}pairsWithPrefix(e){const t=[],n=this.nodeGet(this.root,e,0);return void 0===n?t:(void 0!==n.val&&t.push({key:e,val:n.val}),this.collectPairs(n.mid,{text:e},t),t)}collectPairs(e,t,n){void 0!==e&&(this.collectPairs(e.left,t,n),void 0!==e.val&&n.push({key:t.text+e.c,val:e.val}),this.collectPairs(e.mid,{text:t.text+e.c},n),this.collectPairs(e.right,t,n))}patternCollect(e,t,n,r,i){if(void 0===e)return;const o=r.charAt(n);"."===o||o<e.c?this.patternCollect(e.left,t,n,r,i):"."!==o&&o!==e.c||(n===r.length-1&&void 0!==e.val?i.push(t.text+e.c):n<r.length-1&&this.patternCollect(e.mid,{text:t.text+e.c},n+1,r,i)),("."===o||o>e.c)&&this.patternCollect(e.right,t,n,r,i)}nodeProximity(e,t,n,r,i,o){if(void 0===e||i<0)return;const s=r.charAt(n);if((i>0||s<e.c)&&this.nodeProximity(e.left,t,n,r,i,o),void 0!==e.val&&i-(r.length-n)>=0){let n=i;s!==e.c&&n--,o.push({text:t.text+e.c,val:e.val,invDistance:n})}const a=n<r.length-1?n+1:n;s===e.c?this.nodeProximity(e.mid,{text:t.text+e.c},a,r,i,o):this.nodeProximity(e.mid,{text:t.text+e.c},a,r,i-1,o),(i>0||s>e.c)&&this.nodeProximity(e.right,t,n,r,i,o)}match(e){const t=[];return this.patternCollect(this.root,{text:""},0,e,t),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5115);n.d(t,"PrimedComponentFactory",function(){return r.a}),n.d(t,"SharedComponentFactory",function(){return r.b});var i=n(5145);n.d(t,"BlobHandle",function(){return i.a}),n.d(t,"PrimedComponent",function(){return i.b}),n.d(t,"SharedComponent",function(){return i.c});var o=n(5148);n.d(t,"BaseContainerRuntimeFactory",function(){return o.a}),n.d(t,"ContainerRuntimeFactoryWithDefaultComponent",function(){return o.b});var s=n(3185);n.d(t,"serviceRoutePathRoot",function(){return s.c}),n.d(t,"BaseContainerService",function(){return s.a}),n.d(t,"generateContainerServicesRequestHandler",function(){return s.b})},function(e,t,n){"use strict";t.a=function(e){return"function"===typeof e}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1987),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n(5157).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1987),i=n(3197),o=function(e){function t(n,r){void 0===r&&(r=i.a.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.a(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.a)},function(e,t,n){"use strict";function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(t,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},function(e,t,n){"use strict";function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}n.d(t,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},function(e,t,n){"use strict";function r(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",function(){return i});var i=r()},function(e,t,n){"use strict";t.a=function e(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);if("function"===typeof n)return function(i){return i.pipe(e(function(e,r){return Object(c.a)(t(e,r)).pipe(Object(a.a)(function(t,i){return n(e,t,r,i)}))},r))};"number"===typeof n&&(r=n);return function(e){return e.lift(new u(t,r))}};var r=n(1987),i=n(2014),o=n(2013),s=n(2142),a=n(2078),c=n(2118);var u=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project,this.concurrent))},e}(),l=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new s.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.a)},function(e,t,n){"use strict";t.a=function(e){void 0===e&&(e=null);return function(t){return t.lift(new o(e))}};var r=n(1987),i=n(2002);var o=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.defaultValue))},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.a(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return n.lift(new o(e,t))}};var r=n(1987),i=n(2002);var o=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(i.a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5266);function i(e){return Array.isArray(e)?e.join(""):e}function o(e){return/^application\/(.*\+)json$/.test(e)}function s(e){const t=Object.getOwnPropertyNames(e);for(const n of t){const t=e[n];e[n]=t&&"object"===typeof t?s(t):t}return Object.freeze(e)}t.createCellId=function(){return r.v4()},t.demultiline=i,t.remultiline=function(e){return Array.isArray(e)?e:e.split(/(.*?(?:\r\n|\n))/g).filter(e=>""!==e)},t.deepFreeze=s;const a=/^application\/vnd.vega(.*\+)json$/;t.createFrozenMediaBundle=function(e){const t={};for(const n in e)a.test(n)?t[n]=JSON.stringify(e[n]):"string"===typeof e[n]?t[n]=e[n]:!o(n)&&Array.isArray(e[n])?t[n]=i(e[n]):t[n]=s(e[n]);return Object.freeze(t)},t.createOnDiskMediaBundle=function(e){return e}},function(e,t,n){"use strict";var r,i,o,s;n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return s}),function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(r||(r={})),function(e){e[e.January=0]="January",e[e.February=1]="February",e[e.March=2]="March",e[e.April=3]="April",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.August=7]="August",e[e.September=8]="September",e[e.October=9]="October",e[e.November=10]="November",e[e.December=11]="December"}(i||(i={})),function(e){e[e.FirstDay=0]="FirstDay",e[e.FirstFullWeek=1]="FirstFullWeek",e[e.FirstFourDayWeek=2]="FirstFourDayWeek"}(o||(o={})),function(e){e[e.Day=0]="Day",e[e.Week=1]="Week",e[e.Month=2]="Month",e[e.WorkWeek=3]="WorkWeek"}(s||(s={}))},function(e,t,n){"use strict";t.a=function(e,t,n,i,o){return i===r.b||"number"!==typeof i?"#"+o:"rgba("+e+", "+t+", "+n+", "+i/r.b+")"};var r=n(2038)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(e,r){var i;!function(o){"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,c=2147483647,u=36,l=1,h=26,d=38,p=700,f=72,m=128,g="-",b=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=u-l,w=Math.floor,C=String.fromCharCode;function k(e){throw new RangeError(S[e])}function x(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function O(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+x((e=e.replace(y,".")).split("."),t).join(".")}function I(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function T(e){return x(e,function(e){var t="";return e>65535&&(t+=C((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=C(e)}).join("")}function E(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function N(e,t,n){var r=0;for(e=n?w(e/p):e>>1,e+=w(e/t);e>_*h>>1;r+=u)e=w(e/_);return w(r+(_+1)*e/(e+d))}function M(e){var t,n,r,i,o,s,a,d,p,b,v,y=[],S=e.length,_=0,C=m,x=f;for((n=e.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&k("not-basic"),y.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<S;){for(o=_,s=1,a=u;i>=S&&k("invalid-input"),((d=(v=e.charCodeAt(i++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:u)>=u||d>w((c-_)/s))&&k("overflow"),_+=d*s,!(d<(p=a<=x?l:a>=x+h?h:a-x));a+=u)s>w(c/(b=u-p))&&k("overflow"),s*=b;x=N(_-o,t=y.length+1,0==o),w(_/t)>c-C&&k("overflow"),C+=w(_/t),_%=t,y.splice(_++,0,C)}return T(y)}function P(e){var t,n,r,i,o,s,a,d,p,b,v,y,S,_,x,O=[];for(y=(e=I(e)).length,t=m,n=0,o=f,s=0;s<y;++s)(v=e[s])<128&&O.push(C(v));for(r=i=O.length,i&&O.push(g);r<y;){for(a=c,s=0;s<y;++s)(v=e[s])>=t&&v<a&&(a=v);for(a-t>w((c-n)/(S=r+1))&&k("overflow"),n+=(a-t)*S,t=a,s=0;s<y;++s)if((v=e[s])<t&&++n>c&&k("overflow"),v==t){for(d=n,p=u;!(d<(b=p<=o?l:p>=o+h?h:p-o));p+=u)x=d-b,_=u-b,O.push(C(E(b+x%_,0))),d=w(x/_);O.push(C(E(d,0))),o=N(n,S,r==i),n=0,++r}++n,++t}return O.join("")}a={version:"1.4.1",ucs2:{decode:I,encode:T},decode:M,encode:P,toASCII:function(e){return O(e,function(e){return v.test(e)?"xn--"+P(e):e})},toUnicode:function(e){return O(e,function(e){return b.test(e)?M(e.slice(4).toLowerCase()):e})}},void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)}()}).call(t,n(67)(e),n(19))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(4868)),r(n(2385))},function(e,t,n){"use strict";n(4872),n(4873),n(4874);var r=n(4875);n.d(t,"a",function(){return r.a})},function(e,t,n){var r=n(4893),i=n(4894),o=n(4895),s=n(4896),a=n(4897);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,n){var r=n(2373);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var r=n(2166)(Object,"create");e.exports=r},function(e,t,n){var r=n(4918);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(2598),i=n(3098);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(3094),i=n(4931),o=n(2377);e.exports=function(e){return o(e)?r(e,!0):i(e)}},function(e,t,n){"use strict";function r(e){if(this._capacity=o(e),this._length=0,this._front=0,i(e)){for(var t=e.length,n=0;n<t;++n)this[n]=e[n];this._length=t}}r.prototype.toArray=function(){for(var e=this._length,t=new Array(e),n=this._front,r=this._capacity,i=0;i<e;++i)t[i]=this[n+i&r-1];return t},r.prototype.push=function(e){var t=arguments.length,n=this._length;if(t>1){var r=this._capacity;if(n+t>r){for(var i=0;i<t;++i){this._checkCapacity(n+1),this[o=this._front+n&this._capacity-1]=arguments[i],n++,this._length=n}return n}for(var o=this._front,i=0;i<t;++i)this[o+n&r-1]=arguments[i],o++;return this._length=n+t,n+t}return 0===t?n:(this._checkCapacity(n+1),this[i=this._front+n&this._capacity-1]=e,this._length=n+1,n+1)},r.prototype.pop=function(){var e=this._length;if(0!==e){var t=this._front+e-1&this._capacity-1,n=this[t];return this[t]=void 0,this._length=e-1,n}},r.prototype.shift=function(){var e=this._length;if(0!==e){var t=this._front,n=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length=e-1,n}},r.prototype.unshift=function(e){var t=this._length,n=arguments.length;if(n>1){if(t+n>(i=this._capacity)){for(var r=n-1;r>=0;r--){this._checkCapacity(t+1);var i=this._capacity;this[s=(this._front-1&i-1^i)-i]=arguments[r],t++,this._length=t,this._front=s}return t}var o=this._front;for(r=n-1;r>=0;r--){var s;this[s=(o-1&i-1^i)-i]=arguments[r],o=s}return this._front=o,this._length=t+n,t+n}if(0===n)return t;this._checkCapacity(t+1);i=this._capacity;return this[r=(this._front-1&i-1^i)-i]=e,this._length=t+1,this._front=r,t+1},r.prototype.peekBack=function(){var e=this._length;if(0!==e)return this[this._front+e-1&this._capacity-1]},r.prototype.peekFront=function(){if(0!==this._length)return this[this._front]},r.prototype.get=function(e){var t=e;if(t===(0|t)){var n=this._length;if(t<0&&(t+=n),!(t<0||t>=n))return this[this._front+t&this._capacity-1]}},r.prototype.isEmpty=function(){return 0===this._length},r.prototype.clear=function(){for(var e=this._length,t=this._front,n=this._capacity,r=0;r<e;++r)this[t+r&n-1]=void 0;this._length=0,this._front=0},r.prototype.toString=function(){return this.toArray().toString()},r.prototype.valueOf=r.prototype.toString,r.prototype.removeFront=r.prototype.shift,r.prototype.removeBack=r.prototype.pop,r.prototype.insertFront=r.prototype.unshift,r.prototype.insertBack=r.prototype.push,r.prototype.enqueue=r.prototype.push,r.prototype.dequeue=r.prototype.shift,r.prototype.toJSON=r.prototype.toArray,Object.defineProperty(r.prototype,"length",{get:function(){return this._length},set:function(){throw new RangeError("")}}),r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(o(1.5*this._capacity+16))},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,r=this._length;n+r>t&&function(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}(this,0,this,t,n+r&t-1)};var i=Array.isArray;function o(e){if("number"!==typeof e){if(!i(e))return 16;e=e.length}return t=Math.min(Math.max(16,e),1073741824),t>>>=0,t-=1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,1+(t|=t>>16);var t}e.exports=r},function(e,t,n){"use strict";t.a=class{track(e){return e()}}},function(e,t,n){"use strict";var r=n(2006),i=n(2098),o=n(2273),s=n.n(o),a=n(5061),c=(n.n(a),n(3119)),u=n(3149),l=n(5082),h=n(3151);t.a=class{constructor(e,t,n,r,i,o,s,a,c,u,l,h){this.resolvedUrl=e,this.ordererUrl=t,this.deltaStorageUrl=n,this.gitUrl=r,this.errorTracking=i,this.disableCache=o,this.historianApi=s,this.directCredentials=a,this.gitCache=c,this.tokenProvider=u,this.tenantId=l,this.documentId=h,this.isExperimentalDocumentService=!0}async connectToStorage(){if(void 0===this.gitUrl)return new h.a;let e;e=this.directCredentials?this.directCredentials:{password:this.tokenProvider.token,user:this.tenantId};const t=new i.Historian(this.gitUrl,this.historianApi,this.disableCache,e),n=new i.GitManager(t);if(this.gitCache){for(const e of Object.keys(this.gitCache.refs))n.addRef(e,this.gitCache.refs[e]);for(const e of this.gitCache.commits)n.addCommit(e);for(const e of this.gitCache.trees)n.addTree(e);for(const e of this.gitCache.blobs)n.addBlob(e)}return new u.a(this.documentId,n)}async connectToDeltaStorage(){const e=new c.a(this.deltaStorageUrl);return new c.b(this.tenantId,this.documentId,this.tokenProvider,e)}async connectToDeltaStream(e){return l.a.create(this.tenantId,this.documentId,this.tokenProvider.token,a,e,this.ordererUrl)}async branch(){let e=null;return e={Authorization:`Basic ${Object(r.fromUtf8ToBase64)(`${this.tenantId}:${this.tokenProvider.token}`)}`},(await s.a.post(`${this.ordererUrl}/documents/${this.tenantId}/${this.documentId}/forks`,{headers:e})).data}getErrorTrackingService(){return this.errorTracking}}},function(e,t){var n=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};(n.prototype=Object.create(Error.prototype)).constructor=n,e.exports=n},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2208);t.SharedString=r.SharedString,t.NotebookDdsName="@aznb/notebook-dds",t.CodeCellDdsName="@aznb/codecell-dds",t.TextCellDdsName="@aznb/textcell-dds",function(e){e.active="active",e.inactive="inactive"}(t.PresenceStatus||(t.PresenceStatus={})),t.isCell=function(e){return e&&void 0!==e.getSource},t.isCodeCell=function(e){return e&&void 0!==e.appendOutput}},function(e,t,n){"use strict";var r=n(2168),i=n(2387),o=n(2209);class s{constructor(e,t,n=0,r=i.b.Simple){this.client=e,this.segment=t,this.offset=n,this.refType=r}min(e){return this.compare(e)<0?this:e}max(e){return this.compare(e)>0?this:e}compare(e){return this.segment===e.segment?this.offset-e.offset:void 0===this.segment||void 0!==e.segment&&this.segment.ordinal<e.segment.ordinal?-1:1}toPosition(){return this.segment&&this.segment.parent?this.getOffset()+this.client.getPosition(this.segment):s.DetachedPosition}hasTileLabels(){return Object(r.y)(this)}hasRangeLabels(){return Object(r.w)(this)}hasTileLabel(e){return Object(r.x)(this,e)}hasRangeLabel(e){return Object(r.v)(this,e)}getTileLabels(){return Object(r.u)(this)}getRangeLabels(){return Object(r.t)(this)}isLeaf(){return!1}addProperties(e,t){this.properties=Object(o.a)(this.properties,e,t)}getSegment(){return this.segment}getOffset(){return this.segment.removedSeq?0:this.offset}getProperties(){return this.properties}}t.a=s,s.DetachedPosition=-1;class a{constructor(e,t=new Array(e.cachedLength)){this.segment=e,this.hierRefCount=0,this.refCount=0,this.refsByOffset=t}static append(e,t){t.localRefs&&!t.localRefs.empty&&(e.localRefs||(e.localRefs=new a(e)),e.localRefs.append(t.localRefs))}[Symbol.iterator](){const e=[];for(const t of this.refsByOffset)t&&(t.before&&e.push(t.before[Symbol.iterator]()),t.at&&e.push(t.at[Symbol.iterator]()),t.after&&e.push(t.after[Symbol.iterator]()));return{next(){for(;e.length>0;){const t=e[0].next();if(!0!==t.done)return t;e.shift()}return{value:void 0,done:!0}},[Symbol.iterator](){return this}}}clear(){this.refCount=0,this.hierRefCount=0;const e=e=>{e&&e.forEach(e=>{e.segment===this.segment&&(e.segment=void 0)})};for(let t=0;t<this.refsByOffset.length;t++)this.refsByOffset[t]&&(e(this.refsByOffset[t].before),e(this.refsByOffset[t].at),e(this.refsByOffset[t].before),this.refsByOffset[t]=void 0)}get empty(){return 0===this.refCount}addLocalRef(e){void 0===this.refsByOffset[e.offset]?this.refsByOffset[e.offset]={at:[e]}:this.refsByOffset[e.offset].at.push(e),(e.hasRangeLabels()||e.hasTileLabels())&&this.hierRefCount++,this.refCount++}removeLocalRef(e){const t=t=>{if(t){const n=t.indexOf(e);if(n>=0)return t.splice(n,1),(e.hasRangeLabels()||e.hasTileLabels())&&this.hierRefCount--,this.refCount--,e}},n=this.refsByOffset[e.offset];if(void 0!==n){let e=t(n.before);if(e)return e;if(e=t(n.at))return e;if(e=t(n.after))return e}}append(e){if(e&&!e.empty){this.hierRefCount+=e.hierRefCount,this.refCount+=e.refCount,e.hierRefCount=0;for(const t of e)t.segment=this.segment,t.offset+=this.refsByOffset.length;this.refsByOffset.push(...e.refsByOffset)}}split(e,t){if(!this.empty){t.localRefs=new a(t,this.refsByOffset.splice(e,this.refsByOffset.length-e));for(const n of t.localRefs)n.segment=t,n.offset-=e,(n.hasRangeLabels()||n.hasTileLabels())&&(this.hierRefCount--,t.localRefs.hierRefCount++),this.refCount--,t.localRefs.refCount++}}addBeforeTombstones(...e){const t=[];for(const n of e)for(const e of n)e.refType&i.b.SlideOnRemove?(t.push(e),e.segment=this.segment,e.offset=0,(e.hasRangeLabels()||e.hasTileLabels())&&this.hierRefCount++,this.refCount++):e.segment=void 0;t.length>0&&(void 0===this.refsByOffset[0]?this.refsByOffset[0]={before:t}:void 0===this.refsByOffset[0].before?this.refsByOffset[0].before=t:this.refsByOffset[0].before.unshift(...t))}addAfterTombstones(...e){const t=[];for(const n of e)for(const e of n)e.refType&i.b.SlideOnRemove?(t.push(e),e.segment=this.segment,e.offset=this.segment.cachedLength-1,(e.hasRangeLabels()||e.hasTileLabels())&&this.hierRefCount++,this.refCount++):e.segment=void 0;t.length>0&&(void 0===this.refsByOffset[this.segment.cachedLength-1]?this.refsByOffset[this.segment.cachedLength-1]={after:t}:void 0===this.refsByOffset[this.segment.cachedLength-1].after?this.refsByOffset[this.segment.cachedLength-1].after=t:this.refsByOffset[this.segment.cachedLength-1].after.push(...t))}}t.b=a},function(e,t,n){"use strict";var r,i;n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),function(e){e[e.Simple=0]="Simple",e[e.Tile=1]="Tile",e[e.NestBegin=2]="NestBegin",e[e.NestEnd=4]="NestEnd",e[e.RangeBegin=16]="RangeBegin",e[e.RangeEnd=32]="RangeEnd",e[e.SlideOnRemove=64]="SlideOnRemove",e[e.Transient=256]="Transient"}(r||(r={})),function(e){e[e.Simple=0]="Simple",e[e.Nest=1]="Nest",e[e.SlideOnRemove=2]="SlideOnRemove",e[e.Transient=4]="Transient"}(i||(i={}))},function(e,t,n){"use strict";t.a="@microsoft/fluid-sequence";t.b="0.18.4"},function(e,t,n){"use strict";var r=n(2099),i=n(2388),o=n(3167),s=n(3168),a=n(2390),c=n(3160);class u{static segmentFromSpec(e){const t=r.TextSegment.fromJSONObject(e);if(t)return t;const n=r.Marker.fromJSONObject(e);return n||void 0}get type(){return u.Type}get attributes(){return u.Attributes}async load(e,t,n,r,i){const o=new c.b(e,t,i);return await o.load(r,n),o}create(e,t){const n=new c.b(e,t,this.attributes);return n.initializeLocal(),n}}t.c=u,u.Type="https://graph.microsoft.com/types/mergeTree",u.Attributes={type:u.Type,snapshotFormatVersion:"0.1",packageVersion:i.b};class l{static segmentFromSpec(e){const t=e;if(t.items){const e=new a.b(t.items);return t.props&&e.addProperties(t.props),e}}get type(){return l.Type}get attributes(){return l.Attributes}async load(e,t,n,r,i){const o=new s.a(e,t,i);return await o.load(r,n),o}create(e,t){const n=new s.a(e,t,this.attributes);return n.initializeLocal(),n}}t.b=l,l.Type="https://graph.microsoft.com/types/mergeTree/object-sequence",l.Attributes={type:l.Type,snapshotFormatVersion:"0.1",packageVersion:i.b};class h{static segmentFromSpec(e){const t=e;if(t.items){const e=new a.b(t.items);return t.props&&e.addProperties(t.props),e}}get type(){return h.Type}get attributes(){return h.Attributes}async load(e,t,n,r,i){const s=new o.a(e,t,i);return await s.load(r,n),s}create(e,t){const n=new o.a(e,t,this.attributes);return n.initializeLocal(),n}}t.a=h,h.Type="https://graph.microsoft.com/types/mergeTree/number-sequence",h.Attributes={type:h.Type,snapshotFormatVersion:"0.1",packageVersion:i.b}},function(e,t,n){"use strict";var r=n(2099),i=n(2629);const o=128;class s extends r.BaseSegment{constructor(e){super(),this.items=e,this.type=s.typeString,this.cachedLength=e.length}static is(e){return e.type===s.typeString}static fromJSONObject(e){if(e&&"object"===typeof e&&"items"in e){const t=new s(e.items);return e.props&&t.addProperties(e.props),t}}toJSONObject(){const e={items:this.items};return super.addSerializedProps(e),e}clone(e=0,t){const n=this.items.slice(e,t),r=new s(n);return this.cloneInto(r),r}canAppend(e){return s.is(e)&&(this.cachedLength<=o||e.cachedLength<=o)}toString(){return this.items.toString()}append(e){if(!s.is(e))throw new Error("can only append another run segment");r.LocalReferenceCollection.append(this,e),this.items=this.items.concat(e.items),this.cachedLength=this.items.length}removeRange(e,t){let n=[];const r=this.items.length;return e>0&&(n=n.concat(this.items.slice(0,e))),t<r&&(n=n.concat(this.items.slice(t))),this.items=n,this.cachedLength=this.items.length,0===this.items.length}createSplitSegmentAt(e){if(e>0){const t=this.items.slice(e);return this.items=this.items.slice(0,e),this.cachedLength=this.items.length,new s(t)}}}t.b=s,s.typeString="SubSequence";t.a=class extends i.a{constructor(e,t,n,r){super(e,t,n,r),this.id=t}insert(e,t,n){const r=new s(t);n&&r.addProperties(n);const i=this.client.insertSegmentLocal(e,r);i&&this.submitSequenceMessage(i)}remove(e,t){this.removeRange(e,t)}getItemCount(){return this.getLength()}getItems(e,t){const n=[];let r;return void 0!==t&&t<=e?n:(this.walkSegments(e=>(s.is(e)&&(void 0===r&&(r=e),n.push(...e.items)),!0),e,t),void 0!==r&&n.splice(0,e-this.getPosition(r)),void 0!==t&&n.splice(t-e),n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3187);n.d(t,"SharedCell",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){"use strict";t.a=function(){}},function(e,t,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(t,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,i=n(2058),o=n(2644),s=n(2646);r||(r={});var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"===typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!==typeof t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1987),i=n(2049),o=n(2032),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r.a(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.a.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.a)},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(i.a)()(r.a.apply(void 0,e))};var r=n(2644),i=n(3208)},function(e,t,n){"use strict";t.a=function(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0};var r=n(2057)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(3217),i=n(2280),o=function(e){return void 0===e&&(e=s),Object(r.a)({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function s(){return new i.a}},function(e,t,n){"use strict";t.a=function(e,t){if(arguments.length>=2)return function(n){return Object(s.a)(Object(r.a)(e,t),Object(i.a)(1),Object(o.a)(t))(n)};return function(t){return Object(s.a)(Object(r.a)(function(t,n,r){return e(t,n,r+1)}),Object(i.a)(1))(t)}};var r=n(2654),i=n(2653),o=n(2283),s=n(2641)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2285),i=n(2402),o=n(2117);function s(e,t,n=r.createCellId()){return{cellOrder:e.cellOrder.push(n),cellMap:e.cellMap.set(n,t)}}function a(e,t){return e.withMutations(e=>{const n={cellOrder:e.get("cellOrder"),cellMap:e.get("cellMap")},{cellOrder:r,cellMap:i}=s(n,t);return e.set("cellOrder",r).set("cellMap",i)})}function c(e,t,n,r){return e.withMutations(e=>e.setIn(["cellMap",n],t).set("cellOrder",e.get("cellOrder").insert(r,n)))}function u(e,t){return e.removeIn(["cellMap",t]).update("cellOrder",e=>e.filterNot(e=>e===t))}t.createCodeCell=i.makeCodeCell,t.createMarkdownCell=i.makeMarkdownCell,t.emptyCodeCell=t.createCodeCell(),t.emptyMarkdownCell=t.createMarkdownCell(),t.makeNotebookRecord=o.Record({cellOrder:o.List(),cellMap:o.Map(),nbformat_minor:0,nbformat:4,metadata:o.Map()}),t.defaultNotebook=t.makeNotebookRecord(),t.createNotebook=t.makeNotebookRecord,t.emptyNotebook=t.makeNotebookRecord(),t.appendCell=s,t.appendCellToNotebook=a,t.insertCellAt=c,t.insertCellAfter=function(e,t,n,r){return c(e,t,n,e.get("cellOrder").indexOf(r)+1)},t.removeCell=function(e,t){return console.log("Deprecation Warning: removeCell() is being deprecated. Please use deleteCell() instead"),u(e,t)},t.deleteCell=u,t.markCellDeleting=function(e,t){return e.withMutations(e=>e.setIn(["cellMap",t],e.getIn(["cellMap",t]).setIn(["metadata","nteract","transient","deleting"],!0)))},t.markCellNotDeleting=function(e,t){return e.withMutations(e=>e.setIn(["cellMap",t],e.getIn(["cellMap",t]).setIn(["metadata","nteract","transient","deleting"],!1)))},t.monocellNotebook=a(t.emptyNotebook,t.emptyCodeCell)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2117);t.makeCodeCell=r.Record({cell_type:"code",execution_count:null,metadata:r.Map({collapsed:!0,jupyter:r.Map({source_hidden:!1,outputs_hidden:!1}),nteract:r.Map({transient:r.Map({deleting:!1})})}),source:"",outputs:r.List()}),t.makeMarkdownCell=r.Record({cell_type:"markdown",metadata:r.Map({nteract:r.Map({transient:r.Map({deleting:!1})})}),source:""}),t.makeRawCell=r.Record({cell_type:"raw",metadata:r.Map({nteract:r.Map({transient:r.Map({deleting:!1})})}),source:""})},function(e,t,n){(function(e,r){var i;(function(){var o,s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="__lodash_hash_undefined__",l=500,h="__lodash_placeholder__",d=1,p=2,f=4,m=1,g=2,b=1,v=2,y=4,S=8,_=16,w=32,C=64,k=128,x=256,O=512,I=30,T="...",E=800,N=16,M=1,P=2,j=1/0,D=9007199254740991,R=1.7976931348623157e308,L=NaN,A=4294967295,F=A-1,B=A>>>1,q=[["ary",k],["bind",b],["bindKey",v],["curry",S],["curryRight",_],["flip",O],["partial",w],["partialRight",C],["rearg",x]],z="[object Arguments]",W="[object Array]",H="[object AsyncFunction]",V="[object Boolean]",U="[object Date]",$="[object DOMException]",K="[object Error]",G="[object Function]",Y="[object GeneratorFunction]",J="[object Map]",Q="[object Number]",Z="[object Null]",X="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",re="[object String]",ie="[object Symbol]",oe="[object Undefined]",se="[object WeakMap]",ae="[object WeakSet]",ce="[object ArrayBuffer]",ue="[object DataView]",le="[object Float32Array]",he="[object Float64Array]",de="[object Int8Array]",pe="[object Int16Array]",fe="[object Int32Array]",me="[object Uint8Array]",ge="[object Uint8ClampedArray]",be="[object Uint16Array]",ve="[object Uint32Array]",ye=/\b__p \+= '';/g,Se=/\b(__p \+=) '' \+/g,_e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,we=/&(?:amp|lt|gt|quot|#39);/g,Ce=/[&<>"']/g,ke=RegExp(we.source),xe=RegExp(Ce.source),Oe=/<%-([\s\S]+?)%>/g,Ie=/<%([\s\S]+?)%>/g,Te=/<%=([\s\S]+?)%>/g,Ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ne=/^\w*$/,Me=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,je=RegExp(Pe.source),De=/^\s+|\s+$/g,Re=/^\s+/,Le=/\s+$/,Ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Be=/,? & /,qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ze=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,He=/\w*$/,Ve=/^[-+]0x[0-9a-f]+$/i,Ue=/^0b[01]+$/i,$e=/^\[object .+?Constructor\]$/,Ke=/^0o[0-7]+$/i,Ge=/^(?:0|[1-9]\d*)$/,Ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Je=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,Ze="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Xe+"]",nt="["+Ze+"]",rt="\\d+",it="[\\u2700-\\u27bf]",ot="[a-z\\xdf-\\xf6\\xf8-\\xff]",st="[^\\ud800-\\udfff"+Xe+rt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",at="\\ud83c[\\udffb-\\udfff]",ct="[^\\ud800-\\udfff]",ut="(?:\\ud83c[\\udde6-\\uddff]){2}",lt="[\\ud800-\\udbff][\\udc00-\\udfff]",ht="[A-Z\\xc0-\\xd6\\xd8-\\xde]",dt="(?:"+ot+"|"+st+")",pt="(?:"+ht+"|"+st+")",ft="(?:"+nt+"|"+at+")"+"?",mt="[\\ufe0e\\ufe0f]?"+ft+("(?:\\u200d(?:"+[ct,ut,lt].join("|")+")[\\ufe0e\\ufe0f]?"+ft+")*"),gt="(?:"+[it,ut,lt].join("|")+")"+mt,bt="(?:"+[ct+nt+"?",nt,ut,lt,et].join("|")+")",vt=RegExp("['\u2019]","g"),yt=RegExp(nt,"g"),St=RegExp(at+"(?="+at+")|"+bt+mt,"g"),_t=RegExp([ht+"?"+ot+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[tt,ht,"$"].join("|")+")",pt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[tt,ht+dt,"$"].join("|")+")",ht+"?"+dt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ht+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rt,gt].join("|"),"g"),wt=RegExp("[\\u200d\\ud800-\\udfff"+Ze+"\\ufe0e\\ufe0f]"),Ct=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xt=-1,Ot={};Ot[le]=Ot[he]=Ot[de]=Ot[pe]=Ot[fe]=Ot[me]=Ot[ge]=Ot[be]=Ot[ve]=!0,Ot[z]=Ot[W]=Ot[ce]=Ot[V]=Ot[ue]=Ot[U]=Ot[K]=Ot[G]=Ot[J]=Ot[Q]=Ot[X]=Ot[te]=Ot[ne]=Ot[re]=Ot[se]=!1;var It={};It[z]=It[W]=It[ce]=It[ue]=It[V]=It[U]=It[le]=It[he]=It[de]=It[pe]=It[fe]=It[J]=It[Q]=It[X]=It[te]=It[ne]=It[re]=It[ie]=It[me]=It[ge]=It[be]=It[ve]=!0,It[K]=It[G]=It[se]=!1;var Tt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Et=parseFloat,Nt=parseInt,Mt="object"==typeof e&&e&&e.Object===Object&&e,Pt="object"==typeof self&&self&&self.Object===Object&&self,jt=Mt||Pt||Function("return this")(),Dt="object"==typeof t&&t&&!t.nodeType&&t,Rt=Dt&&"object"==typeof r&&r&&!r.nodeType&&r,Lt=Rt&&Rt.exports===Dt,At=Lt&&Mt.process,Ft=function(){try{var e=Rt&&Rt.require&&Rt.require("util").types;return e||At&&At.binding&&At.binding("util")}catch(t){}}(),Bt=Ft&&Ft.isArrayBuffer,qt=Ft&&Ft.isDate,zt=Ft&&Ft.isMap,Wt=Ft&&Ft.isRegExp,Ht=Ft&&Ft.isSet,Vt=Ft&&Ft.isTypedArray;function Ut(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function $t(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Gt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Yt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Jt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Qt(e,t){return!!(null==e?0:e.length)&&cn(e,t,0)>-1}function Zt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Xt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function en(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function tn(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function nn(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function rn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var on=dn("length");function sn(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function an(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function cn(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):an(e,ln,n)}function un(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function ln(e){return e!==e}function hn(e,t){var n=null==e?0:e.length;return n?mn(e,t)/n:L}function dn(e){return function(t){return null==t?o:t[e]}}function pn(e){return function(t){return null==e?o:e[t]}}function fn(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function mn(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==o&&(n=n===o?s:n+s)}return n}function gn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function bn(e){return function(t){return e(t)}}function vn(e,t){return Xt(t,function(t){return e[t]})}function yn(e,t){return e.has(t)}function Sn(e,t){for(var n=-1,r=e.length;++n<r&&cn(t,e[n],0)>-1;);return n}function _n(e,t){for(var n=e.length;n--&&cn(t,e[n],0)>-1;);return n}var wn=pn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Cn=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function kn(e){return"\\"+Tt[e]}function xn(e){return wt.test(e)}function On(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function In(e,t){return function(n){return e(t(n))}}function Tn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==h||(e[n]=h,o[i++]=n)}return o}function En(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Nn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Mn(e){return xn(e)?function(e){var t=St.lastIndex=0;for(;St.test(e);)++t;return t}(e):on(e)}function Pn(e){return xn(e)?function(e){return e.match(St)||[]}(e):function(e){return e.split("")}(e)}var jn=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Dn=function e(t){var n=(t=null==t?jt:Dn.defaults(jt.Object(),t,Dn.pick(jt,kt))).Array,r=t.Date,i=t.Error,Ze=t.Function,Xe=t.Math,et=t.Object,tt=t.RegExp,nt=t.String,rt=t.TypeError,it=n.prototype,ot=Ze.prototype,st=et.prototype,at=t["__core-js_shared__"],ct=ot.toString,ut=st.hasOwnProperty,lt=0,ht=function(){var e=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),dt=st.toString,pt=ct.call(et),ft=jt._,mt=tt("^"+ct.call(ut).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gt=Lt?t.Buffer:o,bt=t.Symbol,St=t.Uint8Array,wt=gt?gt.allocUnsafe:o,Tt=In(et.getPrototypeOf,et),Mt=et.create,Pt=st.propertyIsEnumerable,Dt=it.splice,Rt=bt?bt.isConcatSpreadable:o,At=bt?bt.iterator:o,Ft=bt?bt.toStringTag:o,on=function(){try{var e=Fo(et,"defineProperty");return e({},"",{}),e}catch(t){}}(),pn=t.clearTimeout!==jt.clearTimeout&&t.clearTimeout,Rn=r&&r.now!==jt.Date.now&&r.now,Ln=t.setTimeout!==jt.setTimeout&&t.setTimeout,An=Xe.ceil,Fn=Xe.floor,Bn=et.getOwnPropertySymbols,qn=gt?gt.isBuffer:o,zn=t.isFinite,Wn=it.join,Hn=In(et.keys,et),Vn=Xe.max,Un=Xe.min,$n=r.now,Kn=t.parseInt,Gn=Xe.random,Yn=it.reverse,Jn=Fo(t,"DataView"),Qn=Fo(t,"Map"),Zn=Fo(t,"Promise"),Xn=Fo(t,"Set"),er=Fo(t,"WeakMap"),tr=Fo(et,"create"),nr=er&&new er,rr={},ir=ls(Jn),or=ls(Qn),sr=ls(Zn),ar=ls(Xn),cr=ls(er),ur=bt?bt.prototype:o,lr=ur?ur.valueOf:o,hr=ur?ur.toString:o;function dr(e){if(Ia(e)&&!ga(e)&&!(e instanceof gr)){if(e instanceof mr)return e;if(ut.call(e,"__wrapped__"))return hs(e)}return new mr(e)}var pr=function(){function e(){}return function(t){if(!Oa(t))return{};if(Mt)return Mt(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function fr(){}function mr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function gr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=A,this.__views__=[]}function br(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function vr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function yr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Sr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new yr;++t<n;)this.add(e[t])}function _r(e){var t=this.__data__=new vr(e);this.size=t.size}function wr(e,t){var n=ga(e),r=!n&&ma(e),i=!n&&!r&&Sa(e),o=!n&&!r&&!i&&Ra(e),s=n||r||i||o,a=s?gn(e.length,nt):[],c=a.length;for(var u in e)!t&&!ut.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Uo(u,c))||a.push(u);return a}function Cr(e){var t=e.length;return t?e[Si(0,t-1)]:o}function kr(e,t){return as(to(e),jr(t,0,e.length))}function xr(e){return as(to(e))}function Or(e,t,n){(n===o||da(e[t],n))&&(n!==o||t in e)||Mr(e,t,n)}function Ir(e,t,n){var r=e[t];ut.call(e,t)&&da(r,n)&&(n!==o||t in e)||Mr(e,t,n)}function Tr(e,t){for(var n=e.length;n--;)if(da(e[n][0],t))return n;return-1}function Er(e,t,n,r){return Fr(e,function(e,i,o){t(r,e,n(e),o)}),r}function Nr(e,t){return e&&no(t,rc(t),e)}function Mr(e,t,n){"__proto__"==t&&on?on(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Pr(e,t){for(var r=-1,i=t.length,s=n(i),a=null==e;++r<i;)s[r]=a?o:Za(e,t[r]);return s}function jr(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Dr(e,t,n,r,i,s){var a,c=t&d,u=t&p,l=t&f;if(n&&(a=i?n(e,r,i,s):n(e)),a!==o)return a;if(!Oa(e))return e;var h=ga(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ut.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return to(e,a)}else{var m=zo(e),g=m==G||m==Y;if(Sa(e))return Yi(e,c);if(m==X||m==z||g&&!i){if(a=u||g?{}:Ho(e),!c)return u?function(e,t){return no(e,qo(e),t)}(e,function(e,t){return e&&no(t,ic(t),e)}(a,e)):function(e,t){return no(e,Bo(e),t)}(e,Nr(a,e))}else{if(!It[m])return i?e:{};a=function(e,t,n){var r,i=e.constructor;switch(t){case ce:return Ji(e);case V:case U:return new i(+e);case ue:return function(e,t){var n=t?Ji(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case le:case he:case de:case pe:case fe:case me:case ge:case be:case ve:return Qi(e,n);case J:return new i;case Q:case re:return new i(e);case te:return function(e){var t=new e.constructor(e.source,He.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ne:return new i;case ie:return r=e,lr?et(lr.call(r)):{}}}(e,m,c)}}s||(s=new _r);var b=s.get(e);if(b)return b;s.set(e,a),Pa(e)?e.forEach(function(r){a.add(Dr(r,t,n,r,e,s))}):Ta(e)&&e.forEach(function(r,i){a.set(i,Dr(r,t,n,i,e,s))});var v=h?o:(l?u?Mo:No:u?ic:rc)(e);return Kt(v||e,function(r,i){v&&(r=e[i=r]),Ir(a,i,Dr(r,t,n,i,e,s))}),a}function Rr(e,t,n){var r=n.length;if(null==e)return!r;for(e=et(e);r--;){var i=n[r],s=t[i],a=e[i];if(a===o&&!(i in e)||!s(a))return!1}return!0}function Lr(e,t,n){if("function"!=typeof e)throw new rt(c);return rs(function(){e.apply(o,n)},t)}function Ar(e,t,n,r){var i=-1,o=Qt,a=!0,c=e.length,u=[],l=t.length;if(!c)return u;n&&(t=Xt(t,bn(n))),r?(o=Zt,a=!1):t.length>=s&&(o=yn,a=!1,t=new Sr(t));e:for(;++i<c;){var h=e[i],d=null==n?h:n(h);if(h=r||0!==h?h:0,a&&d===d){for(var p=l;p--;)if(t[p]===d)continue e;u.push(h)}else o(t,d,r)||u.push(h)}return u}dr.templateSettings={escape:Oe,evaluate:Ie,interpolate:Te,variable:"",imports:{_:dr}},dr.prototype=fr.prototype,dr.prototype.constructor=dr,mr.prototype=pr(fr.prototype),mr.prototype.constructor=mr,gr.prototype=pr(fr.prototype),gr.prototype.constructor=gr,br.prototype.clear=function(){this.__data__=tr?tr(null):{},this.size=0},br.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},br.prototype.get=function(e){var t=this.__data__;if(tr){var n=t[e];return n===u?o:n}return ut.call(t,e)?t[e]:o},br.prototype.has=function(e){var t=this.__data__;return tr?t[e]!==o:ut.call(t,e)},br.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tr&&t===o?u:t,this},vr.prototype.clear=function(){this.__data__=[],this.size=0},vr.prototype.delete=function(e){var t=this.__data__,n=Tr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Dt.call(t,n,1),--this.size,!0)},vr.prototype.get=function(e){var t=this.__data__,n=Tr(t,e);return n<0?o:t[n][1]},vr.prototype.has=function(e){return Tr(this.__data__,e)>-1},vr.prototype.set=function(e,t){var n=this.__data__,r=Tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},yr.prototype.clear=function(){this.size=0,this.__data__={hash:new br,map:new(Qn||vr),string:new br}},yr.prototype.delete=function(e){var t=Lo(this,e).delete(e);return this.size-=t?1:0,t},yr.prototype.get=function(e){return Lo(this,e).get(e)},yr.prototype.has=function(e){return Lo(this,e).has(e)},yr.prototype.set=function(e,t){var n=Lo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Sr.prototype.add=Sr.prototype.push=function(e){return this.__data__.set(e,u),this},Sr.prototype.has=function(e){return this.__data__.has(e)},_r.prototype.clear=function(){this.__data__=new vr,this.size=0},_r.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_r.prototype.get=function(e){return this.__data__.get(e)},_r.prototype.has=function(e){return this.__data__.has(e)},_r.prototype.set=function(e,t){var n=this.__data__;if(n instanceof vr){var r=n.__data__;if(!Qn||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new yr(r)}return n.set(e,t),this.size=n.size,this};var Fr=oo($r),Br=oo(Kr,!0);function qr(e,t){var n=!0;return Fr(e,function(e,r,i){return n=!!t(e,r,i)}),n}function zr(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],a=t(s);if(null!=a&&(c===o?a===a&&!Da(a):n(a,c)))var c=a,u=s}return u}function Wr(e,t){var n=[];return Fr(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Hr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=Vo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?Hr(a,t-1,n,r,i):en(i,a):r||(i[i.length]=a)}return i}var Vr=so(),Ur=so(!0);function $r(e,t){return e&&Vr(e,t,rc)}function Kr(e,t){return e&&Ur(e,t,rc)}function Gr(e,t){return Jt(t,function(t){return Ca(e[t])})}function Yr(e,t){for(var n=0,r=(t=Ui(t,e)).length;null!=e&&n<r;)e=e[us(t[n++])];return n&&n==r?e:o}function Jr(e,t,n){var r=t(e);return ga(e)?r:en(r,n(e))}function Qr(e){return null==e?e===o?oe:Z:Ft&&Ft in et(e)?function(e){var t=ut.call(e,Ft),n=e[Ft];try{e[Ft]=o;var r=!0}catch(s){}var i=dt.call(e);return r&&(t?e[Ft]=n:delete e[Ft]),i}(e):function(e){return dt.call(e)}(e)}function Zr(e,t){return e>t}function Xr(e,t){return null!=e&&ut.call(e,t)}function ei(e,t){return null!=e&&t in et(e)}function ti(e,t,r){for(var i=r?Zt:Qt,s=e[0].length,a=e.length,c=a,u=n(a),l=1/0,h=[];c--;){var d=e[c];c&&t&&(d=Xt(d,bn(t))),l=Un(d.length,l),u[c]=!r&&(t||s>=120&&d.length>=120)?new Sr(c&&d):o}d=e[0];var p=-1,f=u[0];e:for(;++p<s&&h.length<l;){var m=d[p],g=t?t(m):m;if(m=r||0!==m?m:0,!(f?yn(f,g):i(h,g,r))){for(c=a;--c;){var b=u[c];if(!(b?yn(b,g):i(e[c],g,r)))continue e}f&&f.push(g),h.push(m)}}return h}function ni(e,t,n){var r=null==(e=es(e,t=Ui(t,e)))?e:e[us(ws(t))];return null==r?o:Ut(r,e,n)}function ri(e){return Ia(e)&&Qr(e)==z}function ii(e,t,n,r,i){return e===t||(null==e||null==t||!Ia(e)&&!Ia(t)?e!==e&&t!==t:function(e,t,n,r,i,s){var a=ga(e),c=ga(t),u=a?W:zo(e),l=c?W:zo(t),h=(u=u==z?X:u)==X,d=(l=l==z?X:l)==X,p=u==l;if(p&&Sa(e)){if(!Sa(t))return!1;a=!0,h=!1}if(p&&!h)return s||(s=new _r),a||Ra(e)?To(e,t,n,r,i,s):function(e,t,n,r,i,o,s){switch(n){case ue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ce:return!(e.byteLength!=t.byteLength||!o(new St(e),new St(t)));case V:case U:case Q:return da(+e,+t);case K:return e.name==t.name&&e.message==t.message;case te:case re:return e==t+"";case J:var a=On;case ne:var c=r&m;if(a||(a=En),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=g,s.set(e,t);var l=To(a(e),a(t),r,i,o,s);return s.delete(e),l;case ie:if(lr)return lr.call(e)==lr.call(t)}return!1}(e,t,u,n,r,i,s);if(!(n&m)){var f=h&&ut.call(e,"__wrapped__"),b=d&&ut.call(t,"__wrapped__");if(f||b){var v=f?e.value():e,y=b?t.value():t;return s||(s=new _r),i(v,y,n,r,s)}}return!!p&&(s||(s=new _r),function(e,t,n,r,i,s){var a=n&m,c=No(e),u=c.length,l=No(t).length;if(u!=l&&!a)return!1;for(var h=u;h--;){var d=c[h];if(!(a?d in t:ut.call(t,d)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var f=!0;s.set(e,t),s.set(t,e);for(var g=a;++h<u;){d=c[h];var b=e[d],v=t[d];if(r)var y=a?r(v,b,d,t,e,s):r(b,v,d,e,t,s);if(!(y===o?b===v||i(b,v,n,r,s):y)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var S=e.constructor,_=t.constructor;S!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof S&&S instanceof S&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return s.delete(e),s.delete(t),f}(e,t,n,r,i,s))}(e,t,n,r,ii,i))}function oi(e,t,n,r){var i=n.length,s=i,a=!r;if(null==e)return!s;for(e=et(e);i--;){var c=n[i];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){var u=(c=n[i])[0],l=e[u],h=c[1];if(a&&c[2]){if(l===o&&!(u in e))return!1}else{var d=new _r;if(r)var p=r(l,h,u,e,t,d);if(!(p===o?ii(h,l,m|g,r,d):p))return!1}}return!0}function si(e){return!(!Oa(e)||(t=e,ht&&ht in t))&&(Ca(e)?mt:$e).test(ls(e));var t}function ai(e){return"function"==typeof e?e:null==e?Ec:"object"==typeof e?ga(e)?pi(e[0],e[1]):di(e):Fc(e)}function ci(e){if(!Jo(e))return Hn(e);var t=[];for(var n in et(e))ut.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ui(e){if(!Oa(e))return function(e){var t=[];if(null!=e)for(var n in et(e))t.push(n);return t}(e);var t=Jo(e),n=[];for(var r in e)("constructor"!=r||!t&&ut.call(e,r))&&n.push(r);return n}function li(e,t){return e<t}function hi(e,t){var r=-1,i=va(e)?n(e.length):[];return Fr(e,function(e,n,o){i[++r]=t(e,n,o)}),i}function di(e){var t=Ao(e);return 1==t.length&&t[0][2]?Zo(t[0][0],t[0][1]):function(n){return n===e||oi(n,e,t)}}function pi(e,t){return Ko(e)&&Qo(t)?Zo(us(e),t):function(n){var r=Za(n,e);return r===o&&r===t?Xa(n,e):ii(t,r,m|g)}}function fi(e,t,n,r,i){e!==t&&Vr(t,function(s,a){if(i||(i=new _r),Oa(s))!function(e,t,n,r,i,s,a){var c=ts(e,n),u=ts(t,n),l=a.get(u);if(l)Or(e,n,l);else{var h=s?s(c,u,n+"",e,t,a):o,d=h===o;if(d){var p=ga(u),f=!p&&Sa(u),m=!p&&!f&&Ra(u);h=u,p||f||m?ga(c)?h=c:ya(c)?h=to(c):f?(d=!1,h=Yi(u,!0)):m?(d=!1,h=Qi(u,!0)):h=[]:Na(u)||ma(u)?(h=c,ma(c)?h=Ha(c):Oa(c)&&!Ca(c)||(h=Ho(u))):d=!1}d&&(a.set(u,h),i(h,u,r,s,a),a.delete(u)),Or(e,n,h)}}(e,t,a,n,fi,r,i);else{var c=r?r(ts(e,a),s,a+"",e,t,i):o;c===o&&(c=s),Or(e,a,c)}},ic)}function mi(e,t){var n=e.length;if(n)return Uo(t+=t<0?n:0,n)?e[t]:o}function gi(e,t,n){var r=-1;return t=Xt(t.length?t:[Ec],bn(Ro())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(hi(e,function(e,n,i){return{criteria:Xt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var c=Zi(i[r],o[r]);if(c){if(r>=a)return c;var u=n[r];return c*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)})}function bi(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Yr(e,s);n(a,s)&&xi(o,Ui(s,e),a)}return o}function vi(e,t,n,r){var i=r?un:cn,o=-1,s=t.length,a=e;for(e===t&&(t=to(t)),n&&(a=Xt(e,bn(n)));++o<s;)for(var c=0,u=t[o],l=n?n(u):u;(c=i(a,l,c,r))>-1;)a!==e&&Dt.call(a,c,1),Dt.call(e,c,1);return e}function yi(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Uo(i)?Dt.call(e,i,1):Ai(e,i)}}return e}function Si(e,t){return e+Fn(Gn()*(t-e+1))}function _i(e,t){var n="";if(!e||t<1||t>D)return n;do{t%2&&(n+=e),(t=Fn(t/2))&&(e+=e)}while(t);return n}function wi(e,t){return is(Xo(e,t,Ec),e+"")}function Ci(e){return Cr(dc(e))}function ki(e,t){var n=dc(e);return as(n,jr(t,0,n.length))}function xi(e,t,n,r){if(!Oa(e))return e;for(var i=-1,s=(t=Ui(t,e)).length,a=s-1,c=e;null!=c&&++i<s;){var u=us(t[i]),l=n;if(i!=a){var h=c[u];(l=r?r(h,u,c):o)===o&&(l=Oa(h)?h:Uo(t[i+1])?[]:{})}Ir(c,u,l),c=c[u]}return e}var Oi=nr?function(e,t){return nr.set(e,t),e}:Ec,Ii=on?function(e,t){return on(e,"toString",{configurable:!0,enumerable:!1,value:Oc(t),writable:!0})}:Ec;function Ti(e){return as(dc(e))}function Ei(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=n(o);++i<o;)s[i]=e[i+t];return s}function Ni(e,t){var n;return Fr(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function Mi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=B){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!Da(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return Pi(e,t,Ec,n)}function Pi(e,t,n,r){t=n(t);for(var i=0,s=null==e?0:e.length,a=t!==t,c=null===t,u=Da(t),l=t===o;i<s;){var h=Fn((i+s)/2),d=n(e[h]),p=d!==o,f=null===d,m=d===d,g=Da(d);if(a)var b=r||m;else b=l?m&&(r||p):c?m&&p&&(r||!f):u?m&&p&&!f&&(r||!g):!f&&!g&&(r?d<=t:d<t);b?i=h+1:s=h}return Un(s,F)}function ji(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!da(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function Di(e){return"number"==typeof e?e:Da(e)?L:+e}function Ri(e){if("string"==typeof e)return e;if(ga(e))return Xt(e,Ri)+"";if(Da(e))return hr?hr.call(e):"";var t=e+"";return"0"==t&&1/e==-j?"-0":t}function Li(e,t,n){var r=-1,i=Qt,o=e.length,a=!0,c=[],u=c;if(n)a=!1,i=Zt;else if(o>=s){var l=t?null:wo(e);if(l)return En(l);a=!1,i=yn,u=new Sr}else u=t?[]:c;e:for(;++r<o;){var h=e[r],d=t?t(h):h;if(h=n||0!==h?h:0,a&&d===d){for(var p=u.length;p--;)if(u[p]===d)continue e;t&&u.push(d),c.push(h)}else i(u,d,n)||(u!==c&&u.push(d),c.push(h))}return c}function Ai(e,t){return null==(e=es(e,t=Ui(t,e)))||delete e[us(ws(t))]}function Fi(e,t,n,r){return xi(e,t,n(Yr(e,t)),r)}function Bi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Ei(e,r?0:o,r?o+1:i):Ei(e,r?o+1:0,r?i:o)}function qi(e,t){var n=e;return n instanceof gr&&(n=n.value()),tn(t,function(e,t){return t.func.apply(t.thisArg,en([e],t.args))},n)}function zi(e,t,r){var i=e.length;if(i<2)return i?Li(e[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=e[o],c=-1;++c<i;)c!=o&&(s[o]=Ar(s[o]||a,e[c],t,r));return Li(Hr(s,1),t,r)}function Wi(e,t,n){for(var r=-1,i=e.length,s=t.length,a={};++r<i;){var c=r<s?t[r]:o;n(a,e[r],c)}return a}function Hi(e){return ya(e)?e:[]}function Vi(e){return"function"==typeof e?e:Ec}function Ui(e,t){return ga(e)?e:Ko(e,t)?[e]:cs(Va(e))}var $i=wi;function Ki(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Ei(e,t,n)}var Gi=pn||function(e){return jt.clearTimeout(e)};function Yi(e,t){if(t)return e.slice();var n=e.length,r=wt?wt(n):new e.constructor(n);return e.copy(r),r}function Ji(e){var t=new e.constructor(e.byteLength);return new St(t).set(new St(e)),t}function Qi(e,t){var n=t?Ji(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Zi(e,t){if(e!==t){var n=e!==o,r=null===e,i=e===e,s=Da(e),a=t!==o,c=null===t,u=t===t,l=Da(t);if(!c&&!l&&!s&&e>t||s&&a&&u&&!c&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!s&&!l&&e<t||l&&n&&i&&!r&&!s||c&&n&&i||!a&&i||!u)return-1}return 0}function Xi(e,t,r,i){for(var o=-1,s=e.length,a=r.length,c=-1,u=t.length,l=Vn(s-a,0),h=n(u+l),d=!i;++c<u;)h[c]=t[c];for(;++o<a;)(d||o<s)&&(h[r[o]]=e[o]);for(;l--;)h[c++]=e[o++];return h}function eo(e,t,r,i){for(var o=-1,s=e.length,a=-1,c=r.length,u=-1,l=t.length,h=Vn(s-c,0),d=n(h+l),p=!i;++o<h;)d[o]=e[o];for(var f=o;++u<l;)d[f+u]=t[u];for(;++a<c;)(p||o<s)&&(d[f+r[a]]=e[o++]);return d}function to(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function no(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var c=t[s],u=r?r(n[c],e[c],c,n,e):o;u===o&&(u=e[c]),i?Mr(n,c,u):Ir(n,c,u)}return n}function ro(e,t){return function(n,r){var i=ga(n)?$t:Er,o=t?t():{};return i(n,e,Ro(r,2),o)}}function io(e){return wi(function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=e.length>3&&"function"==typeof s?(i--,s):o,a&&$o(n[0],n[1],a)&&(s=i<3?o:s,i=1),t=et(t);++r<i;){var c=n[r];c&&e(t,c,r,s)}return t})}function oo(e,t){return function(n,r){if(null==n)return n;if(!va(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=et(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function so(e){return function(t,n,r){for(var i=-1,o=et(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}function ao(e){return function(t){var n=xn(t=Va(t))?Pn(t):o,r=n?n[0]:t.charAt(0),i=n?Ki(n,1).join(""):t.slice(1);return r[e]()+i}}function co(e){return function(t){return tn(Cc(mc(t).replace(vt,"")),e,"")}}function uo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=pr(e.prototype),r=e.apply(n,t);return Oa(r)?r:n}}function lo(e){return function(t,n,r){var i=et(t);if(!va(t)){var s=Ro(n,3);t=rc(t),n=function(e){return s(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[s?t[a]:a]:o}}function ho(e){return Eo(function(t){var n=t.length,r=n,i=mr.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new rt(c);if(i&&!a&&"wrapper"==jo(s))var a=new mr([],!0)}for(r=a?r:n;++r<n;){var u=jo(s=t[r]),l="wrapper"==u?Po(s):o;a=l&&Go(l[0])&&l[1]==(k|S|w|x)&&!l[4].length&&1==l[9]?a[jo(l[0])].apply(a,l[3]):1==s.length&&Go(s)?a[u]():a.thru(s)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&ga(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function po(e,t,r,i,s,a,c,u,l,h){var d=t&k,p=t&b,f=t&v,m=t&(S|_),g=t&O,y=f?o:uo(e);return function b(){for(var v=arguments.length,S=n(v),_=v;_--;)S[_]=arguments[_];if(m)var w=Do(b),C=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(S,w);if(i&&(S=Xi(S,i,s,m)),a&&(S=eo(S,a,c,m)),v-=C,m&&v<h){var k=Tn(S,w);return So(e,t,po,b.placeholder,r,S,k,u,l,h-v)}var x=p?r:this,O=f?x[e]:e;return v=S.length,u?S=function(e,t){for(var n=e.length,r=Un(t.length,n),i=to(e);r--;){var s=t[r];e[r]=Uo(s,n)?i[s]:o}return e}(S,u):g&&v>1&&S.reverse(),d&&l<v&&(S.length=l),this&&this!==jt&&this instanceof b&&(O=y||uo(O)),O.apply(x,S)}}function fo(e,t){return function(n,r){return function(e,t,n,r){return $r(e,function(e,i,o){t(r,n(e),i,o)}),r}(n,e,t(r),{})}}function mo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=Ri(n),r=Ri(r)):(n=Di(n),r=Di(r)),i=e(n,r)}return i}}function go(e){return Eo(function(t){return t=Xt(t,bn(Ro())),wi(function(n){var r=this;return e(t,function(e){return Ut(e,r,n)})})})}function bo(e,t){var n=(t=t===o?" ":Ri(t)).length;if(n<2)return n?_i(t,e):t;var r=_i(t,An(e/Mn(t)));return xn(t)?Ki(Pn(r),0,e).join(""):r.slice(0,e)}function vo(e){return function(t,r,i){return i&&"number"!=typeof i&&$o(t,r,i)&&(r=i=o),t=Ba(t),r===o?(r=t,t=0):r=Ba(r),function(e,t,r,i){for(var o=-1,s=Vn(An((t-e)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=e,e+=r;return a}(t,r,i=i===o?t<r?1:-1:Ba(i),e)}}function yo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Wa(t),n=Wa(n)),e(t,n)}}function So(e,t,n,r,i,s,a,c,u,l){var h=t&S;t|=h?w:C,(t&=~(h?C:w))&y||(t&=~(b|v));var d=[e,t,i,h?s:o,h?a:o,h?o:s,h?o:a,c,u,l],p=n.apply(o,d);return Go(e)&&ns(p,d),p.placeholder=r,os(p,e,t)}function _o(e){var t=Xe[e];return function(e,n){if(e=Wa(e),(n=null==n?0:Un(qa(n),292))&&zn(e)){var r=(Va(e)+"e").split("e");return+((r=(Va(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var wo=Xn&&1/En(new Xn([,-0]))[1]==j?function(e){return new Xn(e)}:Dc;function Co(e){return function(t){var n=zo(t);return n==J?On(t):n==ne?Nn(t):function(e,t){return Xt(t,function(t){return[t,e[t]]})}(t,e(t))}}function ko(e,t,r,i,s,a,u,l){var d=t&v;if(!d&&"function"!=typeof e)throw new rt(c);var p=i?i.length:0;if(p||(t&=~(w|C),i=s=o),u=u===o?u:Vn(qa(u),0),l=l===o?l:qa(l),p-=s?s.length:0,t&C){var f=i,m=s;i=s=o}var g=d?o:Po(e),O=[e,t,r,i,s,f,m,a,u,l];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(b|v|k),s=r==k&&n==S||r==k&&n==x&&e[7].length<=t[8]||r==(k|x)&&t[7].length<=t[8]&&n==S;if(!o&&!s)return e;r&b&&(e[2]=t[2],i|=n&b?0:y);var a=t[3];if(a){var c=e[3];e[3]=c?Xi(c,a,t[4]):a,e[4]=c?Tn(e[3],h):t[4]}(a=t[5])&&(c=e[5],e[5]=c?eo(c,a,t[6]):a,e[6]=c?Tn(e[5],h):t[6]),(a=t[7])&&(e[7]=a),r&k&&(e[8]=null==e[8]?t[8]:Un(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(O,g),e=O[0],t=O[1],r=O[2],i=O[3],s=O[4],!(l=O[9]=O[9]===o?d?0:e.length:Vn(O[9]-p,0))&&t&(S|_)&&(t&=~(S|_)),t&&t!=b)I=t==S||t==_?function(e,t,r){var i=uo(e);return function s(){for(var a=arguments.length,c=n(a),u=a,l=Do(s);u--;)c[u]=arguments[u];var h=a<3&&c[0]!==l&&c[a-1]!==l?[]:Tn(c,l);return(a-=h.length)<r?So(e,t,po,s.placeholder,o,c,h,o,o,r-a):Ut(this&&this!==jt&&this instanceof s?i:e,this,c)}}(e,t,l):t!=w&&t!=(b|w)||s.length?po.apply(o,O):function(e,t,r,i){var o=t&b,s=uo(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=i.length,h=n(l+c),d=this&&this!==jt&&this instanceof t?s:e;++u<l;)h[u]=i[u];for(;c--;)h[u++]=arguments[++a];return Ut(d,o?r:this,h)}}(e,t,r,i);else var I=function(e,t,n){var r=t&b,i=uo(e);return function t(){return(this&&this!==jt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return os((g?Oi:ns)(I,O),e,t)}function xo(e,t,n,r){return e===o||da(e,st[n])&&!ut.call(r,n)?t:e}function Oo(e,t,n,r,i,s){return Oa(e)&&Oa(t)&&(s.set(t,e),fi(e,t,o,Oo,s),s.delete(t)),e}function Io(e){return Na(e)?o:e}function To(e,t,n,r,i,s){var a=n&m,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(e);if(l&&s.get(t))return l==t;var h=-1,d=!0,p=n&g?new Sr:o;for(s.set(e,t),s.set(t,e);++h<c;){var f=e[h],b=t[h];if(r)var v=a?r(b,f,h,t,e,s):r(f,b,h,e,t,s);if(v!==o){if(v)continue;d=!1;break}if(p){if(!rn(t,function(e,t){if(!yn(p,t)&&(f===e||i(f,e,n,r,s)))return p.push(t)})){d=!1;break}}else if(f!==b&&!i(f,b,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Eo(e){return is(Xo(e,o,bs),e+"")}function No(e){return Jr(e,rc,Bo)}function Mo(e){return Jr(e,ic,qo)}var Po=nr?function(e){return nr.get(e)}:Dc;function jo(e){for(var t=e.name+"",n=rr[t],r=ut.call(rr,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Do(e){return(ut.call(dr,"placeholder")?dr:e).placeholder}function Ro(){var e=dr.iteratee||Nc;return e=e===Nc?ai:e,arguments.length?e(arguments[0],arguments[1]):e}function Lo(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ao(e){for(var t=rc(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Qo(i)]}return t}function Fo(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return si(n)?n:o}var Bo=Bn?function(e){return null==e?[]:(e=et(e),Jt(Bn(e),function(t){return Pt.call(e,t)}))}:zc,qo=Bn?function(e){for(var t=[];e;)en(t,Bo(e)),e=Tt(e);return t}:zc,zo=Qr;function Wo(e,t,n){for(var r=-1,i=(t=Ui(t,e)).length,o=!1;++r<i;){var s=us(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&xa(i)&&Uo(s,i)&&(ga(e)||ma(e))}function Ho(e){return"function"!=typeof e.constructor||Jo(e)?{}:pr(Tt(e))}function Vo(e){return ga(e)||ma(e)||!!(Rt&&e&&e[Rt])}function Uo(e,t){var n=typeof e;return!!(t=null==t?D:t)&&("number"==n||"symbol"!=n&&Ge.test(e))&&e>-1&&e%1==0&&e<t}function $o(e,t,n){if(!Oa(n))return!1;var r=typeof t;return!!("number"==r?va(n)&&Uo(t,n.length):"string"==r&&t in n)&&da(n[t],e)}function Ko(e,t){if(ga(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Da(e))||Ne.test(e)||!Ee.test(e)||null!=t&&e in et(t)}function Go(e){var t=jo(e),n=dr[t];if("function"!=typeof n||!(t in gr.prototype))return!1;if(e===n)return!0;var r=Po(n);return!!r&&e===r[0]}(Jn&&zo(new Jn(new ArrayBuffer(1)))!=ue||Qn&&zo(new Qn)!=J||Zn&&"[object Promise]"!=zo(Zn.resolve())||Xn&&zo(new Xn)!=ne||er&&zo(new er)!=se)&&(zo=function(e){var t=Qr(e),n=t==X?e.constructor:o,r=n?ls(n):"";if(r)switch(r){case ir:return ue;case or:return J;case sr:return"[object Promise]";case ar:return ne;case cr:return se}return t});var Yo=at?Ca:Wc;function Jo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||st)}function Qo(e){return e===e&&!Oa(e)}function Zo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in et(n))}}function Xo(e,t,r){return t=Vn(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=Vn(i.length-t,0),a=n(s);++o<s;)a[o]=i[t+o];o=-1;for(var c=n(t+1);++o<t;)c[o]=i[o];return c[t]=r(a),Ut(e,this,c)}}function es(e,t){return t.length<2?e:Yr(e,Ei(t,0,-1))}function ts(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var ns=ss(Oi),rs=Ln||function(e,t){return jt.setTimeout(e,t)},is=ss(Ii);function os(e,t,n){var r=t+"";return is(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ae,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Kt(q,function(n){var r="_."+n[0];t&n[1]&&!Qt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(Fe);return t?t[1].split(Be):[]}(r),n)))}function ss(e){var t=0,n=0;return function(){var r=$n(),i=N-(r-n);if(n=r,i>0){if(++t>=E)return arguments[0]}else t=0;return e.apply(o,arguments)}}function as(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var s=Si(n,i),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var cs=function(e){var t=sa(e,function(e){return n.size===l&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Me,function(e,n,r,i){t.push(r?i.replace(ze,"$1"):n||e)}),t});function us(e){if("string"==typeof e||Da(e))return e;var t=e+"";return"0"==t&&1/e==-j?"-0":t}function ls(e){if(null!=e){try{return ct.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function hs(e){if(e instanceof gr)return e.clone();var t=new mr(e.__wrapped__,e.__chain__);return t.__actions__=to(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ds=wi(function(e,t){return ya(e)?Ar(e,Hr(t,1,ya,!0)):[]}),ps=wi(function(e,t){var n=ws(t);return ya(n)&&(n=o),ya(e)?Ar(e,Hr(t,1,ya,!0),Ro(n,2)):[]}),fs=wi(function(e,t){var n=ws(t);return ya(n)&&(n=o),ya(e)?Ar(e,Hr(t,1,ya,!0),o,n):[]});function ms(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:qa(n);return i<0&&(i=Vn(r+i,0)),an(e,Ro(t,3),i)}function gs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=qa(n),i=n<0?Vn(r+i,0):Un(i,r-1)),an(e,Ro(t,3),i,!0)}function bs(e){return null!=e&&e.length?Hr(e,1):[]}function vs(e){return e&&e.length?e[0]:o}var ys=wi(function(e){var t=Xt(e,Hi);return t.length&&t[0]===e[0]?ti(t):[]}),Ss=wi(function(e){var t=ws(e),n=Xt(e,Hi);return t===ws(n)?t=o:n.pop(),n.length&&n[0]===e[0]?ti(n,Ro(t,2)):[]}),_s=wi(function(e){var t=ws(e),n=Xt(e,Hi);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?ti(n,o,t):[]});function ws(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Cs=wi(ks);function ks(e,t){return e&&e.length&&t&&t.length?vi(e,t):e}var xs=Eo(function(e,t){var n=null==e?0:e.length,r=Pr(e,t);return yi(e,Xt(t,function(e){return Uo(e,n)?+e:e}).sort(Zi)),r});function Os(e){return null==e?e:Yn.call(e)}var Is=wi(function(e){return Li(Hr(e,1,ya,!0))}),Ts=wi(function(e){var t=ws(e);return ya(t)&&(t=o),Li(Hr(e,1,ya,!0),Ro(t,2))}),Es=wi(function(e){var t=ws(e);return t="function"==typeof t?t:o,Li(Hr(e,1,ya,!0),o,t)});function Ns(e){if(!e||!e.length)return[];var t=0;return e=Jt(e,function(e){if(ya(e))return t=Vn(e.length,t),!0}),gn(t,function(t){return Xt(e,dn(t))})}function Ms(e,t){if(!e||!e.length)return[];var n=Ns(e);return null==t?n:Xt(n,function(e){return Ut(t,o,e)})}var Ps=wi(function(e,t){return ya(e)?Ar(e,t):[]}),js=wi(function(e){return zi(Jt(e,ya))}),Ds=wi(function(e){var t=ws(e);return ya(t)&&(t=o),zi(Jt(e,ya),Ro(t,2))}),Rs=wi(function(e){var t=ws(e);return t="function"==typeof t?t:o,zi(Jt(e,ya),o,t)}),Ls=wi(Ns);var As=wi(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,Ms(e,n)});function Fs(e){var t=dr(e);return t.__chain__=!0,t}function Bs(e,t){return t(e)}var qs=Eo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Pr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof gr&&Uo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Bs,args:[i],thisArg:o}),new mr(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)});var zs=ro(function(e,t,n){ut.call(e,n)?++e[n]:Mr(e,n,1)});var Ws=lo(ms),Hs=lo(gs);function Vs(e,t){return(ga(e)?Kt:Fr)(e,Ro(t,3))}function Us(e,t){return(ga(e)?Gt:Br)(e,Ro(t,3))}var $s=ro(function(e,t,n){ut.call(e,n)?e[n].push(t):Mr(e,n,[t])});var Ks=wi(function(e,t,r){var i=-1,o="function"==typeof t,s=va(e)?n(e.length):[];return Fr(e,function(e){s[++i]=o?Ut(t,e,r):ni(e,t,r)}),s}),Gs=ro(function(e,t,n){Mr(e,n,t)});function Ys(e,t){return(ga(e)?Xt:hi)(e,Ro(t,3))}var Js=ro(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Qs=wi(function(e,t){if(null==e)return[];var n=t.length;return n>1&&$o(e,t[0],t[1])?t=[]:n>2&&$o(t[0],t[1],t[2])&&(t=[t[0]]),gi(e,Hr(t,1),[])}),Zs=Rn||function(){return jt.Date.now()};function Xs(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,ko(e,k,o,o,o,o,t)}function ea(e,t){var n;if("function"!=typeof t)throw new rt(c);return e=qa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var ta=wi(function(e,t,n){var r=b;if(n.length){var i=Tn(n,Do(ta));r|=w}return ko(e,r,t,n,i)}),na=wi(function(e,t,n){var r=b|v;if(n.length){var i=Tn(n,Do(na));r|=w}return ko(t,r,e,n,i)});function ra(e,t,n){var r,i,s,a,u,l,h=0,d=!1,p=!1,f=!0;if("function"!=typeof e)throw new rt(c);function m(t){var n=r,s=i;return r=i=o,h=t,a=e.apply(s,n)}function g(e){var n=e-l;return l===o||n>=t||n<0||p&&e-h>=s}function b(){var e=Zs();if(g(e))return v(e);u=rs(b,function(e){var n=t-(e-l);return p?Un(n,s-(e-h)):n}(e))}function v(e){return u=o,f&&r?m(e):(r=i=o,a)}function y(){var e=Zs(),n=g(e);if(r=arguments,i=this,l=e,n){if(u===o)return function(e){return h=e,u=rs(b,t),d?m(e):a}(l);if(p)return Gi(u),u=rs(b,t),m(l)}return u===o&&(u=rs(b,t)),a}return t=Wa(t)||0,Oa(n)&&(d=!!n.leading,s=(p="maxWait"in n)?Vn(Wa(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f),y.cancel=function(){u!==o&&Gi(u),h=0,r=l=i=u=o},y.flush=function(){return u===o?a:v(Zs())},y}var ia=wi(function(e,t){return Lr(e,1,t)}),oa=wi(function(e,t,n){return Lr(e,Wa(t)||0,n)});function sa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new rt(c);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(sa.Cache||yr),n}function aa(e){if("function"!=typeof e)throw new rt(c);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}sa.Cache=yr;var ca=$i(function(e,t){var n=(t=1==t.length&&ga(t[0])?Xt(t[0],bn(Ro())):Xt(Hr(t,1),bn(Ro()))).length;return wi(function(r){for(var i=-1,o=Un(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Ut(e,this,r)})}),ua=wi(function(e,t){var n=Tn(t,Do(ua));return ko(e,w,o,t,n)}),la=wi(function(e,t){var n=Tn(t,Do(la));return ko(e,C,o,t,n)}),ha=Eo(function(e,t){return ko(e,x,o,o,o,t)});function da(e,t){return e===t||e!==e&&t!==t}var pa=yo(Zr),fa=yo(function(e,t){return e>=t}),ma=ri(function(){return arguments}())?ri:function(e){return Ia(e)&&ut.call(e,"callee")&&!Pt.call(e,"callee")},ga=n.isArray,ba=Bt?bn(Bt):function(e){return Ia(e)&&Qr(e)==ce};function va(e){return null!=e&&xa(e.length)&&!Ca(e)}function ya(e){return Ia(e)&&va(e)}var Sa=qn||Wc,_a=qt?bn(qt):function(e){return Ia(e)&&Qr(e)==U};function wa(e){if(!Ia(e))return!1;var t=Qr(e);return t==K||t==$||"string"==typeof e.message&&"string"==typeof e.name&&!Na(e)}function Ca(e){if(!Oa(e))return!1;var t=Qr(e);return t==G||t==Y||t==H||t==ee}function ka(e){return"number"==typeof e&&e==qa(e)}function xa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=D}function Oa(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ia(e){return null!=e&&"object"==typeof e}var Ta=zt?bn(zt):function(e){return Ia(e)&&zo(e)==J};function Ea(e){return"number"==typeof e||Ia(e)&&Qr(e)==Q}function Na(e){if(!Ia(e)||Qr(e)!=X)return!1;var t=Tt(e);if(null===t)return!0;var n=ut.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ct.call(n)==pt}var Ma=Wt?bn(Wt):function(e){return Ia(e)&&Qr(e)==te};var Pa=Ht?bn(Ht):function(e){return Ia(e)&&zo(e)==ne};function ja(e){return"string"==typeof e||!ga(e)&&Ia(e)&&Qr(e)==re}function Da(e){return"symbol"==typeof e||Ia(e)&&Qr(e)==ie}var Ra=Vt?bn(Vt):function(e){return Ia(e)&&xa(e.length)&&!!Ot[Qr(e)]};var La=yo(li),Aa=yo(function(e,t){return e<=t});function Fa(e){if(!e)return[];if(va(e))return ja(e)?Pn(e):to(e);if(At&&e[At])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[At]());var t=zo(e);return(t==J?On:t==ne?En:dc)(e)}function Ba(e){return e?(e=Wa(e))===j||e===-j?(e<0?-1:1)*R:e===e?e:0:0===e?e:0}function qa(e){var t=Ba(e),n=t%1;return t===t?n?t-n:t:0}function za(e){return e?jr(qa(e),0,A):0}function Wa(e){if("number"==typeof e)return e;if(Da(e))return L;if(Oa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Oa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(De,"");var n=Ue.test(e);return n||Ke.test(e)?Nt(e.slice(2),n?2:8):Ve.test(e)?L:+e}function Ha(e){return no(e,ic(e))}function Va(e){return null==e?"":Ri(e)}var Ua=io(function(e,t){if(Jo(t)||va(t))no(t,rc(t),e);else for(var n in t)ut.call(t,n)&&Ir(e,n,t[n])}),$a=io(function(e,t){no(t,ic(t),e)}),Ka=io(function(e,t,n,r){no(t,ic(t),e,r)}),Ga=io(function(e,t,n,r){no(t,rc(t),e,r)}),Ya=Eo(Pr);var Ja=wi(function(e,t){e=et(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&$o(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],a=ic(s),c=-1,u=a.length;++c<u;){var l=a[c],h=e[l];(h===o||da(h,st[l])&&!ut.call(e,l))&&(e[l]=s[l])}return e}),Qa=wi(function(e){return e.push(o,Oo),Ut(sc,o,e)});function Za(e,t,n){var r=null==e?o:Yr(e,t);return r===o?n:r}function Xa(e,t){return null!=e&&Wo(e,t,ei)}var ec=fo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),e[t]=n},Oc(Ec)),tc=fo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=dt.call(t)),ut.call(e,t)?e[t].push(n):e[t]=[n]},Ro),nc=wi(ni);function rc(e){return va(e)?wr(e):ci(e)}function ic(e){return va(e)?wr(e,!0):ui(e)}var oc=io(function(e,t,n){fi(e,t,n)}),sc=io(function(e,t,n,r){fi(e,t,n,r)}),ac=Eo(function(e,t){var n={};if(null==e)return n;var r=!1;t=Xt(t,function(t){return t=Ui(t,e),r||(r=t.length>1),t}),no(e,Mo(e),n),r&&(n=Dr(n,d|p|f,Io));for(var i=t.length;i--;)Ai(n,t[i]);return n});var cc=Eo(function(e,t){return null==e?{}:function(e,t){return bi(e,t,function(t,n){return Xa(e,n)})}(e,t)});function uc(e,t){if(null==e)return{};var n=Xt(Mo(e),function(e){return[e]});return t=Ro(t),bi(e,n,function(e,n){return t(e,n[0])})}var lc=Co(rc),hc=Co(ic);function dc(e){return null==e?[]:vn(e,rc(e))}var pc=co(function(e,t,n){return t=t.toLowerCase(),e+(n?fc(t):t)});function fc(e){return wc(Va(e).toLowerCase())}function mc(e){return(e=Va(e))&&e.replace(Ye,wn).replace(yt,"")}var gc=co(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),bc=co(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),vc=ao("toLowerCase");var yc=co(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Sc=co(function(e,t,n){return e+(n?" ":"")+wc(t)});var _c=co(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),wc=ao("toUpperCase");function Cc(e,t,n){return e=Va(e),(t=n?o:t)===o?function(e){return Ct.test(e)}(e)?function(e){return e.match(_t)||[]}(e):function(e){return e.match(qe)||[]}(e):e.match(t)||[]}var kc=wi(function(e,t){try{return Ut(e,o,t)}catch(n){return wa(n)?n:new i(n)}}),xc=Eo(function(e,t){return Kt(t,function(t){t=us(t),Mr(e,t,ta(e[t],e))}),e});function Oc(e){return function(){return e}}var Ic=ho(),Tc=ho(!0);function Ec(e){return e}function Nc(e){return ai("function"==typeof e?e:Dr(e,d))}var Mc=wi(function(e,t){return function(n){return ni(n,e,t)}}),Pc=wi(function(e,t){return function(n){return ni(e,n,t)}});function jc(e,t,n){var r=rc(t),i=Gr(t,r);null!=n||Oa(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Gr(t,rc(t)));var o=!(Oa(n)&&"chain"in n)||!!n.chain,s=Ca(e);return Kt(i,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=to(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,en([this.value()],arguments))})}),e}function Dc(){}var Rc=go(Xt),Lc=go(Yt),Ac=go(rn);function Fc(e){return Ko(e)?dn(us(e)):function(e){return function(t){return Yr(t,e)}}(e)}var Bc=vo(),qc=vo(!0);function zc(){return[]}function Wc(){return!1}var Hc=mo(function(e,t){return e+t},0),Vc=_o("ceil"),Uc=mo(function(e,t){return e/t},1),$c=_o("floor");var Kc=mo(function(e,t){return e*t},1),Gc=_o("round"),Yc=mo(function(e,t){return e-t},0);return dr.after=function(e,t){if("function"!=typeof t)throw new rt(c);return e=qa(e),function(){if(--e<1)return t.apply(this,arguments)}},dr.ary=Xs,dr.assign=Ua,dr.assignIn=$a,dr.assignInWith=Ka,dr.assignWith=Ga,dr.at=Ya,dr.before=ea,dr.bind=ta,dr.bindAll=xc,dr.bindKey=na,dr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ga(e)?e:[e]},dr.chain=Fs,dr.chunk=function(e,t,r){t=(r?$o(e,t,r):t===o)?1:Vn(qa(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,a=0,c=n(An(i/t));s<i;)c[a++]=Ei(e,s,s+=t);return c},dr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},dr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return en(ga(r)?to(r):[r],Hr(t,1))},dr.cond=function(e){var t=null==e?0:e.length,n=Ro();return e=t?Xt(e,function(e){if("function"!=typeof e[1])throw new rt(c);return[n(e[0]),e[1]]}):[],wi(function(n){for(var r=-1;++r<t;){var i=e[r];if(Ut(i[0],this,n))return Ut(i[1],this,n)}})},dr.conforms=function(e){return function(e){var t=rc(e);return function(n){return Rr(n,e,t)}}(Dr(e,d))},dr.constant=Oc,dr.countBy=zs,dr.create=function(e,t){var n=pr(e);return null==t?n:Nr(n,t)},dr.curry=function e(t,n,r){var i=ko(t,S,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},dr.curryRight=function e(t,n,r){var i=ko(t,_,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},dr.debounce=ra,dr.defaults=Ja,dr.defaultsDeep=Qa,dr.defer=ia,dr.delay=oa,dr.difference=ds,dr.differenceBy=ps,dr.differenceWith=fs,dr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Ei(e,(t=n||t===o?1:qa(t))<0?0:t,r):[]},dr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Ei(e,0,(t=r-(t=n||t===o?1:qa(t)))<0?0:t):[]},dr.dropRightWhile=function(e,t){return e&&e.length?Bi(e,Ro(t,3),!0,!0):[]},dr.dropWhile=function(e,t){return e&&e.length?Bi(e,Ro(t,3),!0):[]},dr.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&$o(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=qa(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:qa(r))<0&&(r+=i),r=n>r?0:za(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},dr.filter=function(e,t){return(ga(e)?Jt:Wr)(e,Ro(t,3))},dr.flatMap=function(e,t){return Hr(Ys(e,t),1)},dr.flatMapDeep=function(e,t){return Hr(Ys(e,t),j)},dr.flatMapDepth=function(e,t,n){return n=n===o?1:qa(n),Hr(Ys(e,t),n)},dr.flatten=bs,dr.flattenDeep=function(e){return null!=e&&e.length?Hr(e,j):[]},dr.flattenDepth=function(e,t){return null!=e&&e.length?Hr(e,t=t===o?1:qa(t)):[]},dr.flip=function(e){return ko(e,O)},dr.flow=Ic,dr.flowRight=Tc,dr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},dr.functions=function(e){return null==e?[]:Gr(e,rc(e))},dr.functionsIn=function(e){return null==e?[]:Gr(e,ic(e))},dr.groupBy=$s,dr.initial=function(e){return null!=e&&e.length?Ei(e,0,-1):[]},dr.intersection=ys,dr.intersectionBy=Ss,dr.intersectionWith=_s,dr.invert=ec,dr.invertBy=tc,dr.invokeMap=Ks,dr.iteratee=Nc,dr.keyBy=Gs,dr.keys=rc,dr.keysIn=ic,dr.map=Ys,dr.mapKeys=function(e,t){var n={};return t=Ro(t,3),$r(e,function(e,r,i){Mr(n,t(e,r,i),e)}),n},dr.mapValues=function(e,t){var n={};return t=Ro(t,3),$r(e,function(e,r,i){Mr(n,r,t(e,r,i))}),n},dr.matches=function(e){return di(Dr(e,d))},dr.matchesProperty=function(e,t){return pi(e,Dr(t,d))},dr.memoize=sa,dr.merge=oc,dr.mergeWith=sc,dr.method=Mc,dr.methodOf=Pc,dr.mixin=jc,dr.negate=aa,dr.nthArg=function(e){return e=qa(e),wi(function(t){return mi(t,e)})},dr.omit=ac,dr.omitBy=function(e,t){return uc(e,aa(Ro(t)))},dr.once=function(e){return ea(2,e)},dr.orderBy=function(e,t,n,r){return null==e?[]:(ga(t)||(t=null==t?[]:[t]),ga(n=r?o:n)||(n=null==n?[]:[n]),gi(e,t,n))},dr.over=Rc,dr.overArgs=ca,dr.overEvery=Lc,dr.overSome=Ac,dr.partial=ua,dr.partialRight=la,dr.partition=Js,dr.pick=cc,dr.pickBy=uc,dr.property=Fc,dr.propertyOf=function(e){return function(t){return null==e?o:Yr(e,t)}},dr.pull=Cs,dr.pullAll=ks,dr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?vi(e,t,Ro(n,2)):e},dr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?vi(e,t,o,n):e},dr.pullAt=xs,dr.range=Bc,dr.rangeRight=qc,dr.rearg=ha,dr.reject=function(e,t){return(ga(e)?Jt:Wr)(e,aa(Ro(t,3)))},dr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Ro(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return yi(e,i),n},dr.rest=function(e,t){if("function"!=typeof e)throw new rt(c);return wi(e,t=t===o?t:qa(t))},dr.reverse=Os,dr.sampleSize=function(e,t,n){return t=(n?$o(e,t,n):t===o)?1:qa(t),(ga(e)?kr:ki)(e,t)},dr.set=function(e,t,n){return null==e?e:xi(e,t,n)},dr.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:xi(e,t,n,r)},dr.shuffle=function(e){return(ga(e)?xr:Ti)(e)},dr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&$o(e,t,n)?(t=0,n=r):(t=null==t?0:qa(t),n=n===o?r:qa(n)),Ei(e,t,n)):[]},dr.sortBy=Qs,dr.sortedUniq=function(e){return e&&e.length?ji(e):[]},dr.sortedUniqBy=function(e,t){return e&&e.length?ji(e,Ro(t,2)):[]},dr.split=function(e,t,n){return n&&"number"!=typeof n&&$o(e,t,n)&&(t=n=o),(n=n===o?A:n>>>0)?(e=Va(e))&&("string"==typeof t||null!=t&&!Ma(t))&&!(t=Ri(t))&&xn(e)?Ki(Pn(e),0,n):e.split(t,n):[]},dr.spread=function(e,t){if("function"!=typeof e)throw new rt(c);return t=null==t?0:Vn(qa(t),0),wi(function(n){var r=n[t],i=Ki(n,0,t);return r&&en(i,r),Ut(e,this,i)})},dr.tail=function(e){var t=null==e?0:e.length;return t?Ei(e,1,t):[]},dr.take=function(e,t,n){return e&&e.length?Ei(e,0,(t=n||t===o?1:qa(t))<0?0:t):[]},dr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Ei(e,(t=r-(t=n||t===o?1:qa(t)))<0?0:t,r):[]},dr.takeRightWhile=function(e,t){return e&&e.length?Bi(e,Ro(t,3),!1,!0):[]},dr.takeWhile=function(e,t){return e&&e.length?Bi(e,Ro(t,3)):[]},dr.tap=function(e,t){return t(e),e},dr.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new rt(c);return Oa(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ra(e,t,{leading:r,maxWait:t,trailing:i})},dr.thru=Bs,dr.toArray=Fa,dr.toPairs=lc,dr.toPairsIn=hc,dr.toPath=function(e){return ga(e)?Xt(e,us):Da(e)?[e]:to(cs(Va(e)))},dr.toPlainObject=Ha,dr.transform=function(e,t,n){var r=ga(e),i=r||Sa(e)||Ra(e);if(t=Ro(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Oa(e)&&Ca(o)?pr(Tt(e)):{}}return(i?Kt:$r)(e,function(e,r,i){return t(n,e,r,i)}),n},dr.unary=function(e){return Xs(e,1)},dr.union=Is,dr.unionBy=Ts,dr.unionWith=Es,dr.uniq=function(e){return e&&e.length?Li(e):[]},dr.uniqBy=function(e,t){return e&&e.length?Li(e,Ro(t,2)):[]},dr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?Li(e,o,t):[]},dr.unset=function(e,t){return null==e||Ai(e,t)},dr.unzip=Ns,dr.unzipWith=Ms,dr.update=function(e,t,n){return null==e?e:Fi(e,t,Vi(n))},dr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Fi(e,t,Vi(n),r)},dr.values=dc,dr.valuesIn=function(e){return null==e?[]:vn(e,ic(e))},dr.without=Ps,dr.words=Cc,dr.wrap=function(e,t){return ua(Vi(t),e)},dr.xor=js,dr.xorBy=Ds,dr.xorWith=Rs,dr.zip=Ls,dr.zipObject=function(e,t){return Wi(e||[],t||[],Ir)},dr.zipObjectDeep=function(e,t){return Wi(e||[],t||[],xi)},dr.zipWith=As,dr.entries=lc,dr.entriesIn=hc,dr.extend=$a,dr.extendWith=Ka,jc(dr,dr),dr.add=Hc,dr.attempt=kc,dr.camelCase=pc,dr.capitalize=fc,dr.ceil=Vc,dr.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=Wa(n))===n?n:0),t!==o&&(t=(t=Wa(t))===t?t:0),jr(Wa(e),t,n)},dr.clone=function(e){return Dr(e,f)},dr.cloneDeep=function(e){return Dr(e,d|f)},dr.cloneDeepWith=function(e,t){return Dr(e,d|f,t="function"==typeof t?t:o)},dr.cloneWith=function(e,t){return Dr(e,f,t="function"==typeof t?t:o)},dr.conformsTo=function(e,t){return null==t||Rr(e,t,rc(t))},dr.deburr=mc,dr.defaultTo=function(e,t){return null==e||e!==e?t:e},dr.divide=Uc,dr.endsWith=function(e,t,n){e=Va(e),t=Ri(t);var r=e.length,i=n=n===o?r:jr(qa(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},dr.eq=da,dr.escape=function(e){return(e=Va(e))&&xe.test(e)?e.replace(Ce,Cn):e},dr.escapeRegExp=function(e){return(e=Va(e))&&je.test(e)?e.replace(Pe,"\\$&"):e},dr.every=function(e,t,n){var r=ga(e)?Yt:qr;return n&&$o(e,t,n)&&(t=o),r(e,Ro(t,3))},dr.find=Ws,dr.findIndex=ms,dr.findKey=function(e,t){return sn(e,Ro(t,3),$r)},dr.findLast=Hs,dr.findLastIndex=gs,dr.findLastKey=function(e,t){return sn(e,Ro(t,3),Kr)},dr.floor=$c,dr.forEach=Vs,dr.forEachRight=Us,dr.forIn=function(e,t){return null==e?e:Vr(e,Ro(t,3),ic)},dr.forInRight=function(e,t){return null==e?e:Ur(e,Ro(t,3),ic)},dr.forOwn=function(e,t){return e&&$r(e,Ro(t,3))},dr.forOwnRight=function(e,t){return e&&Kr(e,Ro(t,3))},dr.get=Za,dr.gt=pa,dr.gte=fa,dr.has=function(e,t){return null!=e&&Wo(e,t,Xr)},dr.hasIn=Xa,dr.head=vs,dr.identity=Ec,dr.includes=function(e,t,n,r){e=va(e)?e:dc(e),n=n&&!r?qa(n):0;var i=e.length;return n<0&&(n=Vn(i+n,0)),ja(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&cn(e,t,n)>-1},dr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:qa(n);return i<0&&(i=Vn(r+i,0)),cn(e,t,i)},dr.inRange=function(e,t,n){return t=Ba(t),n===o?(n=t,t=0):n=Ba(n),function(e,t,n){return e>=Un(t,n)&&e<Vn(t,n)}(e=Wa(e),t,n)},dr.invoke=nc,dr.isArguments=ma,dr.isArray=ga,dr.isArrayBuffer=ba,dr.isArrayLike=va,dr.isArrayLikeObject=ya,dr.isBoolean=function(e){return!0===e||!1===e||Ia(e)&&Qr(e)==V},dr.isBuffer=Sa,dr.isDate=_a,dr.isElement=function(e){return Ia(e)&&1===e.nodeType&&!Na(e)},dr.isEmpty=function(e){if(null==e)return!0;if(va(e)&&(ga(e)||"string"==typeof e||"function"==typeof e.splice||Sa(e)||Ra(e)||ma(e)))return!e.length;var t=zo(e);if(t==J||t==ne)return!e.size;if(Jo(e))return!ci(e).length;for(var n in e)if(ut.call(e,n))return!1;return!0},dr.isEqual=function(e,t){return ii(e,t)},dr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?ii(e,t,o,n):!!r},dr.isError=wa,dr.isFinite=function(e){return"number"==typeof e&&zn(e)},dr.isFunction=Ca,dr.isInteger=ka,dr.isLength=xa,dr.isMap=Ta,dr.isMatch=function(e,t){return e===t||oi(e,t,Ao(t))},dr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,oi(e,t,Ao(t),n)},dr.isNaN=function(e){return Ea(e)&&e!=+e},dr.isNative=function(e){if(Yo(e))throw new i(a);return si(e)},dr.isNil=function(e){return null==e},dr.isNull=function(e){return null===e},dr.isNumber=Ea,dr.isObject=Oa,dr.isObjectLike=Ia,dr.isPlainObject=Na,dr.isRegExp=Ma,dr.isSafeInteger=function(e){return ka(e)&&e>=-D&&e<=D},dr.isSet=Pa,dr.isString=ja,dr.isSymbol=Da,dr.isTypedArray=Ra,dr.isUndefined=function(e){return e===o},dr.isWeakMap=function(e){return Ia(e)&&zo(e)==se},dr.isWeakSet=function(e){return Ia(e)&&Qr(e)==ae},dr.join=function(e,t){return null==e?"":Wn.call(e,t)},dr.kebabCase=gc,dr.last=ws,dr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=qa(n))<0?Vn(r+i,0):Un(i,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):an(e,ln,i,!0)},dr.lowerCase=bc,dr.lowerFirst=vc,dr.lt=La,dr.lte=Aa,dr.max=function(e){return e&&e.length?zr(e,Ec,Zr):o},dr.maxBy=function(e,t){return e&&e.length?zr(e,Ro(t,2),Zr):o},dr.mean=function(e){return hn(e,Ec)},dr.meanBy=function(e,t){return hn(e,Ro(t,2))},dr.min=function(e){return e&&e.length?zr(e,Ec,li):o},dr.minBy=function(e,t){return e&&e.length?zr(e,Ro(t,2),li):o},dr.stubArray=zc,dr.stubFalse=Wc,dr.stubObject=function(){return{}},dr.stubString=function(){return""},dr.stubTrue=function(){return!0},dr.multiply=Kc,dr.nth=function(e,t){return e&&e.length?mi(e,qa(t)):o},dr.noConflict=function(){return jt._===this&&(jt._=ft),this},dr.noop=Dc,dr.now=Zs,dr.pad=function(e,t,n){e=Va(e);var r=(t=qa(t))?Mn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return bo(Fn(i),n)+e+bo(An(i),n)},dr.padEnd=function(e,t,n){e=Va(e);var r=(t=qa(t))?Mn(e):0;return t&&r<t?e+bo(t-r,n):e},dr.padStart=function(e,t,n){e=Va(e);var r=(t=qa(t))?Mn(e):0;return t&&r<t?bo(t-r,n)+e:e},dr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Kn(Va(e).replace(Re,""),t||0)},dr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&$o(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Ba(e),t===o?(t=e,e=0):t=Ba(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Gn();return Un(e+i*(t-e+Et("1e-"+((i+"").length-1))),t)}return Si(e,t)},dr.reduce=function(e,t,n){var r=ga(e)?tn:fn,i=arguments.length<3;return r(e,Ro(t,4),n,i,Fr)},dr.reduceRight=function(e,t,n){var r=ga(e)?nn:fn,i=arguments.length<3;return r(e,Ro(t,4),n,i,Br)},dr.repeat=function(e,t,n){return t=(n?$o(e,t,n):t===o)?1:qa(t),_i(Va(e),t)},dr.replace=function(){var e=arguments,t=Va(e[0]);return e.length<3?t:t.replace(e[1],e[2])},dr.result=function(e,t,n){var r=-1,i=(t=Ui(t,e)).length;for(i||(i=1,e=o);++r<i;){var s=null==e?o:e[us(t[r])];s===o&&(r=i,s=n),e=Ca(s)?s.call(e):s}return e},dr.round=Gc,dr.runInContext=e,dr.sample=function(e){return(ga(e)?Cr:Ci)(e)},dr.size=function(e){if(null==e)return 0;if(va(e))return ja(e)?Mn(e):e.length;var t=zo(e);return t==J||t==ne?e.size:ci(e).length},dr.snakeCase=yc,dr.some=function(e,t,n){var r=ga(e)?rn:Ni;return n&&$o(e,t,n)&&(t=o),r(e,Ro(t,3))},dr.sortedIndex=function(e,t){return Mi(e,t)},dr.sortedIndexBy=function(e,t,n){return Pi(e,t,Ro(n,2))},dr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Mi(e,t);if(r<n&&da(e[r],t))return r}return-1},dr.sortedLastIndex=function(e,t){return Mi(e,t,!0)},dr.sortedLastIndexBy=function(e,t,n){return Pi(e,t,Ro(n,2),!0)},dr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Mi(e,t,!0)-1;if(da(e[n],t))return n}return-1},dr.startCase=Sc,dr.startsWith=function(e,t,n){return e=Va(e),n=null==n?0:jr(qa(n),0,e.length),t=Ri(t),e.slice(n,n+t.length)==t},dr.subtract=Yc,dr.sum=function(e){return e&&e.length?mn(e,Ec):0},dr.sumBy=function(e,t){return e&&e.length?mn(e,Ro(t,2)):0},dr.template=function(e,t,n){var r=dr.templateSettings;n&&$o(e,t,n)&&(t=o),e=Va(e),t=Ka({},t,r,xo);var i,s,a=Ka({},t.imports,r.imports,xo),c=rc(a),u=vn(a,c),l=0,h=t.interpolate||Je,d="__p += '",p=tt((t.escape||Je).source+"|"+h.source+"|"+(h===Te?We:Je).source+"|"+(t.evaluate||Je).source+"|$","g"),f="//# sourceURL="+(ut.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++xt+"]")+"\n";e.replace(p,function(t,n,r,o,a,c){return r||(r=o),d+=e.slice(l,c).replace(Qe,kn),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t}),d+="';\n";var m=ut.call(t,"variable")&&t.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(ye,""):d).replace(Se,"$1").replace(_e,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=kc(function(){return Ze(c,f+"return "+d).apply(o,u)});if(g.source=d,wa(g))throw g;return g},dr.times=function(e,t){if((e=qa(e))<1||e>D)return[];var n=A,r=Un(e,A);t=Ro(t),e-=A;for(var i=gn(r,t);++n<e;)t(n);return i},dr.toFinite=Ba,dr.toInteger=qa,dr.toLength=za,dr.toLower=function(e){return Va(e).toLowerCase()},dr.toNumber=Wa,dr.toSafeInteger=function(e){return e?jr(qa(e),-D,D):0===e?e:0},dr.toString=Va,dr.toUpper=function(e){return Va(e).toUpperCase()},dr.trim=function(e,t,n){if((e=Va(e))&&(n||t===o))return e.replace(De,"");if(!e||!(t=Ri(t)))return e;var r=Pn(e),i=Pn(t);return Ki(r,Sn(r,i),_n(r,i)+1).join("")},dr.trimEnd=function(e,t,n){if((e=Va(e))&&(n||t===o))return e.replace(Le,"");if(!e||!(t=Ri(t)))return e;var r=Pn(e);return Ki(r,0,_n(r,Pn(t))+1).join("")},dr.trimStart=function(e,t,n){if((e=Va(e))&&(n||t===o))return e.replace(Re,"");if(!e||!(t=Ri(t)))return e;var r=Pn(e);return Ki(r,Sn(r,Pn(t))).join("")},dr.truncate=function(e,t){var n=I,r=T;if(Oa(t)){var i="separator"in t?t.separator:i;n="length"in t?qa(t.length):n,r="omission"in t?Ri(t.omission):r}var s=(e=Va(e)).length;if(xn(e)){var a=Pn(e);s=a.length}if(n>=s)return e;var c=n-Mn(r);if(c<1)return r;var u=a?Ki(a,0,c).join(""):e.slice(0,c);if(i===o)return u+r;if(a&&(c+=u.length-c),Ma(i)){if(e.slice(c).search(i)){var l,h=u;for(i.global||(i=tt(i.source,Va(He.exec(i))+"g")),i.lastIndex=0;l=i.exec(h);)var d=l.index;u=u.slice(0,d===o?c:d)}}else if(e.indexOf(Ri(i),c)!=c){var p=u.lastIndexOf(i);p>-1&&(u=u.slice(0,p))}return u+r},dr.unescape=function(e){return(e=Va(e))&&ke.test(e)?e.replace(we,jn):e},dr.uniqueId=function(e){var t=++lt;return Va(e)+t},dr.upperCase=_c,dr.upperFirst=wc,dr.each=Vs,dr.eachRight=Us,dr.first=vs,jc(dr,function(){var e={};return $r(dr,function(t,n){ut.call(dr.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),dr.VERSION="4.17.15",Kt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){dr[e].placeholder=dr}),Kt(["drop","take"],function(e,t){gr.prototype[e]=function(n){n=n===o?1:Vn(qa(n),0);var r=this.__filtered__&&!t?new gr(this):this.clone();return r.__filtered__?r.__takeCount__=Un(n,r.__takeCount__):r.__views__.push({size:Un(n,A),type:e+(r.__dir__<0?"Right":"")}),r},gr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Kt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==M||3==n;gr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ro(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Kt(["head","last"],function(e,t){var n="take"+(t?"Right":"");gr.prototype[e]=function(){return this[n](1).value()[0]}}),Kt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");gr.prototype[e]=function(){return this.__filtered__?new gr(this):this[n](1)}}),gr.prototype.compact=function(){return this.filter(Ec)},gr.prototype.find=function(e){return this.filter(e).head()},gr.prototype.findLast=function(e){return this.reverse().find(e)},gr.prototype.invokeMap=wi(function(e,t){return"function"==typeof e?new gr(this):this.map(function(n){return ni(n,e,t)})}),gr.prototype.reject=function(e){return this.filter(aa(Ro(e)))},gr.prototype.slice=function(e,t){e=qa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new gr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=qa(t))<0?n.dropRight(-t):n.take(t-e)),n)},gr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},gr.prototype.toArray=function(){return this.take(A)},$r(gr.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=dr[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&(dr.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,c=t instanceof gr,u=a[0],l=c||ga(t),h=function(e){var t=i.apply(dr,en([e],a));return r&&d?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var d=this.__chain__,p=!!this.__actions__.length,f=s&&!d,m=c&&!p;if(!s&&l){t=m?t:new gr(this);var g=e.apply(t,a);return g.__actions__.push({func:Bs,args:[h],thisArg:o}),new mr(g,d)}return f&&m?e.apply(this,a):(g=this.thru(h),f?r?g.value()[0]:g.value():g)})}),Kt(["pop","push","shift","sort","splice","unshift"],function(e){var t=it[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);dr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(ga(i)?i:[],e)}return this[n](function(n){return t.apply(ga(n)?n:[],e)})}}),$r(gr.prototype,function(e,t){var n=dr[t];if(n){var r=n.name+"";ut.call(rr,r)||(rr[r]=[]),rr[r].push({name:t,func:n})}}),rr[po(o,v).name]=[{name:"wrapper",func:o}],gr.prototype.clone=function(){var e=new gr(this.__wrapped__);return e.__actions__=to(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=to(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=to(this.__views__),e},gr.prototype.reverse=function(){if(this.__filtered__){var e=new gr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},gr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ga(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Un(t,e+s);break;case"takeRight":e=Vn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=r?a:s-1,l=this.__iteratees__,h=l.length,d=0,p=Un(c,this.__takeCount__);if(!n||!r&&i==c&&p==c)return qi(e,this.__actions__);var f=[];e:for(;c--&&d<p;){for(var m=-1,g=e[u+=t];++m<h;){var b=l[m],v=b.iteratee,y=b.type,S=v(g);if(y==P)g=S;else if(!S){if(y==M)continue e;break e}}f[d++]=g}return f},dr.prototype.at=qs,dr.prototype.chain=function(){return Fs(this)},dr.prototype.commit=function(){return new mr(this.value(),this.__chain__)},dr.prototype.next=function(){this.__values__===o&&(this.__values__=Fa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},dr.prototype.plant=function(e){for(var t,n=this;n instanceof fr;){var r=hs(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},dr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof gr){var t=e;return this.__actions__.length&&(t=new gr(this)),(t=t.reverse()).__actions__.push({func:Bs,args:[Os],thisArg:o}),new mr(t,this.__chain__)}return this.thru(Os)},dr.prototype.toJSON=dr.prototype.valueOf=dr.prototype.value=function(){return qi(this.__wrapped__,this.__actions__)},dr.prototype.first=dr.prototype.head,At&&(dr.prototype[At]=function(){return this}),dr}();jt._=Dn,(i=function(){return Dn}.call(t,n,t,r))===o||(r.exports=i)}).call(this)}).call(t,n(19),n(67)(e))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(5322)),r(n(5323)),r(n(5324)),r(n(5325))},function(e,t,n){"use strict";var r=n(5390);n.n(r);const i=Object(r.debug)("aznb:collab");t.a=i},function(e,t,n){"use strict";t.a=s,t.c=function(e,t){return s(e,t*i.a.DaysInOneWeek)},t.b=a,t.d=function(e,t){var n=new Date(e.getTime());n.setFullYear(e.getFullYear()+t),n.getMonth()!==(e.getMonth()%i.a.MonthInOneYear+i.a.MonthInOneYear)%i.a.MonthInOneYear&&(n=s(n,-n.getDate()));return n},t.i=function(e){return new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0)},t.h=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0,0,0,0,0)},t.m=function(e){return new Date(e.getFullYear(),0,1,0,0,0,0)},t.l=function(e){return new Date(e.getFullYear()+1,0,0,0,0,0,0)},t.o=function(e,t){return a(e,t-e.getMonth())},t.f=c,t.e=function(e,t){return h(e)-h(t)},t.g=function(e,t,n,u,h){void 0===h&&(h=1);var d,p=new Array,f=null;u||(u=[r.b.Monday,r.b.Tuesday,r.b.Wednesday,r.b.Thursday,r.b.Friday]);switch(h=Math.max(h,1),t){case r.a.Day:d=l(e),f=s(d,h);break;case r.a.Week:case r.a.WorkWeek:d=function(e,t){var n=t-e.getDay();n>0&&(n-=i.a.DaysInOneWeek);return s(e,n)}(l(e),n),f=s(d,i.a.DaysInOneWeek);break;case r.a.Month:d=new Date(e.getFullYear(),e.getMonth(),1),f=a(d,1);break;default:return Object(o.o)(t)}var m=d;do{t!==r.a.WorkWeek?p.push(m):-1!==u.indexOf(m.getDay())&&p.push(m),m=s(m,1)}while(!c(m,f));return p},t.n=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(c(e,i))return!0}return!1},t.k=function(e,t,n,o){var s=o.getFullYear(),a=o.getMonth(),c=1,l=new Date(s,a,c),h=c+(t+i.a.DaysInOneWeek-1)-function(e,t){return e!==r.b.Sunday&&t<e?t+i.a.DaysInOneWeek:t}(t,l.getDay()),d=new Date(s,a,h);c=d.getDate();for(var p=[],f=0;f<e;f++)p.push(u(d,t,n)),c+=i.a.DaysInOneWeek,d=new Date(s,a,c);return p},t.j=u;var r=n(2286),i=n(5413),o=n(2);function s(e,t){var n=new Date(e.getTime());return n.setDate(n.getDate()+t),n}function a(e,t){var n=new Date(e.getTime()),r=n.getMonth()+t;return n.setMonth(r),n.getMonth()!==(r%i.a.MonthInOneYear+i.a.MonthInOneYear)%i.a.MonthInOneYear&&(n=s(n,-n.getDate())),n}function c(e,t){return!e&&!t||!(!e||!t)&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}function u(e,t,n){switch(n){case r.c.FirstFullWeek:return d(e,t,i.a.DaysInOneWeek);case r.c.FirstFourDayWeek:return d(e,t,4);default:return function(e,t){var n=p(e)-1,r=(e.getDay()-n%i.a.DaysInOneWeek-t+2*i.a.DaysInOneWeek)%i.a.DaysInOneWeek;return Math.floor((n+r)/i.a.DaysInOneWeek+1)}(e,t)}}function l(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function h(e){return e.getDate()+(e.getMonth()<<5)+(e.getFullYear()<<9)}function d(e,t,n){var o=p(e)-1,s=e.getDay()-o%i.a.DaysInOneWeek,a=p(new Date(e.getFullYear()-1,r.d.December,31))-1,c=(t-s+2*i.a.DaysInOneWeek)%i.a.DaysInOneWeek;0!==c&&c>=n&&(c-=i.a.DaysInOneWeek);var u=o-c;return u<0&&(0!==(c=(t-(s-=a%i.a.DaysInOneWeek)+2*i.a.DaysInOneWeek)%i.a.DaysInOneWeek)&&c+1>=n&&(c-=i.a.DaysInOneWeek),u=a-c),Math.floor(u/i.a.DaysInOneWeek+1)}function p(e){for(var t=e.getMonth(),n=e.getFullYear(),r=0,i=0;i<t;i++)r+=f(i+1,n);return r+=e.getDate()}function f(e,t){return new Date(t,e,0).getDate()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"root",function(){return i}),n.d(t,"picker",function(){return o}),n.d(t,"holder",function(){return s}),n.d(t,"pickerIsOpened",function(){return a}),n.d(t,"frame",function(){return c}),n.d(t,"wrap",function(){return u}),n.d(t,"goTodaySpacing",function(){return l}),n.d(t,"dayPicker",function(){return h}),n.d(t,"header",function(){return d}),n.d(t,"divider",function(){return p}),n.d(t,"monthAndYear",function(){return f}),n.d(t,"year",function(){return m}),n.d(t,"decade",function(){return g}),n.d(t,"currentYear",function(){return b}),n.d(t,"currentDecade",function(){return v}),n.d(t,"table",function(){return y}),n.d(t,"dayWrapper",function(){return S}),n.d(t,"weekday",function(){return _}),n.d(t,"day",function(){return w}),n.d(t,"daySelection",function(){return C}),n.d(t,"dayIsToday",function(){return k}),n.d(t,"dayIsDisabled",function(){return x}),n.d(t,"dayIsUnfocused",function(){return O}),n.d(t,"dayIsFocused",function(){return I}),n.d(t,"dayIsHighlighted",function(){return T}),n.d(t,"pickerIsFocused",function(){return E}),n.d(t,"dayDisabled",function(){return N}),n.d(t,"dayBackground",function(){return M}),n.d(t,"dayHover",function(){return P}),n.d(t,"dayPress",function(){return j}),n.d(t,"weekBackground",function(){return D}),n.d(t,"showWeekNumbers",function(){return R}),n.d(t,"weekNumbers",function(){return L}),n.d(t,"weekIsHighlighted",function(){return A}),n.d(t,"showWeekNumbersRTL",function(){return F}),n.d(t,"monthComponents",function(){return B}),n.d(t,"yearComponents",function(){return q}),n.d(t,"decadeComponents",function(){return z}),n.d(t,"closeButton",function(){return W}),n.d(t,"prevMonth",function(){return H}),n.d(t,"nextMonth",function(){return V}),n.d(t,"prevYear",function(){return U}),n.d(t,"nextYear",function(){return $}),n.d(t,"prevDecade",function(){return K}),n.d(t,"nextDecade",function(){return G}),n.d(t,"prevMonthIsDisabled",function(){return Y}),n.d(t,"nextMonthIsDisabled",function(){return J}),n.d(t,"prevYearIsDisabled",function(){return Q}),n.d(t,"nextYearIsDisabled",function(){return Z}),n.d(t,"prevDecadeIsDisabled",function(){return X}),n.d(t,"nextDecadeIsDisabled",function(){return ee}),n.d(t,"headerToggleView",function(){return te}),n.d(t,"optionGrid",function(){return ne}),n.d(t,"monthOption",function(){return re}),n.d(t,"yearOption",function(){return ie}),n.d(t,"isHighlighted",function(){return oe}),n.d(t,"monthOptionIsDisabled",function(){return se}),n.d(t,"yearOptionIsDisabled",function(){return ae}),n.d(t,"goToday",function(){return ce}),n.d(t,"goToTodayIsDisabled",function(){return ue}),n.d(t,"goTodayInlineMonth",function(){return le}),n.d(t,"isPickingYears",function(){return he}),n.d(t,"monthPicker",function(){return de}),n.d(t,"yearPicker",function(){return pe}),n.d(t,"monthPickerVisible",function(){return fe}),n.d(t,"toggleMonthView",function(){return me}),n.d(t,"calendarsInline",function(){return ge}),n.d(t,"monthPickerOnly",function(){return be}),n.d(t,"monthPickerAsOverlay",function(){return ve}),n.d(t,"holderWithButton",function(){return ye}),n.d(t,"monthIsHighlighted",function(){return Se}),n.d(t,"monthIsCurrentMonth",function(){return _e}),n.d(t,"yearIsHighlighted",function(){return we}),n.d(t,"yearIsCurrentYear",function(){return Ce}),n.d(t,"topLeftCornerDate",function(){return ke}),n.d(t,"topRightCornerDate",function(){return xe}),n.d(t,"bottomLeftCornerDate",function(){return Oe}),n.d(t,"bottomRightCornerDate",function(){return Ie}),n.d(t,"weekSelection",function(){return Te}),n.d(t,"monthSelection",function(){return Ee}),n.d(t,"topDate",function(){return Ne}),n.d(t,"rightDate",function(){return Me}),n.d(t,"bottomDate",function(){return Pe}),n.d(t,"leftdate",function(){return je});var r=n(731);Object(r.a)([{rawString:".root_640b6fe8{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:none;box-shadow:none;margin:0;padding:0}.root_640b6fe8 *{overflow:visible}.root_640b6fe8 *::-moz-focus-inner{border:0}.root_640b6fe8 *{outline:transparent}.root_640b6fe8 *{position:relative}.ms-Fabric--isFocusVisible .root_640b6fe8 *:focus:after{content:'';position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;border:1px solid "},{theme:"neutralSecondary",defaultValue:"#605e5c"},{rawString:"}.picker_640b6fe8{color:"},{theme:"black",defaultValue:"#000000"},{rawString:";font-size:14px;position:relative}html[dir='ltr'] .picker_640b6fe8{text-align:left}html[dir='rtl'] .picker_640b6fe8{text-align:right}.holder_640b6fe8{-webkit-overflow-scrolling:touch;-webkit-box-sizing:border-box;box-sizing:border-box;display:none}.picker_640b6fe8.pickerIsOpened_640b6fe8 .holder_640b6fe8{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block}.pickerIsOpened_640b6fe8{position:relative}.frame_640b6fe8{position:relative}.wrap_640b6fe8{min-height:212px;padding:12px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:content-box;box-sizing:content-box}.wrap_640b6fe8.goTodaySpacing_640b6fe8{min-height:228px}.dayPicker_640b6fe8{display:block}.header_640b6fe8{position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:28px;line-height:44px;width:100%}.divider_640b6fe8{top:0;margin-top:-12px;margin-bottom:-12px}html[dir='ltr'] .divider_640b6fe8{border-right:1px solid "},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:"}html[dir='rtl'] .divider_640b6fe8{border-left:1px solid "},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:"}.monthAndYear_640b6fe8,.year_640b6fe8,.decade_640b6fe8{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-size:14px;font-weight:400;font-weight:600;color:"},{theme:"neutralPrimary",defaultValue:"#323130"},{rawString:";padding:0 5px}.monthAndYear_640b6fe8:hover,.currentYear_640b6fe8:hover,.currentDecade_640b6fe8:hover{cursor:default}.table_640b6fe8{text-align:center;border-collapse:collapse;border-spacing:0;table-layout:fixed;font-size:inherit;margin-top:4px;width:197px}.table_640b6fe8 td{margin:0;padding:0}.dayWrapper_640b6fe8,.weekday_640b6fe8{width:28px;height:28px;padding:0;line-height:28px;font-size:12px;font-size:15px;font-weight:400;color:"},{theme:"neutralPrimary",defaultValue:"#323130"},{rawString:";-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:default}.dayWrapper_640b6fe8 *::-moz-focus-inner,.weekday_640b6fe8 *::-moz-focus-inner{border:0}.dayWrapper_640b6fe8 *,.weekday_640b6fe8 *{outline:transparent}.dayWrapper_640b6fe8 *,.weekday_640b6fe8 *{position:relative}.ms-Fabric--isFocusVisible .dayWrapper_640b6fe8 *:focus:after,.ms-Fabric--isFocusVisible .weekday_640b6fe8 *:focus:after{content:'';position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;pointer-events:none;border:1px solid "},{theme:"neutralSecondary",defaultValue:"#605e5c"},{rawString:"}.day_640b6fe8{width:24px;height:24px;border-radius:2px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border:none;padding:0;background-color:transparent;line-height:100%;font-size:inherit;color:inherit;font-weight:inherit}@media screen and (-ms-high-contrast: active){.daySelection_640b6fe8 .day_640b6fe8:hover,.daySelection_640b6fe8 .day_640b6fe8:active{outline:1px solid highlight}}@media screen and (-ms-high-contrast: active){.daySelection_640b6fe8 .day_640b6fe8:active{color:highlight}}.dayIsToday_640b6fe8{border-radius:100%}.dayIsToday_640b6fe8,.dayIsToday_640b6fe8:hover{position:relative;background-color:"},{theme:"neutralLighter",defaultValue:"#f3f2f1"},{rawString:"}@media screen and (-ms-high-contrast: active){.dayIsToday_640b6fe8,.dayIsToday_640b6fe8:hover{background-color:highlight}}.dayIsToday_640b6fe8:hover,.dayIsToday_640b6fe8:hover:hover{border-radius:100%}.dayIsDisabled_640b6fe8:before{border-top-color:"},{theme:"neutralTertiary",defaultValue:"#a19f9d"},{rawString:"}.dayIsUnfocused_640b6fe8{color:"},{theme:"neutralSecondary",defaultValue:"#605e5c"},{rawString:";font-weight:400}.dayIsFocused_640b6fe8:hover,.dayIsUnfocused_640b6fe8:hover{cursor:pointer;background:"},{theme:"neutralLighter",defaultValue:"#f3f2f1"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:"}.daySelection_640b6fe8.dayIsHighlighted_640b6fe8:hover,.pickerIsFocused_640b6fe8 .dayIsHighlighted_640b6fe8.daySelection_640b6fe8{cursor:pointer;background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:";border-radius:2px}@media screen and (-ms-high-contrast: active){.daySelection_640b6fe8.dayIsHighlighted_640b6fe8:hover,.pickerIsFocused_640b6fe8 .dayIsHighlighted_640b6fe8.daySelection_640b6fe8{border:2px solid Highlight}.daySelection_640b6fe8.dayIsHighlighted_640b6fe8:hover :not(.dayIsToday_640b6fe8) span,.pickerIsFocused_640b6fe8 .dayIsHighlighted_640b6fe8.daySelection_640b6fe8 :not(.dayIsToday_640b6fe8) span{color:Highlight}}@media screen and (-ms-high-contrast: active){.dayIsHighlighted_640b6fe8 button.dayIsToday_640b6fe8{border-radius:100%}}@media screen and (-ms-high-contrast: active){.dayIsHighlighted_640b6fe8 button.dayIsToday_640b6fe8 span{color:Window}}.dayIsFocused_640b6fe8:active,.dayIsHighlighted_640b6fe8{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}.dayIsFocused_640b6fe8:active.day_640b6fe8,.dayIsHighlighted_640b6fe8.day_640b6fe8{color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:";background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:"}.dayIsHighlighted_640b6fe8.dayDisabled_640b6fe8,.dayIsHighlighted_640b6fe8.dayDisabled_640b6fe8:hover{background:"},{theme:"neutralTertiary",defaultValue:"#a19f9d"},{rawString:"}.dayBackground_640b6fe8,.dayBackground_640b6fe8:hover,.dayBackground_640b6fe8:active{border-radius:2px}.dayHover_640b6fe8,.dayHover_640b6fe8:hover{cursor:pointer;background:"},{theme:"neutralLighter",defaultValue:"#f3f2f1"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:"}.dayPress_640b6fe8,.dayPress_640b6fe8:hover{cursor:pointer;color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:";background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:"}.dayPress_640b6fe8 .dayIsToday_640b6fe8,.dayPress_640b6fe8:hover .dayIsToday_640b6fe8{background:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:";border-radius:100%}.dayIsUnfocused_640b6fe8:active,.dayIsFocused_640b6fe8:active,.dayIsHighlighted_640b6fe8,.dayIsHighlighted_640b6fe8:hover,.dayIsHighlighted_640b6fe8:active,.weekBackground_640b6fe8,.weekBackground_640b6fe8:hover,.weekBackground_640b6fe8:active{background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:"}.dayIsToday_640b6fe8,.pickerIsFocused_640b6fe8 .dayIsToday_640b6fe8,.dayIsToday_640b6fe8.day_640b6fe8:active{position:relative;color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";font-weight:600;background:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:";border-radius:100%}.showWeekNumbers_640b6fe8 .weekNumbers_640b6fe8{border-right:1px solid "},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:";-webkit-box-sizing:border-box;box-sizing:border-box;width:28px;padding:0}.showWeekNumbers_640b6fe8 .weekNumbers_640b6fe8 .dayWrapper_640b6fe8{color:"},{theme:"neutralSecondary",defaultValue:"#605e5c"},{rawString:"}.showWeekNumbers_640b6fe8 .weekNumbers_640b6fe8 .dayWrapper_640b6fe8.weekIsHighlighted_640b6fe8{color:"},{theme:"neutralPrimary",defaultValue:"#323130"},{rawString:"}.showWeekNumbers_640b6fe8 .table_640b6fe8{width:225px}.showWeekNumbers_640b6fe8 .table_640b6fe8 .dayWrapper_640b6fe8,.showWeekNumbers_640b6fe8 .table_640b6fe8 .weekday_640b6fe8{width:30px}.showWeekNumbersRTL_640b6fe8 .weekNumbers_640b6fe8{border-left:1px solid "},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:";-webkit-box-sizing:border-box;box-sizing:border-box}.showWeekNumbersRTL_640b6fe8 .weekNumbers_640b6fe8 .dayWrapper_640b6fe8{color:"},{theme:"neutralSecondary",defaultValue:"#605e5c"},{rawString:"}.showWeekNumbersRTL_640b6fe8 .weekNumbers_640b6fe8 .dayWrapper_640b6fe8.weekIsHighlighted_640b6fe8{color:"},{theme:"neutralPrimary",defaultValue:"#323130"},{rawString:"}.showWeekNumbersRTL_640b6fe8 .table_640b6fe8{width:225px}.showWeekNumbersRTL_640b6fe8 .table_640b6fe8 .dayWrapper_640b6fe8,.showWeekNumbersRTL_640b6fe8 .table_640b6fe8 .weekday_640b6fe8{width:30px}.monthComponents_640b6fe8,.yearComponents_640b6fe8,.decadeComponents_640b6fe8{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-item-align:end;align-self:flex-end}.closeButton_640b6fe8,.prevMonth_640b6fe8,.nextMonth_640b6fe8,.prevYear_640b6fe8,.nextYear_640b6fe8,.prevDecade_640b6fe8,.nextDecade_640b6fe8{width:28px;height:28px;display:block;text-align:center;line-height:28px;text-align:center;font-size:12px;color:"},{theme:"neutralPrimary",defaultValue:"#323130"},{rawString:";border-radius:2px;position:relative;background-color:transparent;border:none;padding:0}.closeButton_640b6fe8:hover,.prevMonth_640b6fe8:hover,.nextMonth_640b6fe8:hover,.prevYear_640b6fe8:hover,.nextYear_640b6fe8:hover,.prevDecade_640b6fe8:hover,.nextDecade_640b6fe8:hover{color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:";cursor:pointer;outline:1px solid transparent}.prevMonthIsDisabled_640b6fe8,.nextMonthIsDisabled_640b6fe8,.prevYearIsDisabled_640b6fe8,.nextYearIsDisabled_640b6fe8,.prevDecadeIsDisabled_640b6fe8,.nextDecadeIsDisabled_640b6fe8{color:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c6c4"},{rawString:";pointer-events:none}.headerToggleView_640b6fe8{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:4px 8px}.headerToggleView_640b6fe8:hover{color:"},{theme:"black",defaultValue:"#000000"},{rawString:";cursor:pointer}@media screen and (-ms-high-contrast: active){.headerToggleView_640b6fe8:hover{outline:1px solid highlight}}@media screen and (-ms-high-contrast: active){.headerToggleView_640b6fe8:hover:active{color:highlight}}.currentYear_640b6fe8,.currentDecade_640b6fe8{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:0 5px;font-size:14px;font-weight:400;font-weight:600;color:"},{theme:"neutralPrimary",defaultValue:"#323130"},{rawString:";height:28px;line-height:28px}html[dir='ltr'] .currentYear_640b6fe8,html[dir='ltr'] .currentDecade_640b6fe8{margin-left:5px}html[dir='rtl'] .currentYear_640b6fe8,html[dir='rtl'] .currentDecade_640b6fe8{margin-right:5px}.optionGrid_640b6fe8{position:relative;height:210px;width:196px;margin:4px 0 0 0}html[dir='rtl'] .optionGrid_640b6fe8{margin:4px 0 0 0}.monthOption_640b6fe8,.yearOption_640b6fe8{width:60px;height:60px;line-height:100%;cursor:pointer;margin:0 10px 10px 0;font-size:13px;font-weight:400;color:"},{theme:"neutralPrimary",defaultValue:"#323130"},{rawString:";text-align:center;border:none;padding:0;background-color:transparent;border-radius:2px}html[dir='ltr'] .monthOption_640b6fe8,html[dir='ltr'] .yearOption_640b6fe8{float:left}html[dir='rtl'] .monthOption_640b6fe8,html[dir='rtl'] .yearOption_640b6fe8{float:right}html[dir='rtl'] .monthOption_640b6fe8,html[dir='rtl'] .yearOption_640b6fe8{margin:0 0 10px 10px}.monthOption_640b6fe8:hover,.yearOption_640b6fe8:hover{color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:";background-color:"},{theme:"neutralLighter",defaultValue:"#f3f2f1"},{rawString:";outline:1px solid transparent}@media screen and (-ms-high-contrast: active){.monthOption_640b6fe8:hover,.yearOption_640b6fe8:hover{outline-color:highlight}}@media screen and (-ms-high-contrast: active){.monthOption_640b6fe8:active,.yearOption_640b6fe8:active{color:highlight}}.monthOption_640b6fe8.isHighlighted_640b6fe8,.yearOption_640b6fe8.isHighlighted_640b6fe8{background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:"}.dayIsDisabled_640b6fe8,.monthOptionIsDisabled_640b6fe8,.yearOptionIsDisabled_640b6fe8{color:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c6c4"},{rawString:";pointer-events:none}.goToday_640b6fe8{bottom:0;color:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:";cursor:pointer;font-size:12px;font-weight:400;color:"},{theme:"neutralPrimary",defaultValue:"#323130"},{rawString:";height:30px;line-height:30px;padding:0 10px;background-color:transparent;border:none;position:absolute !important;-webkit-box-sizing:content-box;box-sizing:content-box}[dir='ltr'] .goToday_640b6fe8{right:13px}[dir='rtl'] .goToday_640b6fe8{left:13px}.goToday_640b6fe8:hover{color:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:";outline:1px solid transparent}@media screen and (-ms-high-contrast: active){.goToday_640b6fe8:hover{outline-color:highlight}}.goToday_640b6fe8:active{color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:"}@media screen and (-ms-high-contrast: active){.goToday_640b6fe8:active{color:highlight}}.goToTodayIsDisabled_640b6fe8{color:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c6c4"},{rawString:";pointer-events:none}.goTodayInlineMonth_640b6fe8{top:212px}.wrap_640b6fe8.goTodaySpacing_640b6fe8{padding-bottom:28px}.root_640b6fe8.isPickingYears_640b6fe8 .dayPicker_640b6fe8,.root_640b6fe8.isPickingYears_640b6fe8 .monthComponents_640b6fe8{display:none}.root_640b6fe8.isPickingYears_640b6fe8 .monthPicker_640b6fe8{display:none}.root_640b6fe8.isPickingYears_640b6fe8 .yearPicker_640b6fe8{display:block}@media (min-device-width: 460px){.wrap_640b6fe8{padding:12px}.dayPicker_640b6fe8,.monthPicker_640b6fe8{min-height:200px}.header_640b6fe8{height:28px;line-height:28px;width:100%}.dayWrapper_640b6fe8,.weekday_640b6fe8{width:28px;height:28px;line-height:28px;font-size:12px}.closeButton_640b6fe8,.prevMonth_640b6fe8,.nextMonth_640b6fe8,.prevYear_640b6fe8,.nextYear_640b6fe8,.prevDecade_640b6fe8,.nextDecade_640b6fe8{font-size:12px;width:28px;height:28px;line-height:28px}.holder_640b6fe8{display:inline-block;height:auto;overflow:hidden}.monthAndYear_640b6fe8,.year_640b6fe8,.decade_640b6fe8{font-size:14px;color:"},{theme:"neutralPrimary",defaultValue:"#323130"},{rawString:"}.yearComponents_640b6fe8{margin-left:1px}.goToday_640b6fe8{padding:0 3px}[dir='ltr'] .goToday_640b6fe8{right:20px}[dir='rtl'] .goToday_640b6fe8{left:20px}.showWeekNumbers_640b6fe8 .table_640b6fe8 .dayWrapper_640b6fe8,.showWeekNumbers_640b6fe8 .table_640b6fe8 .weekday_640b6fe8{width:28px}.showWeekNumbersRTL_640b6fe8 .table_640b6fe8 .dayWrapper_640b6fe8,.showWeekNumbersRTL_640b6fe8 .table_640b6fe8 .weekday_640b6fe8{width:28px}.monthPickerVisible_640b6fe8 .wrap_640b6fe8{padding:12px}.monthPickerVisible_640b6fe8 .dayPicker_640b6fe8{margin:-10px 0;padding:10px 0}.monthPickerVisible_640b6fe8 .dayPicker_640b6fe8{-webkit-box-sizing:border-box;box-sizing:border-box;width:212px;min-height:200px}.monthPickerVisible_640b6fe8 .monthPicker_640b6fe8{display:block}.monthPickerVisible_640b6fe8 .optionGrid_640b6fe8{height:150px;width:196px}.monthPickerVisible_640b6fe8 .toggleMonthView_640b6fe8{display:none}.monthPickerVisible_640b6fe8 .currentYear_640b6fe8,.monthPickerVisible_640b6fe8 .currentDecade_640b6fe8{font-size:14px;margin:0;height:28px;line-height:28px;display:inline-block}.monthPickerVisible_640b6fe8 .monthOption_640b6fe8,.monthPickerVisible_640b6fe8 .yearOption_640b6fe8{width:40px;height:40px;line-height:100%;font-size:12px;margin:0 12px 16px 0}html[dir='rtl'] .monthPickerVisible_640b6fe8 .monthOption_640b6fe8,html[dir='rtl'] .monthPickerVisible_640b6fe8 .yearOption_640b6fe8{margin:0 0 16px 12px}.monthPickerVisible_640b6fe8 .monthOption_640b6fe8:hover,.monthPickerVisible_640b6fe8 .yearOption_640b6fe8:hover{outline:1px solid transparent}.monthPickerVisible_640b6fe8 .monthOption_640b6fe8:nth-child(4n+4),.monthPickerVisible_640b6fe8 .yearOption_640b6fe8:nth-child(4n+4){margin:0 0px 16px 0}html[dir='rtl'] .monthPickerVisible_640b6fe8 .monthOption_640b6fe8:nth-child(4n+4),html[dir='rtl'] .monthPickerVisible_640b6fe8 .yearOption_640b6fe8:nth-child(4n+4){margin:0 0 16px 0px}.monthPickerVisible_640b6fe8 .goToday_640b6fe8{font-size:12px;height:28px;line-height:28px;padding:0 10px}[dir='ltr'] .monthPickerVisible_640b6fe8 .goToday_640b6fe8{right:8px}[dir='rtl'] .monthPickerVisible_640b6fe8 .goToday_640b6fe8{left:8px}html[dir='ltr'] .monthPickerVisible_640b6fe8 .goToday_640b6fe8{text-align:right}html[dir='rtl'] .monthPickerVisible_640b6fe8 .goToday_640b6fe8{text-align:left}.monthPickerVisible_640b6fe8 .root_640b6fe8.isPickingYears_640b6fe8 .dayPicker_640b6fe8,.monthPickerVisible_640b6fe8 .root_640b6fe8.isPickingYears_640b6fe8 .monthComponents_640b6fe8{display:block}.monthPickerVisible_640b6fe8 .root_640b6fe8.isPickingYears_640b6fe8 .monthPicker_640b6fe8{display:none}.monthPickerVisible_640b6fe8 .root_640b6fe8.isPickingYears_640b6fe8 .yearPicker_640b6fe8{display:block}.calendarsInline_640b6fe8 .wrap_640b6fe8{padding:12px}.calendarsInline_640b6fe8 .holder_640b6fe8{height:auto}html[dir='ltr'] .calendarsInline_640b6fe8 .table_640b6fe8{margin-right:12px}html[dir='rtl'] .calendarsInline_640b6fe8 .table_640b6fe8{margin-left:12px}.calendarsInline_640b6fe8 .dayPicker_640b6fe8{width:auto}html[dir='ltr'] .calendarsInline_640b6fe8 .monthPicker_640b6fe8{margin-left:12px}html[dir='rtl'] .calendarsInline_640b6fe8 .monthPicker_640b6fe8{margin-right:12px}html[dir='ltr'] .calendarsInline_640b6fe8 .yearPicker_640b6fe8{margin-left:12px}html[dir='rtl'] .calendarsInline_640b6fe8 .yearPicker_640b6fe8{margin-right:12px}.calendarsInline_640b6fe8 .goToday_640b6fe8{padding:0 10px}[dir='ltr'] .calendarsInline_640b6fe8 .goToday_640b6fe8{right:14px}[dir='rtl'] .calendarsInline_640b6fe8 .goToday_640b6fe8{left:14px}html[dir='ltr'] .calendarsInline_640b6fe8 .monthComponents_640b6fe8{margin-right:12px}html[dir='rtl'] .calendarsInline_640b6fe8 .monthComponents_640b6fe8{margin-left:12px}.monthPickerOnly_640b6fe8 .wrap_640b6fe8{padding:12px}.monthPickerAsOverlay_640b6fe8 .wrap_640b6fe8{padding-bottom:28px;margin-bottom:6px}.monthPickerAsOverlay_640b6fe8 .holder_640b6fe8{height:240px;min-height:240px}.monthPickerAsOverlay_640b6fe8 .holderWithButton_640b6fe8{padding-top:6px;height:auto}}@media (max-device-width: 459px){.calendarsInline_640b6fe8 .monthPicker_640b6fe8,.calendarsInline_640b6fe8 .yearPicker_640b6fe8{display:none}.yearComponents_640b6fe8{margin-top:2px}}.goToday_640b6fe8{width:auto}.closeButton_640b6fe8,.nextMonth_640b6fe8,.prevMonth_640b6fe8,.nextYear_640b6fe8,.prevYear_640b6fe8,.nextDecade_640b6fe8,.prevDecade_640b6fe8{display:inline-block}.closeButton_640b6fe8:hover,.nextMonth_640b6fe8:hover,.prevMonth_640b6fe8:hover,.nextYear_640b6fe8:hover,.prevYear_640b6fe8:hover,.nextDecade_640b6fe8:hover,.prevDecade_640b6fe8:hover{background-color:"},{theme:"neutralLighter",defaultValue:"#f3f2f1"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:"}@media screen and (-ms-high-contrast: active){.closeButton_640b6fe8:hover,.nextMonth_640b6fe8:hover,.prevMonth_640b6fe8:hover,.nextYear_640b6fe8:hover,.prevYear_640b6fe8:hover,.nextDecade_640b6fe8:hover,.prevDecade_640b6fe8:hover{outline:1px solid highlight}}.closeButton_640b6fe8:active,.nextMonth_640b6fe8:active,.prevMonth_640b6fe8:active,.nextYear_640b6fe8:active,.prevYear_640b6fe8:active,.nextDecade_640b6fe8:active,.prevDecade_640b6fe8:active{background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:"}@media screen and (-ms-high-contrast: active){.closeButton_640b6fe8:active,.nextMonth_640b6fe8:active,.prevMonth_640b6fe8:active,.nextYear_640b6fe8:active,.prevYear_640b6fe8:active,.nextDecade_640b6fe8:active,.prevDecade_640b6fe8:active{color:highlight}}.monthIsHighlighted_640b6fe8{background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:"}.monthIsHighlighted_640b6fe8.monthOption_640b6fe8:hover{background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:"}@media screen and (-ms-high-contrast: active){.monthIsHighlighted_640b6fe8{color:highlight;border:2px solid highlight;border-radius:2px}.monthIsHighlighted_640b6fe8:hover{outline:0 !important}}.monthIsCurrentMonth_640b6fe8{color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:"}.monthIsCurrentMonth_640b6fe8.monthOption_640b6fe8:hover{color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";background-color:"},{theme:"neutralLighter",defaultValue:"#f3f2f1"},{rawString:"}.monthOption_640b6fe8:active{background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:"}.yearIsHighlighted_640b6fe8{background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:"}.yearIsHighlighted_640b6fe8.yearOption_640b6fe8:hover{background-color:"},{theme:"neutralLighter",defaultValue:"#f3f2f1"},{rawString:"}.yearIsCurrentYear_640b6fe8{color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:"}.yearIsCurrentYear_640b6fe8.yearOption_640b6fe8:hover{color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:";background-color:"},{theme:"neutralLighter",defaultValue:"#f3f2f1"},{rawString:"}.yearOption_640b6fe8:active{background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:"}.topLeftCornerDate_640b6fe8{border-top-left-radius:2px}.topRightCornerDate_640b6fe8{border-top-right-radius:2px}.bottomLeftCornerDate_640b6fe8{border-bottom-left-radius:2px}.bottomRightCornerDate_640b6fe8{border-bottom-right-radius:2px}@media screen and (-ms-high-contrast: active){.weekBackground_640b6fe8{border-top:1px solid highlight;border-bottom:1px solid highlight}.weekBackground_640b6fe8.bottomRightCornerDate_640b6fe8.topRightCornerDate_640b6fe8{border-right:1px solid highlight;border-left:none;padding-left:1px}.weekBackground_640b6fe8.bottomLeftCornerDate_640b6fe8.topLeftCornerDate_640b6fe8{border-left:1px solid highlight;border-right:none;padding-right:1px}.weekBackground_640b6fe8 :not(.dayIsToday_640b6fe8) span{color:highlight}.weekSelection_640b6fe8.dayHover_640b6fe8{border-top:1px solid highlight;border-bottom:1px solid highlight}.weekSelection_640b6fe8.dayHover_640b6fe8.bottomLeftCornerDate_640b6fe8.topLeftCornerDate_640b6fe8{border-left:1px solid highlight;padding-right:1px}.weekSelection_640b6fe8.dayHover_640b6fe8.bottomRightCornerDate_640b6fe8.topRightCornerDate_640b6fe8{border-right:1px solid highlight;padding-left:1px}.weekSelection_640b6fe8.dayHover_640b6fe8.dayPress_640b6fe8 :not(.dayIsToday_640b6fe8) span{color:highlight}.monthSelection_640b6fe8.dayHover_640b6fe8.bottomLeftCornerDate_640b6fe8,.monthSelection_640b6fe8.dayHover_640b6fe8.topLeftCornerDate_640b6fe8{border-left:1px solid highlight;padding-right:1px}.monthSelection_640b6fe8.dayHover_640b6fe8.bottomRightCornerDate_640b6fe8,.monthSelection_640b6fe8.dayHover_640b6fe8.topRightCornerDate_640b6fe8{border-right:1px solid highlight;padding-left:1px}.monthSelection_640b6fe8.dayIsFocused_640b6fe8.dayHover_640b6fe8.topDate_640b6fe8,.monthSelection_640b6fe8.dayIsUnfocused_640b6fe8.dayHover_640b6fe8.topDate_640b6fe8{border-top:1px solid highlight;padding-bottom:1px}.monthSelection_640b6fe8.dayIsFocused_640b6fe8.dayHover_640b6fe8.rightDate_640b6fe8,.monthSelection_640b6fe8.dayIsUnfocused_640b6fe8.dayHover_640b6fe8.rightDate_640b6fe8{border-right:1px solid highlight;padding-left:1px}.monthSelection_640b6fe8.dayIsFocused_640b6fe8.dayHover_640b6fe8.bottomDate_640b6fe8,.monthSelection_640b6fe8.dayIsUnfocused_640b6fe8.dayHover_640b6fe8.bottomDate_640b6fe8{border-bottom:1px solid highlight;padding-top:1px}.monthSelection_640b6fe8.dayIsFocused_640b6fe8.dayHover_640b6fe8.leftdate_640b6fe8,.monthSelection_640b6fe8.dayIsUnfocused_640b6fe8.dayHover_640b6fe8.leftdate_640b6fe8{border-left:1px solid highlight;padding-right:1px}.monthSelection_640b6fe8.dayIsFocused_640b6fe8.dayHover_640b6fe8.dayPress_640b6fe8 :not(.dayIsToday_640b6fe8) span,.monthSelection_640b6fe8.dayIsUnfocused_640b6fe8.dayHover_640b6fe8.dayPress_640b6fe8 :not(.dayIsToday_640b6fe8) span{color:highlight}}\n"}]);var i="root_640b6fe8",o="picker_640b6fe8",s="holder_640b6fe8",a="pickerIsOpened_640b6fe8",c="frame_640b6fe8",u="wrap_640b6fe8",l="goTodaySpacing_640b6fe8",h="dayPicker_640b6fe8",d="header_640b6fe8",p="divider_640b6fe8",f="monthAndYear_640b6fe8",m="year_640b6fe8",g="decade_640b6fe8",b="currentYear_640b6fe8",v="currentDecade_640b6fe8",y="table_640b6fe8",S="dayWrapper_640b6fe8",_="weekday_640b6fe8",w="day_640b6fe8",C="daySelection_640b6fe8",k="dayIsToday_640b6fe8",x="dayIsDisabled_640b6fe8",O="dayIsUnfocused_640b6fe8",I="dayIsFocused_640b6fe8",T="dayIsHighlighted_640b6fe8",E="pickerIsFocused_640b6fe8",N="dayDisabled_640b6fe8",M="dayBackground_640b6fe8",P="dayHover_640b6fe8",j="dayPress_640b6fe8",D="weekBackground_640b6fe8",R="showWeekNumbers_640b6fe8",L="weekNumbers_640b6fe8",A="weekIsHighlighted_640b6fe8",F="showWeekNumbersRTL_640b6fe8",B="monthComponents_640b6fe8",q="yearComponents_640b6fe8",z="decadeComponents_640b6fe8",W="closeButton_640b6fe8",H="prevMonth_640b6fe8",V="nextMonth_640b6fe8",U="prevYear_640b6fe8",$="nextYear_640b6fe8",K="prevDecade_640b6fe8",G="nextDecade_640b6fe8",Y="prevMonthIsDisabled_640b6fe8",J="nextMonthIsDisabled_640b6fe8",Q="prevYearIsDisabled_640b6fe8",Z="nextYearIsDisabled_640b6fe8",X="prevDecadeIsDisabled_640b6fe8",ee="nextDecadeIsDisabled_640b6fe8",te="headerToggleView_640b6fe8",ne="optionGrid_640b6fe8",re="monthOption_640b6fe8",ie="yearOption_640b6fe8",oe="isHighlighted_640b6fe8",se="monthOptionIsDisabled_640b6fe8",ae="yearOptionIsDisabled_640b6fe8",ce="goToday_640b6fe8",ue="goToTodayIsDisabled_640b6fe8",le="goTodayInlineMonth_640b6fe8",he="isPickingYears_640b6fe8",de="monthPicker_640b6fe8",pe="yearPicker_640b6fe8",fe="monthPickerVisible_640b6fe8",me="toggleMonthView_640b6fe8",ge="calendarsInline_640b6fe8",be="monthPickerOnly_640b6fe8",ve="monthPickerAsOverlay_640b6fe8",ye="holderWithButton_640b6fe8",Se="monthIsHighlighted_640b6fe8",_e="monthIsCurrentMonth_640b6fe8",we="yearIsHighlighted_640b6fe8",Ce="yearIsCurrentYear_640b6fe8",ke="topLeftCornerDate_640b6fe8",xe="topRightCornerDate_640b6fe8",Oe="bottomLeftCornerDate_640b6fe8",Ie="bottomRightCornerDate_640b6fe8",Te="weekSelection_640b6fe8",Ee="monthSelection_640b6fe8",Ne="topDate_640b6fe8",Me="rightDate_640b6fe8",Pe="bottomDate_640b6fe8",je="leftdate_640b6fe8"},function(e,t,n){"use strict";t.a=function(e,t,n){var o=Object(r.a)(e,t,n),s=o.r,a=o.g,c=o.b;return Object(i.a)(s,a,c)};var r=n(2143),i=n(2214)},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.valid=0]="valid",e[e.warning=1]="warning",e[e.invalid=2]="invalid"}(r||(r={}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";var r=n(137);n.n(r);t.a=class extends r.EventEmitter{constructor(){super(),this.addListener=super.addListener.bind(this),this.on=super.on.bind(this),this.once=super.once.bind(this),this.prependListener=super.prependListener.bind(this),this.prependOnceListener=super.prependOnceListener.bind(this),this.removeListener=super.removeListener.bind(this),this.off=super.off.bind(this)}}},function(e,t,n){var r=n(4885),i=n(4886),o=n(2164).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function h(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,d=0;d<16;++d)n[d]=e.readInt32BE(4*d);for(;d<80;++d)n[d]=(t=n[d-3]^n[d-8]^n[d-14]^n[d-16])<<1|t>>>31;for(var p=0;p<80;++p){var f=~~(p/20),m=u(r)+h(f,i,o,a)+c+n[p]+s[f]|0;c=a,a=o,o=l(i),i=r,r=m}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,n){var r=n(2166)(n(2096),"Map");e.exports=r},function(e,t,n){var r=n(2270),i=n(2139),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==s||t==a||t==o||t==c}},function(e,t,n){var r=n(2096).Symbol;e.exports=r},function(e,t,n){var r=n(3093);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(3094),i=n(4928),o=n(2377);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t,n){(function(e){var r=n(2096),i=n(4926),o="object"==typeof t&&t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;e.exports=c}).call(t,n(67)(e))},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(3090),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a}).call(t,n(67)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(4934),i=n(3102),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return o.call(e,t)}))}:i;e.exports=a},function(e,t,n){var r=n(3099)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(4938),i=n(2597),o=n(4939),s=n(4940),a=n(4941),c=n(2270),u=n(3091),l=u(r),h=u(i),d=u(o),p=u(s),f=u(a),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||s&&"[object Set]"!=m(new s)||a&&"[object WeakMap]"!=m(new a))&&(m=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case h:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(4944);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2380);n.d(t,"DefaultErrorTracking",function(){return r.a});var i=n(3119);n.d(t,"DocumentDeltaStorageService",function(){return i.b}),n.d(t,"DeltaStorageService",function(){return i.a});var o=n(2381);n.d(t,"DocumentService",function(){return o.a});var s=n(3149);n.d(t,"DocumentStorageService",function(){return s.a});var a=n(5086);n.d(t,"createDocumentService",function(){return a.a});var c=n(3152);n.d(t,"TokenService",function(){return c.b}),n.d(t,"TokenProvider",function(){return c.a});var u=n(2623);n.d(t,"DocumentService2",function(){return u.a});var l=n(5092);n.d(t,"createDocumentService2",function(){return l.a});var h=n(3151);n.d(t,"NullBlobStorageService",function(){return h.a});var d=n(5093);n.d(t,"RouterliciousDocumentServiceFactory",function(){return d.a})},function(e,t,n){"use strict";(function(t){var r=n(2077),i=n(5003),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a={adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=n(3121):"undefined"!==typeof t&&(e=n(3121)),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){a.headers[e]={}}),r.forEach(["post","put","patch"],function(e){a.headers[e]=r.merge(o)}),e.exports=a}).call(t,n(29))},function(e,t,n){e.exports={decode:n(3125),verify:n(5023),sign:n(5025),JsonWebTokenError:n(2382),NotBeforeError:n(3129),TokenExpiredError:n(3130)}},function(e,t,n){var r=n(5018),i=n(5022);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=r.sign,t.verify=i.verify,t.decode=i.decode,t.isValid=i.isValid,t.createSign=function(e){return new r(e)},t.createVerify=function(e){return new i(e)}},function(e,t,n){"use strict";n(5036);var r=n(5038);n.d(t,"e",function(){return r.a});n(5039);var i=n(5040);n.d(t,"d",function(){return i.a});n(5041);var o=n(5042);n.d(t,"b",function(){return o.a});n(5043);var s=n(5044);n.d(t,"f",function(){return s.a});n(5045),n(5046),n(5047);var a=n(3134);n.d(t,"a",function(){return a.a});n(5048),n(5049),n(5050),n(5051),n(5052);var c=n(2615);n.d(t,"c",function(){return c.a})},function(e,t,n){"use strict";var r=n(137);n.n(r);t.a=class extends r.EventEmitter{constructor(){super(),this.addListener=super.addListener.bind(this),this.on=super.on.bind(this),this.once=super.once.bind(this),this.prependListener=super.prependListener.bind(this),this.prependOnceListener=super.prependOnceListener.bind(this),this.removeListener=super.removeListener.bind(this),this.off=super.off.bind(this)}}},function(e,t,n){var r=n(5063)("socket.io-parser"),i=n(2617),o=n(5066),s=n(2618),a=n(3139);function c(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=h;var u=t.ERROR+'"encode error"';function l(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===i)return u;n+=i}return r("encoded %j as %s",e,n),n}function h(){this.reconstructor=null}function d(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:t.ERROR,data:"parser error: "+e}}c.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){o.removeBlobs(e,function(e){var n=o.deconstructPacket(e),r=l(n.packet),i=n.buffers;i.unshift(r),t(i)})}(e,n):n([l(e)])},i(h.prototype),h.prototype.add=function(e){var n;if("string"===typeof e)n=function(e){var n=0,i={type:Number(e.charAt(0))};if(null==t.types[i.type])return p("unknown packet type "+i.type);if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var o="";"-"!==e.charAt(++n)&&(o+=e.charAt(n),n!=e.length););if(o!=Number(o)||"-"!==e.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===e.charAt(n+1))for(i.nsp="";++n;){var a=e.charAt(n);if(","===a)break;if(i.nsp+=a,n===e.length)break}else i.nsp="/";var c=e.charAt(n+1);if(""!==c&&Number(c)==c){for(i.id="";++n;){var a=e.charAt(n);if(null==a||Number(a)!=a){--n;break}if(i.id+=e.charAt(n),n===e.length)break}i.id=Number(i.id)}if(e.charAt(++n)){var u=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(n)),l=!1!==u&&(i.type===t.ERROR||s(u));if(!l)return p("invalid payload");i.data=u}return r("decoded %s as %j",e,i),i}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new d(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(5069),i=n(2620);e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(s){}try{if("undefined"!==typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(s){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}},function(e,t){e.exports="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},function(e,t,n){var r=n(2207),i=n(2622);function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=o,i(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";var r=n(2381),i=n(5090);t.a=class extends r.a{constructor(e,t,n,r,i,o,s,a,c,u,l){super(e,t,n,r,i,o,s,a,null,c,u,l)}async connectToDeltaStream(e){return i.a.create(this.tenantId,this.documentId,this.tokenProvider.token,e,this.ordererUrl)}}},function(e,t,n){"use strict";var r=n(137),i=(n.n(r),n(2099));class o{constructor(e,t,n){this.start=e,this.end=t,n&&this.addProperties(n)}getAdditionalPropertySets(){return this.auxProps}addPropertySet(e){void 0===this.auxProps&&(this.auxProps=[]),this.auxProps.push(e)}serialize(e){let t=0;e&&(t=e.getCurrentSeq());const n={end:this.end,intervalType:0,sequenceNumber:t,start:this.start};return this.properties&&(n.properties=this.properties),n}clone(){return new o(this.start,this.end,this.properties)}compare(e){const t=this.start-e.start;return 0===t?this.end-e.end:t}overlaps(e){return this.start<e.end&&this.end>=e.start}union(e){return new o(Math.min(this.start,e.start),Math.max(this.end,e.end),this.properties)}getProperties(){return this.properties}addProperties(e,t){this.properties=i.addProperties(this.properties,e,t)}}t.a=o;class s{constructor(e,t,n,r){this.start=e,this.end=t,this.intervalType=n,r&&this.addProperties(r)}serialize(e){const t=this.start.toPosition(),n={end:this.end.toPosition(),intervalType:this.intervalType,sequenceNumber:e.getCurrentSeq(),start:t};return this.properties&&(n.properties=this.properties),n}clone(){return new s(this.start,this.end,this.intervalType)}compare(e){const t=this.start.compare(e.start);return 0===t?this.end.compare(e.end):t}overlaps(e){const t=this.start.compare(e.end)<0&&this.end.compare(e.start)>=0;return this.checkMergeTree&&this.checkOverlaps(e,t),t}union(e){return new s(this.start.min(e.start),this.end.max(e.end),this.intervalType)}addProperties(e,t){this.properties=i.addProperties(this.properties,e,t)}overlapsPos(e,t){const n=this.start.toPosition();return this.start.toPosition()>e&&n<t}checkOverlaps(e,t){const n=this.start.toPosition(),r=e.start.toPosition(),o=this.end.toPosition(),s=e.end.toPosition();(n<s&&r<o)!==t&&(console.log(`check mismatch: res ${t} ${this.start.segment===e.end.segment} ${e.start.segment===this.end.segment}`),console.log(`as ${n} ae ${o} bs ${r} be ${s}`),console.log(`as ${i.ordinalToArray(this.start.segment.ordinal)}@${this.start.offset}`),console.log(`ae ${i.ordinalToArray(this.end.segment.ordinal)}@${this.end.offset}`),console.log(`bs ${i.ordinalToArray(e.start.segment.ordinal)}@${e.start.offset}`),console.log(`be ${i.ordinalToArray(e.end.segment.ordinal)}@${e.end.offset}`),console.log(this.checkMergeTree.nodeToString(e.start.segment.parent,"")))}}function a(e,t,n){const r=e.getContainingSegment(t);if(r&&r.segment){const t=new i.LocalReference(e,r.segment,r.offset,n);return n!==i.ReferenceType.Transient&&e.addLocalReference(t),t}return new i.LocalReference(e,void 0)}function c(e,t,n,r,o){let c=i.ReferenceType.RangeBegin,u=i.ReferenceType.RangeEnd;o===i.IntervalType.Nest?(c=i.ReferenceType.NestBegin,u=i.ReferenceType.NestEnd):o===i.IntervalType.Transient&&(c=i.ReferenceType.Transient,u=i.ReferenceType.Transient),o&i.IntervalType.SlideOnRemove&&(c|=i.ReferenceType.SlideOnRemove,u|=i.ReferenceType.SlideOnRemove);const l=a(r,t,c),h=a(r,n,u);if(l&&h){l.pairedRef=h,h.pairedRef=l;const t={[i.reservedRangeLabelsKey]:[e]};return l.addProperties(t),h.addProperties(t),new s(l,h,o,t)}}t.e=s;class u{constructor(e,t,n){this.client=e,this.label=t,this.helpers=n,this.intervalTree=new i.IntervalTree,this.endIntervalTree=new i.RedBlackTree(n.compareEnds)}addConflictResolver(e){this.conflictResolver=e,this.endConflictResolver=((e,t)=>{const n=this.conflictResolver(e,t);return{data:n,key:n}})}map(e){this.intervalTree.map(e)}findOverlappingIntervals(e,t){if(this.intervalTree.intervals.isEmpty())return[];{const n=this.helpers.create("transient",e,t,this.client,i.IntervalType.Transient);return this.intervalTree.match(n).map(e=>e.key)}}previousInterval(e){const t=this.helpers.create("transient",e,e,this.client,i.IntervalType.Transient),n=this.endIntervalTree.floor(t);if(n)return n.data}nextInterval(e){const t=this.helpers.create("transient",e,e,this.client,i.IntervalType.Transient),n=this.endIntervalTree.ceil(t);if(n)return n.data}removeInterval(e,t){const n=this.helpers.create("transient",e,t,this.client,i.IntervalType.Transient);return this.intervalTree.remove(n),this.endIntervalTree.remove(n),n}createInterval(e,t,n){return this.helpers.create(this.label,e,t,this.client,n)}addInterval(e,t,n,r){const o=this.createInterval(e,t,n);return o&&(o.addProperties(r),this.label&&this.label.length>0&&(o.properties[i.reservedRangeLabelsKey]=[this.label]),this.intervalTree.put(o,this.conflictResolver),this.endIntervalTree.put(o,o,this.endConflictResolver)),o}serialize(){const e=this.client;return this.intervalTree.intervals.keys().map(t=>t.serialize(e))}}const l=(e,t)=>e.end.compare(t.end);class h{get name(){return h.Name}get factory(){return h._factory}get ops(){return h._ops}}t.f=h,h.Name="sharedStringIntervalCollection",h._factory=new class{load(e,t=[]){return new g({compareEnds:l,create:c},!0,e,t)}store(e){return e.serializeInternal()}},h._ops=new Map([["add",{process:(e,t,n,r)=>{n||e.addInternal(t,n,r)}}],["delete",{process:(e,t,n,r)=>{n||e.deleteInterval(t,n,r)}}]]);const d=(e,t)=>e.end-t.end;function p(e,t,n,r){let s;return e&&e.length>0&&(s={[i.reservedRangeLabelsKey]:[e]}),new o(t,n,s)}class f{get name(){return f.Name}get factory(){return f._factory}get ops(){return f._ops}}t.c=f,f.Name="sharedIntervalCollection",f._factory=new class{load(e,t=[]){const n=new g({compareEnds:d,create:p},!1,e,t);return n.attach(void 0,""),n}store(e){return e.serializeInternal()}},f._ops=new Map([["add",{process:(e,t,n,r)=>{n||e.addInternal(t,n,r)}}],["delete",{process:(e,t,n,r)=>{n||e.deleteInterval(t,n,r)}}]]);class m extends r.EventEmitter{constructor(e,t,n,r,i){if(super(),this.client=e,this.emitter=i,this.localCollection=new u(e,n,r),t)for(const o of t)this.localCollection.addInterval(o.start,o.end,o.intervalType,o.properties)}attachDeserializer(e){this.attachDeserializerCore(e)}addConflictResolver(e){this.localCollection.addConflictResolver(e)}findOverlappingIntervals(e,t){return this.localCollection.findOverlappingIntervals(e,t)}map(e){this.localCollection.map(e)}previousInterval(e){return this.localCollection.previousInterval(e)}nextInterval(e){return this.localCollection.nextInterval(e)}on(e,t){return super.on(e,t)}add(e,t,n,r){let i=0;this.client&&(i=this.client.getCurrentSeq());const o={end:t,intervalType:n,properties:r,sequenceNumber:i,start:e};this.addInternal(o,!0,void 0)}delete(e,t){let n=0;this.client&&(n=this.client.getCurrentSeq());const r={start:e,end:t,sequenceNumber:n,intervalType:i.IntervalType.Transient};this.deleteInterval(r,!0,void 0)}addInternal(e,t,n){const r=this.localCollection.addInterval(e.start,e.end,e.intervalType,e.properties);return r&&(t?this.emitter.emit("add",void 0,e):this.onDeserialize&&this.onDeserialize(r)),this.emit("addInterval",r,t,n),this}deleteInterval(e,t,n){const r=this.localCollection.removeInterval(e.start,e.end);return r&&(t?this.emitter.emit("delete",void 0,e):this.onDeserialize&&this.onDeserialize(r)),this.emit("deleteInterval",r,t,n),this}serializeInternal(){return this.localCollection.serialize()}attachDeserializerCore(e){e&&(this.onDeserialize=e,this.localCollection.map(e=>{this.onDeserialize(e)}))}}t.d=m;class g{constructor(e,t,n,r){this.helpers=e,this.requiresClient=t,this.emitter=n,this.savedSerializedIntervals=r}get attached(){return!!this.view}attach(e,t){if(this.view)throw new Error("Only supports one Sequence attach");if(void 0===e&&this.requiresClient)throw new Error("Client required for this collection");this.view=new m(e,this.savedSerializedIntervals,t,this.helpers,this.emitter),this.savedSerializedIntervals=void 0}add(e,t,n,r){if(!this.view)throw new Error("attach must be called prior to adding intervals");this.view.add(e,t,n,r)}delete(e,t){if(!this.view)throw new Error("attach must be called prior to deleting intervals");this.view.delete(e,t)}addConflictResolver(e){this.view.addConflictResolver(e)}async getView(e){return this.view?(e&&this.view.attachDeserializer(e),this.view):Promise.reject("attachSequence must be called prior to retrieving the view")}addInternal(e,t,n){if(!this.view)throw new Error("attachSequence must be called");return this.view.addInternal(e,t,n)}deleteInterval(e,t,n){if(!this.view)throw new Error("attach must be called prior to deleting intervals");this.view.deleteInterval(e,t,n)}serializeInternal(){if(!this.view)throw new Error("attachSequence must be called");return this.view.serializeInternal()}}t.b=g},function(e,t,n){"use strict";t.a=class{constructor(){this.oridinalSortedItems=[]}get size(){return this.oridinalSortedItems.length}get items(){return this.oridinalSortedItems}addOrUpdate(e,t){const n=this.findOrdinalPosition(this.getOrdinal(e));n.exists?t&&t(this.oridinalSortedItems[n.index],e):this.oridinalSortedItems.splice(n.index,0,e)}remove(e){const t=this.findOrdinalPosition(this.getOrdinal(e));return!!t.exists&&(this.oridinalSortedItems.splice(t.index,1),!0)}has(e){return this.findOrdinalPosition(this.getOrdinal(e)).exists}getOrdinal(e){const t=e;return t&&t.segment?t.segment.ordinal:e.ordinal}findOrdinalPosition(e,t,n){if(0===this.oridinalSortedItems.length)return{exists:!1,index:0};if(void 0===t||void 0===n)return this.findOrdinalPosition(e,0,this.oridinalSortedItems.length-1);const r=t+Math.floor((n-t)/2);return this.getOrdinal(this.oridinalSortedItems[r])>e?t===r?{exists:!1,index:r}:this.findOrdinalPosition(e,t,r-1):this.getOrdinal(this.oridinalSortedItems[r])<e?r===n?{exists:!1,index:r+1}:this.findOrdinalPosition(e,r+1,n):{exists:!0,index:r}}}},function(e,t,n){"use strict";var r=n(2006),i=n(2001),o=n(2169),s=n(2209),a=n(2627);class c{constructor(e,t,n,i){this.mergeTree=e,this.filename=n,this.onCompletion=i,this.logger=r.ChildLogger.create(t,"Snapshot")}getSeqLengthSegs(e,t,n,r=0){const i=[];let o=0,s=0;for(;o<n&&r+s<e.length;){const n=e[r+s];i.push(n),o+=t[r+s],s++}return{version:void 0,chunkStartSegmentIndex:r,chunkSegmentCount:s,chunkLengthChars:o,totalLengthChars:this.header.segmentsTotalLength,totalSegmentCount:e.length,chunkSequenceNumber:this.header.seq,segmentTexts:i}}emit(e,t,n,r){const o=this.getSeqLengthSegs(this.segments,this.segmentLengths,c.sizeOfFirstChunk);let s=o.chunkLengthChars,u=o.chunkSegmentCount;const l={entries:[{mode:i.FileMode.File,path:c.header,type:i.TreeEntry[i.TreeEntry.Blob],value:{contents:Object(a.c)(c.header,o,this.logger,t,n,r),encoding:"utf-8"}}],id:null};if(o.chunkSegmentCount<o.totalSegmentCount){const e=this.getSeqLengthSegs(this.segments,this.segmentLengths,this.header.segmentsTotalLength,o.chunkSegmentCount);s+=e.chunkLengthChars,u+=e.chunkSegmentCount,l.entries.push({mode:i.FileMode.File,path:c.body,type:i.TreeEntry[i.TreeEntry.Blob],value:{contents:Object(a.c)(c.body,e,this.logger,t,n,r),encoding:"utf-8"}})}return this.logger.shipAssert(s===this.header.segmentsTotalLength,{eventName:"emit: mismatch in segmentsTotalLength"}),this.logger.shipAssert(u===o.totalSegmentCount,{eventName:"emit: mismatch in totalSegmentCount"}),l.entries.push({mode:i.FileMode.File,path:c.tardis,type:i.TreeEntry[i.TreeEntry.Blob],value:{contents:t?t.stringify(e,n,r):JSON.stringify(e),encoding:"utf-8"}}),l}extractSync(){const e=this.mergeTree.getCollabWindow();this.seq=e.minSeq,this.header={segmentsTotalLength:this.mergeTree.getLength(this.mergeTree.collabWindow.minSeq,o.b),seq:this.mergeTree.collabWindow.minSeq};const t=[];let n;this.mergeTree.map({leaf:(e,r,i,a,c,u)=>(e.seq!=o.d&&e.seq<=this.seq&&(void 0===e.removedSeq||e.removedSeq==o.d||e.removedSeq>this.seq)&&(n&&n.canAppend(e)&&s.g(n.properties,e.properties)?(n=n.clone()).append(e.clone()):(n&&t.push(n),n=e)),!0)},this.seq,o.b),n&&t.push(n),this.segments=[],this.segmentLengths=[];let r=0;return t.map(e=>{r+=e.cachedLength,this.segments.push(e.toJSONObject()),this.segmentLengths.push(e.cachedLength)}),this.header.segmentsTotalLength!=r&&(this.logger.sendErrorEvent({eventName:"SegmentsTotalLengthMismatch",totalLength:r,segmentsTotalLength:this.header.segmentsTotalLength}),this.header.segmentsTotalLength=r),this.segments}}t.a=c,c.header="header",c.body="body",c.tardis="tardis",c.sizeOfFirstChunk=1e4},function(e,t,n){"use strict";t.a=function(e){return!!e&&"object"===typeof e&&"json"in e},t.c=function(e,t,n,i,s,a){var c,u,l,h;let d;void 0!==t.version&&n.send({eventName:"MergeTreeChunk:serializeAsMinSupportedVersion",category:"generic",fromChunkVersion:t.version,toChunkVersion:void 0});switch(t.version){case void 0:(d=t).headerMetadata=o(e,d);break;case"1":const n=t,i=e===r.SnapshotLegacy.header?n.headerMetadata:void 0;d={version:void 0,chunkStartSegmentIndex:n.startIndex,chunkLengthChars:n.length,chunkSegmentCount:n.segmentCount,segmentTexts:n.segments,totalLengthChars:null===(c=i)||void 0===c?void 0:c.totalLength,totalSegmentCount:null===(u=i)||void 0===u?void 0:u.totalSegmentCount,chunkSequenceNumber:null===(l=i)||void 0===l?void 0:l.sequenceNumber,chunkMinSequenceNumber:null===(h=i)||void 0===h?void 0:h.minSequenceNumber,headerMetadata:i};break;default:throw new Error(`Unsupported chunk path: ${e} version: ${t.version}`)}return void 0!==i?i.stringify(d,s,a):JSON.stringify(d)},t.b=function(e,t,n,r,o,s){const a=i(e,t,n);return void 0!==r?r.stringify(a,o,s):JSON.stringify(a)},t.d=i;var r=n(2099);function i(e,t,n){switch("1"!==t.version&&n.send({eventName:"MergeTreeChunk:toLatestVersion",category:"generic",fromChunkVersion:t.version,toChunkVersion:"1"}),t.version){case void 0:{const n=t;return{version:"1",length:n.chunkLengthChars,segmentCount:n.chunkSegmentCount,headerMetadata:o(e,n),segments:n.segmentTexts,startIndex:n.chunkStartSegmentIndex}}case"1":return t;default:throw new Error(`Unsupported chunk path: ${e} version: ${t.version}`)}}function o(e,t){if(e===r.SnapshotLegacy.header){if(void 0!==t.headerMetadata)return t.headerMetadata;const e=[{id:r.SnapshotLegacy.header}];return t.chunkLengthChars<t.totalLengthChars&&e.push({id:r.SnapshotLegacy.body}),{orderedChunkMetadata:e,minSequenceNumber:t.chunkMinSequenceNumber,sequenceNumber:t.chunkSequenceNumber,totalLength:t.totalLengthChars,totalSegmentCount:t.totalSegmentCount,hasTardis:!0}}}},function(e,t,n){"use strict";var r=n(2168),i=n(2386);class o extends r.a{constructor(e){super(),this.text=e,this.type=o.type,this.cachedLength=e.length}static is(e){return e.type===o.type}static make(e,t){const n=new o(e);return t&&n.addProperties(t),n}static fromJSONObject(e){if("string"===typeof e)return new o(e);if(e&&"object"===typeof e&&"text"in e){const t=e;return o.make(t.text,t.props)}}toJSONObject(){return this.properties?{text:this.text,props:this.properties}:this.text}clone(e=0,t){const n=this.text.substring(e,t),r=o.make(n,this.properties);return this.cloneInto(r),r}canAppend(e){return!this.text.endsWith("\n")&&o.is(e)&&(this.cachedLength<=r.j.TextSegmentGranularity||e.cachedLength<=r.j.TextSegmentGranularity)}toString(){return this.text}append(e){if(!o.is(e))throw new Error("can only append text segment");i.b.append(this,e),this.text+=e.text,this.cachedLength=this.text.length}removeRange(e,t){let n="";const r=this.text.length;return e>0&&(n+=this.text.substring(0,e)),t<r&&(n+=this.text.substring(t)),this.text=n,this.cachedLength=n.length,0===n.length}createSplitSegmentAt(e){if(e>0){const t=this.text.substring(e);return this.text=this.text.substring(0,e),this.cachedLength=this.text.length,new o(t)}}}t.b=o,o.type="TextSegment";t.a=class{constructor(e){this.mergeTree=e,this.gatherText=((e,t,n,i,s,a,c)=>{if(o.is(e)){r.j.traceGatherText&&console.log(`@cli ${this.mergeTree.getLongClientId(this.mergeTree.collabWindow.clientId)} `+`gather seg seq ${e.seq} rseq ${e.removedSeq} text ${e.text}`);let t="",n="";if(c.parallelArrays){const r=[],i=[];e.properties&&e.properties["font-weight"]&&r.push("b"),e.properties&&e.properties["text-decoration"]&&r.push("u");const o=[];if(r.length>0){for(const e of r)c.tagsInProgress.includes(e)||(t+=`<${e}>`,i.push(e));for(const e of c.tagsInProgress)r.includes(e)||(n+=`</${e}>`,o.push(e));for(const e of i.reverse())c.tagsInProgress.push(e)}else for(const e of c.tagsInProgress)n+=`</${e}>`,o.push(e);for(const e of o){const t=c.tagsInProgress.indexOf(e);t>=0&&c.tagsInProgress.splice(t,1)}}c.textSegment.text+=n,c.textSegment.text+=t,s<=0&&a>=e.text.length?c.textSegment.text+=e.text:(s<0&&(s=0),a>=e.text.length?c.textSegment.text+=e.text.substring(s):c.textSegment.text+=e.text.substring(s,a))}else if(c.placeholder&&c.placeholder.length>0)if("*"===c.placeholder){const t=e;c.textSegment.text+=`\n${t.toString()}`}else for(let r=0;r<e.cachedLength;r++)c.textSegment.text+=c.placeholder;else if(c.parallelArrays){const t=e;t.hasTileLabel(c.parallelMarkerLabel)&&(c.parallelMarkers.push(t),c.parallelText.push(c.textSegment.text),c.textSegment.text="")}return!0})}getTextAndMarkers(e,t,n,i,s){const a=this.getValidRange(i,s,e,t),c={parallelArrays:!0,parallelMarkerLabel:n,parallelMarkers:[],parallelText:[],tagsInProgress:[],textSegment:new o("")};return r.j.traceGatherText&&console.log(`get text on cli ${Object(r.q)(this.mergeTree,this.mergeTree.collabWindow.clientId)} `+`ref cli ${Object(r.q)(this.mergeTree,t)} refSeq ${e}`),this.mergeTree.mapRange({leaf:this.gatherText},e,t,c,a.start,a.end),{parallelText:c.parallelText,parallelMarkers:c.parallelMarkers}}getText(e,t,n="",i,s){const a=this.getValidRange(i,s,e,t),c={textSegment:new o(""),placeholder:n};return r.j.traceGatherText&&console.log(`get text on cli ${Object(r.q)(this.mergeTree,this.mergeTree.collabWindow.clientId)} `+`ref cli ${Object(r.q)(this.mergeTree,t)} refSeq ${e}`),this.mergeTree.mapRange({leaf:this.gatherText},e,t,c,a.start,a.end),c.textSegment.text}getValidRange(e,t,n,r){const i={end:t,start:e};return void 0===i.start&&(i.start=0),void 0===i.end&&(i.end=this.mergeTree.getLength(n,r)),i}}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2006)),o=n(2116),s=n(2099),a=n(2001),c=n(2632),u=n(2140),l=n(3165),h=n(2624),d=n(3166);const p=n(2165),f="header",m="content";class g extends u.a{constructor(e,t,n,r){super(t,e,n),this.id=t,this.segmentFromSpec=r,this.isLoaded=!1,this.loadedDeferred=new i.Deferred,this.messagesSinceMSNChange=[],this.client=new s.Client(r,i.ChildLogger.create(this.logger,"SharedSegmentSequence.MergeTreeClient"),e.options),super.on("newListener",e=>{switch(e){case"sequenceDelta":this.client.mergeTreeDeltaCallback||(this.client.mergeTreeDeltaCallback=((e,t)=>{this.emit("sequenceDelta",new d.a(e,t,this.client),this)}));break;case"maintenance":this.client.mergeTreeMaintenanceCallback||(this.client.mergeTreeMaintenanceCallback=(e=>{this.emit("maintenance",new d.c(e,this.client),this)}))}}),super.on("removeListener",e=>{switch(e){case"sequenceDelta":0===super.listenerCount(e)&&(this.client.mergeTreeDeltaCallback=void 0);break;case"maintenance":0===super.listenerCount(e)&&(this.client.mergeTreeMaintenanceCallback=void 0)}}),this.intervalMapKernel=new o.MapKernel(this.runtime,this.handle,e=>this.submitLocalMessage(e),[new h.f])}get loaded(){return this.loadedDeferred.promise}static createOpsFromDelta(e){var t;const n=[];for(const r of e.ranges)switch(e.deltaOperation){case 2:{const e=n[n.length-1],t={};for(const n of Object.keys(r.propertyDeltas))t[n]=void 0===r.segment.properties[n]?null:r.segment.properties[n];e&&e.pos2===r.position&&s.matchProperties(e.props,t)?e.pos2+=r.segment.cachedLength:n.push(s.createAnnotateRangeOp(r.position,r.position+r.segment.cachedLength,t,void 0));break}case 0:n.push(s.createInsertOp(r.position,p(r.segment.toJSONObject())));break;case 1:{const e=n[n.length-1];(null===(t=e)||void 0===t?void 0:t.pos1)===r.position?e.pos2+=r.segment.cachedLength:n.push(s.createRemoveRangeOp(r.position,r.position+r.segment.cachedLength));break}}return n}removeRange(e,t){const n=this.client.removeRangeLocal(e,t);return n&&this.submitSequenceMessage(n),n}cut(e,t,n){const r=this.client.removeRangeLocal(e,t,n);r&&this.submitSequenceMessage(r)}paste(e,t){const n=this.client.pasteLocal(e,t);return n&&this.submitSequenceMessage(n),e}copy(e,t,n){const r=this.client.copyLocal(e,t,n);r&&this.submitSequenceMessage(r)}groupOperation(e){this.client.localTransaction(e),this.submitSequenceMessage(e)}getContainingSegment(e){return this.client.getContainingSegment(e)}getLength(){return this.client.getLength()}getPosition(e){return this.client.getPosition(e)}annotateRange(e,t,n,r){const i=this.client.annotateRangeLocal(e,t,n,r);i&&this.submitSequenceMessage(i)}getPropertiesAtPosition(e){return this.client.getPropertiesAtPosition(e)}getRangeExtentsOfPosition(e){return this.client.getRangeExtentsOfPosition(e)}createPositionReference(e,t,n){const r=new s.LocalReference(this.client,e,t,n);return n!==s.ReferenceType.Transient&&this.addLocalReference(r),r}localRefToPos(e){return e.segment?e.offset+this.getPosition(e.segment):-1}resolveRemoteClientPosition(e,t,n){return this.client.resolveRemoteClientPosition(e,t,n)}submitSequenceMessage(e){const t=Object(u.c)(e,this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext,this.handle);this.submitLocalMessage(t)}addLocalReference(e){return this.client.addLocalReference(e)}removeLocalReference(e){return this.client.removeLocalReference(e)}posFromRelativePos(e){return this.client.posFromRelativePos(e)}walkSegments(e,t,n,r,i=!1){return this.client.walkSegments(e,t,n,r,i)}getStackContext(e,t){return this.client.getStackContext(e,t)}getCurrentSeq(){return this.client.getCurrentSeq()}insertAtReferencePosition(e,t){const n=this.client.insertAtReferencePositionLocal(e,t);n&&this.submitSequenceMessage(n)}async waitIntervalCollection(e){return this.intervalMapKernel.wait(this.getIntervalCollectionPath(e))}getIntervalCollection(e){const t=this.getIntervalCollectionPath(e);return this.intervalMapKernel.has(t)||this.intervalMapKernel.createValueType(t,h.f.Name,void 0),this.intervalMapKernel.get(t)}snapshot(){return{entries:[{mode:a.FileMode.File,path:f,type:a.TreeEntry[a.TreeEntry.Blob],value:{contents:this.intervalMapKernel.serialize(),encoding:"utf-8"}},{mode:a.FileMode.Directory,path:m,type:a.TreeEntry[a.TreeEntry.Tree],value:this.snapshotMergeTree()}],id:null}}replaceRange(e,t,n){const r=Math.max(e,t),i=this.client.insertSegmentLocal(r,n);if(i)if(e!==t){const n=this.client.removeRangeLocal(e,t);this.submitSequenceMessage(s.createGroupOp(i,n))}else this.submitSequenceMessage(i)}onConnect(e){for(const n of e)this.intervalMapKernel.trySubmitMessage(n);this.client.startOrUpdateCollaboration(this.runtime.clientId);const t=this.client.resetPendingSegmentsToOp();t&&this.submitSequenceMessage(t)}onDisconnect(){Object(l.a)(`${this.id} is now disconnected`)}async loadCore(e,t){const n=await t.read(f),r=n?Object(i.fromBase64ToUtf8)(n):void 0;this.intervalMapKernel.populate(r);try{(await this.client.load(this.runtime,new c.b(t,m),e)).forEach(e=>this.processMergeTreeMsg(e)),this.loadFinished()}catch(o){this.loadFinished(o)}}processCore(e,t){let n=!1;e.type===a.MessageType.Operation&&(n=this.intervalMapKernel.tryProcessMessage(e,t)),n||this.processMergeTreeMsg(e)}registerCore(){for(const e of this.intervalMapKernel.values())u.a.is(e)&&e.register();this.client.startOrUpdateCollaboration(this.runtime.clientId)}initializeLocalCore(){super.initializeLocalCore(),this.loadFinished()}snapshotMergeTree(){r(this.isLoaded,"Snapshot called when not fully loaded");const e=this.runtime.deltaManager?this.runtime.deltaManager.minimumSequenceNumber:0;return this.runtime.deltaManager&&this.processMinSequenceNumberChanged(e),this.messagesSinceMSNChange.forEach(t=>t.minimumSequenceNumber=e),this.client.snapshot(this.runtime,this.handle,this.messagesSinceMSNChange)}processMergeTreeMsg(e){const t=Object(u.d)(e,this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext),n=[];function r(e){n.push(...g.createOpsFromDelta(e))}const i=t.referenceSequenceNumber!==t.sequenceNumber-1;let o=t;i&&((o=p(t)).referenceSequenceNumber=t.sequenceNumber-1,this.on("sequenceDelta",r)),this.client.applyMsg(t),i&&(this.removeListener("sequenceDelta",r),o.contents=1!==n.length?s.createGroupOp(...n):n[0]),this.messagesSinceMSNChange.push(o),this.messagesSinceMSNChange.length>20&&this.messagesSinceMSNChange[20].sequenceNumber<t.minimumSequenceNumber&&this.processMinSequenceNumberChanged(t.minimumSequenceNumber)}getIntervalCollectionPath(e){return`intervalCollections/${e}`}processMinSequenceNumberChanged(e){let t=0;for(;t<this.messagesSinceMSNChange.length&&!(this.messagesSinceMSNChange[t].sequenceNumber>e);t++);0!==t&&(this.messagesSinceMSNChange=this.messagesSinceMSNChange.slice(t))}loadFinished(e){this.initializeIntervalCollections(),e?(this.logger.sendErrorEvent({eventName:"SequenceLoadFailed"},e),this.loadedDeferred.reject(e)):(this.isLoaded=!0,this.loadedDeferred.resolve())}initializeIntervalCollections(){this.intervalMapKernel.eventEmitter.on("valueChanged",e=>{const t=this.intervalMapKernel.get(e.key);t.attached||t.attach(this.client,e.key)});for(const e of this.intervalMapKernel.keys()){this.intervalMapKernel.get(e).attach(this.client,e)}}}t.a=g},function(e,t,n){"use strict";t.a="@microsoft/fluid-map";t.b="0.18.4"},function(e,t,n){"use strict";t.b=function(e,t,n,r){const i=e.makeSerialized(t,n,r);return{type:i.type,value:i.value&&JSON.parse(i.value)}};var r=n(2140);const i=[new(n(3161).c)];t.c=i;class o{constructor(e){this.value=e}get type(){return r.b[r.b.Plain]}makeSerialized(e,t,n){const i=Object(r.e)(this.value,e,t,n);return{type:this.type,value:i}}}class s{constructor(e,t){this.value=e,this.valueType=t}get type(){return this.valueType.name}makeSerialized(e,t,n){const i=this.valueType.factory.store(this.value),o=Object(r.e)(i,e,t,n);return{type:this.type,value:o}}getOpHandler(e){const t=this.valueType.ops.get(e);if(!t)throw new Error("Unknown type message");return t}}t.a=class{constructor(e){this.runtime=e,this.valueTypes=new Map}registerValueType(e){this.valueTypes.set(e.name,e)}fromSerializable(e,t){if(e.type===r.b[r.b.Plain]||e.type===r.b[r.b.Shared]){if(e.type===r.b[r.b.Shared]){e.type=r.b[r.b.Plain];const t={type:"__fluid_handle__",url:e.value};e.value=t}const t=Object(r.d)(e.value,this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext);return new o(t)}if(this.valueTypes.has(e.type)){const n=this.valueTypes.get(e.type);e.value=Object(r.d)(e.value,this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext);const i=n.factory.load(t,e.value);return new s(i,n)}throw new Error(`Unknown value type "${e.type}"`)}fromInMemory(e){if(r.a.is(e))throw new Error("SharedObject sets are no longer supported. Instead set the SharedObject handle.");return new o(e)}makeValueType(e,t,n){const r=this.loadValueType(n,e,t);return new s(r,this.valueTypes.get(e))}loadValueType(e,t,n){const r=this.valueTypes.get(t);if(!r)throw new Error(`Unknown type '${t}' specified`);return r.factory.load(n,e)}}},function(e,t,n){"use strict";var r=n(5108);n.d(t,"a",function(){return r.a});var i=n(5110);n.d(t,"c",function(){return i.a});var o=n(3164);n.d(t,"d",function(){return o.b}),n.d(t,"e",function(){return o.c});var s=n(5111);n.d(t,"b",function(){return s.a})},function(e,t,n){"use strict";var r=n(5117);n.d(t,"b",function(){return r.a});var i=n(5124);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";t.a=function(e,t,n,r,a,c,u){const l=new o.a(e,t,t=>{const r={address:e,contents:t};return n(i.MessageType.Operation,r)},r),h=new s.a(c,a,u);return{deltaConnection:l,objectStorage:h}},t.b=function(e){const t=e.snapshot(),n=e.attributes;return t.entries.push(new r.BlobTreeEntry(".attributes",JSON.stringify(n))),t};var r=n(2097),i=n(2001),o=n(5118),s=n(5119)},function(e,t,n){"use strict";var r=n(5125);n.d(t,"b",function(){return r.a});n(3181),n(3180);var i=n(3176);n.d(t,"d",function(){return i.a});var o=n(2636);n.d(t,"c",function(){return o.a});var s=n(3174);n.d(t,"a",function(){return s.a});n(3178),n(3177),n(3179)},function(e,t,n){"use strict";class r{constructor(e){this.request=e;const t=this.request.url.indexOf("?");this.query=t>=0?this.request.url.substring(t):""}static getPathParts(e){const t=e.indexOf("?");return e.substring(0,t<0?e.length:t).split("/").reduce((e,t)=>(void 0!==t&&t.length>0&&e.push(decodeURIComponent(t)),e),[])}get url(){return this.request.url}get headers(){return this.request.headers}get pathParts(){return void 0===this.requestPathParts&&(this.requestPathParts=r.getPathParts(this.url)),this.requestPathParts}createSubRequest(e){if(e<0||e>this.pathParts.length)return;return{url:this.pathParts.slice(e).join("/")+this.query,headers:this.headers}}}t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2010);n.d(t,"Observable",function(){return r.a});var i=n(3192);n.d(t,"ConnectableObservable",function(){return i.a});var o=n(3194);n.d(t,"GroupedObservable",function(){return o.a});var s=n(2210);n.d(t,"observable",function(){return s.a});var a=n(2049);n.d(t,"Subject",function(){return a.a});var c=n(3195);n.d(t,"BehaviorSubject",function(){return c.a});var u=n(2643);n.d(t,"ReplaySubject",function(){return u.a});var l=n(2396);n.d(t,"AsyncSubject",function(){return l.a});var h=n(3200);n.d(t,"asapScheduler",function(){return h.a});var d=n(2059);n.d(t,"asyncScheduler",function(){return d.a});var p=n(3196);n.d(t,"queueScheduler",function(){return p.a});var f=n(5162);n.d(t,"animationFrameScheduler",function(){return f.a});var m=n(5165);n.d(t,"VirtualTimeScheduler",function(){return m.b}),n.d(t,"VirtualAction",function(){return m.a});var g=n(3197);n.d(t,"Scheduler",function(){return g.a});var b=n(2032);n.d(t,"Subscription",function(){return b.a});var v=n(2002);n.d(t,"Subscriber",function(){return v.a});var y=n(2395);n.d(t,"Notification",function(){return y.a});var S=n(2641);n.d(t,"pipe",function(){return S.a});var _=n(2393);n.d(t,"noop",function(){return _.a});var w=n(2211);n.d(t,"identity",function(){return w.a});var C=n(5166);n.d(t,"isObservable",function(){return C.a});var k=n(2279);n.d(t,"ArgumentOutOfRangeError",function(){return k.a});var x=n(2280);n.d(t,"EmptyError",function(){return x.a});var O=n(2394);n.d(t,"ObjectUnsubscribedError",function(){return O.a});var I=n(3191);n.d(t,"UnsubscriptionError",function(){return I.a});var T=n(3201);n.d(t,"TimeoutError",function(){return T.a});var E=n(5167);n.d(t,"bindCallback",function(){return E.a});var N=n(5168);n.d(t,"bindNodeCallback",function(){return N.a});var M=n(2647);n.d(t,"combineLatest",function(){return M.b});var P=n(2397);n.d(t,"concat",function(){return P.a});var j=n(2649);n.d(t,"defer",function(){return j.a});var D=n(2058);n.d(t,"empty",function(){return D.b});var R=n(5174);n.d(t,"forkJoin",function(){return R.a});var L=n(2118);n.d(t,"from",function(){return L.a});var A=n(5175);n.d(t,"fromEvent",function(){return A.a});var F=n(5176);n.d(t,"fromEventPattern",function(){return F.a});var B=n(5177);n.d(t,"generate",function(){return B.a});var q=n(5178);n.d(t,"iif",function(){return q.a});var z=n(5179);n.d(t,"interval",function(){return z.a});var W=n(3209);n.d(t,"merge",function(){return W.a});var H=n(3210);n.d(t,"never",function(){return H.b});var V=n(2644);n.d(t,"of",function(){return V.a});var U=n(5180);n.d(t,"onErrorResumeNext",function(){return U.a});var $=n(5181);n.d(t,"pairs",function(){return $.a});var K=n(3211);n.d(t,"race",function(){return K.a});var G=n(5182);n.d(t,"range",function(){return G.a});var Y=n(2646);n.d(t,"throwError",function(){return Y.a});var J=n(3212);n.d(t,"timer",function(){return J.a});var Q=n(5183);n.d(t,"using",function(){return Q.a});var Z=n(2650);n.d(t,"zip",function(){return Z.b}),n.d(t,"EMPTY",function(){return D.a}),n.d(t,"NEVER",function(){return H.a});var X=n(2392);n.d(t,"config",function(){return X.a})},function(e,t,n){"use strict";t.a=function(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0};var r=n(2002)},function(e,t,n){"use strict";t.a=function(e){setTimeout(function(){throw e})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)},t.b=i;var r=n(2393);function i(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:r.a}},function(e,t,n){"use strict";t.a=function(){return function(e){return e.lift(new o(e))}};var r=n(1987),i=n(2002);var o=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new s(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.a(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1987),i=n(2049),o=n(3196),s=n(2032),a=n(3198),c=n(2394),u=n(3193),l=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new h(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new c.a;if(this.isStopped||this.hasError?t=s.a.EMPTY:(this.observers.push(e),t=new u.a(this,e)),i&&e.add(e=new a.a(e,i)),n)for(var l=0;l<o&&!e.closed;l++)e.next(r[l]);else for(l=0;l<o&&!e.closed;l++)e.next(r[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.a).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.a),h=function(){return function(e,t){this.time=e,this.value=t}}()},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];Object(r.a)(n)?e.pop():n=void 0;switch(e.length){case 0:return Object(o.b)(n);case 1:return n?Object(i.a)(e,n):Object(s.a)(e[0]);default:return Object(i.a)(e,n)}};var r=n(2086),i=n(2141),o=n(2058),s=n(2645)},function(e,t,n){"use strict";t.a=function(e){var t=new r.a(function(t){t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t};var r=n(2010)},function(e,t,n){"use strict";t.a=function(e,t){return t?new r.a(function(n){return t.schedule(i,0,{error:e,subscriber:n})}):new r.a(function(t){return t.error(e)})};var r=n(2010);function i(e){var t=e.error;e.subscriber.error(t)}},function(e,t,n){"use strict";t.b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;Object(i.a)(e[e.length-1])&&(r=e.pop());"function"===typeof e[e.length-1]&&(n=e.pop());1===e.length&&Object(o.a)(e[0])&&(e=e[0]);return Object(c.a)(e,r).lift(new l(n))},n.d(t,"a",function(){return l});var r=n(1987),i=n(2086),o=n(2057),s=n(2013),a=n(2014),c=n(2141),u={};var l=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}(),h=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.a(t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(a.a)(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0===(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,s=o[n],a=this.toRespond?s===u?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(s.a)},function(e,t,n){"use strict";t.a=function(e){void 0===e&&(e=Number.POSITIVE_INFINITY);return Object(r.a)(i.a,e)};var r=n(2282),i=n(2211)},function(e,t,n){"use strict";t.a=function(e){return new r.a(function(t){var n;try{n=e()}catch(s){return void t.error(s)}var r=n?Object(i.a)(n):Object(o.b)();return r.subscribe(t)})};var r=n(2010),i=n(2118),o=n(2058)},function(e,t,n){"use strict";t.b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];"function"===typeof n&&e.pop();return Object(i.a)(e,void 0).lift(new l(n))},n.d(t,"a",function(){return l});var r=n(1987),i=n(2141),o=n(2057),s=n(2002),a=n(2013),c=n(2014),u=n(2281);var l=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}(),h=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.iterators=[],i.active=0,i.resultSelector="function"===typeof n?n:null,i.values=r,i}return r.a(t,e),t.prototype._next=function(e){var t=this.iterators;Object(o.a)(e)?t.push(new p(e)):"function"===typeof e[u.a]?t.push(new d(e[u.a]())):t.push(new f(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe(r,n));else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){if("function"===typeof(s=e[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<t;r++){var s,a=(s=e[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(s.a),d=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),p=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[u.a]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),f=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.a(t,e),t.prototype[u.a]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return Object(c.a)(this,this.observable,this,t)},t}(a.a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3213);n.d(t,"audit",function(){return r.a});var i=n(5184);n.d(t,"auditTime",function(){return i.a});var o=n(5185);n.d(t,"buffer",function(){return o.a});var s=n(5186);n.d(t,"bufferCount",function(){return s.a});var a=n(5187);n.d(t,"bufferTime",function(){return a.a});var c=n(5188);n.d(t,"bufferToggle",function(){return c.a});var u=n(5189);n.d(t,"bufferWhen",function(){return u.a});var l=n(5190);n.d(t,"catchError",function(){return l.a});var h=n(5191);n.d(t,"combineAll",function(){return h.a});var d=n(5192);n.d(t,"combineLatest",function(){return d.a});var p=n(5193);n.d(t,"concat",function(){return p.a});var f=n(3208);n.d(t,"concatAll",function(){return f.a});var m=n(3214);n.d(t,"concatMap",function(){return m.a});var g=n(5194);n.d(t,"concatMapTo",function(){return g.a});var b=n(5195);n.d(t,"count",function(){return b.a});var v=n(5196);n.d(t,"debounce",function(){return v.a});var y=n(5197);n.d(t,"debounceTime",function(){return y.a});var S=n(2283);n.d(t,"defaultIfEmpty",function(){return S.a});var _=n(5198);n.d(t,"delay",function(){return _.a});var w=n(5199);n.d(t,"delayWhen",function(){return w.a});var C=n(5200);n.d(t,"dematerialize",function(){return C.a});var k=n(5201);n.d(t,"distinct",function(){return k.a});var x=n(3216);n.d(t,"distinctUntilChanged",function(){return x.a});var O=n(5202);n.d(t,"distinctUntilKeyChanged",function(){return O.a});var I=n(5203);n.d(t,"elementAt",function(){return I.a});var T=n(5204);n.d(t,"endWith",function(){return T.a});var E=n(5205);n.d(t,"every",function(){return E.a});var N=n(5206);n.d(t,"exhaust",function(){return N.a});var M=n(5207);n.d(t,"exhaustMap",function(){return M.a});var P=n(5208);n.d(t,"expand",function(){return P.a});var j=n(2284);n.d(t,"filter",function(){return j.a});var D=n(5209);n.d(t,"finalize",function(){return D.a});var R=n(3218);n.d(t,"find",function(){return R.b});var L=n(5210);n.d(t,"findIndex",function(){return L.a});var A=n(5211);n.d(t,"first",function(){return A.a});var F=n(3194);n.d(t,"groupBy",function(){return F.b});var B=n(5212);n.d(t,"ignoreElements",function(){return B.a});var q=n(5213);n.d(t,"isEmpty",function(){return q.a});var z=n(5214);n.d(t,"last",function(){return z.a});var W=n(2078);n.d(t,"map",function(){return W.a});var H=n(5215);n.d(t,"mapTo",function(){return H.a});var V=n(5216);n.d(t,"materialize",function(){return V.a});var U=n(5217);n.d(t,"max",function(){return U.a});var $=n(5218);n.d(t,"merge",function(){return $.a});var K=n(2648);n.d(t,"mergeAll",function(){return K.a});var G=n(2282);n.d(t,"mergeMap",function(){return G.a}),n.d(t,"flatMap",function(){return G.a});var Y=n(5219);n.d(t,"mergeMapTo",function(){return Y.a});var J=n(5220);n.d(t,"mergeScan",function(){return J.a});var Q=n(5221);n.d(t,"min",function(){return Q.a});var Z=n(2212);n.d(t,"multicast",function(){return Z.a});var X=n(3198);n.d(t,"observeOn",function(){return X.b});var ee=n(5222);n.d(t,"onErrorResumeNext",function(){return ee.a});var te=n(5223);n.d(t,"pairwise",function(){return te.a});var ne=n(5224);n.d(t,"partition",function(){return ne.a});var re=n(5226);n.d(t,"pluck",function(){return re.a});var ie=n(5227);n.d(t,"publish",function(){return ie.a});var oe=n(5228);n.d(t,"publishBehavior",function(){return oe.a});var se=n(5229);n.d(t,"publishLast",function(){return se.a});var ae=n(5230);n.d(t,"publishReplay",function(){return ae.a});var ce=n(5231);n.d(t,"race",function(){return ce.a});var ue=n(2400);n.d(t,"reduce",function(){return ue.a});var le=n(5232);n.d(t,"repeat",function(){return le.a});var he=n(5233);n.d(t,"repeatWhen",function(){return he.a});var de=n(5234);n.d(t,"retry",function(){return de.a});var pe=n(5235);n.d(t,"retryWhen",function(){return pe.a});var fe=n(2642);n.d(t,"refCount",function(){return fe.a});var me=n(5236);n.d(t,"sample",function(){return me.a});var ge=n(5237);n.d(t,"sampleTime",function(){return ge.a});var be=n(2654);n.d(t,"scan",function(){return be.a});var ve=n(5238);n.d(t,"sequenceEqual",function(){return ve.a});var ye=n(5239);n.d(t,"share",function(){return ye.a});var Se=n(5240);n.d(t,"shareReplay",function(){return Se.a});var _e=n(5241);n.d(t,"single",function(){return _e.a});var we=n(5242);n.d(t,"skip",function(){return we.a});var Ce=n(5243);n.d(t,"skipLast",function(){return Ce.a});var ke=n(5244);n.d(t,"skipUntil",function(){return ke.a});var xe=n(5245);n.d(t,"skipWhile",function(){return xe.a});var Oe=n(5246);n.d(t,"startWith",function(){return Oe.a});var Ie=n(5247);n.d(t,"subscribeOn",function(){return Ie.a});var Te=n(5249);n.d(t,"switchAll",function(){return Te.a});var Ee=n(2655);n.d(t,"switchMap",function(){return Ee.a});var Ne=n(5250);n.d(t,"switchMapTo",function(){return Ne.a});var Me=n(2652);n.d(t,"take",function(){return Me.a});var Pe=n(2653);n.d(t,"takeLast",function(){return Pe.a});var je=n(5251);n.d(t,"takeUntil",function(){return je.a});var De=n(5252);n.d(t,"takeWhile",function(){return De.a});var Re=n(3217);n.d(t,"tap",function(){return Re.a});var Le=n(3219);n.d(t,"throttle",function(){return Le.b});var Ae=n(5253);n.d(t,"throttleTime",function(){return Ae.a});var Fe=n(2399);n.d(t,"throwIfEmpty",function(){return Fe.a});var Be=n(5254);n.d(t,"timeInterval",function(){return Be.a});var qe=n(5255);n.d(t,"timeout",function(){return qe.a});var ze=n(3220);n.d(t,"timeoutWith",function(){return ze.a});var We=n(5256);n.d(t,"timestamp",function(){return We.a});var He=n(5257);n.d(t,"toArray",function(){return He.a});var Ve=n(5258);n.d(t,"window",function(){return Ve.a});var Ue=n(5259);n.d(t,"windowCount",function(){return Ue.a});var $e=n(5260);n.d(t,"windowTime",function(){return $e.a});var Ke=n(5261);n.d(t,"windowToggle",function(){return Ke.a});var Ge=n(5262);n.d(t,"windowWhen",function(){return Ge.a});var Ye=n(5263);n.d(t,"withLatestFrom",function(){return Ye.a});var Je=n(5264);n.d(t,"zip",function(){return Je.a});var Qe=n(5265);n.d(t,"zipAll",function(){return Qe.a})},function(e,t,n){"use strict";t.a=function(e){return function(t){return 0===e?Object(s.b)():t.lift(new a(e))}};var r=n(1987),i=n(2002),o=n(2279),s=n(2058);var a=function(){function e(e){if(this.total=e,this.total<0)throw new o.a}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return 0===e?Object(s.b)():t.lift(new a(e))}};var r=n(1987),i=n(2002),o=n(2279),s=n(2058);var a=function(){function e(e){if(this.total=e,this.total<0)throw new o.a}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t){var n=!1;arguments.length>=2&&(n=!0);return function(r){return r.lift(new o(e,t,n))}};var r=n(1987),i=n(2002);var o=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))},e}(),s=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.a(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)},t}(i.a)},function(e,t,n){"use strict";t.a=function e(t,n){if("function"===typeof n)return function(r){return r.pipe(e(function(e,r){return Object(c.a)(t(e,r)).pipe(Object(a.a)(function(t,i){return n(e,t,r,i)}))}))};return function(e){return e.lift(new u(t))}};var r=n(1987),i=n(2013),o=n(2142),s=n(2014),a=n(2078),c=n(2118);var u=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project))},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(s.a)(this,e,t,n,i)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t}(i.a)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(2285)),r(n(2401)),r(n(2658)),r(n(2402)),r(n(5273))},function(e,t,n){"use strict";for(var r=[],i=0;i<256;++i)r.push((i+256).toString(16).substr(1));t.a=function(e,t){var n=t||0;return(r[e[n+0]]+r[e[n+1]]+r[e[n+2]]+r[e[n+3]]+"-"+r[e[n+4]]+r[e[n+5]]+"-"+r[e[n+6]]+r[e[n+7]]+"-"+r[e[n+8]]+r[e[n+9]]+"-"+r[e[n+10]]+r[e[n+11]]+r[e[n+12]]+r[e[n+13]]+r[e[n+14]]+r[e[n+15]]).toLowerCase()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2117),i=n(2285),o=Object.freeze({});t.makeExecuteResult=r.Record({data:o,execution_count:null,metadata:r.Map(),output_type:"execute_result"}),t.makeDisplayData=r.Record({data:o,metadata:r.Map(),output_type:"display_data"}),t.makeStreamOutput=r.Record({name:"stdout",output_type:"stream",text:""}),t.makeErrorOutput=r.Record({ename:"",evalue:"",output_type:"error",traceback:r.List()}),t.createImmutableOutput=function(e){switch(e.output_type){case"execute_result":return t.makeExecuteResult({data:i.createFrozenMediaBundle(e.data),execution_count:e.execution_count,metadata:r.fromJS(e.metadata)});case"display_data":return t.makeDisplayData({data:i.createFrozenMediaBundle(e.data),metadata:r.fromJS(e.metadata)});case"stream":return t.makeStreamOutput({name:e.name,text:i.demultiline(e.text)});case"error":return t.makeErrorOutput({ename:e.ename,evalue:e.evalue,output_type:"error",traceback:r.List(e.traceback)});default:if(e.output_type)throw new TypeError(`Output type ${e.output_type} not recognized`);throw new TypeError(`Output structure not known: ${JSON.stringify(e)}`)}}},function(e,t,n){"use strict";var r=n(137);n.n(r);t.a=class extends r.EventEmitter{constructor(){super(),this.addListener=super.addListener.bind(this),this.on=super.on.bind(this),this.once=super.once.bind(this),this.prependListener=super.prependListener.bind(this),this.prependOnceListener=super.prependOnceListener.bind(this),this.removeListener=super.removeListener.bind(this),this.off=super.off.bind(this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137),i=n(2403);class o{constructor(e){this.collection=e}async find(e,t){function n(e,t){const n=t.split(".");let r=e;return n.forEach(e=>{r=r[e]}),r}const r=Object.keys(e);let i=this.collection;if(r.forEach(t=>{e[t].$gt>0||e[t].$lt>0?(e[t].$gt>0&&(i=i.filter(r=>n(r,t)>e[t].$gt)),e[t].$lt>0&&(i=i.filter(r=>n(r,t)<e[t].$lt))):i=i.filter(r=>n(r,t)===e[t])}),t&&1===Object.keys(t).length){i=i.sort(function(e,r){const i=Object.keys(t)[0];return 1===t[i]?n(e,i)-n(r,i):n(r,i)-n(e,i)})}return i}async findAll(){return this.collection}findOne(e){return Promise.resolve(this.findOneInternal(e))}async update(e,t,n){const r=this.findOneInternal(e);if(!r)return Promise.reject("Not found");i.extend(r,t)}async upsert(e,t,n){const r=this.findOneInternal(e);r||this.collection.push(t),i.extend(r,t)}async insertOne(e){return null!==this.findOneInternal(e)?Promise.resolve("existing object"):this.insertOneInternal(e)}async findOrCreate(e,t){const n=this.findOneInternal(e);return n?{value:n,existing:!0}:{value:this.insertOneInternal(t),existing:!1}}async insertMany(e,t){e.forEach(e=>{this.collection.push(e)})}async deleteOne(e){throw new Error("Method not implemented.")}async deleteMany(e){throw new Error("Method not implemented.")}createIndex(e,t){throw new Error("Method not implemented.")}insertOneInternal(e){return this.collection.push(e),e}findOneInternal(e){const t=this.collection.find(t=>t._id===e._id);return void 0===t?null:t}}t.TestCollection=o;class s{constructor(e){this.collections=e,this.emitter=new r.EventEmitter}close(){return Promise.resolve()}on(e,t){this.emitter.on(e,t)}collection(e){e in this.collections||(this.collections[e]=[]);const t=this.collections[e];return new o(t)}}t.TestDb=s;t.TestDbFactory=class{constructor(e){this.testDatabase=new s(e)}connect(){return Promise.resolve(this.testDatabase)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=["admiring","adoring","affectionate","agitated","amazing","angry","awesome","blissful","boring","brave","clever","cocky","compassionate","competent","condescending","confident","cranky","dazzling","determined","distracted","dreamy","eager","ecstatic","elastic","elated","elegant","eloquent","epic","fervent","festive","flamboyant","focused","friendly","frosty","gallant","gifted","goofy","gracious","happy","hardcore","heuristic","hopeful","hungry","infallible","inspiring","jolly","jovial","keen","kind","laughing","loving","lucid","mystifying","modest","musing","naughty","nervous","nifty","nostalgic","objective","optimistic","peaceful","pedantic","pensive","practical","priceless","quirky","quizzical","relaxed","reverent","romantic","sad","serene","sharp","silly","sleepy","stoic","stupefied","suspicious","tender","thirsty","trusting","unruffled","upbeat","vibrant","vigilant","vigorous","wizardly","wonderful","xenodochial","youthful","zealous","zen"],i=["albattani","allen","almeida","agnesi","archimedes","ardinghelli","aryabhata","austin","babbage","banach","bardeen","bartik","bassi","beaver","bell","benz","bhabha","bhaskara","blackwell","bohr","booth","borg","bose","boyd","brahmagupta","brattain","brown","carson","chandrasekhar","chaplygin","chatterjee","chebyshev","shannon","clarke","colden","cori","cray","curran","curie","darwin","davinci","dijkstra","dubinsky","easley","edison","einstein","elion","elbakyan","engelbart","euclid","euler","fermat","fermi","feynman","franklin","galileo","gates","goldberg","goldstine","goldwasser","golick","goodall","haibt","hamilton","hawking","heisenberg","hermann","heyrovsky","hodgkin","hoover","hopper","hugle","hypatia","jackson","jang","jennings","jepsen","johnson","joliot","jones","kalam","kapitsa","kare","keldysh","keller","kepler","khorana","kilby","kirch","knuth","kowalevski","lalande","lamarr","lamport","leakey","leavitt","lewin","lichterman","liskov","lovelace","lumiere","mahavira","mayer","mccarthy","mcclintock","mclean","mcnulty","mendeleev","meitner","meninsky","mestorf","minsky","mirzakhani","morse","murdock","neumann","newton","nightingale","nobel","noether","northcutt","noyce","panini","pare","pasteur","payne","perlman","pike","poincare","poitras","proskuriakova","ptolemy","raman","ramanujan","ride","montalcini","ritchie","roentgen","rosalind","saha","sammet","shaw","shirley","shockley","sinoussi","snyder","spence","stallman","shtern","stonebraker","swanson","swartz","swirles","tereshkova","tesla","thompson","torvalds","turing","varahamihira","vaughan","visvesvaraya","volhard","villani","wescoff","wiles","williams","wilson","wing","wozniak","wright","yalow","yonath","zhukovsky"].concat(["lucco","berglund","aumi","broner","holecek","brar","ryan","white","greenly","simkowitz","pinjala","lehenbauer","zhang","wilber","murphy","jokiel","modi","zhang","vairamain","juraszek","zhu","velhankar","ye","sen","erlandson","gonzalez","boktor","morton","dieck","gray","carlson","gil","man"]),o=e=>e[Math.floor(Math.random()*e.length)],s=(e,t)=>t?`${e.charAt(0).toUpperCase()}${e.substr(1)}`:e;function a(e="_",t=!1,n=!1){const c=o(r),u=o(i);if("boring"===c&&"wozniak"===u)return a(e,t,n);const l=`${s(c,t)}${e}${s(u,t)}`;return n?`${l}${Math.floor(10*Math.random())}`:l}t.getRandomName=a,t.choose=(()=>a())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5336);t.SequencedLambda=class{constructor(e){this.context=e,this.q=r.queue((e,t)=>{this.handlerCore(e).then(()=>{t()},e=>{t(e)})},1),this.q.error=(t=>{const n={documentId:this.documentId,error:t,tenantId:this.tenantId};e.error(n,!0)})}handler(e){this.q.push(e)}close(){this.q.kill()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2012),i=n(5347);t.debug=r("fluid:memory-orderer"),t.debug(`Package: ${i.pkgName} - Version: ${i.pkgVersion}`)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(5361)),r(n(5362)),r(n(5363)),r(n(3246)),r(n(5384)),r(n(5385))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137),i=n(2403);class o{constructor(e){this.collection=e}async find(e,t){function n(e,t){const n=t.split(".");let r=e;return n.forEach(e=>{r=r[e]}),r}const r=Object.keys(e);let i=this.collection;if(r.forEach(t=>{e[t].$gt>0||e[t].$lt>0?(e[t].$gt>0&&(i=i.filter(r=>n(r,t)>e[t].$gt)),e[t].$lt>0&&(i=i.filter(r=>n(r,t)<e[t].$lt))):i=i.filter(r=>n(r,t)===e[t])}),t&&1===Object.keys(t).length){i=i.sort(function(e,r){const i=Object.keys(t)[0];return 1===t[i]?n(e,i)-n(r,i):n(r,i)-n(e,i)})}return i}async findAll(){return this.collection}findOne(e){return Promise.resolve(this.findOneInternal(e))}async update(e,t,n){const r=this.findOneInternal(e);if(!r)return Promise.reject("Not found");i.extend(r,t)}async upsert(e,t,n){const r=this.findOneInternal(e);r||this.collection.push(t),i.extend(r,t)}async insertOne(e){return null!==this.findOneInternal(e)?Promise.resolve("existing object"):this.insertOneInternal(e)}async findOrCreate(e,t){const n=this.findOneInternal(e);return n?{value:n,existing:!0}:{value:this.insertOneInternal(t),existing:!1}}async insertMany(e,t){e.forEach(e=>{this.collection.push(e)})}async deleteOne(e){throw new Error("Method not implemented.")}async deleteMany(e){throw new Error("Method not implemented.")}createIndex(e,t){throw new Error("Method not implemented.")}insertOneInternal(e){return this.collection.push(e),e}findOneInternal(e){const t=this.collection.find(t=>t._id===e._id);return void 0===t?null:t}}t.TestCollection=o;class s{constructor(e){this.collections=e,this.emitter=new r.EventEmitter}close(){return Promise.resolve()}on(e,t){this.emitter.on(e,t)}collection(e){e in this.collections||(this.collections[e]=[]);const t=this.collections[e];return new o(t)}}t.TestDb=s;t.TestDbFactory=class{constructor(e){this.testDatabase=new s(e)}connect(){return Promise.resolve(this.testDatabase)}}},function(e,t,n){"use strict";var r=n(3253);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";t.a=function(e){if(!e)return;var t=o(e)||function(e){if("#"===e[0]&&7===e.length&&/^#[\da-fA-F]{6}$/.test(e))return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:r.b}}(e)||function(e){if("#"===e[0]&&4===e.length&&/^#[\da-fA-F]{3}$/.test(e))return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:r.b}}(e)||function(e){var t=e.match(/^hsl(a?)\(([\d., ]+)\)$/);if(t){var n=!!t[1],o=n?4:3,s=t[2].split(/ *, */).map(Number);if(s.length===o){var a=Object(i.a)(s[0],s[1],s[2]);return a.a=n?100*s[3]:r.b,a}}}(e);if(t)return t;return function(e){if("undefined"===typeof document)return;var t=document.createElement("div");t.style.backgroundColor=e,t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",t.style.height="1px",t.style.width="1px",document.body.appendChild(t);var n=getComputedStyle(t),r=n&&n.backgroundColor;if(document.body.removeChild(t),"rgba(0, 0, 0, 0)"===r||"transparent"===r){switch(e.trim()){case"transparent":case"#0000":case"#00000000":return{r:0,g:0,b:0,a:0}}return}return o(r)}(e)};var r=n(2038),i=n(2668);function o(e){if(e){var t=e.match(/^rgb(a?)\(([\d., ]+)\)$/);if(t){var n=!!t[1],i=n?4:3,o=t[2].split(/ *, */).map(Number);if(o.length===i)return{r:o[0],g:o[1],b:o[2],a:n?100*o[3]:r.b}}}}},function(e,t,n){"use strict";t.a=function(e,t,n){var o=Object(r.a)(e,t,n);return Object(i.a)(o.h,o.s,o.v)};var r=n(2669),i=n(2143)},function(e,t,n){"use strict";t.a=function(e,t,n){var r=n+(t*=(n<50?n:100-n)/100);return{h:e,s:0===r?0:2*t/r*100,v:r}}},function(e,t,n){"use strict";t.a=function(e,t,n){var i,o,s=NaN,a=Math.max(e,t,n),c=Math.min(e,t,n),u=a-c;0===u?s=0:e===a?s=(t-n)/u%6:t===a?s=(n-e)/u+2:n===a&&(s=(e-t)/u+4);(s=Math.round(60*s))<0&&(s+=360);return i=Math.round(100*(0===a?0:u/a)),o=Math.round(a/r.d*100),{h:s,s:i,v:o}};var r=n(2038)},function(e,t,n){"use strict";t.a=function(e,t,n){t/=r.e,n/=r.f;var i=(2-t)*n,o=t*n;return{h:e,s:100*(o=(o/=i<=1?i:2-i)||0),l:100*(i/=2)}};var r=n(2038)},function(e,t,n){"use strict";t.a=function(e){return"#"+Object(i.a)(e.h,r.e,r.f)};var r=n(2038),i=n(2408)},function(e,t,n){"use strict";t.a=function(e,t,n){var s=Object(r.a)(e.h,t,n),a=s.r,c=s.g,u=s.b,l=Object(i.a)(a,c,u);return{a:e.a,b:u,g:c,h:e.h,hex:l,r:a,s:t,str:Object(o.a)(a,c,u,e.a,l),v:n}};var r=n(2143),i=n(2214),o=n(2287)},function(e,t,n){"use strict";t.a=function(e,t){var n=Object(r.a)(t,e.s,e.v),s=n.r,a=n.g,c=n.b,u=Object(i.a)(s,a,c);return{a:e.a,b:c,g:a,h:t,hex:u,r:s,s:e.s,str:Object(o.a)(s,a,c,e.a,u),v:e.v}};var r=n(2143),i=n(2214),o=n(2287)},function(e,t,n){"use strict";t.a=function(e,t){return Object(r.a)(Object(r.a)({},e),{a:t,str:Object(i.a)(e.r,e.g,e.b,t,e.hex)})};var r=n(1),i=n(2287)},function(e,t,n){"use strict";t.a=function(e){return{r:Object(i.a)(e.r,r.d),g:Object(i.a)(e.g,r.d),b:Object(i.a)(e.b,r.d),a:"number"===typeof e.a?Object(i.a)(e.a,r.b):e.a}};var r=n(2038),i=n(2144)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),t.d=S,t.c=function(e,t,n){void 0===n&&(n=!1);if(!e)return null;if(t===r.Unshaded||!S(t))return e;var s=Object(c.a)(e.h,e.s,e.v),l={h:e.h,s:e.s,v:e.v},h=t-1,C=w,k=_;n&&(C=_,k=w);l=function(e){return e.r===i.d&&e.g===i.d&&e.b===i.d}(e)?_(l,d[h]):function(e){return 0===e.r&&0===e.g&&0===e.b}(e)?w(l,p[h]):s.l/100>y?k(l,m[h]):s.l/100<v?C(l,f[h]):h<g.length?C(l,g[h]):k(l,b[h-g.length]);return Object(a.a)(Object(o.p)(Object(u.a)(l.h,l.s,l.v),{a:e.a}))},t.b=function(e,t,n){void 0===n&&(n=!1);if(!e)return null;if(t===r.Unshaded||!S(t))return e;var i={h:e.h,s:e.s,v:e.v},s=t-1;i=n?w(i,h[p.length-1-s]):_(i,l[s]);return Object(a.a)(Object(o.p)(Object(u.a)(i.h,i.s,i.v),{a:e.a}))};var r,i=n(2038),o=n(2),s=n(2144),a=n(2215),c=n(2671),u=n(2143),l=[.027,.043,.082,.145,.184,.216,.349,.537],h=[.537,.45,.349,.216,.184,.145,.082,.043],d=[.537,.349,.216,.184,.145,.082,.043,.027],p=[.537,.45,.349,.216,.184,.145,.082,.043],f=[.88,.77,.66,.55,.44,.33,.22,.11],m=[.11,.22,.33,.44,.55,.66,.77,.88],g=[.96,.84,.7,.4,.12],b=[.1,.24,.44],v=.2,y=.8;function S(e){return"number"===typeof e&&e>=r.Unshaded&&e<=r.Shade8}function _(e,t){return{h:e.h,s:e.s,v:Object(s.a)(e.v-e.v*t,100,0)}}function w(e,t){return{h:e.h,s:Object(s.a)(e.s-e.s*t,100,0),v:Object(s.a)(e.v+(100-e.v)*t,100,0)}}!function(e){e[e.Unshaded=0]="Unshaded",e[e.Shade1=1]="Shade1",e[e.Shade2=2]="Shade2",e[e.Shade3=3]="Shade3",e[e.Shade4=4]="Shade4",e[e.Shade5=5]="Shade5",e[e.Shade6=6]="Shade6",e[e.Shade7=7]="Shade7",e[e.Shade8=8]="Shade8"}(r||(r={}))},function(e,t,n){"use strict";var r=n(5436);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r;n(263);!function(e){e[e.normal=0]="normal",e[e.largeHeader=1]="largeHeader",e[e.close=2]="close"}(r||(r={}))},function(e,t,n){"use strict";var r=n(762);n.d(t,"a",function(){return r.b}),n.d(t,"b",function(){return r.c}),n.d(t,"c",function(){return r.e})},function(e,t,n){"use strict";var r=n(140);n.d(t,"a",function(){return r.b}),n.d(t,"b",function(){return r.c}),n.d(t,"c",function(){return r.d})},function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return b});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(89),a=n(258),c=n(140),u=n(3298),l=n(5507),h=n(3303),d=n(2409),p=n(2666),f=n(5508),m=Object(o.s)();var g=function(e){function t(t){var n,r=e.call(this,t)||this;r.root=i.createRef(),r.input=i.createRef(),r.focusZone=i.createRef(),r.suggestionElement=i.createRef(),r.SuggestionOfProperType=u.a,r._styledSuggestions=(n=r.SuggestionOfProperType,Object(o._21)(n,l.a,void 0,{scope:"Suggestions"})),r._requestSuggestionsOnClick=!1,r.dismissSuggestions=function(e){var t=function(){r.props.onDismiss&&r.props.onDismiss(e,r.suggestionStore.currentSuggestion?r.suggestionStore.currentSuggestion.item:void 0),(!e||e&&!e.defaultPrevented)&&r.canAddItems()&&r.suggestionStore.hasSelectedSuggestion()&&r.state.suggestedDisplayValue&&r.addItemByIndex(0)};r.currentPromise?r.currentPromise.then(function(){return t()}):t(),r._requestSuggestionsOnClick=!1,r.setState({suggestionsVisible:!1})},r.refocusSuggestions=function(e){r.resetFocus(),r.suggestionStore.suggestions&&r.suggestionStore.suggestions.length>0&&(e===o.h.up?r.suggestionStore.setSelectedSuggestion(r.suggestionStore.suggestions.length-1):e===o.h.down&&r.suggestionStore.setSelectedSuggestion(0))},r.onInputChange=function(e){r.updateValue(e),r.setState({moreSuggestionsAvailable:!0,isMostRecentlyUsedVisible:!1})},r.onSuggestionClick=function(e,t,n){r.addItemByIndex(n),r._requestSuggestionsOnClick=!1},r.onSuggestionRemove=function(e,t,n){r.props.onRemoveSuggestion&&r.props.onRemoveSuggestion(t),r.suggestionStore.removeSuggestion(n)},r.onInputFocus=function(e){r.state.isFocused||(r.setState({isFocused:!0}),r.selection.setAllSelected(!1),r.input.current&&""===r.input.current.value&&(r.props.onEmptyResolveSuggestions||r.props.onEmptyInputFocus)&&!r._requestSuggestionsOnClick?(r.onEmptyInputFocus(),r.setState({isMostRecentlyUsedVisible:!0,moreSuggestionsAvailable:!1,suggestionsVisible:!0})):r.input.current&&r.input.current.value&&!r._requestSuggestionsOnClick&&r.setState({isMostRecentlyUsedVisible:!1,suggestionsVisible:!0}),r.props.inputProps&&r.props.inputProps.onFocus&&r.props.inputProps.onFocus(e))},r.onInputBlur=function(e){r.props.inputProps&&r.props.inputProps.onBlur&&r.props.inputProps.onBlur(e)},r.onBlur=function(e){if(r.state.isFocused){var t=e.relatedTarget;null===e.relatedTarget&&(t=document.activeElement),t&&!Object(o.y)(r.root.current,t)&&(r.setState({isFocused:!1}),r.props.onBlur&&r.props.onBlur(e))}},r.onClick=function(e){var t=r.input.current?r.input.current.value:"";if(void 0!==r.props.inputProps&&void 0!==r.props.inputProps.onClick&&r.props.inputProps.onClick(e),0===e.button&&!r.state.suggestionsVisible){var n=r.props.onEmptyResolveSuggestions?r.props.onEmptyResolveSuggestions:r.props.onEmptyInputFocus;if(""===t){if(n){r.setState({suggestionsVisible:!0});var i=n(r.state.items);r.updateSuggestionsList(i)}}else r._requestSuggestionsOnClick=!0,r._onResolveSuggestions(t)}},r.onKeyDown=function(e){var t=e.which;switch(t){case o.h.escape:r.state.suggestionsVisible&&(r._requestSuggestionsOnClick=!1,r.setState({suggestionsVisible:!1}),e.preventDefault(),e.stopPropagation());break;case o.h.tab:case o.h.enter:r.suggestionElement.current&&r.suggestionElement.current.hasSuggestedActionSelected()?r.suggestionElement.current.executeSelectedAction():!e.shiftKey&&r.suggestionStore.hasSelectedSuggestion()&&r.state.suggestionsVisible?(r.completeSuggestion(),e.preventDefault(),e.stopPropagation()):r._completeGenericSuggestion();break;case o.h.backspace:r.props.disabled||r.onBackspace(e),e.stopPropagation();break;case o.h.del:r.props.disabled||(r.input.current&&e.target===r.input.current.inputElement&&r.state.suggestionsVisible&&-1!==r.suggestionStore.currentIndex?(r.props.onRemoveSuggestion&&r.props.onRemoveSuggestion(r.suggestionStore.currentSuggestion.item),r.suggestionStore.removeSuggestion(r.suggestionStore.currentIndex),r.forceUpdate()):r.onBackspace(e)),e.stopPropagation();break;case o.h.up:r.input.current&&e.target===r.input.current.inputElement&&r.state.suggestionsVisible&&(r.suggestionElement.current&&r.suggestionElement.current.tryHandleKeyDown(t,r.suggestionStore.currentIndex)?(e.preventDefault(),e.stopPropagation()):r.suggestionElement.current&&r.suggestionElement.current.hasSuggestedAction()&&0===r.suggestionStore.currentIndex?(e.preventDefault(),e.stopPropagation(),r.suggestionElement.current.focusAboveSuggestions(),r.suggestionStore.deselectAllSuggestions(),r.forceUpdate()):r.suggestionStore.previousSuggestion()&&(e.preventDefault(),e.stopPropagation(),r.onSuggestionSelect()));break;case o.h.down:r.input.current&&e.target===r.input.current.inputElement&&r.state.suggestionsVisible&&(r.suggestionElement.current&&r.suggestionElement.current.tryHandleKeyDown(t,r.suggestionStore.currentIndex)?(e.preventDefault(),e.stopPropagation()):r.suggestionElement.current&&r.suggestionElement.current.hasSuggestedAction()&&r.suggestionStore.currentIndex+1===r.suggestionStore.suggestions.length?(e.preventDefault(),e.stopPropagation(),r.suggestionElement.current.focusBelowSuggestions(),r.suggestionStore.deselectAllSuggestions(),r.forceUpdate()):r.suggestionStore.nextSuggestion()&&(e.preventDefault(),e.stopPropagation(),r.onSuggestionSelect()))}},r.onItemChange=function(e,t){var n=r.state.items;if(t>=0){var i=n;i[t]=e,r._updateSelectedItems(i)}},r.onGetMoreResults=function(){r.setState({isSearching:!0},function(){if(r.props.onGetMoreResults&&r.input.current){var e=r.props.onGetMoreResults(r.input.current.value,r.state.items),t=e,n=e;Array.isArray(t)?(r.updateSuggestions(t),r.setState({isSearching:!1})):n.then&&n.then(function(e){r.updateSuggestions(e),r.setState({isSearching:!1})})}else r.setState({isSearching:!1});r.input.current&&r.input.current.focus(),r.setState({moreSuggestionsAvailable:!1,isResultsFooterVisible:!0})})},r.completeSelection=function(e){r.addItem(e),r.updateValue(""),r.input.current&&r.input.current.clear(),r.setState({suggestionsVisible:!1})},r.addItemByIndex=function(e){r.completeSelection(r.suggestionStore.getSuggestionAtIndex(e).item)},r.addItem=function(e){var t=r.props.onItemSelected?r.props.onItemSelected(e):e;if(null!==t){var n=t,i=t;if(i&&i.then)i.then(function(e){var t=r.state.items.concat([e]);r._updateSelectedItems(t)});else{var o=r.state.items.concat([n]);r._updateSelectedItems(o)}r.setState({suggestedDisplayValue:""})}},r.removeItem=function(e,t){var n=r.state.items,i=n.indexOf(e);if(i>=0){var o=n.slice(0,i).concat(n.slice(i+1));r._updateSelectedItems(o,t?i:void 0)}},r.removeItems=function(e){var t=r.state.items,n=t.filter(function(t){return-1===e.indexOf(t)}),i=e[0],o=t.indexOf(i);r._updateSelectedItems(n,o)},r._isFocusZoneInnerKeystroke=function(e){if(r.state.suggestionsVisible)switch(e.which){case o.h.up:case o.h.down:return!0}return e.which===o.h.enter},r._onResolveSuggestions=function(e){var t=r.props.onResolveSuggestions(e,r.state.items);null!==t&&r.updateSuggestionsList(t,e)},r._completeGenericSuggestion=function(){if(r.props.onValidateInput&&r.input.current&&r.props.onValidateInput(r.input.current.value)!==d.a.invalid&&r.props.createGenericItem){var e=r.props.createGenericItem(r.input.current.value,r.props.onValidateInput(r.input.current.value));r.suggestionStore.createGenericSuggestion(e),r.completeSuggestion()}},Object(o._2)(r),r._async=new o.a(r);var s=t.selectedItems||t.defaultSelectedItems||[];return r._id=Object(o.L)(),r._ariaMap={selectedItems:"selected-items-"+r._id,selectedSuggestionAlert:"selected-suggestion-alert-"+r._id,suggestionList:"suggestion-list-"+r._id},r.suggestionStore=new h.a,r.selection=new c.b({onSelectionChanged:function(){return r.onSelectionChange()}}),r.selection.setItems(s),r.state={items:s,suggestedDisplayValue:"",isMostRecentlyUsedVisible:!1,moreSuggestionsAvailable:!1,isFocused:!1,isSearching:!1,selectedIndices:[]},r}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"items",{get:function(){return this.state.items},enumerable:!0,configurable:!0}),t.prototype.UNSAFE_componentWillUpdate=function(e,t){t.items&&t.items!==this.state.items&&this.selection.setItems(t.items)},t.prototype.componentDidMount=function(){this.selection.setItems(this.state.items),this._onResolveSuggestions=this._async.debounce(this._onResolveSuggestions,this.props.resolveDelay)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t,n=this,r=e.selectedItems;r&&(r.length<this.state.items.length&&(t=this.state.items.indexOf(this.selection.getSelection()[0])),this.setState({items:e.selectedItems},function(){n.state.isFocused&&n.resetFocus(t)}))},t.prototype.componentWillUnmount=function(){this.currentPromise&&(this.currentPromise=void 0),this._async.dispose()},t.prototype.focus=function(){this.focusZone.current&&this.focusZone.current.focus()},t.prototype.focusInput=function(){this.input.current&&this.input.current.focus()},t.prototype.completeSuggestion=function(e){this.suggestionStore.hasSelectedSuggestion()&&this.input.current?this.completeSelection(this.suggestionStore.currentSuggestion.item):e&&this._completeGenericSuggestion()},t.prototype.render=function(){var e=this.state,t=e.suggestedDisplayValue,n=e.isFocused,a=e.items,u=this.props,l=u.className,h=u.inputProps,d=u.disabled,g=u.theme,b=u.styles,v=this.props.enableSelectedSuggestionAlert?this._ariaMap.selectedSuggestionAlert:"",y=this.state.suggestionsVisible?this._ariaMap.suggestionList:"",S=b?m(b,{theme:g,className:l,isFocused:n,disabled:d,inputClassName:h&&h.className}):{root:Object(o.t)("ms-BasePicker",l||""),text:Object(o.t)("ms-BasePicker-text",f.pickerText,this.state.isFocused&&f.inputFocused),itemsWrapper:f.pickerItems,input:Object(o.t)("ms-BasePicker-input",f.pickerInput,h&&h.className),screenReaderText:f.screenReaderOnly};return i.createElement("div",{ref:this.root,className:S.root,onKeyDown:this.onKeyDown,onBlur:this.onBlur},i.createElement(s.a,{componentRef:this.focusZone,direction:s.b.bidirectional,isInnerZoneKeystroke:this._isFocusZoneInnerKeystroke,role:"combobox","aria-expanded":!!this.state.suggestionsVisible,"aria-owns":y||void 0,"aria-haspopup":y&&this.suggestionStore.suggestions.length>0?"listbox":"dialog"},this.getSuggestionsAlert(S.screenReaderText),i.createElement(c.d,{selection:this.selection,selectionMode:c.c.multiple},i.createElement("div",{className:S.text},a.length>0&&i.createElement("span",{id:this._ariaMap.selectedItems,className:S.itemsWrapper,role:"list"},this.renderItems()),this.canAddItems()&&i.createElement(p.a,Object(r.a)({spellCheck:!1},h,{className:S.input,componentRef:this.input,onClick:this.onClick,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onInputValueChange:this.onInputChange,suggestedDisplayValue:t,"aria-describedby":a.length>0?this._ariaMap.selectedItems:void 0,"aria-controls":y+" "+v||void 0,"aria-activedescendant":this.getActiveDescendant(),role:"textbox",disabled:d,onInputChange:this.props.onInputChange}))))),this.renderSuggestions())},t.prototype.canAddItems=function(){var e=this.state.items,t=this.props.itemLimit;return void 0===t||e.length<t},t.prototype.renderSuggestions=function(){var e=this._styledSuggestions;return this.state.suggestionsVisible&&this.input?i.createElement(a.a,Object(r.a)({isBeakVisible:!1,gapSpace:5,target:this.input.current?this.input.current.inputElement:void 0,onDismiss:this.dismissSuggestions,directionalHint:a.b.bottomLeftEdge,directionalHintForRTL:a.b.bottomRightEdge},this.props.pickerCalloutProps),i.createElement(e,Object(r.a)({onRenderSuggestion:this.props.onRenderSuggestionsItem,onSuggestionClick:this.onSuggestionClick,onSuggestionRemove:this.onSuggestionRemove,suggestions:this.suggestionStore.getSuggestions(),componentRef:this.suggestionElement,onGetMoreResults:this.onGetMoreResults,moreSuggestionsAvailable:this.state.moreSuggestionsAvailable,isLoading:this.state.suggestionsLoading,isSearching:this.state.isSearching,isMostRecentlyUsedVisible:this.state.isMostRecentlyUsedVisible,isResultsFooterVisible:this.state.isResultsFooterVisible,refocusSuggestions:this.refocusSuggestions,removeSuggestionAriaLabel:this.props.removeButtonAriaLabel,suggestionsListId:this._ariaMap.suggestionList,createGenericItem:this._completeGenericSuggestion},this.props.pickerSuggestionsProps))):null},t.prototype.renderItems=function(){var e=this,t=this.props,n=t.disabled,r=t.removeButtonAriaLabel,i=this.props.onRenderItem,o=this.state,s=o.items,a=o.selectedIndices;return s.map(function(t,o){return i({item:t,index:o,key:t.key?t.key:o,selected:-1!==a.indexOf(o),onRemoveItem:function(){return e.removeItem(t,!0)},disabled:n,onItemChange:e.onItemChange,removeButtonAriaLabel:r})})},t.prototype.resetFocus=function(e){var t=this.state.items;if(t.length&&e>=0){var n=this.root.current&&this.root.current.querySelectorAll("[data-selection-index]")[Math.min(e,t.length-1)];n&&this.focusZone.current&&this.focusZone.current.focusElement(n)}else this.canAddItems()?this.input.current&&this.input.current.focus():this.resetFocus(t.length-1)},t.prototype.onSuggestionSelect=function(){if(this.suggestionStore.currentSuggestion){var e=this.input.current?this.input.current.value:"",t=this._getTextFromItem(this.suggestionStore.currentSuggestion.item,e);this.setState({suggestedDisplayValue:t})}},t.prototype.onSelectionChange=function(){this.setState({selectedIndices:this.selection.getSelectedIndices()})},t.prototype.updateSuggestions=function(e){this.suggestionStore.updateSuggestions(e,0),this.forceUpdate()},t.prototype.onEmptyInputFocus=function(){var e=(this.props.onEmptyResolveSuggestions?this.props.onEmptyResolveSuggestions:this.props.onEmptyInputFocus)(this.state.items);this.updateSuggestionsList(e)},t.prototype.updateValue=function(e){this._onResolveSuggestions(e)},t.prototype.updateSuggestionsList=function(e,t){var n=this,r=e,i=e;if(Array.isArray(r))this._updateAndResolveValue(t,r);else if(i&&i.then){this.setState({suggestionsLoading:!0}),this.suggestionStore.updateSuggestions([]),void 0!==t?this.setState({suggestionsVisible:this._getShowSuggestions()}):this.setState({suggestionsVisible:this.input.current&&this.input.current.inputElement===document.activeElement});var o=this.currentPromise=i;o.then(function(e){o===n.currentPromise&&n._updateAndResolveValue(t,e)})}},t.prototype.resolveNewValue=function(e,t){var n=this;this.updateSuggestions(t);var r=void 0;this.suggestionStore.currentSuggestion&&(r=this._getTextFromItem(this.suggestionStore.currentSuggestion.item,e)),this.setState({suggestedDisplayValue:r,suggestionsVisible:this._getShowSuggestions()},function(){return n.setState({suggestionsLoading:!1})})},t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(e)},t.prototype.onBackspace=function(e){(this.state.items.length&&!this.input.current||this.input.current&&!this.input.current.isValueSelected&&0===this.input.current.cursorLocation)&&(this.selection.getSelectedCount()>0?this.removeItems(this.selection.getSelection()):this.removeItem(this.state.items[this.state.items.length-1]))},t.prototype.getActiveDescendant=function(){var e=this.suggestionStore.currentIndex;return e>-1&&!this.state.suggestionsLoading?"sug-"+e:void 0},t.prototype.getSuggestionsAlert=function(e){void 0===e&&(e=f.screenReaderOnly);var t=this.suggestionStore.currentIndex;if(this.props.enableSelectedSuggestionAlert){var n=t>-1?this.suggestionStore.getSuggestionAtIndex(this.suggestionStore.currentIndex):void 0,r=n?n.ariaLabel:void 0;return i.createElement("div",{className:e,role:"alert",id:this._ariaMap.selectedSuggestionAlert,"aria-live":"assertive"},r," ")}},t.prototype._updateAndResolveValue=function(e,t){void 0!==e?this.resolveNewValue(e,t):(this.suggestionStore.updateSuggestions(t,-1),this.state.suggestionsLoading&&this.setState({suggestionsLoading:!1}))},t.prototype._updateSelectedItems=function(e,t){var n=this;this.props.selectedItems?this.onChange(e):this.setState({items:e},function(){n._onSelectedItemsUpdated(e,t)})},t.prototype._onSelectedItemsUpdated=function(e,t){this.resetFocus(t),this.onChange(e)},t.prototype._getShowSuggestions=function(){return void 0!==this.input.current&&null!==this.input.current&&this.input.current.inputElement===document.activeElement&&(""!==this.input.current.value||this._requestSuggestionsOnClick)},t.prototype._getTextFromItem=function(e,t){return this.props.getTextFromItem?this.props.getTextFromItem(e,t):""},t}(i.Component),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.state,t=e.suggestedDisplayValue,n=e.isFocused,a=this.props,u=a.className,l=a.inputProps,h=a.disabled,d=a.theme,g=a.styles,b=this.props.enableSelectedSuggestionAlert?this._ariaMap.selectedSuggestionAlert:"",v=this.state.suggestionsVisible?this._ariaMap.suggestionList:"",y=g?m(g,{theme:d,className:u,isFocused:n,inputClassName:l&&l.className}):{root:Object(o.t)("ms-BasePicker",u||""),text:Object(o.t)("ms-BasePicker-text",f.pickerText,this.state.isFocused&&f.inputFocused),input:Object(o.t)("ms-BasePicker-input",f.pickerInput,l&&l.className),screenReaderText:f.screenReaderOnly};return i.createElement("div",{ref:this.root,onBlur:this.onBlur},i.createElement("div",{className:y.root,onKeyDown:this.onKeyDown},this.getSuggestionsAlert(y.screenReaderText),i.createElement("div",{className:y.text,"aria-owns":v||void 0,"aria-expanded":!!this.state.suggestionsVisible,"aria-haspopup":v&&this.suggestionStore.suggestions.length>0?"listbox":"dialog",role:"combobox"},i.createElement(p.a,Object(r.a)({},l,{className:y.input,componentRef:this.input,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onClick:this.onClick,onInputValueChange:this.onInputChange,suggestedDisplayValue:t,"aria-activedescendant":this.getActiveDescendant(),role:"textbox",disabled:h,"aria-controls":v+" "+b||void 0,onInputChange:this.props.onInputChange})))),this.renderSuggestions(),i.createElement(c.d,{selection:this.selection,selectionMode:c.c.single},i.createElement(s.a,{componentRef:this.focusZone,className:"ms-BasePicker-selectedItems",isCircularNavigation:!0,direction:s.b.bidirectional,isInnerZoneKeystroke:this._isFocusZoneInnerKeystroke,id:this._ariaMap.selectedItems,role:"list"},this.renderItems())))},t.prototype.onBackspace=function(e){},t}(g)},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.compact=0]="compact",e[e.expanded=1]="expanded"}(r||(r={}))},function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),function(e){e[e.links=0]="links",e[e.tabs=1]="tabs"}(r||(r={})),function(e){e[e.normal=0]="normal",e[e.large=1]="large"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),i=(n.n(r),r.createContext({scrollablePane:void 0}))},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(730);t.a=class extends i.a.PureComponent{constructor(){super(...arguments),this.decorators=[]}componentDidMount(){const e=o.b.DocumentUri.createCellUri(this.props.contentRef,this.props.cellId,this.props.languageId),t=o.b.editor.getModel(e);t&&(this.decorators=t.deltaDecorations(this.decorators,this.renderDecorator(e)))}componentDidUpdate(e){const t=o.b.DocumentUri.createCellUri(this.props.contentRef,this.props.cellId,this.props.languageId),n=e?o.b.DocumentUri.createCellUri(e.contentRef,e.cellId,e.languageId):void 0;if(n&&n!==t){const e=o.b.editor.getModel(n);e&&(this.decorators=e.deltaDecorations(this.decorators,[]))}const r=o.b.editor.getModel(t);r&&(this.decorators=r.deltaDecorations(this.decorators,this.renderDecorator(t)))}componentWillUnmount(){const e=o.b.DocumentUri.createCellUri(this.props.contentRef,this.props.cellId,this.props.languageId),t=o.b.editor.getModel(e);t&&(this.decorators=t.deltaDecorations(this.decorators,[]))}render(){return null}renderDecorator(e){return[]}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3083);n.d(t,"Audience",function(){return r.a});var i=n(3084);n.d(t,"ConnectionState",function(){return i.a}),n.d(t,"Container",function(){return i.b});var o=n(3112);n.d(t,"ReconnectMode",function(){return o.b}),n.d(t,"DeltaManager",function(){return o.a});var s=n(3114);n.d(t,"RelativeLoader",function(){return s.b}),n.d(t,"Loader",function(){return s.a});var a=n(3113);n.d(t,"logNetworkFailure",function(){return a.a}),n.d(t,"waitForConnectedState",function(){return a.b})},function(e,t,n){"use strict";var r=n(137);n.n(r);t.a=class extends r.EventEmitter{constructor(){super(...arguments),this.members=new Map}on(e,t){return super.on(e,t)}addMember(e,t){this.members.set(e,t),this.emit("addMember",e,t)}removeMember(e){this.members.delete(e),this.emit("removeMember",e)}getMembers(){return new Map(this.members)}getMember(e){return this.members.get(e)}clear(){const e=this.members.keys();for(const t of e)this.removeMember(t)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n(1994),i=(n.n(r),n(2048)),o=(n.n(i),n(2370)),s=n(2006),a=n(2206),c=n(2031),u=n(2097),l=n(2001),h=n(3083),d=n(4975),p=n(4976),f=n(2272),m=n(3112),g=n(4980),b=n(3114),v=n(3110),y=n(3111),S=n(4981),_=n(3115),w=n(4982);const C=n(2085),k=n(4983),x="Code package does not implement IRuntimeFactory";var O;!function(e){e[e.Disconnected=0]="Disconnected",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected"}(O||(O={}));class I extends s.EventEmitterWithErrorHandling{constructor(e,t,n,r,o,a,c,u){super(),this.options=e,this.scope=t,this.codeLoader=n,this.loader=r,this.serviceFactory=o,this.urlResolver=a,this.isExperimentalContainer=!0,this._canReconnect=!0,this.loaded=!1,this.attached=!1,this._parentBranch=null,this._connectionState=O.Disconnected,this.resumedOpProcessingAfterLoad=!1,this.firstConnection=!0,this.manualReconnectInProgress=!1,this.connectionTransitionTimes=[],this.messageCountAfterDisconnection=0,this._closed=!1,this._audience=new h.a,this.originalRequest=c.originalRequest,this._id=c.id,this._resolvedUrl=c.resolvedUrl,void 0!==c.canReconnect&&(this._canReconnect=c.canReconnect);const l=this.client.details.type,d=`${this.client.details.capabilities.interactive?"interactive":"noninteractive"}${l?`/${l}`:""}`;this.subLogger=s.ChildLogger.create(u,void 0,{clientType:d,loaderVersion:y.b,containerId:i()},{docId:()=>this.id}),this.logger=s.ChildLogger.create(this.subLogger,"Container"),this.on("error",e=>{var t;!0!==(null===(t=e)||void 0===t?void 0:t.logged)&&this.logContainerError(e)}),this._deltaManager=this.createDeltaManager(),"object"===typeof document&&document&&(this.lastVisible=document.hidden?C():void 0,document.addEventListener("visibilitychange",()=>{document.hidden?this.lastVisible=C():setTimeout(()=>this.lastVisible=void 0,0)}))}static async load(e,t,n,r,i,a,u,l,h,d){var p;const[,f]=e.split("/"),m=new I(r,i,n,a,t,h,{originalRequest:u,id:decodeURI(f),resolvedUrl:l,canReconnect:!(!1===(null===(p=u.headers)||void 0===p?void 0:p[o.a.reconnect]))},d);return new Promise((e,t)=>{let n=!1;const r=e=>{m.removeListener("error",r);const i=Object(c.createIError)(e,!0);m.close(i),t(i),n=!0};m.on("error",r);const i=u.headers&&u.headers[o.a.version],a=u.headers&&u.headers[o.a.pause],l=s.PerformanceEvent.start(m.logger,{eventName:"Load"});m.load(i,!!a).then(t=>{m.removeListener("error",r),e(m),l.end(t)}).catch(e=>{l.cancel(void 0,e);const t=Object(c.createIError)(e,!0);n||m.logContainerError(t),r(t)})})}static async create(e,t,n,r,i,o,s,a){const c=new I(t,n,e,r,o,s,{},a);return await c.createDetached(i),c}get resolvedUrl(){return this._resolvedUrl}get loadedFromVersion(){return this._loadedFromVersion}get readonly(){return this._deltaManager.readonly}get readonlyPermissions(){return this._deltaManager.readonlyPermissions}forceReadonly(e){this._deltaManager.forceReadonly(e)}get closed(){return this._closed}get id(){var e;return null!==(e=this._id)&&void 0!==e?e:""}get deltaManager(){return this._deltaManager}get connectionState(){return this._connectionState}get connected(){return this.connectionState===O.Connected}get canReconnect(){return this._canReconnect}get serviceConfiguration(){return this._deltaManager.serviceConfiguration}get clientId(){return this._clientId}get scopes(){return this._deltaManager.scopes}get clientDetails(){return this._deltaManager.clientDetails}get chaincodePackage(){return this.pkg}get existing(){return this._existing}get audience(){return this._audience}get parentBranch(){return this._parentBranch}getQuorum(){return this.protocolHandler.quorum}close(e){var t;this._closed||(this._closed=!0,this._deltaManager.close(e,!1),this.protocolHandler&&this.protocolHandler.close(),null===(t=this.context)||void 0===t||t.dispose(e?new Error(e.errorType.toString()):void 0),r(this.connectionState===O.Disconnected,"disconnect event was not raised!"),this.emit("closed",e),this.removeAllListeners())}isLocal(){return!this.attached}async attach(e){var t,n;if(!this.context)throw new Error("Context is undefined");r(!this.deltaManager.inbound.length);const i=this.context.createSummary();if(!this.protocolHandler)throw new Error("Protocol Handler is undefined");const s=this.protocolHandler.captureSummary();(null===(t=e.headers)||void 0===t?void 0:t[a.CreateNewHeader.createNew])||(e.headers=Object.assign(Object.assign({},e.headers),{[a.CreateNewHeader.createNew]:{}}));const u=await this.urlResolver.resolve(e);Object(c.ensureFluidResolvedUrl)(u);try{this.service=await this.serviceFactory.createContainer(Object(c.combineAppAndProtocolSummary)(i,s),u,this.subLogger);const t=this.service.resolvedUrl;Object(c.ensureFluidResolvedUrl)(t),this._resolvedUrl=t;const a=await this.urlResolver.requestUrl(t,{url:""});if(200!==a.status)throw new Error(`Not able to get requested Url: value: ${a.value} status: ${a.status}`);this.originalRequest={url:a.value},this._canReconnect=!(!1===(null===(n=e.headers)||void 0===n?void 0:n[o.a.reconnect]));const h=Object(_.a)(t.url);if(!h)throw new Error("Unable to parse Url");const[,d]=h.id.split("/");this._id=decodeURI(d),this.storageService=await this.getDocumentStorageService(),this.blobManager=await this.loadBlobManager(this.storageService,void 0),this.attached=!0,this._existing=!1,this._parentBranch=this._id;const p=this.connectionState===O.Connected;r(!p||"read"===this._deltaManager.connectionMode),this.propagateConnectionState(),this.resumeInternal({fetchOpsFromStorage:!1,reason:"createDetached"})}catch(l){throw this.close(Object(c.createIError)(l,!0)),l}}async request(e){return e?this.context.request(e):{mimeType:"fluid/container",status:200,value:this}}async snapshot(e,t=!1){if(!1===e.includes("ReplayTool Snapshot")&&this.parentBranch)Object(f.a)(`Skipping snapshot due to being branch of ${this.parentBranch}`);else if(this.protocolHandler.quorum.has("code")||this.protocolHandler.quorum.has("code2"))try{void 0!==this.deltaManager&&await this.deltaManager.inbound.systemPause(),await this.snapshotCore(e,t)}catch(n){throw this.logger.logException({eventName:"SnapshotExceptionError"},n),n}finally{void 0!==this.deltaManager&&this.deltaManager.inbound.systemResume()}else this.logger.sendTelemetryEvent({eventName:"SkipSnapshot"})}setAutoReconnect(e){if(r(this.resumedOpProcessingAfterLoad),e&&this.closed)throw new Error("Attempting to setAutoReconnect() a closed DeltaManager");this._deltaManager.setAutomaticReconnect(e),this.logger.sendTelemetryEvent({eventName:e?"AutoReconnectEnabled":"AutoReconnectDisabled",connectionMode:this._deltaManager.connectionMode,connectionState:O[this.connectionState]}),e&&(this._connectionState===O.Disconnected&&(this.manualReconnectInProgress=!0),this.connectToDeltaStream({reason:"autoReconnect"}).catch(e=>{this.logger.sendTelemetryEvent({eventName:"setAutoReconnectError"},e)}))}resume(){this.resumeInternal()}resumeInternal(e={}){if(r(this.loaded),this.closed)throw new Error("Attempting to setAutoReconnect() a closed DeltaManager");r(!this.resumedOpProcessingAfterLoad),this.resumedOpProcessingAfterLoad=!0,this._deltaManager.inbound.resume(),this._deltaManager.outbound.resume(),this._deltaManager.inboundSignal.resume(),this.connectToDeltaStream().catch(()=>{})}get storage(){return this.blobsCacheStorageService||this.storageService}raiseContainerError(e){this.emit("error",e)}async reloadContext(){return this.reloadContextCore().catch(e=>{throw this.raiseContainerError(Object(c.createIError)(e,!0)),e})}hasNullRuntime(){return this.context.hasNullRuntime()}async reloadContextCore(){await Promise.all([this.deltaManager.inbound.systemPause(),this.deltaManager.inboundSignal.systemPause()]);const e=await this.context.snapshotRuntimeState();let t;this.context.dispose();const n=new Map;e.snapshot&&(t=Object(u.buildSnapshotTree)(e.snapshot.entries,n)),n.size>0&&(this.blobsCacheStorageService=new w.a(this.storageService,n));const r={branch:this.id,minimumSequenceNumber:this._deltaManager.minimumSequenceNumber,sequenceNumber:this._deltaManager.referenceSequenceNumber,term:this._deltaManager.referenceTerm};await this.loadContext(r,t,e),this.deltaManager.inbound.systemResume(),this.deltaManager.inboundSignal.systemResume(),this._existing=!0}async snapshotCore(e,t=!1){const n=this.snapshotBase(),r=await this.context.snapshot(e,t);r&&n.entries.push(...r.entries);const i=`Commit @${`${this._deltaManager.referenceSequenceNumber}:${this._deltaManager.minimumSequenceNumber}`} ${e}`,o=await this.getVersion(this.id),s=o?[o.id]:[];return this.storageService.write(n,s,i,"")}snapshotBase(){const e=[],t=this.blobManager.getBlobMetadata();e.push({mode:l.FileMode.File,path:".blobs",type:l.TreeEntry[l.TreeEntry.Blob],value:{contents:JSON.stringify(t),encoding:"utf-8"}});const n=this.protocolHandler.quorum.snapshot();e.push({mode:l.FileMode.File,path:"quorumMembers",type:l.TreeEntry[l.TreeEntry.Blob],value:{contents:JSON.stringify(n.members),encoding:"utf-8"}}),e.push({mode:l.FileMode.File,path:"quorumProposals",type:l.TreeEntry[l.TreeEntry.Blob],value:{contents:JSON.stringify(n.proposals),encoding:"utf-8"}}),e.push({mode:l.FileMode.File,path:"quorumValues",type:l.TreeEntry[l.TreeEntry.Blob],value:{contents:JSON.stringify(n.values),encoding:"utf-8"}});const r={branch:this.id,minimumSequenceNumber:this._deltaManager.minimumSequenceNumber,sequenceNumber:this._deltaManager.referenceSequenceNumber,term:this._deltaManager.referenceTerm};return e.push({mode:l.FileMode.File,path:".attributes",type:l.TreeEntry[l.TreeEntry.Blob],value:{contents:JSON.stringify(r),encoding:"utf-8"}}),{entries:e,id:null}}async getVersion(e){return(await this.storageService.getVersions(e,1))[0]}recordConnectStartTime(){void 0===this.connectionTransitionTimes[O.Disconnected]&&(this.connectionTransitionTimes[O.Disconnected]=C())}async connectToDeltaStream(e={}){return this.recordConnectStartTime(),this.canReconnect&&this.client.details.capabilities.interactive||(e.mode="write"),this._deltaManager.connect(e)}async load(e,t){let n;this.service=await this.serviceFactory.createDocumentService(this._resolvedUrl,this.subLogger);const i={mode:"write"};t||(n=this.connectToDeltaStream(i)).catch(e=>{}),this.storageService=await this.getDocumentStorageService(),this.attached=!0;const o=null===e?void 0:await this.fetchSnapshotTree(e),s=this.loadBlobManager(this.storageService,o),a=await this.getDocumentAttributes(this.storageService,o);this.attachDeltaManagerOpHandler(a);const c=this.loadAndInitializeProtocolState(a,this.storageService,o);let u;o?(this._existing=!0,this._parentBranch=a.branch!==this.id?a.branch:null,u=Promise.resolve()):(n||(n=this.connectToDeltaStream(i)),u=n.then(e=>{this._existing=e.existing,this._parentBranch=e.parentBranch})),[this.blobManager,this.protocolHandler]=await Promise.all([s,c,u]),await this.loadContext(a,o),this.loaded=!0;const l=this.connectionState===O.Connected;return r(!l||"read"===this._deltaManager.connectionMode),this.propagateConnectionState(),t||this.resume(),{existing:this._existing,sequenceNumber:a.sequenceNumber,version:o&&null!==o.id?o.id:void 0}}async createDetached(e){const t={branch:"",sequenceNumber:0,term:1,minimumSequenceNumber:0},n=[["code",{key:"code",value:e,approvalSequenceNumber:0,commitSequenceNumber:0,sequenceNumber:0}]];this.attachDeltaManagerOpHandler(t),this.protocolHandler=this.initializeProtocolState(t,[],[],n),await this.createDetachedContext(t),this.loaded=!0,this.propagateConnectionState()}async getDocumentStorageService(){if(!this.service)throw new Error("Not attached");const e=await this.service.connectToStorage();return new S.a(e)}async getDocumentAttributes(e,t){if(!t)return{branch:this.id,minimumSequenceNumber:0,sequenceNumber:0,term:1};const n=".protocol"in t.trees?t.trees[".protocol"].blobs.attributes:t.blobs[".attributes"],r=await Object(c.readAndParse)(e,n);return void 0===r.term&&(r.term=1),r}async loadAndInitializeProtocolState(e,t,n){let r=[],i=[],o=[];if(n){const e=".protocol"in n.trees?n.trees[".protocol"]:n;[r,i,o]=await Promise.all([Object(c.readAndParse)(t,e.blobs.quorumMembers),Object(c.readAndParse)(t,e.blobs.quorumProposals),Object(c.readAndParse)(t,e.blobs.quorumValues)])}return this.initializeProtocolState(e,r,i,o)}initializeProtocolState(e,t,n,r){const i=new u.ProtocolOpHandler(e.branch,e.minimumSequenceNumber,e.sequenceNumber,e.term,t,n,r,(e,t)=>this.submitMessage(l.MessageType.Propose,{key:e,value:t}),e=>this.submitMessage(l.MessageType.Reject,e)),o=s.ChildLogger.create(this.subLogger,"ProtocolHandler");return i.quorum.on("error",e=>{o.sendErrorEvent(e)}),i.quorum.on("addMember",(e,t)=>{e===this.pendingClientId&&this.setConnectionState(O.Connected,`joined @ ${t.sequenceNumber}`)}),i.quorum.on("removeMember",e=>{e===this._clientId&&this._deltaManager.updateQuorumLeave()}),i.quorum.on("approveProposal",(e,t,n)=>{if(Object(f.a)(`approved ${t}`),"code"===t||"code2"===t){if(Object(f.a)(`loadRuntimeFactory ${JSON.stringify(n)}`),n===this.pkg)return;this.reloadContext()}}),i}async loadBlobManager(e,t){const n=t&&t.blobs[".blobs"],r=n?await Object(c.readAndParse)(e,n):[],i=new d.a(e);return i.loadBlobMetadata(r),i}getCodeDetailsFromQuorum(){const e=this.protocolHandler.quorum;let t=e.get("code");return t||(t=e.get("code2")),t}async loadRuntimeFactory(e){let t;const n=s.PerformanceEvent.start(this.logger,{eventName:"CodeLoad"});try{t=await this.codeLoader.load(e)}catch(i){throw n.cancel({},i),i}n.end();const r=t.fluidExport.IRuntimeFactory;if(!r)throw new Error(x);return r}get client(){var e,t;const n=this.options&&this.options.client?this.options.client:{details:{capabilities:{interactive:!0}},mode:"read",permission:[],scopes:[],user:{id:""}},r=null===(t=null===(e=this.originalRequest)||void 0===e?void 0:e.headers)||void 0===t?void 0:t[o.a.clientDetails];return r&&k(n.details,r),n}createDeltaManager(){const e=new m.a(()=>this.service,this.client,s.ChildLogger.create(this.subLogger,"DeltaManager"),this.canReconnect);return e.on("connect",t=>{var n;const r=this._connectionState;this._connectionState=O.Connecting,this.pendingClientId=t.clientId,this.emit("joining"),this.logConnectionStateChangeTelemetry(O.Connecting,r,"websocket established"),"read"===e.connectionMode&&this.setConnectionState(O.Connected,"joined as readonly"),this._audience.clear();for(const e of null!==(n=t.initialClients)&&void 0!==n?n:[])this._audience.addMember(e.clientId,e.client)}),e.on("disconnect",e=>{this.manualReconnectInProgress=!1,this.setConnectionState(O.Disconnected,e)}),e.on("error",e=>{this.raiseContainerError(e)}),e.on("pong",e=>{this.emit("pong",e)}),e.on("processTime",e=>{this.emit("processTime",e)}),e.on("readonly",e=>{this.emit("readonly",e)}),e}attachDeltaManagerOpHandler(e){var t;this._deltaManager.on("closed",()=>{this.close()}),this._deltaManager.attachOpHandler(e.minimumSequenceNumber,e.sequenceNumber,null!==(t=e.term)&&void 0!==t?t:1,{process:e=>this.processRemoteMessage(e),processSignal:e=>{this.processSignal(e)}})}logConnectionStateChangeTelemetry(e,t,n){const r=C();this.connectionTransitionTimes[e]=r;const i=r-this.connectionTransitionTimes[t];let o,a,u,l;e===O.Disconnected?l=this._deltaManager.reconnectMode:(a=this._deltaManager.connectionMode,e===O.Connected&&(o=r-this.connectionTransitionTimes[O.Disconnected],o=s.TelemetryLogger.formatTick(o)),u=this.firstConnection?"InitialConnect":this.manualReconnectInProgress?"ManualReconnect":"AutoReconnect"),this.logger.sendPerformanceEvent({eventName:`ConnectionStateChange_${O[e]}`,from:O[t],duration:i,durationFromDisconnected:o,reason:n,connectionInitiationReason:u,socketDocumentId:this._deltaManager.socketDocumentId,pendingClientId:this.pendingClientId,clientId:this.clientId,connectionMode:a,autoReconnect:l,online:c.OnlineStatus[Object(c.isOnline)()],lastVisible:this.lastVisible?C()-this.lastVisible:void 0}),e===O.Connected&&(this.firstConnection=!1,this.manualReconnectInProgress=!1)}setConnectionState(e,t){if(r(e!==O.Connecting),this.connectionState===e)return void this.logger.sendErrorEvent({eventName:"setConnectionStateSame",value:e});const n=this._connectionState;this._connectionState=e,e===O.Connected?(this._clientId=this.pendingClientId,this._deltaManager.updateQuorumJoin()):e===O.Disconnected&&(this.pendingClientId=void 0),this.loaded&&this.propagateConnectionState(),this.logConnectionStateChangeTelemetry(e,n,t)}propagateConnectionState(){r(this.loaded);const e=this._connectionState===O.Connected&&!this.firstConnection&&"write"===this._deltaManager.connectionMode;e&&(this.messageCountAfterDisconnection=0);const t=this._connectionState===O.Connected;this.context.setConnectionState(t,this.clientId),this.protocolHandler.quorum.setConnectionState(t,this.clientId),Object(s.raiseConnectedEvent)(this.logger,this,t,this.clientId),e&&this.logger.sendTelemetryEvent({eventName:"OpsSentOnReconnect",count:this.messageCountAfterDisconnection})}submitMessage(e,t,n,r){return this.connectionState!==O.Connected?(this.logger.sendErrorEvent({eventName:"SubmitMessageWithNoConnection",type:e}),-1):(this.messageCountAfterDisconnection+=1,this._deltaManager.submit(e,t,n,r))}processRemoteMessage(e){const t=this._clientId===e.clientId;Object(u.isSystemMessage)(e)||this.context.process(e,t,void 0);const n=this.protocolHandler.processMessage(e,t);return this.emit("op",e),n}submitSignal(e){this._deltaManager.submitSignal(JSON.stringify(e))}processSignal(e){if(null===e.clientId&&this._audience){const t=e.content;if(t.type===l.MessageType.ClientJoin){const e=t.content;this._audience.addMember(e.clientId,e.client)}else if(t.type===l.MessageType.ClientLeave){const e=t.content;this._audience.removeMember(e)}}else{const t=this._clientId===e.clientId;this.context.processSignal(e,t)}}async fetchSnapshotTree(e){const t=await this.getVersion(e||this.id);if(t)return this._loadedFromVersion=t,await this.storageService.getSnapshotTree(t)||void 0;e&&this.logger.sendErrorEvent({eventName:"NoVersionFoundWhenSpecified",specifiedVersion:e})}async loadContext(e,t,n={}){this.pkg=this.getCodeDetailsFromQuorum();const r=this.pkg?await this.loadRuntimeFactory(this.pkg):new v.a,i=new b.b(this.loader,()=>this.originalRequest);this.context=await p.a.createOrLoad(this,this.scope,this.codeLoader,r,null!==t&&void 0!==t?t:null,e,this.blobManager,new g.a(this._deltaManager),new u.QuorumProxy(this.protocolHandler.quorum),i,e=>this.raiseContainerError(e),(e,t,n,r)=>this.submitMessage(e,t,n,r),e=>this.submitSignal(e),async e=>this.snapshot(e),e=>this.close(e),I.version,n),i.resolveContainer(this),this.emit("contextChanged",this.pkg)}async createDetachedContext(e){if(this.pkg=this.getCodeDetailsFromQuorum(),!this.pkg)throw new Error("pkg should be provided in create flow!!");const t=await this.loadRuntimeFactory(this.pkg),n=new b.b(this.loader,()=>this.originalRequest);this.context=await p.a.createOrLoad(this,this.scope,this.codeLoader,t,{id:null,blobs:{},commits:{},trees:{}},e,this.blobManager,new g.a(this._deltaManager),new u.QuorumProxy(this.protocolHandler.quorum),n,e=>this.raiseContainerError(e),(e,t,n,r)=>this.submitMessage(e,t,n,r),e=>this.submitSignal(e),async e=>this.snapshot(e),e=>this.close(e),I.version,{}),n.resolveContainer(this),this.emit("contextChanged",this.pkg)}logContainerError(e){this.logger.sendErrorEvent({eventName:"onError"},e)}}t.b=I,I.version="^0.1.0"},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=7*o,a=365.25*o;function c(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return c(e,t,o,"day");if(t>=i)return c(e,t,i,"hour");if(t>=r)return c(e,t,r,"minute");if(t>=n)return c(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";t.c=function(e){return e.catch(e=>{r.ok(!1)}),e};var r=n(1994);n.n(r);t.a=class{constructor(){this.completed=!1,this.p=new Promise((e,t)=>{this.res=e,this.rej=t})}get isCompleted(){return this.completed}get promise(){return this.p}resolve(e){void 0!==this.res&&(this.completed=!0,this.res(e))}reject(e){void 0!==this.rej&&(this.completed=!0,this.rej(e))}};t.b=class{constructor(e){this.execute=e}get[Symbol.toStringTag](){return this.getPromise()[Symbol.toStringTag]}async then(e,t){return this.getPromise().then(...arguments)}async catch(e){return this.getPromise().catch(...arguments)}async finally(e){return this.getPromise().finally(...arguments)}async getPromise(){return void 0===this.result&&(this.result=this.execute()),this.result}}},function(e,t,n){var r=n(2371),i=n(4898),o=n(4899),s=n(4900),a=n(4901),c=n(4902);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=s,u.prototype.has=a,u.prototype.set=c,e.exports=u},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(19))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},function(e,t,n){var r=n(2600),i=n(2373),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];o.call(e,t)&&i(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(2166),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},function(e,t,n){var r=n(4924),i=n(3095),o=n(2376),s=n(2602),a=n(3096),c=n(3097),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),h=!n&&!l&&s(e),d=!n&&!l&&!h&&c(e),p=n||l||h||d,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!u.call(e,g)||p&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},function(e,t,n){var r=n(4925),i=n(2167),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(4927),i=n(2603),o=n(2604),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){(function(e){var r=n(2096),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}).call(t,n(67)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(3104),i=n(2607),o=n(2606),s=n(3102),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:s;e.exports=a},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(3104),i=n(2376);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t,n){var r=n(2609);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(4948),i=n(2607),o=n(2605);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){"use strict";t.a=function(e){var t;if(!r(e))throw new Error(`resolved is not a fluid url. Type: ${null===(t=e)||void 0===t?void 0:t.type}`)};const r=e=>{var t;return"fluid"===(null===(t=e)||void 0===t?void 0:t.type)};t.b=r},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2006));const o=n(2165);class s{constructor(e,t,n,r,i,o){this.sendReject=e,this.sequenceNumber=t,this.key=n,this.value=r,this.deferred=o,this.canReject=!0,this.rejections=new Set(i)}reject(){if(!this.canReject)throw new Error("Can no longer reject this proposal");this.sendReject(this.sequenceNumber)}disableRejection(){this.canReject=!1}addRejection(e){r(!this.rejections.has(e),`!this.rejections.has(${e})`),this.rejections.add(e)}}t.a=class extends i.TypedEventEmitter{constructor(e,t,n,r,i,o){super(),this.minimumSequenceNumber=e,this.sendProposal=i,this.sendReject=o,this.isDisposed=!1,this.localProposals=new Map,this.members=new Map(t),this.proposals=new Map(n.map(([,e,t])=>[e.sequenceNumber,new s(this.sendReject,e.sequenceNumber,e.key,e.value,t)])),this.values=new Map(r),this.pendingCommit=new Map(r.filter(e=>-1===e[1].commitSequenceNumber))}get disposed(){return this.isDisposed}close(){this.removeAllListeners()}snapshot(){const e=Array.from(this.proposals).map(([e,t])=>[e,{sequenceNumber:e,key:t.key,value:t.value},Array.from(t.rejections)]),t={members:[...this.members],proposals:e,values:[...this.values]};return o(t)}has(e){return this.values.has(e)}get(e){const t=this.values.get(e);if(void 0!==t)return t.value}getApprovalData(e){const t=this.values.get(e);return t?o(t):void 0}addMember(e,t){r(!this.members.has(e),`!this.members.has(${e})`),this.members.set(e,t),this.emit("addMember",e,t)}removeMember(e){r(this.members.has(e),`this.members.has(${e})`),this.members.delete(e),this.emit("removeMember",e)}getMembers(){return new Map(this.members)}getMember(e){return this.members.get(e)}async propose(e,t){const n=this.sendProposal(e,t);if(n<0)return this.emit("error",{eventName:"ProposalInDisconnectedState",key:e}),Promise.reject(!1);const r=new i.Deferred;return this.localProposals.set(n,r),r.promise}addProposal(e,t,n,i,o){r(!this.proposals.has(n),`!this.proposals.has(${n})`),r(!i||this.localProposals.has(o),`!${i} || this.localProposals.has(${o})`);const a=new s(this.sendReject,n,e,t,[],i?this.localProposals.get(o):void 0);this.proposals.set(n,a),this.emit("addProposal",a),a.disableRejection(),i&&this.localProposals.delete(o)}rejectProposal(e,t){r(this.proposals.has(t),`this.proposals.has(${t})`);const n=this.proposals.get(t);void 0!==n&&n.addRejection(e)}updateMinimumSequenceNumber(e){const t=e.minimumSequenceNumber;if(void 0!==this.minimumSequenceNumber&&(t<this.minimumSequenceNumber&&this.emit("error",{currentValue:this.minimumSequenceNumber,eventName:"QuorumMinSeqNumberError",newValue:t}),t<=this.minimumSequenceNumber))return!1;this.minimumSequenceNumber=t;let n=!1;const r=[];for(const[i,o]of this.proposals)i<=this.minimumSequenceNumber&&r.push(o);r.sort((e,t)=>e.sequenceNumber-t.sequenceNumber);for(const i of r){const t=0===i.rejections.size;if(i.deferred&&(t?i.deferred.resolve():i.deferred.reject(`Rejected by ${Array.from(i.rejections)}`)),t){const t={approvalSequenceNumber:e.sequenceNumber,commitSequenceNumber:-1,key:i.key,sequenceNumber:i.sequenceNumber,value:i.value};this.values.set(t.key,t),this.pendingCommit.set(t.key,t),n=!0,this.emit("approveProposal",t.sequenceNumber,t.key,t.value,t.approvalSequenceNumber)}else this.emit("rejectProposal",i.sequenceNumber,i.key,i.value,Array.from(i.rejections));this.proposals.delete(i.sequenceNumber)}return this.pendingCommit.size>0&&Array.from(this.pendingCommit.values()).filter(e=>e.approvalSequenceNumber<=t).sort((e,t)=>e.sequenceNumber-t.sequenceNumber).forEach(t=>{t.commitSequenceNumber=e.sequenceNumber,this.emit("commitProposal",t.sequenceNumber,t.key,t.value,t.approvalSequenceNumber,t.commitSequenceNumber),this.pendingCommit.delete(t.key)}),n}setConnectionState(e,t){e||(this.localProposals.forEach(e=>{e.reject("Client got disconnected")}),this.localProposals.clear())}dispose(){r.fail("Not implemented."),this.isDisposed=!0}};t.b=class extends i.EventForwarder{constructor(e){super(e),this.propose=Object(i.doIfNotDisposed)(this,e.propose.bind(e)),this.has=Object(i.doIfNotDisposed)(this,e.has.bind(e)),this.get=Object(i.doIfNotDisposed)(this,e.get.bind(e)),this.getApprovalData=Object(i.doIfNotDisposed)(this,e.getApprovalData.bind(e)),this.getMembers=Object(i.doIfNotDisposed)(this,e.getMembers.bind(e)),this.getMember=Object(i.doIfNotDisposed)(this,e.getMember.bind(e))}}},function(e,t,n){"use strict";var r=n(137);n.n(r);class i extends r.EventEmitter{constructor(){super(),this._disposed=!1}get IComponentSerializer(){throw new Error("Not implemented")}get IComponentHandleContext(){throw new Error("Not implemented")}get disposed(){return this._disposed}dispose(){this._disposed=!0}snapshot(e){return Promise.resolve(null)}summarize(e=!1){return Promise.resolve({tree:{},type:1})}setConnectionState(e,t){}stop(){return Promise.resolve({})}createSummary(){return{tree:{},type:1}}request(e){return Promise.resolve({status:404,mimeType:"text/plain",value:null})}process(e,t,n){throw new Error("Null runtime should not receive messages")}processSignal(e,t){}}t.b=i;t.a=class{async instantiateRuntime(e){return new i}get IRuntimeFactory(){return this}}},function(e,t,n){"use strict";t.a="@microsoft/fluid-container-loader";t.b="0.18.4"},function(e,t,n){"use strict";n.d(t,"b",function(){return T});var r=n(1994),i=(n.n(r),n(137)),o=(n.n(i),n(2006)),s=n(2206),a=n(2097),c=n(2001),u=n(2031),l=n(4977),h=n(2272),d=n(4978),p=n(4979),f=n(3113);const m=n(2085),g=8,b=1,v=.1,y=10,S=2e3,_=16384,w="",C=10,k=e=>{var t;return!1!==(null===(t=e)||void 0===t?void 0:t.canRetry)},x=e=>{var t;return(null===(t=e)||void 0===t?void 0:t.retryAfterSeconds)||void 0};function O(e,t){return{reason:e,canReconnect:k(t),reconnectDelay:x(t),getError:()=>Object(u.createIError)(t)}}var I,T;!function(e){e[e.DeltaStream=0]="DeltaStream",e[e.DeltaStorage=1]="DeltaStorage"}(I||(I={})),function(e){e.Never="Never",e.Disabled="Disabled",e.Enabled="Enabled"}(T||(T={}));t.a=class extends i.EventEmitter{constructor(e,t,n,r){super(),this.serviceProvider=e,this.client=t,this.logger=n,this._forceReadonly=!1,this.isDisposed=!1,this.pending=[],this.fetching=!1,this.inQuorum=!1,this.minSequenceNumber=0,this.lastQueuedSequenceNumber=0,this.baseSequenceNumber=0,this.baseTerm=0,this.initSequenceNumber=0,this.clientSequenceNumber=0,this.clientSequenceNumberObserved=0,this.closed=!1,this.contentCache=new l.a(C),this.messageBuffer=[],this.connectFirstConnection=!0,this.clientDetails=this.client.details,this.defaultReconnectionMode=this.client.mode,this._reconnectMode=r?T.Enabled:T.Never,this._inbound=new p.a(e=>{this.processInboundMessage(e)}),this._inbound.on("error",e=>{this.emit("error",Object(u.createIError)(e,!0))}),this._outbound=new p.a(e=>{this.connection.submit(e)}),this._outbound.on("error",e=>{this.emit("error",Object(u.createIError)(e,!0))}),this._inboundSignal=new p.a(e=>{this.handler.processSignal({clientId:e.clientId,content:JSON.parse(e.content)})}),this._inboundSignal.on("error",e=>{this.emit("error",Object(u.createIError)(e,!0))}),this._inbound.pause(),this._outbound.pause(),this._inboundSignal.pause()}get disposed(){return this.isDisposed}get IDeltaSender(){return this}get inbound(){return this._inbound}get outbound(){return this._outbound}get inboundSignal(){return this._inboundSignal}get initialSequenceNumber(){return this.initSequenceNumber}get referenceSequenceNumber(){return this.baseSequenceNumber}get referenceTerm(){return this.baseTerm}get minimumSequenceNumber(){return this.minSequenceNumber}get maxMessageSize(){return this.connection.details.serviceConfiguration?this.connection.details.serviceConfiguration.maxMessageSize:this.connection.details.maxMessageSize||_}get version(){return this.connection.details.version}get serviceConfiguration(){return this.connection?this.connection.details.serviceConfiguration:void 0}get scopes(){return this.connection?this.connection.details.claims.scopes:void 0}get active(){const e=this.inQuorum&&"write"===this.connectionMode;return r(!(this._readonlyPermissions&&e)),e}get socketDocumentId(){if(this.connection)return this.connection.details.claims.documentId}get connectionMode(){return void 0===this.connection?"read":this.connection.details.mode}get readonly(){return!!this._forceReadonly||this._readonlyPermissions}get readonlyPermissions(){return this._readonlyPermissions}get reconnectMode(){return this._reconnectMode}setAutomaticReconnect(e){r(this._reconnectMode!==T.Never,"Cannot toggle automatic reconnect if reconnect is set to Never."),this._reconnectMode=e?T.Enabled:T.Disabled}forceReadonly(e){const t=this.readonly;this._forceReadonly=e,t!==this.readonly&&this.emit("readonly",this.readonly)}set_readonlyPermissions(e){const t=this.readonly;this._readonlyPermissions=e,t!==this.readonly&&this.emit("readonly",this.readonly)}on(e,t){return super.on(e,t)}dispose(){r.fail("Not implemented."),this.isDisposed=!0}attachOpHandler(e,t,n,i){Object(h.a)("Attached op handler",t),this.initSequenceNumber=t,this.baseSequenceNumber=t,this.baseTerm=n,this.minSequenceNumber=e,this.lastQueuedSequenceNumber=t,r(!this.handler),this.handler=i,r(this.handler),this._inbound.systemResume(),this._inboundSignal.systemResume(),this.pending.length>0?this.catchUp([],"DocumentOpen"):void 0===this.connection&&void 0===this.connectionP||this.fetchMissingDeltas("DocumentOpen",this.lastQueuedSequenceNumber)}updateQuorumJoin(){this.inQuorum=!0}updateQuorumLeave(){this.inQuorum=!1}async connect(e={}){var t,n,r;if(this.connection)return this.connection.details;if(this.connectionP)return this.connectionP;const i=null===(t=e.fetchOpsFromStorage)||void 0===t||t;let s=null!==(n=e.mode)&&void 0!==n?n:this.defaultReconnectionMode;this.clientSequenceNumberObserved!==this.clientSequenceNumber&&(s="write"),this.logger.debugAssert(void 0!==this.handler||i),i&&this.handler&&this.fetchMissingDeltas(null!==(r=e.reason)&&void 0!==r?r:"DocumentOpen",this.lastQueuedSequenceNumber);const a=this.serviceProvider();if(!a)throw new Error("Container is not attached");const c=async()=>{let e,t=b,n=0;const r=m();for(;void 0===e;){if(this.closed)throw new Error("Attempting to connect a closed DeltaManager");n++;try{this.client.mode=s,e=await d.a.connect(a,this.client)}catch(i){if(!k(i)){const e=Object(u.createIError)(i,!0);throw this.close(e),e}1===n&&Object(f.a)(this.logger,{delay:t,eventName:"DeltaConnectionFailureToConnect"},i);const e=x(i);t=null!==e&&void 0!==e?e:Math.min(2*t,g),e&&this.emitDelayInfo(I.DeltaStream,e),await Object(f.b)(1e3*t)}}return n>1&&this.logger.sendTelemetryEvent({attempts:n,duration:o.TelemetryLogger.formatTick(m()-r),eventName:"MultipleDeltaConnectionFailures"}),this.setupNewSuccessfulConnection(e,s),e};return this.connectionP=new Promise((e,t)=>{const n=e=>{this.connectionP=void 0,this.removeListener("closed",n),t(e)};this.on("closed",n),c().then(t=>{this.connectionP=void 0,this.removeListener("closed",n),e(t.details)}).catch(n)}),this.connectionP}flush(){0!==this.messageBuffer.length&&(this.emit("prepareSend",this.messageBuffer),this._outbound.push(this.messageBuffer),this.messageBuffer=[])}submit(e,t,n=!1,i){var o,s;if(this.readonly)return this.logger.sendErrorEvent({eventName:"SubmitOpReadOnly",type:e}),-1;r(this.connection),this.lastSubmittedClientId!==(null===(o=this.connection)||void 0===o?void 0:o.details.clientId)&&(this.lastSubmittedClientId=null===(s=this.connection)||void 0===s?void 0:s.details.clientId,this.clientSequenceNumber=0,this.clientSequenceNumberObserved=0);const a=[{action:"start",service:this.clientDetails.type||"unknown",timestamp:Date.now()}],c={clientSequenceNumber:++this.clientSequenceNumber,contents:JSON.stringify(t),metadata:i,referenceSequenceNumber:this.baseSequenceNumber,traces:a,type:e},u=this.createOutboundMessage(e,c);return this.stopSequenceNumberUpdate(),this.emit("submitOp",c),n?this.messageBuffer.push(u):(this.flush(),this.messageBuffer.push(u),this.flush()),u.clientSequenceNumber}submitSignal(e){this.connection?this.connection.submitSignal(e):this.logger.sendErrorEvent({eventName:"submitSignalDisconnected"})}async getDeltas(e,t,n,r){let i=0,s=t,a=[],c=0;const l=this.serviceProvider();if(!l)throw new Error("Delta manager is not attached");const h=o.PerformanceEvent.start(this.logger,{eventName:`GetDeltas_${e}`,from:s,to:n});let d,p=0;for(;!this.closed;){const e=s+S,t=void 0===n?e:Math.min(e,n);let o,g,b=0,_=!0,w=!1;try{d||(this.deltaStorageP||(this.deltaStorageP=l.connectToDeltaStorage()),d=await this.deltaStorageP),p++,w=!0;const g=d.get(s,t);a.length>0&&r(a),c+=b=(a=await g).length;const v=b>0?a[b-1].sequenceNumber:s;if(void 0===n?v<e-1:n-1<=v)return r(a),void h.end({lastFetch:v,deltasRetrievedTotal:c,requests:p});s=v}catch(m){if(Object(f.a)(this.logger,{eventName:"GetDeltas_Error",fetchTo:t,from:s,requests:p,retry:i+1},m),!w||!k(m))return h.cancel({category:"error"},m),void this.close(Object(u.createIError)(m,!0));_=!1,o=x(m)}if(0!==b)g=0,i=0;else if(i++,g=null!==o&&void 0!==o?o:Math.min(y,v*Math.pow(2,i)),_&&i>=100){h.cancel({category:"error",error:"too many retries",retry:i,requests:p,deltasRetrievedTotal:c,replayFrom:s,to:n});const e=Object(u.createNetworkError)("Failed to retrieve ops from storage: giving up after too many retries",!1,void 0,void 0,"Online");return e.critical=!0,void this.close(e)}h.reportProgress({delay:g,deltasRetrievedLast:b,deltasRetrievedTotal:c,replayFrom:s,requests:p,retry:i,success:_}),o&&this.emitDelayInfo(I.DeltaStorage,g),await Object(f.b)(1e3*g)}this.logger.sendErrorEvent({eventName:"GetDeltasClosedConnection"}),h.cancel({error:"container closed"})}close(e,t=!0){if(this.closed)return;this.closed=!0,t&&void 0!==e&&this.emit("error",e),this.logger.sendTelemetryEvent({eventName:"ContainerClose"},e),this.stopSequenceNumberUpdate();const n=void 0!==e?e:new Error("Container closed");this.disconnectFromDeltaStream(`${n}`),this._inbound.clear(),this._outbound.clear(),this._inboundSignal.clear(),this._inbound.systemPause(),this._inboundSignal.systemPause(),this.pending=[],this.set_readonlyPermissions(!0),this.emit("closed",e),this.removeAllListeners()}createOutboundMessage(e,t){if(Object(a.isSystemType)(e)){const e=t.contents;return t.contents=null,Object.assign(Object.assign({},t),{data:e})}return t}emitDelayInfo(e,t){if(e===I.DeltaStorage?this.deltaStorageDelay=t:e===I.DeltaStream&&(this.deltaStreamDelay=t),this.deltaStreamDelay&&this.deltaStorageDelay){const e=Math.max(this.deltaStorageDelay,this.deltaStreamDelay);if(e>=0){const t={errorType:s.ErrorType.throttlingError,message:"Service busy/throttled.",retryAfterSeconds:e};this.emit("error",t)}}}setupNewSuccessfulConnection(e,t){var n,i,o;this.connection=e;const s=!e.details.claims.scopes.includes(c.ScopeType.DocWrite);if(r("read"===t||s===("read"===this.connectionMode),"claims/connectionMode mismatch"),r(!s||"read"===this.connectionMode,"readonly perf with write connection"),this.set_readonlyPermissions(s),this.emitDelayInfo(I.DeltaStream,-1),this.closed)return this.disconnectFromDeltaStream("Disconnect on close"),void r(!e.connected);r(0===this.messageBuffer.length,"messageBuffer is not empty on new connection"),this._outbound.systemResume(),e.on("op",(e,t)=>{t instanceof Array?this.enqueueMessages(t):this.enqueueMessages([t])}),e.on("op-content",e=>{this.contentCache.set(e)}),e.on("signal",e=>{this._inboundSignal.push(e)}),e.on("nack",t=>{this._readonlyPermissions&&this.close(Object(u.createWriteError)("WriteOnReadOnlyDocument"));const n=t.content?function(e){return{reason:`Nacked: ${e.message}`,canReconnect:![403,429].includes(e.code),reconnectDelay:e.retryAfter,getError(){return Object(u.createFatalError)(this.reason)}}}(t.content):{reason:"Nacked: Unknown reason",canReconnect:!0,getError(){return Object(u.createFatalError)(this.reason)}};this.reconnectMode!==T.Enabled&&this.logger.sendErrorEvent({eventName:"NackWithNoReconnect",nackError:`reason: ${n.reason}`,mode:this.connectionMode}),this.reconnectOnError(e,"write",n)}),e.on("disconnect",t=>{this.reconnectOnError(e,this.defaultReconnectionMode,O(`Disconnect: ${t}`,t))}),e.on("error",t=>{Object(f.a)(this.logger,{eventName:"DeltaConnectionError"},t),this.reconnectOnError(e,this.defaultReconnectionMode,O(`Error: ${t}`,t))}),e.on("pong",e=>{this.emit("pong",e)}),this.emit("connect",e.details),this.processInitialMessages(null!==(n=e.details.initialMessages)&&void 0!==n?n:[],null!==(i=e.details.initialContents)&&void 0!==i?i:[],null!==(o=e.details.initialSignals)&&void 0!==o?o:[],this.connectFirstConnection),!this.handler||"write"===e.details.mode||void 0!==e.details.initialMessages&&0!==e.details.initialMessages.length||this.fetchMissingDeltas("Reconnect",this.lastQueuedSequenceNumber),this.connectFirstConnection=!1}disconnectFromDeltaStream(e){const t=this.connection;t&&(r(0===this.messageBuffer.length,"messageBuffer is not empty on disconnect"),this.connection=void 0,this._outbound.systemPause(),this._outbound.clear(),this.emit("disconnect",e),t.close())}async reconnectOnError(e,t,n){if(e!==this.connection)return;this.disconnectFromDeltaStream(n.reason);const r=!n.canReconnect;(this.reconnectMode===T.Never||r)&&this.close(n.getError(),r),this.closed||this.reconnectMode===T.Enabled&&(void 0!==n.reconnectDelay&&(this.emitDelayInfo(I.DeltaStream,n.reconnectDelay),await Object(f.b)(1e3*n.reconnectDelay)),this.connect({mode:t,fetchOpsFromStorage:!1}).catch(e=>{this.closed||this.logger.sendErrorEvent({eventName:"ConnectException"},e)}))}processInitialMessages(e,t,n,r){for(const i of t)this.contentCache.set(i);e.length>0&&this.catchUp(e,r?"InitialOps":"ReconnectOps");for(const i of n)this._inboundSignal.push(i)}enqueueMessages(e,t="OutOfOrderMessage"){if(!this.handler)return void(this.pending=this.pending.concat(e));let n,r,i=0;for(const o of e)o.sequenceNumber<=this.lastQueuedSequenceNumber?(i++,(void 0===n||n>o.sequenceNumber)&&(n=o.sequenceNumber),(void 0===r||r<o.sequenceNumber)&&(r=o.sequenceNumber)):o.sequenceNumber!==this.lastQueuedSequenceNumber+1?(this.pending.push(o),this.fetchMissingDeltas(t,this.lastQueuedSequenceNumber,o.sequenceNumber)):(this.lastQueuedSequenceNumber=o.sequenceNumber,this._inbound.push(o));0!==i&&this.logger.sendTelemetryEvent({eventName:`DuplicateMessages_${t}`,start:n,end:r,count:i})}processInboundMessage(e){const t=Date.now();if(r(e.clientId||Object(a.isSystemMessage)(e)||e.type===c.MessageType.NoClient,"non-system message have to have clientId"),r(!this.connection||this.connection.details.clientId!==e.clientId||this.lastSubmittedClientId===e.clientId,"Not accounting local messages correctly"),void 0!==this.lastSubmittedClientId&&this.lastSubmittedClientId===e.clientId){const t=e.clientSequenceNumber;r(this.clientSequenceNumberObserved<t,"client seq# not growing"),r(t<=this.clientSequenceNumber,"Incoming local client seq# > generated by this client"),this.clientSequenceNumberObserved=t,t===this.clientSequenceNumber&&this.emit("allSentOpsAckd")}e.contents&&"string"===typeof e.contents&&e.type!==c.MessageType.ClientLeave&&(e.contents=JSON.parse(e.contents)),e.traces&&e.traces.length>0&&e.traces.push({action:"end",service:this.clientDetails.type||"unknown",timestamp:Date.now()}),r(this.minSequenceNumber<=e.minimumSequenceNumber,"msn moves backwards"),this.minSequenceNumber=e.minimumSequenceNumber,r.equal(e.sequenceNumber,this.baseSequenceNumber+1,"non-seq seq#"),this.baseSequenceNumber=e.sequenceNumber,this.baseTerm=void 0===e.term?1:e.term,this.emit("beforeOpProcessing",e);const n=this.handler.process(e);this.scheduleSequenceNumberUpdate(e,!0===n.immediateNoOp);const i=Date.now();this.emit("processTime",i-t)}async fetchMissingDeltas(e,t,n){this.fetching||(this.closed?this.logger.sendTelemetryEvent({eventName:"fetchMissingDeltasClosedConnection"}):(this.fetching=!0,await this.getDeltas(e,t,n,t=>{this.emitDelayInfo(I.DeltaStorage,-1),this.catchUpCore(t,e)}),this.fetching=!1))}catchUp(e,t){const n={eventName:`CatchUp_${t}`,messageCount:e.length,pendingCount:this.pending.length};0!==e.length&&(n.from=e[0].sequenceNumber,n.to=e[e.length-1].sequenceNumber,n.messageGap=this.handler?n.from-this.lastQueuedSequenceNumber-1:void 0),this.logger.sendPerformanceEvent(n),this.catchUpCore(e,t)}catchUpCore(e,t){if(this.enqueueMessages(e,t),this.handler){const e=this.pending.sort((e,t)=>e.sequenceNumber-t.sequenceNumber);this.pending=[],this.enqueueMessages(e,t)}}scheduleSequenceNumberUpdate(e,t){if(this.active)return t?(this.stopSequenceNumberUpdate(),void this.submit(c.MessageType.NoOp,w)):void(e.type!==c.MessageType.NoOp&&void 0===this.updateSequenceNumberTimer&&(this.updateSequenceNumberTimer=setTimeout(()=>{this.updateSequenceNumberTimer=void 0,this.active&&this.submit(c.MessageType.NoOp,null)},2e3)));this.stopSequenceNumberUpdate()}stopSequenceNumberUpdate(){this.updateSequenceNumberTimer&&clearTimeout(this.updateSequenceNumberTimer),this.updateSequenceNumberTimer=void 0}}},function(e,t,n){"use strict";t.a=function(e,t,n){const i=Object.assign({},t);i.online=Object(r.isOnline)(),n&&"object"===typeof n&&void 0!==n.online&&(i.online=n.online);if("object"===typeof navigator&&null!==navigator){const e=navigator,t=e.connection||e.mozConnection||e.webkitConnection;null!==t&&"object"===typeof t&&(i.connectionType=t.type)}i.online===r.OnlineStatus.Online?e.logException(i,n):e.sendTelemetryEvent(i,n)},t.b=function(e){return new Promise(t=>{let n=t,i=e;Object(r.isOnline)()===r.OnlineStatus.Offline&&"object"===typeof window&&null!==window&&window.addEventListener&&(n=(()=>{t(),window.removeEventListener("online",n)}),window.addEventListener("online",n,!1),i=Math.max(e,3e4)),setTimeout(n,i)})};var r=n(2031)},function(e,t,n){"use strict";var r=n(137),i=(n.n(r),n(2048)),o=(n.n(i),n(2370)),s=n(2006),a=n(2031),c=n(3084),u=n(2272),l=n(3115);const h=n(2085);function d(e){if(!e.headers)return!0;return!(!1===e.headers[o.a.cache]||!1===e.headers[o.a.reconnect])}t.b=class extends r.EventEmitter{constructor(e,t){super(),this.loader=e,this.baseRequest=t,this.containerDeferred=new s.Deferred}async resolve(e){return e.url.startsWith("/")?await this.containerDeferred.promise:this.loader.resolve(e)}async request(e){const t=this.baseRequest();if(e.url.startsWith("/")){if(this.needExecutionContext(e)){if(!t)throw new Error("Base Request is not provided");return this.loader.requestWorker(t.url,e)}{let n;if(d(e))n=await this.containerDeferred.promise;else{if(!t)throw new Error("Base Request is not provided");n=await this.loader.resolve({url:t.url,headers:e.headers})}return n.request(e)}}return this.loader.request(e)}async createDetachedContainer(e){throw new Error("Relative loader should not create a detached container")}resolveContainer(e){this.containerDeferred.resolve(e)}needExecutionContext(e){return void 0!==e.headers&&void 0!==e.headers[o.a.executionContext]}};t.a=class extends r.EventEmitter{constructor(e,t,n,r,o,c,u){if(super(),this.codeLoader=n,this.options=r,this.scope=o,this.proxyLoaderFactories=c,this.isExperimentalLoader=!0,this.containers=new Map,this.logger=s.DebugLogger.mixinDebugLogger("fluid:telemetry",u,{loaderId:i()}),!e)throw new Error("An IUrlResolver must be provided");if(this.resolver=function(e){const t=Object.create(e),n=new Map;return t.resolve=(async t=>d(t)?(n.has(t.url)||n.set(t.url,e.resolve(t)),n.get(t.url)):e.resolve(t)),t}(a.MultiUrlResolver.create(e)),!t)throw new Error("An IDocumentServiceFactory must be provided");if(this.documentServiceFactory=a.MultiDocumentServiceFactory.create(t),!n)throw new Error("An ICodeLoader must be provided")}async createDetachedContainer(e){return Object(u.a)(`Container creating in detached state: ${h()} `),c.b.create(this.codeLoader,this.options,this.scope,this,e,this.documentServiceFactory,this.resolver,this.logger)}async resolve(e){return Object(u.a)(`Container resolve: ${h()} `),(await this.resolveCore(e)).container}async request(e){Object(u.a)(`Container loading: ${h()} `);const t=await this.resolveCore(e);return t.container.request({url:t.parsed.path})}async requestWorker(e,t){const n=this.proxyLoaderFactories.get("webworker");if(n){const r=await this.resolver.resolve({url:e,headers:t.headers}),i=Object(l.a)(r.url);if(!i)return Promise.reject(`Invalid URL ${r.url}`);const{fromSequenceNumber:o}=this.parseHeader(i,{url:e,headers:t.headers});return(await n.createProxyLoader(i.id,this.options,r,o)).request(t)}return(await this.resolve({url:e,headers:t.headers})).request(t)}async resolveCore(e){const t=await this.resolver.resolve(e);Object(a.ensureFluidResolvedUrl)(t);const n=Object(l.a)(t.url);if(!n)return Promise.reject(`Invalid URL ${t.url}`);e.headers=e.headers?e.headers:{};const{canCache:r,fromSequenceNumber:i}=this.parseHeader(n,e);let s;if(Object(u.a)(`${r} ${e.headers[o.a.pause]} ${e.headers[o.a.version]}`),r){const r=e.headers[o.a.version]?`${n.id}@${e.headers[o.a.version]}`:n.id,i=await this.containers.get(r);if(i)s=i;else{const i=this.loadContainer(n.id,e,t,this.logger);this.containers.set(r,i),s=await i}}else s=await this.loadContainer(n.id,e,t,this.logger);return s.deltaManager.referenceSequenceNumber<=i&&await new Promise((e,t)=>{s.on("op",function t(n){n.sequenceNumber>i&&(e(),s.removeListener("op",t))})}),{container:s,parsed:n}}canUseCache(e){return!e.headers||!(!1===e.headers[o.a.cache]||!1===e.headers[o.a.reconnect]||e.headers[o.a.pause])}parseHeader(e,t){let n=-1;t.headers=t.headers?t.headers:{};const r=t.headers[o.a.sequenceNumber];return r&&(n=r),t.headers[o.a.version]=e.version||t.headers[o.a.version],"null"===t.headers[o.a.version]&&(t.headers[o.a.version]=null),{canCache:this.canUseCache(t),fromSequenceNumber:n}}async loadContainer(e,t,n,r){return c.b.load(e,this.documentServiceFactory,this.codeLoader,this.options,this.scope,this,t,n,this.resolver,r)}}},function(e,t,n){"use strict";t.a=function(e){const t=Object(r.parse)(e,!0),n=/^\/([^/]*\/[^/]*)(\/?.*)$/.exec(t.pathname);return n&&3===n.length?{id:n[1],path:n[2],version:t.query.version}:void 0};var r=n(2076);n.n(r)},function(e,t,n){var r=n(2600),i=n(2373);e.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(393)),o=(n.n(i),n(2006)),s=n(2273),a=n.n(s);t.b=class{constructor(e,t,n,r){this.tenantId=e,this.id=t,this.tokenProvider=n,this.storageService=r}async get(e,t){return this.storageService.get(this.tenantId,this.id,this.tokenProvider,e,t)}};t.a=class{constructor(e){this.url=e}async get(e,t,n,s,c){const u=i.stringify({from:s,to:c});let l=null;const h=n.token;h&&(l={Authorization:`Basic ${Object(o.fromUtf8ToBase64)(`${e}:${h}`)}`});const d=a.a.get(`${this.url}?${u}`,{headers:l}),p=a.a.get(`${this.url}/content?${u}`,{headers:l}),[f,m]=await Promise.all([d,p]),g=m.data,b=f.data;let v=0;for(const i of b)if(void 0===i.contents){r.ok(v<g.length,"Delta content not found");const e=g[v];r.equal(i.sequenceNumber,e.sequenceNumber,"Invalid delta content order"),i.contents=e.op.contents,++v}return b}}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(2077),i=n(5004),o=n(5006),s=n(5007),a=n(5008),c=n(3122);e.exports=function(e){return new Promise(function(t,u){var l=e.data,h=e.headers;r.isFormData(l)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",f=e.auth.password||"";h.Authorization="Basic "+btoa(p+":"+f)}if(d.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};i(t,u,r),d=null}},d.onerror=function(){u(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){u(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var m=n(5009),g=(e.withCredentials||a(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;g&&(h[e.xsrfHeaderName]=g)}if("setRequestHeader"in d&&r.forEach(h,function(e,t){"undefined"===typeof l&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(b){if("json"!==e.responseType)throw b}"function"===typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),u(e),d=null)}),void 0===l&&(l=null),d.send(l)})}},function(e,t,n){"use strict";var r=n(5005);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){var r=n(2613);e.exports=function(e,t){t=t||{};var n=r.decode(e,t);if(!n)return null;var i=n.payload;if("string"===typeof i)try{var o=JSON.parse(i);null!==o&&"object"===typeof o&&(i=o)}catch(s){}return!0===t.complete?{header:n.header,payload:i,signature:n.signature}:i}},function(e,t,n){(function(t){var r=n(2164).Buffer,i=n(743);function o(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=r.alloc(0),this;if("function"===typeof e.pipe)return this.buffer=r.alloc(0),e.pipe(this),this;if(e.length||"object"===typeof e)return this.buffer=e,this.writable=!1,t.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}n(734).inherits(o,i),o.prototype.write=function(e){this.buffer=r.concat([this.buffer,r.from(e)]),this.emit("data",e)},o.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=o}).call(t,n(29))},function(e,t,n){var r=n(5019),i=n(2164).Buffer,o=n(392),s=n(5020),a=n(734),c="secret must be a string or buffer",u="key must be a string or a buffer",l="key must be a string, a buffer or an object",h="function"===typeof o.createPublicKey;function d(e){if(!i.isBuffer(e)&&"string"!==typeof e){if(!h)throw g(u);if("object"!==typeof e)throw g(u);if("string"!==typeof e.type)throw g(u);if("string"!==typeof e.asymmetricKeyType)throw g(u);if("function"!==typeof e.export)throw g(u)}}function p(e){if(!i.isBuffer(e)&&"string"!==typeof e&&"object"!==typeof e)throw g(l)}function f(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var n=0;n<t;++n)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function g(e){var t=[].slice.call(arguments,1),n=a.format.bind(a,e).apply(null,t);return new TypeError(n)}function b(e){var t;return t=e,i.isBuffer(t)||"string"===typeof t||(e=JSON.stringify(e)),e}function v(e){return function(t,n){!function(e){if(!i.isBuffer(e)){if("string"===typeof e)return e;if(!h)throw g(c);if("object"!==typeof e)throw g(c);if("secret"!==e.type)throw g(c);if("function"!==typeof e.export)throw g(c)}}(n),t=b(t);var r=o.createHmac("sha"+e,n);return f((r.update(t),r.digest("base64")))}}function y(e){return function(t,n,o){var s=v(e)(t,o);return r(i.from(n),i.from(s))}}function S(e){return function(t,n){p(n),t=b(t);var r=o.createSign("RSA-SHA"+e);return f((r.update(t),r.sign(n,"base64")))}}function _(e){return function(t,n,r){d(r),t=b(t),n=m(n);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify(r,n,"base64")}}function w(e){return function(t,n){p(n),t=b(t);var r=o.createSign("RSA-SHA"+e);return f((r.update(t),r.sign({key:n,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function C(e){return function(t,n,r){d(r),t=b(t),n=m(n);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:r,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},n,"base64")}}function k(e){var t=S(e);return function(){var n=t.apply(null,arguments);return n=s.derToJose(n,"ES"+e)}}function x(e){var t=_(e);return function(n,r,i){return r=s.joseToDer(r,"ES"+e).toString("base64"),t(n,r,i)}}function O(){return function(){return""}}function I(){return function(e,t){return""===t}}h&&(u+=" or a KeyObject",c+="or a KeyObject"),e.exports=function(e){var t={hs:v,rs:S,ps:w,es:k,none:O},n={hs:y,rs:_,ps:C,es:x,none:I},r=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!r)throw g('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(r[1]||r[3]).toLowerCase(),o=r[2];return{sign:t[i](o),verify:n[i](o)}}},function(e,t,n){var r=n(22).Buffer;e.exports=function(e){return"string"===typeof e?e:"number"===typeof e||r.isBuffer(e)?e.toString():JSON.stringify(e)}},function(e,t,n){var r=n(2382),i=function(e,t){r.call(this,e),this.name="NotBeforeError",this.date=t};(i.prototype=Object.create(r.prototype)).constructor=i,e.exports=i},function(e,t,n){var r=n(2382),i=function(e,t){r.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};(i.prototype=Object.create(r.prototype)).constructor=i,e.exports=i},function(e,t,n){var r=n(3087);e.exports=function(e,t){var n=t||Math.floor(Date.now()/1e3);if("string"===typeof e){var i=r(e);if("undefined"===typeof i)return;return Math.floor(n+i/1e3)}return"number"===typeof e?n+e:void 0}},function(e,t,n){(function(t){var r=n(5024);e.exports=r.satisfies(t.version,"^6.12.0 || >=8.0.0")}).call(t,n(29))},function(e,t,n){"use strict";t.b=a;const r=["admiring","adoring","affectionate","agitated","amazing","angry","awesome","blissful","boring","brave","clever","cocky","compassionate","competent","condescending","confident","cranky","dazzling","determined","distracted","dreamy","eager","ecstatic","elastic","elated","elegant","eloquent","epic","fervent","festive","flamboyant","focused","friendly","frosty","gallant","gifted","goofy","gracious","happy","hardcore","heuristic","hopeful","hungry","infallible","inspiring","jolly","jovial","keen","kind","laughing","loving","lucid","mystifying","modest","musing","naughty","nervous","nifty","nostalgic","objective","optimistic","peaceful","pedantic","pensive","practical","priceless","quirky","quizzical","relaxed","reverent","romantic","sad","serene","sharp","silly","sleepy","stoic","stupefied","suspicious","tender","thirsty","trusting","unruffled","upbeat","vibrant","vigilant","vigorous","wizardly","wonderful","xenodochial","youthful","zealous","zen"],i=["albattani","allen","almeida","agnesi","archimedes","ardinghelli","aryabhata","austin","babbage","banach","bardeen","bartik","bassi","beaver","bell","benz","bhabha","bhaskara","blackwell","bohr","booth","borg","bose","boyd","brahmagupta","brattain","brown","carson","chandrasekhar","chaplygin","chatterjee","chebyshev","shannon","clarke","colden","cori","cray","curran","curie","darwin","davinci","dijkstra","dubinsky","easley","edison","einstein","elion","elbakyan","engelbart","euclid","euler","fermat","fermi","feynman","franklin","galileo","gates","goldberg","goldstine","goldwasser","golick","goodall","haibt","hamilton","hawking","heisenberg","hermann","heyrovsky","hodgkin","hoover","hopper","hugle","hypatia","jackson","jang","jennings","jepsen","johnson","joliot","jones","kalam","kapitsa","kare","keldysh","keller","kepler","khorana","kilby","kirch","knuth","kowalevski","lalande","lamarr","lamport","leakey","leavitt","lewin","lichterman","liskov","lovelace","lumiere","mahavira","mayer","mccarthy","mcclintock","mclean","mcnulty","mendeleev","meitner","meninsky","mestorf","minsky","mirzakhani","morse","murdock","neumann","newton","nightingale","nobel","noether","northcutt","noyce","panini","pare","pasteur","payne","perlman","pike","poincare","poitras","proskuriakova","ptolemy","raman","ramanujan","ride","montalcini","ritchie","roentgen","rosalind","saha","sammet","shaw","shirley","shockley","sinoussi","snyder","spence","stallman","shtern","stonebraker","swanson","swartz","swirles","tereshkova","tesla","thompson","torvalds","turing","varahamihira","vaughan","visvesvaraya","volhard","villani","wescoff","wiles","williams","wilson","wing","wozniak","wright","yalow","yonath","zhukovsky"].concat(["lucco","berglund","aumi","broner","holecek","brar","ryan","white","greenly","simkowitz","pinjala","lehenbauer","zhang","wilber","murphy","jokiel","modi","zhang","vairamain","juraszek","zhu","velhankar","ye","sen","erlandson","gonzalez","boktor","morton","dieck","gray","carlson","gil","man"]),o=e=>e[Math.floor(Math.random()*e.length)],s=(e,t)=>t?`${e.charAt(0).toUpperCase()}${e.substr(1)}`:e;function a(e="_",t=!1,n=!1){const c=o(r),u=o(i);if("boring"===c&&"wozniak"===u)return a(e,t,n);const l=`${s(c,t)}${e}${s(u,t)}`;return n?`${l}${Math.floor(10*Math.random())}`:l}t.a=(()=>a())},function(e,t,n){"use strict";var r=n(1994);n.n(r);t.a=class{constructor(){this.completed=!1,this.p=new Promise((e,t)=>{this.res=e,this.rej=t})}get isCompleted(){return this.completed}get promise(){return this.p}resolve(e){void 0!==this.res&&(this.completed=!0,this.res(e))}reject(e){void 0!==this.rej&&(this.completed=!0,this.rej(e))}}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2614));const o=n(2165);class s{constructor(e,t,n,r,i,o){this.sendReject=e,this.sequenceNumber=t,this.key=n,this.value=r,this.deferred=o,this.canReject=!0,this.rejections=new Set(i)}reject(){if(!this.canReject)throw new Error("Can no longer reject this proposal");this.sendReject(this.sequenceNumber)}disableRejection(){this.canReject=!1}addRejection(e){r(!this.rejections.has(e),`!this.rejections.has(${e})`),this.rejections.add(e)}}t.a=class extends i.c{constructor(e,t,n,r,i,o){super(),this.minimumSequenceNumber=e,this.sendProposal=i,this.sendReject=o,this.isDisposed=!1,this.localProposals=new Map,this.members=new Map(t),this.proposals=new Map(n.map(([,e,t])=>[e.sequenceNumber,new s(this.sendReject,e.sequenceNumber,e.key,e.value,t)])),this.values=new Map(r),this.pendingCommit=new Map(r.filter(e=>-1===e[1].commitSequenceNumber))}get disposed(){return this.isDisposed}close(){this.removeAllListeners()}snapshot(){const e=Array.from(this.proposals).map(([e,t])=>[e,{sequenceNumber:e,key:t.key,value:t.value},Array.from(t.rejections)]),t={members:[...this.members],proposals:e,values:[...this.values]};return o(t)}has(e){return this.values.has(e)}get(e){const t=this.values.get(e);if(void 0!==t)return t.value}getApprovalData(e){const t=this.values.get(e);return t?o(t):void 0}addMember(e,t){r(!this.members.has(e),`!this.members.has(${e})`),this.members.set(e,t),this.emit("addMember",e,t)}removeMember(e){r(this.members.has(e),`this.members.has(${e})`),this.members.delete(e),this.emit("removeMember",e)}getMembers(){return new Map(this.members)}getMember(e){return this.members.get(e)}async propose(e,t){const n=this.sendProposal(e,t);if(n<0)return this.emit("error",{eventName:"ProposalInDisconnectedState",key:e}),Promise.reject(!1);const r=new i.a;return this.localProposals.set(n,r),r.promise}addProposal(e,t,n,i,o){r(!this.proposals.has(n),`!this.proposals.has(${n})`),r(!i||this.localProposals.has(o),`!${i} || this.localProposals.has(${o})`);const a=new s(this.sendReject,n,e,t,[],i?this.localProposals.get(o):void 0);this.proposals.set(n,a),this.emit("addProposal",a),a.disableRejection(),i&&this.localProposals.delete(o)}rejectProposal(e,t){r(this.proposals.has(t),`this.proposals.has(${t})`);const n=this.proposals.get(t);void 0!==n&&n.addRejection(e)}updateMinimumSequenceNumber(e){const t=e.minimumSequenceNumber;if(void 0!==this.minimumSequenceNumber&&(t<this.minimumSequenceNumber&&this.emit("error",{currentValue:this.minimumSequenceNumber,eventName:"QuorumMinSeqNumberError",newValue:t}),t<=this.minimumSequenceNumber))return!1;this.minimumSequenceNumber=t;let n=!1;const r=[];for(const[i,o]of this.proposals)i<=this.minimumSequenceNumber&&r.push(o);r.sort((e,t)=>e.sequenceNumber-t.sequenceNumber);for(const i of r){const t=0===i.rejections.size;if(i.deferred&&(t?i.deferred.resolve():i.deferred.reject(`Rejected by ${Array.from(i.rejections)}`)),t){const t={approvalSequenceNumber:e.sequenceNumber,commitSequenceNumber:-1,key:i.key,sequenceNumber:i.sequenceNumber,value:i.value};this.values.set(t.key,t),this.pendingCommit.set(t.key,t),n=!0,this.emit("approveProposal",t.sequenceNumber,t.key,t.value,t.approvalSequenceNumber)}else this.emit("rejectProposal",i.sequenceNumber,i.key,i.value,Array.from(i.rejections));this.proposals.delete(i.sequenceNumber)}return this.pendingCommit.size>0&&Array.from(this.pendingCommit.values()).filter(e=>e.approvalSequenceNumber<=t).sort((e,t)=>e.sequenceNumber-t.sequenceNumber).forEach(t=>{t.commitSequenceNumber=e.sequenceNumber,this.emit("commitProposal",t.sequenceNumber,t.key,t.value,t.approvalSequenceNumber,t.commitSequenceNumber),this.pendingCommit.delete(t.key)}),n}setConnectionState(e,t){e||(this.localProposals.forEach(e=>{e.reject("Client got disconnected")}),this.localProposals.clear())}dispose(){r.fail("Not implemented."),this.isDisposed=!0}}},function(e,t,n){"use strict";var r=n(2012),i=(n.n(r),n(5056));const o=r("fluid:services-client");t.a=o,o(`Package: ${i.a} - Version: ${i.b}`)},function(e,t,n){"use strict";var r=n(393),i=(n.n(r),n(2273)),o=n.n(i),s=n(3136);t.a=class{constructor(e,t,n,r=!1,i=1048576e3,s=o.a){this.baseurl=e,this.defaultHeaders=t,this.defaultQueryString=n,this.cacheBust=r,this.maxContentLength=i,this.axios=s}async get(e,t,n){const r={baseURL:this.baseurl,headers:n,maxContentLength:this.maxContentLength,method:"GET",url:`${e}${this.generateQueryString(t)}`};return this.request(r,200)}async post(e,t,n,r){const i={baseURL:this.baseurl,data:t,headers:r,maxContentLength:this.maxContentLength,method:"POST",url:`${e}${this.generateQueryString(n)}`};return this.request(i,201)}async delete(e,t,n){const r={baseURL:this.baseurl,headers:n,maxContentLength:this.maxContentLength,method:"DELETE",url:`${e}${this.generateQueryString(t)}`};return this.request(r,204)}async patch(e,t,n,r){const i={baseURL:this.baseurl,data:t,headers:r,maxContentLength:this.maxContentLength,method:"PATCH",url:`${e}${this.generateQueryString(n)}`};return this.request(i,200)}async request(e,t){return this.defaultHeaders&&(e.headers=Object.assign(Object.assign({},this.defaultHeaders),e.headers)),(await this.axios.request(e).catch(async n=>(n&&n.config?Object(s.a)(`[${n.config.method}] request to [${n.config.url}] failed with [${n.code}] [${n.message}]`):Object(s.a)(`request to ${e.url} failed ${n?n.message:""}`),n.response&&n.response.status!==t?Promise.reject(n.response.status):Promise.reject(n)))).data}generateQueryString(e){if(this.defaultQueryString||e){const t=this.cacheBust?Object.assign(Object.assign(Object.assign({},this.defaultQueryString),e),{cacheBust:Date.now()}):Object.assign(Object.assign({},this.defaultQueryString),e),n=r.stringify(t);if(""!==n)return`?${n}`}return""}}},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var s=n.exec(e||""),a={},c=14;c--;)a[r[c]]=s[c]||"";return-1!=i&&-1!=o&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(e,t,n){(function(t){e.exports=function(e){return n&&t.isBuffer(e)||r&&(e instanceof ArrayBuffer||i(e))};var n="function"===typeof t&&"function"===typeof t.isBuffer,r="function"===typeof ArrayBuffer,i=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}}).call(t,n(22).Buffer)},function(e,t,n){var r=n(5067),i=n(3146),o=n(2617),s=n(2616),a=n(3147),c=n(3148),u=n(2012)("socket.io-client:manager"),l=n(3145),h=n(5081),d=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=p,p.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)d.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)d.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},p.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",function(){i.onopen(),e&&e()}),s=a(n,"error",function(t){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c);var l=setTimeout(function(){u("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(s),this},p.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",c(this,"ondata"))),this.subs.push(a(e,"ping",c(this,"onping"))),this.subs.push(a(e,"pong",c(this,"onpong"))),this.subs.push(a(e,"error",c(this,"onerror"))),this.subs.push(a(e,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit("packet",e)},p.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},p.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",o),n.on("connect",function(){n.id=r.generateId(e)}),this.autoConnect&&o()}function o(){~l(r.connecting,n)||r.connecting.push(n)}return n},p.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){var r=n(2619),i=n(5070),o=n(5077),s=n(5078);t.polling=function(e){var t=!1,n=!1,s=!1!==e.jsonp;if("undefined"!==typeof location){var a="https:"===location.protocol,c=location.port;c||(c=a?443:80),t=e.hostname!==location.hostname||c!==e.port,n=e.secure!==a}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!s)throw new Error("JSONP disabled");return new o(e)},t.websocket=s},function(e,t,n){var r=n(2621),i=n(2383),o=n(2207),s=n(2384),a=n(3144),c=n(2012)("engine.io-client:polling");e.exports=l;var u=null!=new(n(2619))({xdomain:!1}).responseType;function l(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),r.call(this,e)}s(l,r),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(e){var t=this;function n(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){c("pre-pause polling complete"),--r||n()})),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",function(){c("pre-pause writing complete"),--r||n()}))}else n()},l.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(e){var t=this;c("polling got data %s",e);o.decodePayload(e,this.socket.binaryType,function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},l.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},l.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){(function(t){var r=n(2618),i=Object.prototype.toString,o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===i.call(File);e.exports=function e(n){if(!n||"object"!==typeof n)return!1;if(r(n)){for(var i=0,a=n.length;i<a;i++)if(e(n[i]))return!0;return!1}if("function"===typeof t&&t.isBuffer&&t.isBuffer(n)||"function"===typeof ArrayBuffer&&n instanceof ArrayBuffer||o&&n instanceof Blob||s&&n instanceof File)return!0;if(n.toJSON&&"function"===typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0);for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&e(n[c]))return!0;return!1}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,s={},a=0,c=0;function u(e){var t="";do{t=i[e%o]+t,e=Math.floor(e/o)}while(e>0);return t}function l(){var e=u(+new Date);return e!==r?(a=0,r=e):e+"."+u(a++)}for(;c<o;c++)s[i[c]]=c;l.encode=u,l.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=t*o+s[e.charAt(c)];return t},e.exports=l},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(2616),i=n(2617),o=n(5080),s=n(3147),a=n(3148),c=n(2012)("socket.io-client:socket"),u=n(2383),l=n(3143);e.exports=p;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=i.prototype.emit;function p(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",a(this,"onopen")),s(e,"packet",a(this,"onpacket")),s(e,"close",a(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(h.hasOwnProperty(e))return d.apply(this,arguments),this;var t=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:l(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"===typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},p.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);c("sending ack %j",i),t.packet({type:l(i)?r.BINARY_ACK:r.ACK,id:e,data:i})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"===typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags.compress=e,this},p.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){"use strict";(function(e){var r=n(1994),i=(n.n(r),n(2006)),o=n(2097),s=n(2001);t.a=class{constructor(e,t){this.id=e,this.manager=t,this.blobsShaCache=new Map}get repositoryUrl(){return""}async getSnapshotTree(e){let t=e;if(!t){const e=await this.getVersions(this.id,1);if(0===e.length)return null;t=e[0]}const n=await this.manager.getTree(t.treeId);return Object(o.buildHierarchy)(n,this.blobsShaCache)}async getVersions(e,t){return(await this.manager.getCommits(e||this.id,t)).map(e=>({date:e.commit.author.date,id:e.sha,treeId:e.commit.tree.sha}))}async read(e){const t=await this.manager.getBlob(e);return this.blobsShaCache.set(t.sha,""),t.content}async getContent(e,t){return(await this.manager.getContent(e.id,t)).content}async write(e,t,n,r){const i=r?`components/${this.id}/${r}`:this.id,o=await this.manager.write(i,e,t,n);return{date:o.committer.date,id:o.sha,treeId:o.tree.sha}}async uploadSummary(e){return{handle:await this.writeSummaryObject(e,[],""),handleType:1,type:3}}async uploadSummaryWithContext(e,t){const n=t.ackHandle?await this.getVersions(t.ackHandle,1).then(async e=>(this.blobsShaCache.clear(),this.getSnapshotTree(e[0]))):void 0;return this.writeSummaryTree(e,null!==n&&void 0!==n?n:void 0)}async downloadSummary(e){throw new Error("NOT IMPLEMENTED!")}async createBlob(e){return this.manager.createBlob(e.toString("base64"),"base64").then(e=>({id:e.sha,url:e.url}))}getRawUrl(e){return this.manager.getRawUrl(e)}async writeSummaryObject(e,t,n){switch(e.type){case 2:return this.writeSummaryBlob(e.content);case 0:const r=await this.writeSummaryObject(e.tree,t,n),i=await this.manager.createCommit({author:e.author,message:e.message,parents:e.parents,tree:r});return t.push({path:n,sha:i.sha}),i.sha;case 3:return e.handle;case 1:const o=e.tree,s=await Promise.all(Object.keys(o).map(async e=>{const r=o[e],i=await this.writeSummaryObject(r,t,`${n}/${encodeURIComponent(e)}`);return{mode:this.getGitMode(r),path:encodeURIComponent(e),sha:i,type:this.getGitType(r)}}));return(await this.manager.createGitTree({tree:s})).sha;default:return Promise.reject()}}async writeSummaryTree(e,t){const n=await Promise.all(Object.keys(e.tree).map(async n=>{const r=e.tree[n],i=await this.writeSummaryTreeObject(n,r,t);return{mode:this.getGitMode(r),path:encodeURIComponent(n),sha:i,type:this.getGitType(r)}}));return(await this.manager.createGitTree({tree:n})).sha}async writeSummaryTreeObject(e,t,n,r=""){var i;switch(t.type){case 2:return this.writeSummaryBlob(t.content);case 3:if(void 0===n)throw Error("Parent summary does not exist to reference by handle.");return this.getIdFromPath(t.handleType,t.handle,n);case 1:return this.writeSummaryTree(t,null===(i=n)||void 0===i?void 0:i.trees[e]);default:throw Error(`Unexpected summary object type: "${t.type}".`)}}getIdFromPath(e,t,n){const r=t.split("/").map(e=>decodeURIComponent(e));return""===r[0]&&r.shift(),this.getIdFromPathCore(e,r,n)}getIdFromPathCore(e,t,n){var r;const i=t[0];if(1===t.length)switch(e){case 2:{const e=n.blobs[i];if(!e)throw Error("Parent summary does not have blob handle for specified path.");return e}case 1:{const e=null===(r=n.trees[i])||void 0===r?void 0:r.id;if(!e)throw Error("Parent summary does not have tree handle for specified path.");return e}default:throw Error(`Unexpected handle summary object type: "${e}".`)}return this.getIdFromPathCore(e,t.slice(1),n)}async writeSummaryBlob(t){const{parsedContent:n,encoding:o}="string"===typeof t?{parsedContent:t,encoding:"utf-8"}:{parsedContent:t.toString("base64"),encoding:"base64"},s=Object(i.gitHashFile)(e.from(n,o));if(!this.blobsShaCache.has(s)){this.blobsShaCache.set(s,"");const e=await this.manager.createBlob(n,o);r.strictEqual(s,e.sha,"Blob.sha and hash do not match!!")}return s}getGitMode(e){switch(3===e.type?e.handleType:e.type){case 2:return s.FileMode.File;case 0:return s.FileMode.Commit;case 1:return s.FileMode.Directory;default:throw new Error}}getGitType(e){switch(3===e.type?e.handleType:e.type){case 2:return"blob";case 0:return"commit";case 1:return"tree";default:throw new Error}}}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";var r=n(2012),i=(n.n(r),n(5084));const o=r("fluid:socket-storage-shared");t.a=o,o(`Package: ${i.a} - Version: ${i.b}`)},function(e,t,n){"use strict";t.a=class{get repositoryUrl(){throw new Error("Invalid operation")}async getSnapshotTree(e){return e?Promise.reject("Invalid operation"):null}async getVersions(e,t){return[]}async read(e){return Promise.reject("Invalid operation")}async getContent(e,t){return Promise.reject("Invalid operation")}async write(e,t,n,r){return Promise.reject("Null blob storage can not write commit")}async uploadSummary(e){return Promise.reject("Invalid operation")}async uploadSummaryWithContext(e,t){return Promise.reject("Invalid operation")}async downloadSummary(e){return Promise.reject("Invalid operation")}async createBlob(e){return Promise.reject("Null blob storage can not create blob")}getRawUrl(e){throw new Error("Invalid operation")}}},function(e,t,n){"use strict";var r=n(5087);n.n(r);t.b=class{extractClaims(e){return r(e)}};t.a=class{constructor(e){this.token=e}isValid(){return void 0!==this.token&&null!==this.token}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2012).debug("aznb:dds");t.default=r},function(e,t,n){"use strict";var r=n(2625);t.a=class{constructor(){this.segmentSet=new r.a}get segments(){return this.segmentSet.items}get size(){return this.segmentSet.size}has(e){return this.segmentSet.has(e)}link(e){this.segmentSet.has(e)||(this.segmentSet.addOrUpdate(e),e.trackingCollection.link(this))}unlink(e){this.segmentSet.remove(e)&&e.trackingCollection.unlink(this)}};t.b=class{constructor(e){this.segment=e,this.trackingGroups=new Set}link(e){e&&(this.trackingGroups.has(e)||this.trackingGroups.add(e),e.has(this.segment)||e.link(this.segment))}unlink(e){e.has(this.segment)&&e.unlink(this.segment),this.trackingGroups.delete(e)}copyTo(e){this.trackingGroups.forEach(t=>e.trackingCollection.link(t))}get empty(){return 0===this.trackingGroups.size}matches(e){if(!e||this.trackingGroups.size!==e.trackingGroups.size)return!1;for(const t of this.trackingGroups.values())if(!e.trackingGroups.has(t))return!1;return!0}}},function(e,t,n){"use strict";var r=n(2274);t.a=class{constructor(e){this.segment=e,this.segmentGroups=Object(r.g)()}get size(){return this.segmentGroups.count()}get empty(){return this.segmentGroups.empty()}enqueue(e){this.segmentGroups.enqueue(e),e.segments.push(this.segment)}dequeue(){return this.segmentGroups.dequeue()}clear(){this.segmentGroups.clear()}copyTo(e){this.segmentGroups.walk(t=>e.segmentGroups.enqueue(t))}}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2169)),o=n(2209);class s{constructor(e){this.segment=e}ackPendingProperties(e){e.combiningOp&&"rewrite"===e.combiningOp.name&&this.pendingRewriteCount--;for(const t of Object.keys(e.props))void 0!==this.pendingKeyUpdateCount[t]&&(r(this.pendingKeyUpdateCount[t]>0),this.pendingKeyUpdateCount[t]--,0===this.pendingKeyUpdateCount[t]&&delete this.pendingKeyUpdateCount[t])}addProperties(e,t,n,r){this.segment.properties||(this.pendingRewriteCount=0,this.segment.properties=o.d(),this.pendingKeyUpdateCount=o.d());const s=r&&r.collaborating;if(this.pendingRewriteCount>0&&n!==i.d&&s)return;const a=t&&"rewrite"===t.name,c=a?void 0:t||void 0,u=e=>!(n!==i.d&&void 0!==this.pendingKeyUpdateCount[e]&&!c),l={};if(a){s&&n===i.d&&this.pendingRewriteCount++;for(const t of Object.keys(this.segment.properties))!e[t]&&u(t)&&(l[t]=this.segment.properties[t],delete this.segment.properties[t])}for(const h of Object.keys(e)){if(s)if(n===i.d)void 0===this.pendingKeyUpdateCount[h]&&(this.pendingKeyUpdateCount[h]=0),this.pendingKeyUpdateCount[h]++;else if(!u(h))continue;const r=this.segment.properties[h];let a;l[h]=void 0===r?null:r,null===(a=c?o.c(t,r,a,n):e[h])?delete this.segment.properties[h]:this.segment.properties[h]=a}return l}copyTo(e){if(this.segment.properties){e.properties=o.d();for(const t of Object.keys(this.segment.properties))e.properties[t]=this.segment.properties[t];if(this.segment.propertyManager){e.propertyManager=new s(e),e.propertyManager.pendingRewriteCount=this.pendingRewriteCount,e.propertyManager.pendingKeyUpdateCount=o.d();for(const t of Object.keys(this.pendingKeyUpdateCount))e.propertyManager.pendingKeyUpdateCount[t]=this.pendingKeyUpdateCount[t]}}}clearPendingProperties(){this.pendingKeyUpdateCount={},this.pendingRewriteCount=0}hasPendingProperties(){return this.pendingRewriteCount>0||Object.keys(this.pendingKeyUpdateCount).length>0}resetPendingPropertiesToOpDetails(){let e;this.pendingRewriteCount>0&&(this.pendingRewriteCount=1,e={name:"rewrite"});const t={};for(const n of Object.keys(this.pendingKeyUpdateCount)){this.pendingKeyUpdateCount[n]=1;const e=this.segment.properties[n];t[n]=void 0===e?null:e}return{props:t,combiningOp:e}}}t.a=s},function(e,t,n){"use strict";function r(e,t){return{pos1:e,seg:t,type:0}}t.a=function(e,t,n){const r=e.getId();if(!r)return;return{combiningOp:n,props:t,relativePos1:{id:r,before:!0},relativePos2:{id:r},type:2}},t.b=function(e,t,n,r){return{combiningOp:r,pos1:e,pos2:t,props:n,type:2}},t.h=function(e,t,n){return{pos1:e,pos2:t,register:n,type:1}},t.f=function(e,t){return r(e,t.toJSONObject())},t.e=r,t.d=function(e,t){return{pos1:e,register:t,type:0}},t.g=function(e,t,n){return{pos1:e,pos2:t,register:n,type:0}},t.c=function(...e){return{ops:e,type:3}}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2006)),o=n(2169),s=n(2627),a=n(3159),c=n(2626);t.a=class{constructor(e,t,n,r){this.runtime=e,this.client=t,this.mergeTree=n,this.specToSegment=(e=>{let t;return Object(s.a)(e)?((t=this.client.specToSegment(e.json)).clientId=void 0!==e.client?this.client.getOrAddShortClientId(e.client):o.b,t.seq=void 0!==e.seq?e.seq:o.e,void 0!==e.removedSeq&&(t.removedSeq=e.removedSeq),void 0!==e.removedClient&&(t.removedClientId=this.client.getOrAddShortClientId(e.removedClient))):((t=this.client.specToSegment(e)).seq=o.e,t.clientId=o.b),t}),this.logger=i.ChildLogger.create(r,"SnapshotLoader")}async initialize(e,t){const n=t.read(c.a.header),i=t.read(c.a.tardis),o=await n;r(o);const s=this.runtime.options&&this.runtime.options.enableBranching?e:this.runtime.documentId,a=this.loadHeader(o,s);return await this.loadBody(a,t),a.headerMetadata.hasTardis?this.loadTardis(i,s):(i.catch(()=>{}),[])}loadHeader(e,t){var n;const r=a.a.processChunk(c.a.header,e,this.logger,this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext),i=r.segments.map(this.specToSegment);this.mergeTree.reloadFromSegments(i);const o=t===this.runtime.documentId?0:1;if(void 0===r.headerMetadata)throw new Error("header metadata not available");return this.client.startOrUpdateCollaboration(null!==(n=this.runtime.clientId)&&void 0!==n?n:"snapshot",void 0!==r.headerMetadata.minSequenceNumber?r.headerMetadata.minSequenceNumber:r.headerMetadata.sequenceNumber,r.headerMetadata.sequenceNumber,o),r}async loadBody(e,t){if(this.runtime.logger.shipAssert(e.length<=e.headerMetadata.totalLength,{eventName:"Mismatch in totalLength"}),this.runtime.logger.shipAssert(e.segmentCount<=e.headerMetadata.totalSegmentCount,{eventName:"Mismatch in totalSegmentCount"}),e.segmentCount===e.headerMetadata.totalSegmentCount)return;const n=[];let r=e.length;for(let o=1;o<e.headerMetadata.orderedChunkMetadata.length;o++){const i=await a.a.loadChunk(t,e.headerMetadata.orderedChunkMetadata[o].id,this.logger,this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext);r+=i.length,n.push(...i.segments.map(this.specToSegment))}this.runtime.logger.shipAssert(r===e.headerMetadata.totalLength,{eventName:"Mismatch in totalLength"}),this.runtime.logger.shipAssert(e.segmentCount+n.length===e.headerMetadata.totalSegmentCount,{eventName:"Mismatch in totalSegmentCount"});const i=this.mergeTree,s=(e,t,n)=>{i.insertSegments(i.root.cachedLength,e,o.e,t,n,void 0)},c=[],u=()=>{c.length>0&&s(c,o.b,o.e)};for(const a of n){const e=a.clientId,t=a.seq;e===o.b&&t===o.e?c.push(a):(u(),s([a],e,t))}u()}async loadTardis(e,t){const n=Object(i.fromBase64ToUtf8)(await e),r=JSON.parse(n);if(t!==this.runtime.documentId)for(const i of r)i.origin={id:t,minimumSequenceNumber:i.minimumSequenceNumber,sequenceNumber:i.sequenceNumber};return r}}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2006)),o=n(2001),s=n(2169),a=n(2209),c=n(2627),u=n(2099);class l{constructor(e,t,n,r){this.mergeTree=e,this.filename=n,this.onCompletion=r,this.logger=i.ChildLogger.create(t,"Snapshot")}getSeqLengthSegs(e,t,n,r=0){const i=[];let o=0,s=0;for(;o<n&&r+s<e.length;){const n=e[r+s];i.push(n),o+=t[r+s],s++}return{version:"1",segmentCount:s,length:o,segments:i,startIndex:r,headerMetadata:void 0}}emit(e,t,n,i){r.strict.equal(e.length,0);const s=[];this.header.totalSegmentCount=0,this.header.totalLength=0;do{const e=this.getSeqLengthSegs(this.segments,this.segmentLengths,l.sizeOfChunks,this.header.totalSegmentCount);s.push(e),this.header.totalSegmentCount+=e.segmentCount,this.header.totalLength+=e.length}while(this.header.totalSegmentCount<this.segments.length);const a=s.shift();a.headerMetadata=this.header,a.headerMetadata.orderedChunkMetadata=[{id:u.SnapshotLegacy.header}];const h=s.map((e,r)=>{const s=r.toString();return this.header.orderedChunkMetadata.push({id:s}),{mode:o.FileMode.File,path:s,type:o.TreeEntry[o.TreeEntry.Blob],value:{contents:Object(c.b)(s,e,this.logger,t,n,i),encoding:"utf-8"}}});return{entries:[{mode:o.FileMode.File,path:u.SnapshotLegacy.header,type:o.TreeEntry[o.TreeEntry.Blob],value:{contents:Object(c.b)(u.SnapshotLegacy.header,a,this.logger,t,n,i),encoding:"utf-8"}},...h],id:null}}extractSync(){const e=this.mergeTree,{currentSeq:t,minSeq:n}=e.getCollabWindow();this.header={hasTardis:!1,minSequenceNumber:n,sequenceNumber:t,orderedChunkMetadata:[],totalLength:0,totalSegmentCount:0},this.segments=[],this.segmentLengths=[];const i=(e,t)=>{this.segments.push(e),this.segmentLengths.push(t)},o=e=>{e&&i(e.toJSONObject(),e.cachedLength)};let c;return e.walkAllSegments(e.root,t=>{if(t.seq===s.d||t.removedSeq<=n)return!0;if(t.seq<=n&&(void 0===t.removedSeq||t.removedSeq===s.d))c?c.canAppend(t)&&a.g(c.properties,t.properties)?(c=c.clone()).append(t.clone()):(o(c),c=t):c=t;else{o(c),c=void 0;const a={json:t.toJSONObject()};t.seq>n&&(a.seq=t.seq,a.client=e.getLongClientId(t.clientId)),void 0!==t.removedSeq&&(Object(r.strict)(t.removedSeq!==s.d&&t.removedSeq>n),a.removedSeq=t.removedSeq,a.removedClient=e.getLongClientId(t.removedClientId)),Object(r.strict)(void 0!==a.seq&&void 0!==a.client||void 0!==a.removedSeq&&void 0!==a.removedClient),i(a,t.cachedLength)}return!0},this),o(c),this.segments}static async loadChunk(e,t,n,r,i){const o=await e.read(t);return l.processChunk(t,o,n,r,i)}static processChunk(e,t,n,r,o){const s=Object(i.fromBase64ToUtf8)(t),a=r?r.parse(s,o):JSON.parse(s);return Object(c.d)(e,a,n)}}t.a=l,l.sizeOfChunks=1e4},function(e,t,n){"use strict";var r=n(2099),i=n(2629),o=n(2389);t.a="ISharedString";t.b=class extends i.a{constructor(e,t,n){super(e,t,n,o.c.segmentFromSpec),this.id=t,this.mergeTreeTextHelper=this.client.createTextHelper()}static create(e,t){return e.createChannel(t,o.c.Type)}static getFactory(){return new o.c}get ISharedString(){return this}insertMarkerRelative(e,t,n){const i=new r.Marker(t);n&&i.addProperties(n);const o=this.posFromRelativePos(e),s=this.client.insertSegmentLocal(o,i);s&&this.submitSequenceMessage(s)}insertMarker(e,t,n){const i=new r.Marker(t);n&&i.addProperties(n);const o=this.client.insertSegmentLocal(e,i);return o&&this.submitSequenceMessage(o),o}insertTextRelative(e,t,n){const i=new r.TextSegment(t);n&&i.addProperties(n);const o=this.posFromRelativePos(e),s=this.client.insertSegmentLocal(o,i);s&&this.submitSequenceMessage(s)}insertText(e,t,n){const i=new r.TextSegment(t);n&&i.addProperties(n);const o=this.client.insertSegmentLocal(e,i);o&&this.submitSequenceMessage(o)}replaceText(e,t,n,i){this.replaceRange(e,t,r.TextSegment.make(n,i))}removeText(e,t){return this.removeRange(e,t)}annotateMarkerNotifyConsensus(e,t,n){const r=this.client.annotateMarkerNotifyConsensus(e,t,n);r&&this.submitSequenceMessage(r)}annotateMarker(e,t,n){const r=this.client.annotateMarker(e,t,n);r&&this.submitSequenceMessage(r)}findTile(e,t,n=!0){return this.client.findTile(e,t,n)}getTextAndMarkers(e){const t=this.client.getCollabWindow();return this.mergeTreeTextHelper.getTextAndMarkers(t.currentSeq,t.clientId,e)}getText(e,t){const n=this.client.getCollabWindow();return this.mergeTreeTextHelper.getText(n.currentSeq,n.clientId,"",e,t)}getTextWithPlaceholders(){const e=this.client.getCollabWindow();return this.mergeTreeTextHelper.getText(e.currentSeq,e.clientId," ")}getTextRangeWithPlaceholders(e,t){const n=this.client.getCollabWindow();return this.mergeTreeTextHelper.getText(n.currentSeq,n.clientId," ",e,t)}getTextRangeWithMarkers(e,t){const n=this.client.getCollabWindow();return this.mergeTreeTextHelper.getText(n.currentSeq,n.clientId,"*",e,t)}getMarkerFromId(e){return this.client.getMarkerFromId(e)}}},function(e,t,n){"use strict";var r=n(137);n.n(r);class i{load(e,t=0){return new o(e,t)}store(e){return e.value}}t.b=i;class o extends r.EventEmitter{constructor(e,t){super(),this.emitter=e,this._value=t}get value(){return this._value}on(e,t){return super.on(e,t)}increment(e,t=!0){const n=this._value;return this._value=this._value+e,t&&this.emitter.emit("increment",n,e),this.emit("incremented",e,this._value),this}}t.a=o;class s{get name(){return s.Name}get factory(){return s._factory}get ops(){return s._ops}}t.c=s,s.Name="counter",s._factory=new i,s._ops=new Map([["increment",{process:(e,t,n,r)=>{n||e.increment(t,!1)}}]])},function(e,t,n){"use strict";var r=n(2012),i=(n.n(r),n(2630));const o=r("fluid:map");t.a=o,o(`Package: ${i.a} - Version: ${i.b}`)},function(e,t,n){"use strict";var r=n(2140),i=n(2006),o=n(2631);t.a=class{constructor(e,t,n,r,s=new i.TypedEventEmitter){this.runtime=e,this.handle=t,this.submitMessage=n,this.eventEmitter=s,this.messageHandlers=new Map,this.data=new Map,this.pendingKeys=new Map,this.pendingClearClientSequenceNumber=-1,this.localValueMaker=new o.a(e),this.messageHandlers=this.getMessageHandlers();for(const i of r)this.localValueMaker.registerValueType(i)}get size(){return this.data.size}keys(){return this.data.keys()}entries(){const e=this.data.entries();return{next(){const t=e.next();return t.done?{value:void 0,done:!0}:{value:[t.value[0],t.value[1].value],done:!1}},[Symbol.iterator](){return this}}}values(){const e=this.data.values();return{next(){const t=e.next();return t.done?{value:void 0,done:!0}:{value:t.value.value,done:!1}},[Symbol.iterator](){return this}}}[Symbol.iterator](){return this.entries()}forEach(e){this.data.forEach((t,n,r)=>{e(t.value,n,r)})}get(e){if(this.data.has(e))return this.data.get(e).value}async wait(e){return this.has(e)?this.get(e):new Promise(t=>{const n=r=>{e===r.key&&(t(this.get(r.key)),this.eventEmitter.removeListener("valueChanged",n))};this.eventEmitter.on("valueChanged",n)})}has(e){return this.data.has(e)}set(e,t){if(void 0===e||null===e)throw new Error("Undefined and null keys are not supported");const n=this.localValueMaker.fromInMemory(t),r=Object(o.b)(n,this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext,this.handle);this.setCore(e,n,!0,null);const i={key:e,type:"set",value:r};this.submitMapKeyMessage(i)}createValueType(e,t,n){const i=this.localValueMaker.makeValueType(t,this.makeMapValueOpEmitter(e),n),o={type:t,value:Object(r.c)(n,this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext,this.handle)};this.setCore(e,i,!0,null);const s={key:e,type:"set",value:o};this.submitMapKeyMessage(s)}delete(e){const t={key:e,type:"delete"},n=this.deleteCore(t.key,!0,null);return this.submitMapKeyMessage(t),n}clear(){this.clearCore(!0,null),this.submitMapClearMessage({type:"clear"})}getSerializedStorage(){const e={};return this.data.forEach((t,n)=>{e[n]=t.makeSerialized(this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext,this.handle)}),e}getSerializableStorage(){const e={};return this.data.forEach((t,n)=>{e[n]=Object(o.b)(t,this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext,this.handle)}),e}serialize(){return JSON.stringify(this.getSerializableStorage())}populateFromSerializable(e){for(const[t,n]of Object.entries(e)){const e={key:t,value:this.makeLocal(t,n)};this.data.set(e.key,e.value)}}populate(e){this.populateFromSerializable(JSON.parse(e))}trySubmitMessage(e){const t=e.type;return!!this.messageHandlers.has(t)&&(this.messageHandlers.get(t).submit(e),!0)}tryProcessMessage(e,t){const n=e.contents;return!!this.messageHandlers.has(n.type)&&(this.messageHandlers.get(n.type).process(n,t,e),!0)}setCore(e,t,n,r){const i=this.get(e);this.data.set(e,t);const o={key:e,previousValue:i};this.eventEmitter.emit("valueChanged",o,n,r,this)}clearCore(e,t){this.data.clear(),this.eventEmitter.emit("clear",e,t,this)}deleteCore(e,t,n){const r=this.get(e),i=this.data.delete(e);if(i){const i={key:e,previousValue:r};this.eventEmitter.emit("valueChanged",i,t,n,this)}return i}clearExceptPendingKeys(){const e=new Map;this.pendingKeys.forEach((t,n)=>{e.set(n,this.data.get(n))}),this.data.clear(),e.forEach((e,t)=>{this.data.set(t,e)})}makeLocal(e,t){return t.type===r.b[r.b.Plain]||t.type===r.b[r.b.Shared]?this.localValueMaker.fromSerializable(t):this.localValueMaker.fromSerializable(t,this.makeMapValueOpEmitter(e))}needProcessKeyOperation(e,t,n){return-1===this.pendingClearClientSequenceNumber&&(this.pendingKeys.has(e.key)?(t&&this.pendingKeys.get(e.key)===n.clientSequenceNumber&&this.pendingKeys.delete(e.key),!1):!t)}getMessageHandlers(){const e=new Map;return e.set("clear",{process:(e,t,n)=>{t?this.pendingClearClientSequenceNumber===n.clientSequenceNumber&&(this.pendingClearClientSequenceNumber=-1):0===this.pendingKeys.size?this.clearCore(t,n):this.clearExceptPendingKeys()},submit:e=>{this.submitMapClearMessage(e)}}),e.set("delete",{process:(e,t,n)=>{this.needProcessKeyOperation(e,t,n)&&this.deleteCore(e.key,t,n)},submit:e=>{this.submitMapKeyMessage(e)}}),e.set("set",{process:(e,t,n)=>{if(!this.needProcessKeyOperation(e,t,n))return;const r=t?void 0:this.makeLocal(e.key,e.value);this.setCore(e.key,r,t,n)},submit:e=>{this.submitMapKeyMessage(e)}}),e.set("act",{process:(e,t,n)=>{const i=this.data.get(e.key);if(!i)return;const o=i.getOpHandler(e.value.opName),s=i.value,a=Object(r.d)(e.value.value,this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext);o.process(s,a,t,n);const c={key:e.key,previousValue:s};this.eventEmitter.emit("valueChanged",c,t,n,this)},submit:this.submitMessage}),e}submitMapClearMessage(e){const t=this.submitMessage(e);-1!==t&&(this.pendingClearClientSequenceNumber=t)}submitMapKeyMessage(e){const t=this.submitMessage(e);-1!==t&&this.pendingKeys.set(e.key,t)}makeMapValueOpEmitter(e){return{emit:(t,n,i)=>{const o=Object(r.c)(i,this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext,this.handle),s={key:e,type:"act",value:{opName:t,value:o}};this.submitMessage(s);const a={key:e,previousValue:n};this.eventEmitter.emit("valueChanged",a,!0,null,this)}}}}},function(e,t,n){"use strict";t.c=function(e){throw new Error(`Unreachable Case: Type of ${e} is never`)};var r=n(1994);n.n(r);t.a=(e=>{var t;return"__fluid_handle__"===(null===(t=e)||void 0===t?void 0:t.type)});const i=r;t.b=i},function(e,t,n){"use strict";var r=n(2012),i=(n.n(r),n(2388));const o=r("fluid:sequence");t.a=o,o(`Package: ${i.a} - Version: ${i.b}`)},function(e,t,n){"use strict";var r=n(2099);class i{constructor(e,t){this.deltaArgs=e,this.mergeTreeClient=t,this.isEmpty=0===e.deltaSegments.length,this.deltaOperation=e.operation,this.sortedRanges=new o(()=>{const e=new r.SortedSegmentSet;return this.deltaArgs.deltaSegments.forEach(t=>{const n={operation:this.deltaArgs.operation,position:this.mergeTreeClient.getPosition(t.segment),propertyDeltas:t.propertyDeltas,segment:t.segment};e.addOrUpdate(n)}),e}),this.pFirst=new o(()=>{if(!this.isEmpty)return this.sortedRanges.value.items[0]}),this.pLast=new o(()=>{if(!this.isEmpty)return this.sortedRanges.value.items[this.sortedRanges.value.size-1]})}get ranges(){return this.sortedRanges.value.items}get clientId(){return this.mergeTreeClient.longClientId}get first(){return this.pFirst.value}get last(){return this.pLast.value}}t.b=i;t.a=class extends i{constructor(e,t,n){super(t,n),this.opArgs=e,this.isLocal=void 0===e.sequencedMessage}};t.c=class extends i{constructor(e,t){super(e,t)}};class o{constructor(e){this.valueGenerator=e,this.pEvaluated=!1}get evaluated(){return this.pEvaluated}get value(){return this.pEvaluated||(this.pEvaluated=!0,this.pValue=this.valueGenerator()),this.pValue}}},function(e,t,n){"use strict";var r=n(2389),i=n(2390);t.a=class extends i.a{constructor(e,t,n){super(e,t,n,r.a.segmentFromSpec),this.id=t}static create(e,t){return e.createChannel(t,r.a.Type)}static getFactory(){return new r.a}getRange(e,t){return this.getItems(e,t)}}},function(e,t,n){"use strict";var r=n(2389),i=n(2390);t.a=class extends i.a{constructor(e,t,n){super(e,t,n,r.b.segmentFromSpec),this.id=t}static create(e,t){return e.createChannel(t,r.b.Type)}static getFactory(){return new r.b}getRange(e,t){return this.getItems(e,t)}}},function(e,t,n){"use strict";var r=n(2633),i=n(2635),o=n(3182);t.a=class{constructor(e,t,n,r,o,s=!0){this.type=e,this.ctor=t,this.optionalProviders=r,this.onDemandInstantiation=s,void 0!==o&&(this.registry=new i.a(o)),this.sharedObjectRegistry=new Map(n.map(e=>[e.type,e]))}get IComponentFactory(){return this}get IComponentRegistry(){return this.registry}get registryEntry(){return[this.type,Promise.resolve(this)]}instantiateComponent(e){this.instantiateComponentWithInitialState(e,void 0)}instantiateComponentWithInitialState(e,t){const n=r.b.load(e,this.sharedObjectRegistry,this.registry);let i;this.onDemandInstantiation&&n.existing||(i=this.instantiateInstance(n,e,t)),n.registerRequestHandler(async r=>(i||(i=this.instantiateInstance(n,e,t)),(await i).request(r)))}async instantiateInstance(e,t,n){const r=new o.a(t.scope.IComponentDependencySynthesizer).synthesize(this.optionalProviders,{}),i=new this.ctor({runtime:e,context:t,providers:r});return await i.initialize(n),i}async createComponent(e,t){if(""===this.type)throw new Error("undefined type member");return e.createComponentWithRealizationFn(this.type,e=>{this.instantiateComponentWithInitialState(e,t)})}}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2006)),o=n(2001),s=n(2632),a=n(2140),c=n(3171),u=n(5129),l=n(3173);const h=(e,t)=>({sequenceNumber:e,value:{type:"Plain",value:t}}),d=e=>"serializedValue"in e,p="header";t.a=class extends a.a{constructor(e,t,n){super(e,t,n),this.data=new Map,this.pendingLocalMessages=[]}static create(e,t){return e.createChannel(t,c.a.Type)}static getFactory(){return new c.a}async write(e,t){const n=this.stringify(t);if(this.isLocal())return this.processInboundWrite(e,this.parse(n),0,0,!0),!0;const r={key:e,type:"write",serializedValue:n,refSeq:this.runtime.deltaManager.referenceSequenceNumber},i=this.submitLocalMessage(r);return new Promise(e=>{this.pendingLocalMessages.push({resolve:e,clientSequenceNumber:i,message:r})})}read(e,t=l.a.Atomic){if(t===l.a.Atomic)return this.readAtomic(e);const n=this.readVersions(e);return void 0!==n?(r(n.length>0,"Value should be undefined or non-empty"),n[n.length-1]):void 0}readVersions(e){var t;return null===(t=this.data.get(e))||void 0===t?void 0:t.versions.map(e=>e.value.value)}keys(){return[...this.data.keys()]}snapshot(){const e={};return this.data.forEach((t,n)=>{e[n]=t}),{entries:[{mode:o.FileMode.File,path:p,type:o.TreeEntry[o.TreeEntry.Blob],value:{contents:this.stringify(e),encoding:"utf-8"}}],id:null}}async loadCore(e,t){var n;const o=await t.read(p),s=void 0!==o?this.parse(Object(i.fromBase64ToUtf8)(o)):{};for(const i of Object.keys(s))r("Shared"!==(null===(n=s[i].atomic)||void 0===n?void 0:n.value.type),"SharedObjects contained in ConsensusRegisterCollection can no longer be deserialized as of 0.17"),this.data.set(i,s[i])}registerCore(){}onDisconnect(){Object(u.a)(`ConsensusRegisterCollection ${this.id} is now disconnected`)}onConnect(e){r(e.length===this.pendingLocalMessages.length);for(const t of this.pendingLocalMessages)t.clientSequenceNumber=this.submitLocalMessage(t.message)}processCore(e,t){if(e.type===o.MessageType.Operation){const n=e.contents;switch(n.type){case"write":{void 0===n.refSeq&&(n.refSeq=e.referenceSequenceNumber);const i=n.refSeq;r(i<=e.referenceSequenceNumber);const o=d(n)?this.parse(n.serializedValue):n.value.value,s=this.processInboundWrite(n.key,o,i,e.sequenceNumber,t);t&&this.onLocalMessageAck(e,s);break}default:Object(s.e)(n.type)}}}readAtomic(e){var t;return null===(t=this.data.get(e))||void 0===t?void 0:t.atomic.value.value}processInboundWrite(e,t,n,i,o){let a=this.data.get(e);const c=void 0===a||n>=a.atomic.sequenceNumber;if(c){const n=h(i,t);void 0===a?(a={atomic:n,versions:[]},this.data.set(e,a)):a.atomic=n}else Object(s.d)(a);for(;a.versions.length>0&&n>=a.versions[0].sequenceNumber;)a.versions.shift();const u=h(i,t);return this.isLocal()?r(0===n&&0===i,"sequence numbersare expected to be 0 when unattached"):a.versions.length>0&&r(i>a.versions[a.versions.length-1].sequenceNumber,"Versions should naturally be ordered by sequenceNumber"),a.versions.push(u),c&&this.emit("atomicChanged",e,t,o),this.emit("versionChanged",e,t,o),c}onLocalMessageAck(e,t){const n=this.pendingLocalMessages.shift();Object(s.d)(n),r.strictEqual(e.clientSequenceNumber,n.clientSequenceNumber,"ConsensusRegistryCollection: unexpected ack"),n.resolve(t)}stringify(e){return this.runtime.IComponentSerializer.stringify(e,this.runtime.IComponentHandleContext,this.handle)}parse(e){return this.runtime.IComponentSerializer.parse(e,this.runtime.IComponentHandleContext)}}},function(e,t,n){"use strict";var r=n(3170),i=n(3172);class o{get type(){return o.Type}get attributes(){return o.Attributes}async load(e,t,n,i,o){const s=new r.a(t,e,o);return await s.load(i,n),s}create(e,t){const n=new r.a(t,e,o.Attributes);return n.initializeLocal(),n}}t.a=o,o.Type="https://graph.microsoft.com/types/consensus-register-collection",o.Attributes={type:o.Type,snapshotFormatVersion:"0.1",packageVersion:i.b}},function(e,t,n){"use strict";t.a="@microsoft/fluid-register-collection";t.b="0.18.4"},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.Atomic=0]="Atomic",e[e.LWW=1]="LWW"}(r||(r={}))},function(e,t,n){"use strict";t.a=class{constructor(e){this.map=new Map(e)}get IComponentRegistry(){return this}async get(e){if(this.map.has(e))return this.map.get(e)}}},function(e,t,n){"use strict";t.a="@microsoft/fluid-container-runtime";t.b="0.18.4"},function(e,t,n){"use strict";t.b=function(e){const t=r.a.getPathParts(e.url);return async(n,r)=>{for(let e=0;e<t.length;e++)if(t[e]!==n.pathParts[e])return;return i(e)}};var r=n(2636);t.a=(async(e,t)=>{if(e.pathParts.length>0){let n;e.headers&&"boolean"===typeof e.headers.wait&&(n=e.headers.wait);const r=await t.getComponentRuntime(e.pathParts[0],n),i=e.createSubRequest(1);if(i)return r.request(i)}});const i=e=>({status:200,mimeType:"fluid/component",value:e})},function(e,t,n){"use strict";var r=n(137),i=(n.n(r),n(2006)),o=n(2206),s=n(2031),a=n(2001),c=n(3178),u=n(3179);const l=2e4,h=5,d=50;class p{constructor(e,t,n,r){this.configuration=e,this.trySummarize=t,this.lastOpSeqNumber=n,this.lastSent=r,this._lastAcked=r,this.idleTimer=new i.Timer(this.configuration.idleTime,()=>this.trySummarize("idle"))}get lastAcked(){return this._lastAcked}ackLastSent(){this._lastAcked=this.lastSent}run(){this.idleTimer.clear();const e=Date.now()-this.lastAcked.summaryTime,t=this.lastOpSeqNumber-this.lastAcked.refSequenceNumber;e>this.configuration.maxTime?this.trySummarize("maxTime"):t>this.configuration.maxOps?this.trySummarize("maxOps"):this.idleTimer.start()}dispose(){this.idleTimer.clear()}}class f{constructor(e,t,n,r,o,s,a,c,u=!1,h){this.clientId=e,this.onBehalfOfClientId=t,this.logger=n,this.summaryWatcher=r,this.configuration=o,this.generateSummary=s,this.immediateSummary=u,this.raiseSummarizingError=h,this._disposed=!1,this.summarizing=!1,this.summarizeCount=0,this.tryWhileSummarizing=!1,this.heuristics=new p(o,e=>this.trySummarize(e),a,c),this.summarizeTimer=new i.Timer(l,()=>this.summarizeTimerHandler(l,1)),this.pendingAckTimer=new i.PromiseTimer(this.configuration.maxAckWaitTime,()=>{this.raiseSummarizingError("SummaryAckWaitTimeout"),this.logger.sendErrorEvent({eventName:"SummaryAckWaitTimeout",maxAckWaitTime:this.configuration.maxAckWaitTime,refSequenceNumber:this.heuristics.lastSent.refSequenceNumber,summarySequenceNumber:this.heuristics.lastSent.summarySequenceNumber,timePending:Date.now()-this.heuristics.lastSent.summaryTime})})}static async start(e,t,n,r,i,o,s,a,c,u){const l=new f(e,t,n,r,i,o,s,a,c,u);return await l.waitStart(),c?l.trySummarize("immediate"):l.heuristics.run(),l}get disposed(){return this._disposed}dispose(){this.summaryWatcher.dispose(),this.heuristics.dispose(),this.summarizeTimer.clear(),this.pendingAckTimer.clear(),this._disposed=!0}handleSystemOp(e){switch(e.type){case a.MessageType.ClientLeave:{const t=JSON.parse(e.data);if(t===this.clientId||t===this.onBehalfOfClientId)return}case a.MessageType.ClientJoin:case a.MessageType.Propose:case a.MessageType.Reject:return void this.handleOp(void 0,e);default:return}}handleOp(e,t){void 0===e&&(this.heuristics.lastOpSeqNumber=t.sequenceNumber,t.type===a.MessageType.Save?this.trySummarize(`;${t.clientId}: ${t.contents}`):this.heuristics.run())}async waitStop(){if(this.disposed)return;this.heuristics.lastOpSeqNumber-this.heuristics.lastAcked.refSequenceNumber>d&&await this.trySummarize("lastSummary").broadcastP}async waitStart(){const e=await Promise.race([this.summaryWatcher.waitFlushed(),this.pendingAckTimer.start()]);this.pendingAckTimer.clear(),e&&(this.heuristics.lastSent={refSequenceNumber:e.summaryOp.referenceSequenceNumber,summaryTime:e.summaryOp.timestamp,summarySequenceNumber:e.summaryOp.sequenceNumber},this.heuristics.ackLastSent())}trySummarize(e){if(!0===this.summarizing)return this.tryWhileSummarizing=!0,{broadcastP:Promise.resolve()};this.summarizing=!0;const t=new i.Deferred;return(async()=>{!0!==await this.summarize(e,!1,t)&&await this.summarize(e,!0,t)})().finally(()=>{this.summarizing=!1,t.resolve(),this.tryWhileSummarizing&&(this.tryWhileSummarizing=!1,this.heuristics.run())}).catch(e=>{this.logger.sendErrorEvent({eventName:"UnexpectedSummarizeError"},e)}),{broadcastP:t.promise}}async summarize(e,t,n){this.summarizeTimer.start();try{return await this.summarizeCore(e,t,n)}finally{this.summarizeTimer.clear(),this.pendingAckTimer.clear()}}async summarizeCore(e,t,n){const r=await this.generateSummaryWithLogging(e,t);if(!r||!r.submitted)return void this.raiseSummarizingError("Error while generating or submitting summary");this.heuristics.lastSent={refSequenceNumber:r.referenceSequenceNumber,summaryTime:Date.now()};const i=this.pendingAckTimer.start().catch(()=>void 0),o=this.summaryWatcher.watchSummary(r.clientSequenceNumber),s=await Promise.race([o.waitBroadcast(),i]);if(n.resolve(),!s)return;this.heuristics.lastSent.summarySequenceNumber=s.sequenceNumber,this.logger.sendTelemetryEvent({eventName:"SummaryOp",timeWaiting:Date.now()-this.heuristics.lastSent.summaryTime,refSequenceNumber:s.referenceSequenceNumber,summarySequenceNumber:s.sequenceNumber,handle:s.contents.handle});const c=await Promise.race([o.waitAckNack(),i]);return c?(this.logger.sendTelemetryEvent({eventName:c.type===a.MessageType.SummaryAck?"SummaryAck":"SummaryNack",category:c.type===a.MessageType.SummaryAck?"generic":"error",timeWaiting:Date.now()-this.heuristics.lastSent.summaryTime,summarySequenceNumber:c.contents.summaryProposal.summarySequenceNumber,error:c.type===a.MessageType.SummaryNack?c.contents.errorMessage:void 0,handle:c.type===a.MessageType.SummaryAck?c.contents.handle:void 0}),this.pendingAckTimer.clear(),c.type===a.MessageType.SummaryAck?(this.heuristics.ackLastSent(),this.immediateSummary=!1,!0):(this.raiseSummarizingError("SummaryNack"),!1)):void 0}async generateSummaryWithLogging(e,t){const n=i.PerformanceEvent.start(this.logger,{eventName:"Summarizing",message:e,summarizeCount:++this.summarizeCount,timeSinceLastAttempt:Date.now()-this.heuristics.lastSent.summaryTime,timeSinceLastSummary:Date.now()-this.heuristics.lastAcked.summaryTime,safe:t||void 0});let r;try{r=await this.generateSummary(this.immediateSummary,t)}catch(s){return void n.cancel({category:"error"},s)}if(this.summarizeTimer.clear(),!r)return void n.cancel();const o=Object.assign(Object.assign(Object.assign({},r),r.summaryStats),{refSequenceNumber:r.referenceSequenceNumber,opsSinceLastAttempt:r.referenceSequenceNumber-this.heuristics.lastSent.refSequenceNumber,opsSinceLastSummary:r.referenceSequenceNumber-this.heuristics.lastAcked.refSequenceNumber});return o.summaryStats=void 0,o.referenceSequenceNumber=void 0,r.submitted?n.end(o):n.cancel(o),r}summarizeTimerHandler(e,t){if(this.logger.sendErrorEvent({eventName:"SummarizeTimeout",timeoutTime:e,timeoutCount:t}),t<h){const n=2*e;this.summarizeTimer.start(n,()=>this.summarizeTimerHandler(n,t+1))}}}t.a=class extends r.EventEmitter{constructor(e,t,n,r,o,s){var a;super(),this.url=e,this.runtime=t,this.configurationGetter=n,this.generateSummaryCore=r,this.refreshLatestAck=o,this.immediateSummary=!1,this.stopDeferred=new i.Deferred,this.logger=i.ChildLogger.create(this.runtime.logger,"Summarizer"),this.runCoordinator=new c.a(t),s?(this.immediateSummary=!0,this.summaryCollection=s):this.summaryCollection=new u.a(this.runtime.deltaManager.initialSequenceNumber),this.runtime.deltaManager.inbound.on("op",e=>this.summaryCollection.handleOp(e)),null===(a=this.runtime.previousState.nextSummarizerD)||void 0===a||a.resolve(this)}get IComponentRouter(){return this}get IComponentRunnable(){return this}get IComponentLoadable(){return this}get ISummarizer(){return this}async run(e){var t;try{await this.runCore(e)}finally{if(this.runtime.connected){this.runningSummarizer&&await this.runningSummarizer.waitStop();const e={errorType:o.ErrorType.summarizingError,description:`Summarizer: ${t=this.stopReason,null!==t&&void 0!==t?t:"runEnded"}`};this.runtime.closeFn(e)}this.dispose()}}stop(e){this.stopReason||(this.stopReason=null!==e&&void 0!==e?e:"Unspecified",this.logger.sendTelemetryEvent({eventName:"StoppingSummarizer",onBehalfOf:this.onBehalfOfClientId,reason:e}),this.stopDeferred.resolve())}updateOnBehalfOf(e){this.onBehalfOfClientId=e}async request(e){return{mimeType:"fluid/component",status:200,value:this}}async runCore(e){this.onBehalfOfClientId=e;const t=await this.runCoordinator.waitStart();if(!1===t.started)return void this.logger.sendTelemetryEvent({eventName:"NotStarted",reason:t.message,onBehalfOf:e});if(!1===this.runtime.deltaManager.active)return void this.logger.sendTelemetryEvent({eventName:"NotStarted",reason:"CannotWrite",onBehalfOf:e});if(this.runtime.summarizerClientId!==this.onBehalfOfClientId&&this.runtime.summarizerClientId!==this.runtime.clientId)return void this.logger.sendTelemetryEvent({eventName:"NotStarted",reason:"DifferentComputedSummarizer",computedSummarizer:this.runtime.summarizerClientId,onBehalfOf:e,clientId:this.runtime.clientId});this.logger.sendTelemetryEvent({eventName:"RunningSummarizer",onBehalfOf:e,initSummarySeqNumber:this.summaryCollection.initialSequenceNumber});const n={refSequenceNumber:this.summaryCollection.initialSequenceNumber,summaryTime:Date.now()},r=await f.start(t.clientId,e,this.logger,this.summaryCollection.createWatcher(t.clientId),this.configurationGetter(),async(e,t)=>this.generateSummary(e,t),this.runtime.deltaManager.referenceSequenceNumber,n,this.immediateSummary,e=>this.emit("summarizingError",Object(s.createSummarizingError)(`Summarizer: ${e}`,!0)));this.runningSummarizer=r,this.immediateSummary=!1,this.handleSummaryAcks().catch(e=>{this.logger.sendErrorEvent({eventName:"HandleSummaryAckFatalError"},e),this.stop("handleAckError")}),this.systemOpListener=(e=>r.handleSystemOp(e)),this.runtime.deltaManager.inbound.on("op",this.systemOpListener),this.opListener=((e,t)=>r.handleOp(e,t)),this.runtime.on("batchEnd",this.opListener),await Promise.race([this.runCoordinator.waitStopped(),this.stopDeferred.promise])}dispose(){this.runningSummarizer&&(this.runningSummarizer.dispose(),this.runningSummarizer=void 0),this.systemOpListener&&this.runtime.deltaManager.inbound.removeListener("op",this.systemOpListener),this.opListener&&this.runtime.removeListener("batchEnd",this.opListener)}async setSummarizer(){return this.runtime.nextSummarizerD=new i.Deferred,this.runtime.nextSummarizerD.promise}async generateSummary(e,t){if(this.onBehalfOfClientId===this.runtime.summarizerClientId||this.runtime.clientId===this.runtime.summarizerClientId)return this.generateSummaryCore(e,t);this.stop("parentNoLongerSummarizer")}async handleSummaryAcks(){let e=this.summaryCollection.initialSequenceNumber;for(;this.runningSummarizer;)try{const n=await this.summaryCollection.waitSummaryAck(e);e=n.summaryOp.referenceSequenceNumber;const r={proposalHandle:n.summaryOp.contents.handle,ackHandle:n.summaryAckNack.contents.handle};await this.refreshLatestAck(r,e),e++}catch(t){this.logger.sendErrorEvent({eventName:"HandleSummaryAckError",refSequenceNumber:e},t)}}}},function(e,t,n){"use strict";var r=n(2006);t.a=class{constructor(e){this.runtime=e,this.everConnected=!1,this.stopDeferred=new r.Deferred,this.runtime.connected?this.everConnected=!0:this.runtime.once("connected",()=>this.everConnected=!0),this.runtime.on("disconnected",()=>{this.everConnected&&this.stop()})}async waitStart(){if(!this.runtime.connected){if(this.everConnected)return{started:!1,message:"DisconnectedBeforeRun"};const e=new Promise(e=>this.runtime.once("connected",e));if(await Promise.race([e,this.stopDeferred.promise]),!this.runtime.connected)return{started:!1,message:"NeverConnectedBeforeRun"}}if(void 0===this.runtime.clientId)throw Error("clientId should be defined if connected.");return{started:!0,clientId:this.runtime.clientId}}async waitStopped(){return this.stopDeferred.promise}stop(){this.stopDeferred.resolve()}}},function(e,t,n){"use strict";var r,i=n(1994),o=(n.n(i),n(2006)),s=n(2001);!function(e){e[e.Local=0]="Local",e[e.Broadcast=1]="Broadcast",e[e.Acked=2]="Acked",e[e.Nacked=-1]="Nacked"}(r||(r={}));class a{constructor(e,t){this.clientId=e,this.clientSequenceNumber=t,this.state=r.Local,this.defSummaryOp=new o.Deferred,this.defSummaryAck=new o.Deferred}static createLocal(e,t){return new a(e,t)}static createFromOp(e){const t=new a(e.clientId,e.clientSequenceNumber);return t.broadcast(e),t}get summaryOp(){return this._summaryOp}get summaryAckNack(){return this._summaryAckNack}hasBeenAcked(){return this.state===r.Acked}broadcast(e){return i(this.state===r.Local),this._summaryOp=e,this.defSummaryOp.resolve(),this.state=r.Broadcast,!0}ackNack(e){return i(this.state===r.Broadcast),this._summaryAckNack=e,this.defSummaryAck.resolve(),this.state=e.type===s.MessageType.SummaryAck?r.Acked:r.Nacked,!0}async waitBroadcast(){return await this.defSummaryOp.promise,this._summaryOp}async waitAckNack(){return await this.defSummaryAck.promise,this._summaryAckNack}}class c{constructor(e,t){this.clientId=e,this.summaryCollection=t,this.localSummaries=new Map,this._disposed=!1}get disposed(){return this._disposed}watchSummary(e){let t=this.localSummaries.get(e);return t||(t=a.createLocal(this.clientId,e),this.localSummaries.set(t.clientSequenceNumber,t)),t}waitFlushed(){return this.summaryCollection.waitFlushed()}tryGetSummary(e){return this.localSummaries.get(e)}setSummary(e){this.localSummaries.set(e.clientSequenceNumber,e)}dispose(){this.summaryCollection.removeWatcher(this.clientId),this._disposed=!0}}t.a=class{constructor(e){this.initialSequenceNumber=e,this.summaryWatchers=new Map,this.pendingSummaries=new Map,this.refreshWaitNextAck=new o.Deferred}get latestAck(){return this.lastAck}createWatcher(e){const t=new c(e,this);return this.summaryWatchers.set(e,t),t}removeWatcher(e){this.summaryWatchers.delete(e)}async waitFlushed(){for(;this.pendingSummaries.size>0;){const e=Array.from(this.pendingSummaries,([,e])=>e.waitAckNack());await Promise.all(e)}return this.lastAck}async waitSummaryAck(e){for(;!this.lastAck||this.lastAck.summaryOp.referenceSequenceNumber<e;)await this.refreshWaitNextAck.promise;return this.lastAck}handleOp(e){switch(e.type){case s.MessageType.Summarize:return void this.handleSummaryOp(e);case s.MessageType.SummaryAck:return void this.handleSummaryAck(e);case s.MessageType.SummaryNack:return void this.handleSummaryNack(e);default:return}}handleSummaryOp(e){let t;const n=this.summaryWatchers.get(e.clientId);n&&(t=n.tryGetSummary(e.clientSequenceNumber))&&t.broadcast(e),t||(t=a.createFromOp(e),n&&n.setSummary(t)),this.pendingSummaries.set(e.sequenceNumber,t)}handleSummaryAck(e){const t=e.contents.summaryProposal.summarySequenceNumber,n=this.pendingSummaries.get(t);i(n),n.ackNack(e),this.pendingSummaries.delete(t),(!this.lastAck||t>this.lastAck.summaryAckNack.contents.summaryProposal.summarySequenceNumber)&&(this.lastAck=n,this.refreshWaitNextAck.resolve(),this.refreshWaitNextAck=new o.Deferred)}handleSummaryNack(e){const t=e.contents.summaryProposal.summarySequenceNumber,n=this.pendingSummaries.get(t);n&&(n.ackNack(e),this.pendingSummaries.delete(t))}}},function(e,t,n){"use strict";(function(e){var r=n(2001);class i{constructor(e){this.useContext=e}convertToSummaryTree(e,t,n=!1){const r=i.mergeStats();return{summaryStats:r,summaryTree:i.convertToSummaryTreeCore(e,r,t,this.useContext,n)}}static mergeStats(...e){const t={treeNodeCount:0,blobNodeCount:0,handleNodeCount:0,totalBlobSize:0};for(const n of e)t.treeNodeCount+=n.treeNodeCount,t.blobNodeCount+=n.blobNodeCount,t.handleNodeCount+=n.handleNodeCount,t.totalBlobSize+=n.totalBlobSize;return t}static appendPath(e,t){return`${e}/${encodeURIComponent(t)}`}static convertToSummaryTreeCore(t,n,o,s,a){if(t.id&&!a)return n.handleNodeCount++,{handle:s?o:t.id,handleType:1,type:3};{const c={tree:{},type:1};for(const u of t.entries){let t;switch(u.type){case r.TreeEntry[r.TreeEntry.Blob]:{const r=u.value;let i;"base64"===r.encoding?(i=e.from(r.contents,"base64"),n.totalBlobSize+=i.byteLength):(i=r.contents,n.totalBlobSize+=e.byteLength(i)),t={content:i,type:2},n.blobNodeCount++;break}case r.TreeEntry[r.TreeEntry.Tree]:case r.TreeEntry[r.TreeEntry.Commit]:t=i.convertToSummaryTreeCore(u.value,n,i.appendPath(o,u.path),s,a);break;default:throw new Error("Unexpected TreeEntry type")}c.tree[u.path]=t}return n.treeNodeCount++,c}}}t.a=i}).call(t,n(22).Buffer)},function(e,t,n){"use strict";const r=n(2085);class i{constructor(e,t){this.logger=t,this.processingTimeIncrement=10,this.totalProcessingTime=i.processingTime,this.isScheduling=!1,this.schedulingCount=0,this.deltaManager=e,this.deltaManager.inbound.on("idle",()=>{this.inboundQueueIdle()})}batchBegin(){this.processingStartTime||(this.processingStartTime=r())}batchEnd(){if(this.shouldRunScheduler()){this.isScheduling||(this.isScheduling=!0,this.schedulingCount%2e3===0&&(this.schedulingLog={numberOfOps:this.deltaManager.inbound.length,numberOfTurns:1,totalProcessingTime:0}));const e=r()-this.processingStartTime;e>this.totalProcessingTime&&(this.deltaManager.inbound.systemPause(),setTimeout(()=>{this.deltaManager.inbound.systemResume()}),this.processingStartTime=void 0,this.totalProcessingTime+=this.processingTimeIncrement,this.schedulingLog&&(this.schedulingLog.numberOfTurns++,this.schedulingLog.totalProcessingTime+=e))}}inboundQueueIdle(){this.schedulingLog&&(this.schedulingLog.totalProcessingTime+=r()-this.processingStartTime,this.logger.sendTelemetryEvent({eventName:"InboundOpsProcessingTime",numberOfOps:this.schedulingLog.numberOfOps,numberOfTurns:this.schedulingLog.numberOfTurns,processingTime:this.schedulingLog.totalProcessingTime}),this.schedulingLog=void 0),this.isScheduling&&(this.isScheduling=!1,this.schedulingCount++),this.processingStartTime=void 0,this.totalProcessingTime=i.processingTime}shouldRunScheduler(){return this.deltaManager.inbound.length>0}}t.a=i,i.processingTime=20},function(e,t,n){"use strict";var r=n(5143);n.d(t,"a",function(){return r.a});n(5144)},function(e,t,n){"use strict";t.a=class{constructor(e,t,n){this.path=e,this.directory=t,this.routeContext=n}get IComponentRouter(){return this}get IComponentHandleContext(){return this}get IComponentHandle(){return this}get isAttached(){return!0}async get(){return this.directory.get(this.path)}attach(){}bind(e){throw new Error("Cannot bind to blob handle")}async request(e){return{status:404,mimeType:"text/plain",value:`${e.url} not found`}}}},function(e,t,n){"use strict";var r=n(2633),i=n(2048),o=(n.n(i),n(2006)),s=n(3185);t.a=class extends o.EventForwarder{constructor(e){super(),this._disposed=!1,this.runtime=e.runtime,this.context=e.context,this.providers=e.providers,this.innerHandle=new r.a(this,this.url,this.runtime.IComponentHandleContext),this.runtime.once("dispose",()=>{this._disposed=!0,this.dispose()})}get disposed(){return this._disposed}get id(){return this.runtime.id}get IComponentRouter(){return this}get IComponentLoadable(){return this}get IComponentHandle(){return this.innerHandle}get handle(){return this.innerHandle}async initialize(e){var t;this.initializeP||(this.initializeP=this.initializeInternal(null!==(t=this.context.createProps)&&void 0!==t?t:e)),await this.initializeP}async request(e){return"/"===e.url||e.url===this.url||""===e.url?{mimeType:"fluid/component",status:200,value:this}:Promise.reject(`unknown request url: ${e.url}`)}get url(){return this.context.id}async asComponent(e){const t=await e;return 200===t.status&&"fluid/component"===t.mimeType?t.value:Promise.reject("response does not contain fluid component")}async initializeInternal(e){this.runtime.existing?await this.componentInitializingFromExisting():await this.componentInitializingFirstTime(e),await this.componentHasInitialized()}async createAndAttachComponent(e,t){const n=await this.context.createComponent(Object(i.v4)(),e,t),r=await this.asComponent(n.request({url:"/"}));return n.attach(),r}async getComponentFromDirectory(e,t,n){var r;const i=n?n(e,t):t.get(e);if("string"===typeof i){const n=await this.getComponent_UNSAFE(i);return n.IComponentLoadable&&n.handle&&t.set(e,n.handle),n}{const t=null===(r=i)||void 0===r?void 0:r.IComponentHandle;return await(t?t.get():this.getComponent_UNSAFE(e))}}async getComponent_UNSAFE(e,t=!0){const n={headers:[[t]],url:`/${e}`};return this.asComponent(this.context.containerRuntime.request(n))}async getService(e){const t={url:`/${s.c}/${e}`};return this.asComponent(this.context.containerRuntime.request(t))}async componentInitializingFirstTime(e){}async componentInitializingFromExisting(){}async componentHasInitialized(){}dispose(){super.dispose()}}},function(e,t,n){"use strict";var r=n(5147);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),n.d(t,"c",function(){return r.c})},function(e,t,n){"use strict";var r=n(2635),i=n(5149),o=(n.n(i),n(3182));t.a=class{constructor(e,t=[],n=[]){this.registryEntries=e,this.providerEntries=t,this.requestHandlers=n,this.registry=new r.a(e)}get IComponentRegistry(){return this.registry}get IRuntimeFactory(){return this}async instantiateRuntime(e){const t=e.scope.IComponentDependencySynthesizer,n=new o.a(t);for(const r of Array.from(this.providerEntries))n.register(r.type,r.provider);const s=e.scope;s.IComponentDependencySynthesizer=n;const a=await r.b.load(e,this.registryEntries,[...this.requestHandlers,r.d],void 0,s);return n.register(i.IContainerRuntime,a),a.existing||await this.containerInitializingFirstTime(a),await this.containerHasInitialized(a),a}async containerInitializingFirstTime(e){}async containerHasInitialized(e){}}},function(e,t,n){"use strict";var r=n(2006),i=n(2001),o=n(2140),s=n(5152),a=n(5153);const c="header";t.a=class extends o.a{constructor(e,t,n){super(e,t,n),this.pendingClientSequenceNumber=-1}static create(e,t){return e.createChannel(t,s.a.Type)}static getFactory(){return new s.a}get(){return this.data}set(e){if(o.a.is(e))throw new Error("SharedObject sets are no longer supported. Instead set the SharedObject handle.");const t={type:"setCell",value:{type:o.b[o.b.Plain],value:this.toSerializable(e)}};this.setCore(e),this.submitCellMessage(t)}delete(){this.deleteCore(),this.submitCellMessage({type:"deleteCell"})}empty(){return void 0===this.data}snapshot(){const e={type:o.b[o.b.Plain],value:this.toSerializable(this.data)};return{entries:[{mode:i.FileMode.File,path:c,type:i.TreeEntry[i.TreeEntry.Blob],value:{contents:JSON.stringify(e),encoding:"utf-8"}}],id:null}}async loadCore(e,t){const n=await t.read(c),i=void 0!==n?JSON.parse(Object(r.fromBase64ToUtf8)(n)):{type:o.b[o.b.Plain],value:void 0};this.data=this.fromSerializable(i)}initializeLocalCore(){this.data=void 0}registerCore(){o.a.is(this.data)&&this.data.register()}onDisconnect(){Object(a.a)(`Cell ${this.id} is now disconnected`)}processCore(e,t){if(-1===this.pendingClientSequenceNumber){if(e.type===i.MessageType.Operation&&!t){const t=e.contents;switch(t.type){case"setCell":this.setCore(this.fromSerializable(t.value));break;case"deleteCell":this.deleteCore();break;default:throw new Error("Unknown operation")}}}else t&&e.clientSequenceNumber===this.pendingClientSequenceNumber&&(this.pendingClientSequenceNumber=-1)}setCore(e){this.data=e,this.emit("valueChanged",e)}deleteCore(){this.data=void 0,this.emit("delete")}submitCellMessage(e){this.pendingClientSequenceNumber=this.submitLocalMessage(e)}toSerializable(e){if(void 0===e)return e;const t=this.runtime.IComponentSerializer.stringify(e,this.runtime.IComponentHandleContext,this.handle);return JSON.parse(t)}fromSerializable(e){let t=e.value;return e.type===o.b[o.b.Shared]&&(t={type:"__fluid_handle__",url:e.value}),void 0!==t?this.runtime.IComponentSerializer.parse(JSON.stringify(t),this.runtime.IComponentHandleContext):t}}},function(e,t,n){"use strict";t.a="@microsoft/fluid-cell";t.b="0.18.4"},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(2392),i=n(2639),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},function(e,t,n){"use strict";t.a=function(e){return null!==e&&"object"===typeof e}},function(e,t,n){"use strict";function r(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}n.d(t,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return h});var r=n(1987),i=n(2049),o=n(2010),s=n(2002),a=n(2032),c=n(2642),u=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.a(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed?(this._connection=null,e=a.a.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return Object(c.a)()(this)},t}(o.a),l=u.prototype,h={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}},d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.a(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.b);s.a},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1987),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(2032).a)},function(e,t,n){"use strict";t.b=function(e,t,n,r){return function(i){return i.lift(new c(e,t,n,r))}},n.d(t,"a",function(){return h});var r=n(1987),i=n(2002),o=n(2032),s=n(2010),a=n(2049);var c=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),u=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(c){this.error(c)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new a.a,n.set(t,i);var o=new h(t,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new h(t,i))}catch(c){return void this.error(c)}this.add(s.subscribe(new l(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,n){t.error(e)}),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i.a),l=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return r.a(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.a),h=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r.a(t,e),t.prototype._subscribe=function(e){var t=new o.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new d(n)),t.add(r.subscribe(e)),t},t}(s.a),d=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.a(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1987),i=n(2049),o=n(2394),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(5156),i=new(n(5158).a)(r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},function(e,t,n){"use strict";t.b=function(e,t){void 0===t&&(t=0);return function(n){return n.lift(new s(e,t))}},n.d(t,"a",function(){return a});var r=n(1987),i=n(2002),o=n(2395);var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))},e}(),a=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.a(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.a.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.a.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()},t}(i.a),c=function(){return function(e,t){this.notification=e,this.destination=t}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(5159),i=new(n(5161).a)(r.a)},function(e,t,n){"use strict";function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}n.d(t,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(2010),i=n(3199),o=n(3203),s=n(3204),a=n(3205),c=n(3206),u=n(3207),l=n(3190),h=n(2281),d=n(2210),p=function(e){if(e instanceof r.a)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"===typeof e[d.a])return Object(a.a)(e);if(Object(c.a)(e))return Object(i.a)(e);if(Object(u.a)(e))return Object(o.a)(e);if(e&&"function"===typeof e[h.a])return Object(s.a)(e);var t=Object(l.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2639),i=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,r.a),t}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2281),i=function(e){return function(t){for(var n=e[r.a]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"===typeof n.return&&t.add(function(){n.return&&n.return()}),t}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2210),i=function(e){return function(t){var n=e[r.a]();if("function"!==typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},function(e,t,n){"use strict";t.a=function(e){return!!e&&"function"!==typeof e.subscribe&&"function"===typeof e.then}},function(e,t,n){"use strict";t.a=function(){return Object(r.a)(1)};var r=n(2648)},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];Object(i.a)(c)?(a=e.pop(),e.length>1&&"number"===typeof e[e.length-1]&&(n=e.pop())):"number"===typeof c&&(n=e.pop());if(null===a&&1===e.length&&e[0]instanceof r.a)return e[0];return Object(o.a)(n)(Object(s.a)(e,a))};var r=n(2010),i=n(2086),o=n(2648),s=n(2141)},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),t.b=function(){return o};var r=n(2010),i=n(2393),o=new r.a(i.a)},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(i.a)(e[0]))return e[0];e=e[0]}return Object(o.a)(e,void 0).lift(new c)};var r=n(1987),i=n(2057),o=n(2141),s=n(2013),a=n(2014);var c=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.a(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=Object(a.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(s.a)},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===e&&(e=0);var c=-1;Object(o.a)(t)?c=Number(t)<1?1:Number(t):Object(s.a)(t)&&(n=t);Object(s.a)(n)||(n=i.a);return new r.a(function(t){var r=Object(o.a)(e)?e:+e-n.now();return n.schedule(a,r,{index:0,period:c,subscriber:t})})};var r=n(2010),i=n(2059),o=n(2398),s=n(2086);function a(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new s(e))}};var r=n(1987),i=n(2013),o=n(2014);var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(r){return this.destination.error(r)}var n=Object(o.a)(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,n,r){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t){return Object(r.a)(e,t,1)};var r=n(2282)},function(e,t,n){"use strict";t.a=function(e){return e instanceof Date&&!isNaN(+e)}},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return n.lift(new o(e,t))}};var r=n(1987),i=n(2002);var o=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.compare,this.keySelector))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"===typeof n&&(i.compare=n),i}return r.a(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t,n){return function(r){return r.lift(new a(e,t,n))}};var r=n(1987),i=n(2002),o=n(2393),s=n(2276);var a=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))},e}(),c=function(e){function t(t,n,r,i){var a=e.call(this,t)||this;return a._tapNext=o.a,a._tapError=o.a,a._tapComplete=o.a,a._tapError=r||o.a,a._tapComplete=i||o.a,Object(s.a)(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||o.a,a._tapError=n.error||o.a,a._tapComplete=n.complete||o.a),a}return r.a(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(i.a)},function(e,t,n){"use strict";t.b=function(e,t){if("function"!==typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new o(e,n,!1,t))}},n.d(t,"a",function(){return o});var r=n(1987),i=n(2002);var o=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),s=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.predicate=n,s.source=r,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return r.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),t.b=function(e,t){void 0===t&&(t=s);return function(n){return n.lift(new a(e,t.leading,t.trailing))}};var r=n(1987),i=n(2013),o=n(2014),s={leading:!0,trailing:!1};var a=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector,this.leading,this.trailing))},e}(),c=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.a(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(o.a)(this,t))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(t){return this.destination.error(t),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=null,t&&this.send()},t.prototype.notifyNext=function(e,t,n,r,i){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===n&&(n=i.a);return function(r){var i=Object(o.a)(e),s=i?+e-n.now():Math.abs(e);return r.lift(new c(s,i,t,n))}};var r=n(1987),i=n(2059),o=n(3215),s=n(2013),a=n(2014);var c=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),u=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.action=null,s.scheduleTimeout(),s}return r.a(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(a.a)(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(s.a)},function(e,t,n){"use strict";t.a=function(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)};var r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16)},function(e,t,n){"use strict";var r=n(2657);t.a=function(e,t,n){function i(e,i,o,s){if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"===typeof i&&(i=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,function(e){t.push(parseInt(e,16))}),t}(i)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(i)||16!==i.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var a=n(i.concat(e));if(a[6]=15&a[6]|t,a[8]=63&a[8]|128,o){s=s||0;for(var c=0;c<16;++c)o[s+c]=a[c];return o}return Object(r.a)(a)}try{i.name=e}catch(o){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5280);n.d(t,"LocalDeltaConnectionServer",function(){return r.a})},function(e,t,n){"use strict";t.c=function(e){return e.catch(e=>{r.ok(!1)}),e};var r=n(1994);n.n(r);t.a=class{constructor(){this.completed=!1,this.p=new Promise((e,t)=>{this.res=e,this.rej=t})}get isCompleted(){return this.completed}get promise(){return this.p}resolve(e){void 0!==this.res&&(this.completed=!0,this.res(e))}reject(e){void 0!==this.rej&&(this.completed=!0,this.rej(e))}};t.b=class{constructor(e){this.execute=e}get[Symbol.toStringTag](){return this.getPromise()[Symbol.toStringTag]}async then(e,t){return this.getPromise().then(...arguments)}async catch(e){return this.getPromise().catch(...arguments)}async finally(e){return this.getPromise().finally(...arguments)}async getPromise(){return void 0===this.result&&(this.result=this.execute()),this.result}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawOperationType="RawOperation",t.SequencedOperationType="SequencedOperation",t.NackOperationType="Nack",t.SystemType="System",t.BoxcarType="boxcar",function(e){e[e.Join=0]="Join",e[e.Leave=1]="Leave"}(t.SystemOperations||(t.SystemOperations={})),function(e){e.UpdateDSN="updateDSN"}(t.ControlMessageType||(t.ControlMessageType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2012);class i{constructor(e,t,n){this.debugInfo=e,this.debugErr=t,this.debugWarn=n}static create(e){const t=r(e),n=r(e);n.log=console.warn.bind(console),n.enabled=!0;const o=r(e);return o.log=console.error.bind(console),o.enabled=!0,new i(t,o,n)}info(e){this.debugInfo(e)}warn(e){this.debugWarn(e)}error(e){this.debugErr(e)}}t.DebugLogger=i},function(e,t,n){"use strict";e.exports=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1994),i=n(137),o=n(2100),s=n(3226);t.TestContext=class extends i.EventEmitter{constructor(e=s.DebugLogger.create("fluid-server:TestContext")){super(),this.log=e,this.offset=Number.NEGATIVE_INFINITY,this.waits=[]}checkpoint(e){r(e.offset>this.offset,`${e.offset} > ${this.offset}`),this.offset=e.offset,this.waits=this.waits.filter(t=>!(t.value<=e.offset)||(t.deferred.resolve(),!1))}error(e,t){this.emit("error",e,t)}waitForOffset(e){if(e<=this.offset)return Promise.resolve();const t=new o.Deferred;return this.waits.push({deferred:t,value:e}),t.promise}}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2100));const o=n(2165);class s{constructor(e,t,n,r,i,o){this.sendReject=e,this.sequenceNumber=t,this.key=n,this.value=r,this.deferred=o,this.canReject=!0,this.rejections=new Set(i)}reject(){if(!this.canReject)throw new Error("Can no longer reject this proposal");this.sendReject(this.sequenceNumber)}disableRejection(){this.canReject=!1}addRejection(e){r(!this.rejections.has(e),`!this.rejections.has(${e})`),this.rejections.add(e)}}t.a=class extends i.TypedEventEmitter{constructor(e,t,n,r,i,o){super(),this.minimumSequenceNumber=e,this.sendProposal=i,this.sendReject=o,this.isDisposed=!1,this.localProposals=new Map,this.members=new Map(t),this.proposals=new Map(n.map(([,e,t])=>[e.sequenceNumber,new s(this.sendReject,e.sequenceNumber,e.key,e.value,t)])),this.values=new Map(r),this.pendingCommit=new Map(r.filter(e=>-1===e[1].commitSequenceNumber))}get disposed(){return this.isDisposed}close(){this.removeAllListeners()}snapshot(){const e=Array.from(this.proposals).map(([e,t])=>[e,{sequenceNumber:e,key:t.key,value:t.value},Array.from(t.rejections)]),t={members:[...this.members],proposals:e,values:[...this.values]};return o(t)}has(e){return this.values.has(e)}get(e){const t=this.values.get(e);if(void 0!==t)return t.value}getApprovalData(e){const t=this.values.get(e);return t?o(t):void 0}addMember(e,t){r(!this.members.has(e),`!this.members.has(${e})`),this.members.set(e,t),this.emit("addMember",e,t)}removeMember(e){r(this.members.has(e),`this.members.has(${e})`),this.members.delete(e),this.emit("removeMember",e)}getMembers(){return new Map(this.members)}getMember(e){return this.members.get(e)}async propose(e,t){const n=this.sendProposal(e,t);if(n<0)return this.emit("error",{eventName:"ProposalInDisconnectedState",key:e}),Promise.reject(!1);const r=new i.Deferred;return this.localProposals.set(n,r),r.promise}addProposal(e,t,n,i,o){r(!this.proposals.has(n),`!this.proposals.has(${n})`),r(!i||this.localProposals.has(o),`!${i} || this.localProposals.has(${o})`);const a=new s(this.sendReject,n,e,t,[],i?this.localProposals.get(o):void 0);this.proposals.set(n,a),this.emit("addProposal",a),a.disableRejection(),i&&this.localProposals.delete(o)}rejectProposal(e,t){r(this.proposals.has(t),`this.proposals.has(${t})`);const n=this.proposals.get(t);void 0!==n&&n.addRejection(e)}updateMinimumSequenceNumber(e){const t=e.minimumSequenceNumber;if(void 0!==this.minimumSequenceNumber&&(t<this.minimumSequenceNumber&&this.emit("error",{currentValue:this.minimumSequenceNumber,eventName:"QuorumMinSeqNumberError",newValue:t}),t<=this.minimumSequenceNumber))return!1;this.minimumSequenceNumber=t;let n=!1;const r=[];for(const[i,o]of this.proposals)i<=this.minimumSequenceNumber&&r.push(o);r.sort((e,t)=>e.sequenceNumber-t.sequenceNumber);for(const i of r){const t=0===i.rejections.size;if(i.deferred&&(t?i.deferred.resolve():i.deferred.reject(`Rejected by ${Array.from(i.rejections)}`)),t){const t={approvalSequenceNumber:e.sequenceNumber,commitSequenceNumber:-1,key:i.key,sequenceNumber:i.sequenceNumber,value:i.value};this.values.set(t.key,t),this.pendingCommit.set(t.key,t),n=!0,this.emit("approveProposal",t.sequenceNumber,t.key,t.value,t.approvalSequenceNumber)}else this.emit("rejectProposal",i.sequenceNumber,i.key,i.value,Array.from(i.rejections));this.proposals.delete(i.sequenceNumber)}return this.pendingCommit.size>0&&Array.from(this.pendingCommit.values()).filter(e=>e.approvalSequenceNumber<=t).sort((e,t)=>e.sequenceNumber-t.sequenceNumber).forEach(t=>{t.commitSequenceNumber=e.sequenceNumber,this.emit("commitProposal",t.sequenceNumber,t.key,t.value,t.approvalSequenceNumber,t.commitSequenceNumber),this.pendingCommit.delete(t.key)}),n}setConnectionState(e,t){e||(this.localProposals.forEach(e=>{e.reject("Client got disconnected")}),this.localProposals.clear())}dispose(){r.fail("Not implemented."),this.isDisposed=!0}};t.b=class extends i.EventForwarder{constructor(e){super(e),this.propose=Object(i.doIfNotDisposed)(this,e.propose.bind(e)),this.has=Object(i.doIfNotDisposed)(this,e.has.bind(e)),this.get=Object(i.doIfNotDisposed)(this,e.get.bind(e)),this.getApprovalData=Object(i.doIfNotDisposed)(this,e.getApprovalData.bind(e)),this.getMembers=Object(i.doIfNotDisposed)(this,e.getMembers.bind(e)),this.getMember=Object(i.doIfNotDisposed)(this,e.getMember.bind(e))}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(2100),i=n(2048),o=n(2660);t.TestHistorian=class{constructor(e=new o.TestDb({})){this.endpoint="",this.blobs=e.collection("blobs"),this.commits=e.collection("commits"),this.trees=e.collection("trees"),this.refs=e.collection("refs")}async getHeader(e){const t=await this.getTree(e,!0),n=[".attributes",".blobs",".messages","header"],r=[];for(const i of t.tree)if("blob"===i.type&&n.reduce((e,t)=>e||i.path.endsWith(t),!1)){const e=this.getBlob(i.sha);r.push(e)}return{blobs:await Promise.all(r),tree:t}}getFullTree(e){throw new Error("Not Supported")}async getBlob(t){const n=await this.blobs.findOne({_id:t});return{content:e.from(n.value.content,n.value.encoding).toString("base64"),encoding:n.value.encoding,sha:n._id,size:n.value.content.length,url:""}}async createBlob(t){const n=r.gitHashFile(e.from(t.content,t.encoding));return await this.blobs.insertOne({_id:n,value:t}),{sha:n,url:""}}getContent(e,t){throw new Error("Not Supported")}async getCommits(e,t){const n=await this.getCommit(e);return n?[{commit:{author:n.author,committer:n.committer,message:n.message,tree:n.tree,url:n.url},parents:n.parents,sha:n.sha,url:n.url}]:[]}async getCommit(e){let t=await this.commits.findOne({_id:e});if(!t){const n=await this.getRef(`refs/heads/${e}`);void 0!==n&&(t=await this.commits.findOne({_id:n.object.sha}))}if(t)return{author:{},committer:{},message:t.value.message,parents:t.value.parents.map(e=>({sha:e,url:""})),sha:t._id,tree:{sha:t.value.tree,url:""},url:""}}async createCommit(e){const t=e.tree;return await this.commits.insertOne({_id:t,value:e}),this.getCommit(t)}getRefs(){throw new Error("Not Supported")}async getRef(e){const t=e.startsWith("refs/")?e.substr(5):e,n=await this.refs.findOne({_id:t});if(n)return{ref:n.value.ref,url:"",object:{sha:n.value.sha,url:"",type:""}}}async createRef(e){const t=e.ref.startsWith("refs/")?e.ref.substr(5):e.ref;return await this.refs.insertOne({_id:t,value:e}),this.getRef(e.ref)}async updateRef(e,t){const n=e.startsWith("refs/")?e.substr(5):e;return t.force?await this.refs.upsert({_id:n},{sha:t.sha,ref:e},{}):await this.refs.update({_id:n},{sha:t.sha,ref:e},{}),this.getRef(e)}async deleteRef(e){throw new Error("Not Supported")}createTag(e){throw new Error("Not Supported")}getTag(e){throw new Error("Not Supported")}async createTree(e){const t=i();return await this.trees.insertOne({_id:t,value:e}),this.getTree(t,!1)}async getTree(e,t){return this.getTreeHelper(e,t)}async getTreeHelper(e,t,n=""){const r=await this.trees.findOne({_id:e});if(r){const e={sha:r._id,url:"",tree:[]};for(const i of r.value.tree){const r=""===n?i.path:`${n}/${i.path}`,o={mode:i.mode,path:r,sha:i.sha,size:0,type:i.type,url:""};if(e.tree.push(o),"tree"===i.type&&t){const n=await this.getTreeHelper(i.sha,t,r);n&&(e.tree=e.tree.concat(n.tree))}}return e}}}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(5319)),r(n(5326)),r(n(5328)),r(n(5330)),r(n(5335)),r(n(5338)),r(n(5340)),r(n(2662)),r(n(2404))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(2119);class i{constructor(e,t,n){this.documentId=e,this.tenantId=t,this.event=n,this.messages=[]}}t.BroadcasterLambda=class{constructor(e,t){this.publisher=e,this.context=t,this.pending=new Map,this.current=new Map}handler(e){const t=r.extractBoxcar(e);for(const n of t.contents){let e,t;if(n.type===r.SequencedOperationType){const r=n;e=`${r.tenantId}/${r.documentId}`,t="op"}else n.type===r.NackOperationType&&(e=`client#${n.clientId}`,t="nack");if(e){const r=n;this.pending.has(e)||this.pending.set(e,new i(r.documentId,r.tenantId,t)),this.pending.get(e).messages.push(r.operation)}}this.pendingOffset=e,this.sendPending()}close(){this.pending.clear(),this.current.clear()}hasPendingWork(){return 0!==this.pending.size||0!==this.current.size}sendPending(){if(this.current.size>0||0===this.pending.size)return;const t=this.current;this.current=this.pending,this.pending=t;const n=this.pendingOffset;this.current.forEach((e,t)=>{this.publisher.to(t).emit(e.event,e.documentId,e.messages)}),this.context.checkpoint(n),e(()=>{this.current.clear(),this.sendPending()})}}}).call(t,n(733).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2119);t.CopierLambda=class{constructor(e,t){this.rawOpCollection=e,this.context=t,this.pendingJobs=new Map,this.currentJobs=new Map}handler(e){const t=r.extractBoxcar(e),n=t.contents,i=`${t.tenantId}/${t.documentId}`,o={index:e.offset,documentId:t.documentId,tenantId:t.tenantId,contents:n.map(e=>e)};this.pendingJobs.has(i)||this.pendingJobs.set(i,[]),this.pendingJobs.get(i).push(o),this.pendingOffset=e,this.sendPending()}close(){this.pendingJobs.clear(),this.currentJobs.clear()}sendPending(){if(this.currentJobs.size>0||0===this.pendingJobs.size)return;const e=this.currentJobs;this.currentJobs=this.pendingJobs,this.pendingJobs=e;const t=this.pendingOffset,n=[];for(const[,r]of this.currentJobs){const e=this.processMongoCore(r);n.push(e)}Promise.all(n).then(()=>{this.currentJobs.clear(),this.context.checkpoint(t),this.sendPending()},e=>{this.context.error(e,!0)})}async processMongoCore(e){await this.rawOpCollection.insertMany(e,!1).catch(e=>{if(11e3!==e.code)return Promise.reject(e)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1994),i=n(2100),o=n(2170),s=n(2001),a=n(2098),c=n(2119),u=n(5331),l=n(5332);var h,d,p;!function(e){e[e.Duplicate=0]="Duplicate",e[e.Gap=1]="Gap",e[e.ConsecutiveOrSystem=2]="ConsecutiveOrSystem"}(h||(h={})),function(e){e[e.Immediate=0]="Immediate",e[e.Later=1]="Later",e[e.Never=2]="Never"}(d||(d={})),function(e){e[e.ClearCache=0]="ClearCache",e[e.NoOp=1]="NoOp"}(p||(p={}));const f=e=>`branch$${e}`;t.DeliLambda=class{constructor(e,t,n,r,o,s,a,c,h,d,m){if(this.context=e,this.tenantId=t,this.documentId=n,this.lastCheckpoint=r,this.forwardProducer=a,this.reverseProducer=c,this.clientTimeout=h,this.activityTimeout=d,this.noOpConsolidationTimeout=m,this.clientSeqManager=new l.ClientSequenceNumberManager,this.minimumSequenceNumber=0,this.lastSendP=Promise.resolve(),this.lastSentMSN=0,this.lastInstruction=p.NoOp,this.noActiveClients=!1,this.canClose=!1,r.clients)for(const i of r.clients)this.clientSeqManager.upsertClient(i.clientId,i.clientSequenceNumber,i.referenceSequenceNumber,i.lastUpdate,i.canEvict,i.scopes,i.nack);if(o.parent)if(r.branchMap)this.branchMap=new i.RangeTracker(r.branchMap);else{this.branchMap=new i.RangeTracker(o.parent.minimumSequenceNumber,o.parent.minimumSequenceNumber);for(let e=o.parent.minimumSequenceNumber+1;e<=o.parent.sequenceNumber;e++)this.branchMap.add(e,e);this.clientSeqManager.upsertClient(f(o.parent.documentId),o.parent.sequenceNumber,o.parent.minimumSequenceNumber,o.createTime,!1)}this.sequenceNumber=r.sequenceNumber,this.term=r.term,this.epoch=r.epoch,this.durableSequenceNumber=r.durableSequenceNumber;const g=this.clientSeqManager.getMinimumSequenceNumber();this.minimumSequenceNumber=-1===g?this.sequenceNumber:g,this.logOffset=r.logOffset,this.checkpointContext=new u.CheckpointContext(this.tenantId,this.documentId,s,e)}handler(e){if(e.offset<=this.logOffset)return;this.logOffset=e.offset;const t=c.extractBoxcar(e);for(const r of t.contents){const e=this.ticket(r,this.createTrace("start"));if(e){if(this.lastInstruction=e.instruction,!e.nacked){if(this.checkIdleClients(e),e.type!==s.MessageType.NoClient&&e.type!==s.MessageType.Control&&this.noActiveClients&&this.sendToAlfred(this.createOpMessage(s.MessageType.NoClient)),e.send===d.Never)continue;if(this.clearNoopConsolidationTimer(),e.send===d.Later){this.setNoopConsolidationTimer();continue}}this.lastSentMSN=e.msn,this.lastSendP=this.sendToScriptorium(e.message)}}const n=this.generateCheckpoint(e);this.lastSendP.then(()=>{this.lastInstruction===p.ClearCache&&(n.clear=!0),this.checkpointContext.checkpoint(n)},e=>{this.context.log.error(`Could not send message to scriptorium: ${JSON.stringify(e)}`),this.context.error(e,!0)}),this.clearIdleTimer(),this.setIdleTimer()}close(){this.checkpointContext.close(),this.clearIdleTimer(),this.clearNoopConsolidationTimer()}ticket(e,t){if(e.type!==c.RawOperationType)return;let n=e,i=this.extractSystemContent(n);const u=this.checkOrder(n,i);if(u===h.Duplicate)return;if(u===h.Gap)return this.createNackMessage(n,400,s.NackErrorType.BadRequestError,"Gap detected in incoming op");if(n.operation.type!==s.MessageType.Integrate)if(n.clientId){const e=this.clientSeqManager.get(n.clientId);if(!e||e.nack)return this.createNackMessage(n,400,s.NackErrorType.BadRequestError,"Nonexistent client");if(n.clientId&&-1!==n.operation.referenceSequenceNumber&&n.operation.referenceSequenceNumber<this.minimumSequenceNumber)return this.clientSeqManager.upsertClient(n.clientId,n.operation.clientSequenceNumber,this.minimumSequenceNumber,n.timestamp,!0,[],!0),this.createNackMessage(n,400,s.NackErrorType.BadRequestError,`Refseq ${n.operation.referenceSequenceNumber} < ${this.minimumSequenceNumber}`);if(n.operation.type===s.MessageType.Summarize&&!a.canSummarize(e.scopes))return this.createNackMessage(n,403,s.NackErrorType.InvalidScopeError,`Client ${n.clientId} does not have summary permission`)}else if(n.operation.type===s.MessageType.ClientLeave){if(!this.clientSeqManager.removeClient(i))return}else if(n.operation.type===s.MessageType.ClientJoin){const e=i;this.clientSeqManager.upsertClient(e.clientId,0,this.minimumSequenceNumber,n.timestamp,!0,e.detail.scopes),this.canClose=!1}else n.operation.type===s.MessageType.Fork&&this.context.log.info(`Fork ${n.documentId} -> ${i.name}`);let l,m=this.sequenceNumber;if(n.operation.type===s.MessageType.Integrate){m=this.revSequenceNumber();const e=i,t=e.operation,r=f(e.documentId),s=this.transformBranchSequenceNumber(t.referenceSequenceNumber),a=this.transformBranchSequenceNumber(t.minimumSequenceNumber);this.branchMap.add(t.sequenceNumber,m),this.branchMap.updateBase(t.minimumSequenceNumber);const u={clientSequenceNumber:t.sequenceNumber,contents:t.contents,referenceSequenceNumber:s,traces:n.operation.traces,type:t.type};o.isSystemType(t.type)&&(u.data=t.data);const h={clientId:t.clientId,documentId:this.documentId,operation:u,tenantId:n.tenantId,timestamp:n.timestamp,type:c.RawOperationType};l={id:e.documentId,minimumSequenceNumber:t.minimumSequenceNumber,sequenceNumber:t.sequenceNumber},n=h,i=this.extractSystemContent(n),this.clientSeqManager.upsertClient(r,t.sequenceNumber,a,n.timestamp,!1)}else n.clientId?(n.operation.type!==s.MessageType.NoOp&&(m=this.revSequenceNumber(),-1===n.operation.referenceSequenceNumber&&(n.operation.referenceSequenceNumber=m)),r(n.operation.referenceSequenceNumber>=this.minimumSequenceNumber,`${n.operation.referenceSequenceNumber} >= ${this.minimumSequenceNumber}`),this.clientSeqManager.upsertClient(n.clientId,n.operation.clientSequenceNumber,n.operation.referenceSequenceNumber,n.timestamp,!0)):n.operation.type!==s.MessageType.NoOp&&n.operation.type!==s.MessageType.NoClient&&n.operation.type!==s.MessageType.Control&&(m=this.revSequenceNumber());const g=this.clientSeqManager.getMinimumSequenceNumber();-1===g?(this.minimumSequenceNumber=m,this.noActiveClients=!0):(this.minimumSequenceNumber=g,this.noActiveClients=!1);let b=d.Immediate,v=p.NoOp;if(n.operation.type===s.MessageType.NoOp)n.clientId?null===n.operation.contents?b=d.Later:this.minimumSequenceNumber<=this.lastSentMSN?b=d.Later:m=this.revSequenceNumber():this.minimumSequenceNumber<=this.lastSentMSN?b=d.Never:m=this.revSequenceNumber();else if(n.operation.type===s.MessageType.NoClient)this.noActiveClients?(m=this.revSequenceNumber(),n.operation.referenceSequenceNumber=m,this.minimumSequenceNumber=m):b=d.Never;else if(n.operation.type===s.MessageType.Control){b=d.Never;const e=i;if(e.type===c.ControlMessageType.UpdateDSN){this.context.log.info(`Update DSN for ${this.tenantId}/${this.documentId}: ${JSON.stringify(e)}`);const t=e.contents;t.clearCache&&this.noActiveClients&&(v=p.ClearCache,this.canClose=!0,this.context.log.info(`Deli cache will be cleared for ${this.tenantId}/${this.documentId}`));const n=t.durableSequenceNumber;r(n>=this.durableSequenceNumber,`Incoming dsn@${n} < Current dsn@${this.durableSequenceNumber}`),this.durableSequenceNumber=t.durableSequenceNumber}}n.operation.traces&&n.operation.traces.length>1&&(n.operation.traces.push(t),n.operation.traces.push(this.createTrace("end")));const y=this.createOutputMessage(n,l,m,i);return{instruction:v,message:{documentId:n.documentId,operation:y,tenantId:n.tenantId,type:c.SequencedOperationType},msn:this.minimumSequenceNumber,nacked:!1,send:b,timestamp:n.timestamp,type:n.operation.type}}extractSystemContent(e){if(o.isSystemType(e.operation.type)){const t=e.operation;if(t.data)return JSON.parse(t.data)}}createOutputMessage(e,t,n,r){const i={clientId:e.clientId,clientSequenceNumber:e.operation.clientSequenceNumber,contents:e.operation.contents,metadata:e.operation.metadata,serverMetadata:e.operation.serverMetadata,minimumSequenceNumber:this.minimumSequenceNumber,origin:t,referenceSequenceNumber:e.operation.referenceSequenceNumber,sequenceNumber:n,term:this.term,timestamp:Date.now(),traces:e.operation.traces,type:e.operation.type};if(e.operation.type===s.MessageType.Summarize||e.operation.type===s.MessageType.NoClient){const e=i,t=JSON.stringify(this.generateDeliCheckpoint());return e.additionalContent=t,e}if(void 0!==r){const e=i;return e.data=JSON.stringify(r),e}return i}checkOrder(e,t){if(e.operation.type!==s.MessageType.Integrate&&!e.clientId)return h.ConsecutiveOrSystem;let n,r;e.operation.type===s.MessageType.Integrate?(n=f(t.documentId),r=t.operation.sequenceNumber):(n=e.clientId,r=e.operation.clientSequenceNumber);const i=this.clientSeqManager.get(n);if(!i)return h.ConsecutiveOrSystem;const o=i.clientSequenceNumber+1;return r===o?h.ConsecutiveOrSystem:r>o?(this.context.log.info(`Gap ${n}:${o} > ${r}`),h.Gap):(this.context.log.info(`Duplicate ${n}:${o} < ${r}`),h.Duplicate)}sendToScriptorium(e){return this.forwardProducer.send([e],e.tenantId,e.documentId)}sendToAlfred(e){this.reverseProducer.send([e],e.tenantId,e.documentId).catch(e=>{this.context.log.error(`Could not send message to alfred: ${JSON.stringify(e)}`),this.context.error(e,!0)})}checkIdleClients(e){if(e.type!==s.MessageType.ClientLeave){const t=this.getIdleClient(e.timestamp);if(t){const e=this.createLeaveMessage(t.clientId);this.sendToAlfred(e)}}}createLeaveMessage(e){const t={clientSequenceNumber:-1,contents:null,data:JSON.stringify(e),referenceSequenceNumber:-1,traces:[],type:s.MessageType.ClientLeave};return{clientId:null,documentId:this.documentId,operation:t,tenantId:this.tenantId,timestamp:Date.now(),type:c.RawOperationType}}createNackMessage(e,t,n,r){const i={clientId:e.clientId,documentId:this.documentId,operation:{content:{code:t,type:n,message:r},operation:e.operation,sequenceNumber:this.minimumSequenceNumber},tenantId:this.tenantId,type:c.NackOperationType};return{instruction:p.NoOp,message:i,msn:this.minimumSequenceNumber,nacked:!0,send:d.Immediate,timestamp:e.timestamp,type:e.operation.type}}createOpMessage(e){return{clientId:null,documentId:this.documentId,operation:{clientSequenceNumber:-1,contents:null,referenceSequenceNumber:-1,traces:[],type:e},tenantId:this.tenantId,timestamp:Date.now(),type:c.RawOperationType}}createTrace(e){return{action:e,service:"deli",timestamp:Date.now()}}generateCheckpoint(e){const t=this.generateDeliCheckpoint();return t.queuedMessage=e,t}generateDeliCheckpoint(){return{branchMap:this.branchMap?this.branchMap.serialize():void 0,clients:this.clientSeqManager.cloneValues(),durableSequenceNumber:this.durableSequenceNumber,epoch:this.epoch,logOffset:this.logOffset,sequenceNumber:this.sequenceNumber,term:this.term}}revSequenceNumber(){return++this.sequenceNumber}transformBranchSequenceNumber(e){return-1!==e?this.branchMap.get(e):-1}getIdleClient(e){if(this.clientSeqManager.count()>0){const t=this.clientSeqManager.peek();if(t.canEvict&&e-t.lastUpdate>this.clientTimeout)return t}}setIdleTimer(){this.noActiveClients||(this.idleTimer=setTimeout(()=>{if(!this.noActiveClients){const e=this.createOpMessage(s.MessageType.NoOp);this.sendToAlfred(e)}},this.activityTimeout))}clearIdleTimer(){void 0!==this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=void 0)}setNoopConsolidationTimer(){this.noActiveClients||(this.noopTimer=setTimeout(()=>{if(!this.noActiveClients){const e=this.createOpMessage(s.MessageType.NoOp);this.sendToAlfred(e)}},this.noOpConsolidationTimeout))}clearNoopConsolidationTimer(){void 0!==this.noopTimer&&(clearTimeout(this.noopTimer),this.noopTimer=void 0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2100),i=n(2001),o=n(2119),s=n(2098),a=n(2662),c=15e3;t.ForemanLambda=class extends a.SequencedLambda{constructor(e,t,n,i,o,s){super(i),this.messageSender=e,this.tenantManager=t,this.permissions=n,this.context=i,this.tenantId=o,this.documentId=s,this.taskQueueMap=new Map,this.rateLimiter=new r.RateLimiter(c);for(const r in this.permissions)for(const e of this.permissions[r])this.taskQueueMap.set(e,r)}async handlerCore(e){const t=o.extractBoxcar(e);for(const n of t.contents)if(n.type===o.SequencedOperationType){const e=n;if(e.operation.type===i.MessageType.RemoteHelp){let t;const n=JSON.parse(e.operation.data);t=n.version?n.tasks.map(e=>`chain-${e}`):n.tasks,await this.trackDocument(e.operation.clientId,e.tenantId,e.documentId,t)}}this.context.checkpoint(e)}async trackDocument(e,t,n,r){const o=await this.tenantManager.getKey(t),a=this.generateQueueTasks(r);for(const c of a){const r=c[0],a=this.rateLimiter.filter(e,c[1]);if(a.length>0){const c=[i.ScopeType.DocRead,i.ScopeType.DocWrite,i.ScopeType.SummaryWrite],u={documentId:n,message:{tasks:a},tenantId:t,token:s.generateToken(t,n,o,c)};this.messageSender.sendTask(r,{content:u,type:"tasks:start"}),this.context.log.info(`Request to ${r}: ${t}/${n}/${e}:${JSON.stringify(a)}`)}}}generateQueueTasks(e){const t=new Map;for(const n of e)if(this.taskQueueMap.has(n)){const e=this.taskQueueMap.get(n);t.has(e)||t.set(e,[]),t.get(e).push(n)}return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1994),i=n(2170),o=n(2001),s=n(2119),a=n(2379),c=n(2403),u=n(2662),l=n(3237);t.ScribeLambda=class extends u.SequencedLambda{constructor(e,t,n,r,i,o,s,c,u,l,h,d,p,f){super(e),this.context=e,this.documentCollection=t,this.messageCollection=n,this.tenantId=r,this.documentId=i,this.storage=s,this.producer=c,this.protocolHandler=u,this.term=l,this.protocolHead=h,this.generateServiceSummary=p,this.nackOnSummarizeException=f,this.pendingCheckpointMessages=new a,this.sequenceNumber=0,this.minSequenceNumber=0,this.lastOffset=o.logOffset,this.setStateFromCheckpoint(o),this.pendingMessages=new a(d.filter(e=>e.sequenceNumber>o.protocolState.sequenceNumber))}async handlerCore(e){var t;if(e.offset<=this.lastOffset)return;const n=s.extractBoxcar(e);for(const u of n.contents)if(u.type===s.SequencedOperationType){const e=u;if(this.term&&e.operation.term){if(e.operation.term<this.term)continue;if(e.operation.term>this.term){const e=await l.fetchLatestSummaryState(this.storage,this.documentId);if(!e.fromSummary)throw Error("Required summary can't be fetched");this.term=e.term;const t=JSON.parse(e.scribe);this.protocolHead=e.protocolHead,this.protocolHandler=l.initializeProtocol(this.documentId,t,this.term),this.setStateFromCheckpoint(t),this.pendingMessages=new a(e.messages.filter(e=>e.sequenceNumber>t.protocolState.sequenceNumber)),this.pendingP&&(this.pendingP=void 0),await this.deleteCheckpoint(t.sequenceNumber+1,!1)}}if(e.operation.sequenceNumber<=this.sequenceNumber)continue;this.pendingMessages.push(e.operation),this.pendingCheckpointMessages.push(e);const n=this.minSequenceNumber!==e.operation.minimumSequenceNumber;if(this.sequenceNumber=e.operation.sequenceNumber,this.minSequenceNumber=e.operation.minimumSequenceNumber,n&&this.processFromPending(this.minSequenceNumber),e.operation.type===o.MessageType.Summarize){const n=e.operation.sequenceNumber;this.processFromPending(e.operation.referenceSequenceNumber);try{const r=this.generateCheckpoint(this.lastOffset);await this.summarize(e.operation,this.protocolHandler.minimumSequenceNumber,this.protocolHandler.sequenceNumber,this.protocolHandler.quorum.snapshot(),n,(t=e.operation.term,null!==t&&void 0!==t?t:1),r),this.protocolHead=this.protocolHandler.sequenceNumber,this.context.log.info(`Client summary @seq${n} for ${this.tenantId}/${this.documentId}`)}catch(c){if(!this.nackOnSummarizeException)throw c;await this.sendSummaryNack(n,"Failed to summarize the document.")}}else if(e.operation.type===o.MessageType.NoClient){if(r(e.operation.referenceSequenceNumber===e.operation.sequenceNumber,`${e.operation.referenceSequenceNumber} != ${e.operation.sequenceNumber}`),r(e.operation.minimumSequenceNumber===e.operation.sequenceNumber,`${e.operation.minimumSequenceNumber} != ${e.operation.sequenceNumber}`),this.generateServiceSummary){const t=e.operation.sequenceNumber,n=e.operation.additionalContent,r=this.generateCheckpoint(this.lastOffset);await this.createServiceSummary(t,n,r),this.context.log.info(`Service summary @seq${t} for ${this.tenantId}/${this.documentId}`)}}else if(e.operation.type===o.MessageType.SummaryAck){const t=e.operation.contents;this.lastClientSummaryHead=t.handle}this.lastOpType=e.operation.type}const i=this.generateCheckpoint(e.offset);this.checkpointCore(i,e,this.generateServiceSummary&&this.lastOpType===o.MessageType.NoClient),this.lastOffset=e.offset}close(){this.protocolHandler.close()}processFromPending(e){for(;this.pendingMessages.length>0&&this.pendingMessages.peekFront().sequenceNumber<=e;){const e=this.pendingMessages.shift();if(e.contents&&"string"===typeof e.contents&&e.type!==o.MessageType.ClientLeave){const t=c.cloneDeep(e);t.contents=JSON.parse(t.contents),this.protocolHandler.processMessage(t,!1)}else this.protocolHandler.processMessage(e,!1)}}generateCheckpoint(e){const t=this.protocolHandler.getProtocolState();return{lastClientSummaryHead:this.lastClientSummaryHead,logOffset:e,minimumSequenceNumber:this.minSequenceNumber,protocolState:t,sequenceNumber:this.sequenceNumber}}checkpointCore(e,t,n){if(this.pendingP)return this.pendingCheckpointScribe=e,void(this.pendingCheckpointOffset=t);this.pendingP=n?this.deleteCheckpoint(this.protocolHead,!0):this.writeCheckpoint(e),this.pendingP.then(()=>{if(this.pendingP=void 0,this.context.checkpoint(t),this.pendingCheckpointScribe){const e=this.pendingCheckpointScribe,t=this.pendingCheckpointOffset;this.pendingCheckpointScribe=void 0,this.pendingCheckpointOffset=void 0,this.checkpointCore(e,t,n)}},e=>{this.context.error(e,!0)})}async deleteCheckpoint(e,t){await this.documentCollection.update({documentId:this.documentId,tenantId:this.tenantId},{scribe:""},null),await this.messageCollection.deleteMany({documentId:this.documentId,"operation.sequenceNumber":t?{$lte:e}:{$gte:e},tenantId:this.tenantId}),this.context.log.info(`Scribe cache is cleared for ${this.tenantId}/${this.documentId}`)}async writeCheckpoint(e){const t=this.pendingCheckpointMessages.toArray();if(t.length>0){await this.messageCollection.insertMany(t,!1).catch(e=>{if(11e3!==e.code)return Promise.reject(e)});const e=t[t.length-1].operation.sequenceNumber;for(;this.pendingCheckpointMessages.length>0&&this.pendingCheckpointMessages.peekFront().operation.sequenceNumber<=e;)this.pendingCheckpointMessages.removeFront()}await this.documentCollection.update({documentId:this.documentId,tenantId:this.tenantId},{scribe:JSON.stringify(e)},null),await this.messageCollection.deleteMany({documentId:this.documentId,"operation.sequenceNumber":{$lte:this.protocolHead},tenantId:this.tenantId})}async summarize(e,t,n,r,s,a,c){if(this.protocolHead>=n)return;const u=JSON.parse(e.contents),l=await this.storage.getRef(encodeURIComponent(this.documentId));if(u.head){if(!l||this.lastClientSummaryHead!==u.head&&l.object.sha!==u.head)return void await this.sendSummaryNack(s,`Proposed parent summary "${u.head}" does not match actual parent summary "${l?l.object.sha:"n/a"}".`)}else if(l)return void await this.sendSummaryNack(s,`Proposed parent summary "${u.head}" does not match actual parent summary "${l.object.sha}".`);try{await Promise.all(u.parents.map(e=>this.storage.getCommit(e)))}catch(w){return void await this.sendSummaryNack(s,"One or more parent summaries are invalid.")}const h=i.getQuorumTreeEntries(this.documentId,t,n,a,r),d=await this.generateLogtailEntries(n,s+1),p=i.generateServiceProtocolEntries(e.additionalContent,JSON.stringify(c)),[f,m,g,b]=await Promise.all([this.storage.createTree({entries:d,id:null}),this.storage.createTree({entries:h,id:null}),this.storage.createTree({entries:p,id:null}),this.storage.getTree(u.handle,!1)]),v=i.mergeAppAndProtocolTree(b,m);v.push({mode:o.FileMode.Directory,path:".logTail",sha:f.sha,type:"tree"}),v.push({mode:o.FileMode.Directory,path:".serviceProtocol",sha:g.sha,type:"tree"});const y=await this.storage.createGitTree({tree:v}),S={author:{date:(new Date).toISOString(),email:"praguertdev@microsoft.com",name:"Routerlicious Service"},message:u.message,parents:u.parents,tree:y.sha},_=await this.storage.createCommit(S);l?await this.storage.upsertRef(this.documentId,_.sha):await this.storage.createRef(this.documentId,_.sha),await this.sendSummaryAck(_.sha,s),await this.sendSummaryConfirmationMessage(s,!1)}async createServiceSummary(e,t,n){const r=await this.storage.getRef(encodeURIComponent(this.documentId));if(!r)return;const s=await this.generateLogtailEntries(this.protocolHead,e+1),a=i.generateServiceProtocolEntries(t,JSON.stringify(n)),c=await this.storage.getCommit(r.object.sha),[u,l,h]=await Promise.all([this.storage.createTree({entries:s,id:null}),this.storage.createTree({entries:a,id:null}),this.storage.getTree(c.tree.sha,!1)]),d=h.tree.map(e=>({mode:e.mode,path:e.path,sha:e.sha,type:e.type}));d.push({mode:o.FileMode.Directory,path:".logTail",sha:u.sha,type:"tree"}),d.push({mode:o.FileMode.Directory,path:".serviceProtocol",sha:l.sha,type:"tree"});const p=await this.storage.createGitTree({tree:d}),f={author:{date:(new Date).toISOString(),email:"praguertdev@microsoft.com",name:"Routerlicious Service"},message:`Service Summary @${e}`,parents:[c.sha],tree:p.sha},m=await this.storage.createCommit(f);await this.storage.upsertRef(this.documentId,m.sha),await this.sendSummaryConfirmationMessage(e,!0)}async getLogTail(e,t){if(t-e<=1)return[];{const n={documentId:this.documentId,tenantId:this.tenantId,"operation.sequenceNumber":{$gt:e,$lt:t}},r=await this.messageCollection.find(n,{"operation.sequenceNumber":1});if(r.length!==t-e-1){const n=0===r.length?e:r[r.length-1].operation.sequenceNumber+1,i=this.pendingCheckpointMessages.toArray();for(const e of i)e.operation.sequenceNumber>=n&&e.operation.sequenceNumber<t&&r.push(e)}return r.map(e=>e.operation)}}async generateLogtailEntries(e,t){const n=await this.getLogTail(e,t);return[{mode:o.FileMode.File,path:"logTail",type:o.TreeEntry[o.TreeEntry.Blob],value:{contents:JSON.stringify(n),encoding:"utf-8"}}]}async sendSummaryAck(e,t){const n={clientSequenceNumber:-1,contents:{handle:e,summaryProposal:{summarySequenceNumber:t}},referenceSequenceNumber:-1,traces:[],type:o.MessageType.SummaryAck};return this.sendToDeli(n)}async sendSummaryNack(e,t){const n={clientSequenceNumber:-1,contents:{errorMessage:t,summaryProposal:{summarySequenceNumber:e}},referenceSequenceNumber:-1,traces:[],type:o.MessageType.SummaryNack};return this.sendToDeli(n)}async sendSummaryConfirmationMessage(e,t){const n={type:s.ControlMessageType.UpdateDSN,contents:{durableSequenceNumber:e,clearCache:t}},r={clientSequenceNumber:-1,contents:null,data:JSON.stringify(n),referenceSequenceNumber:-1,traces:[],type:o.MessageType.Control};return this.sendToDeli(r)}sendToDeli(e){const t={clientId:null,documentId:this.documentId,operation:e,tenantId:this.tenantId,timestamp:Date.now(),type:s.RawOperationType};return this.producer.send([t],this.tenantId,this.documentId)}setStateFromCheckpoint(e){this.sequenceNumber=e.sequenceNumber,this.minSequenceNumber=e.minimumSequenceNumber,this.lastClientSummaryHead=e.lastClientSummaryHead}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(2170);t.fetchLatestSummaryState=async function(t,n){const r=await t.getRef(encodeURIComponent(n));if(!r)return{term:1,protocolHead:0,scribe:"",messages:[],fromSummary:!1};try{const[n,o,s,a]=await Promise.all([t.getContent(r.object.sha,".protocol/attributes"),t.getContent(r.object.sha,".serviceProtocol/scribe"),t.getContent(r.object.sha,".serviceProtocol/deli"),t.getContent(r.object.sha,".logTail/logTail")]),c=JSON.parse(e.from(n.content,n.encoding).toString()),u=e.from(o.content,o.encoding).toString(),l=JSON.parse(e.from(s.content,s.encoding).toString()).term,h=JSON.parse(e.from(a.content,a.encoding).toString());return{term:l,protocolHead:c.sequenceNumber,scribe:u,messages:h,fromSummary:!0}}catch(i){throw Error("Summary cannot be fetched")}},t.initializeProtocol=((e,t,n)=>new r.ProtocolOpHandler(e,t.protocolState.minimumSequenceNumber,t.protocolState.sequenceNumber,n,t.protocolState.members,t.protocolState.proposals,t.protocolState.values,()=>-1,()=>{}))}).call(t,n(22).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2119);t.ScriptoriumLambda=class{constructor(e,t,n){this.opCollection=e,this.contentCollection=t,this.context=n,this.pending=new Map,this.current=new Map}handler(e){const t=r.extractBoxcar(e);for(const n of t.contents)if(n.type===r.SequencedOperationType){const e=n;e.operation.traces=[];const t=`${e.tenantId}/${e.documentId}`;this.pending.has(t)||this.pending.set(t,[]),this.pending.get(t).push(e)}this.pendingOffset=e,this.sendPending()}close(){this.pending.clear(),this.current.clear()}sendPending(){if(this.current.size>0||0===this.pending.size)return;const e=this.current;this.current=this.pending,this.pending=e;const t=this.pendingOffset,n=[];for(const[,r]of this.current){const e=this.processMongoCore(r);n.push(e)}Promise.all(n).then(()=>{this.current.clear(),this.context.checkpoint(t),this.sendPending()},e=>{this.context.error(e,!0)})}async processMongoCore(e){const t=this.insertOp(e),n=this.updateSequenceNumber(e);await Promise.all([t,n])}async insertOp(e){return this.opCollection.insertMany(e,!1).catch(e=>{if(11e3!==e.code)return Promise.reject(e)})}async updateSequenceNumber(e){if(void 0===this.contentCollection)return;const t=[];for(const n of e)if(void 0===n.operation.contents){const e=this.contentCollection.update({clientId:n.operation.clientId,documentId:n.documentId,"op.clientSequenceNumber":n.operation.clientSequenceNumber,tenantId:n.tenantId},{sequenceNumber:n.operation.sequenceNumber},null).catch(e=>{if(11e3!==e.code)return Promise.reject(e)});t.push(e)}await Promise.all(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2379),i=n(5344);t.LocalKafka=class{constructor(e=0){this.messageOffset=e,this.subscriptions=[],this.qeueue=new r,this.minimumQueueOffset=0}subscribe(e){const t=new i.LocalKafkaSubscription(e,this.qeueue);t.on("processed",e=>{if(this.minimumQueueOffset>=e)return;for(const n of this.subscriptions)if(n.queueOffset<e)return;const t=e-this.minimumQueueOffset;this.minimumQueueOffset=e;for(let n=0;n<t;n++)this.qeueue.shift();for(const n of this.subscriptions)n.queueOffset-=t}),this.subscriptions.push(t)}async send(e,t){for(const n of e){const e={offset:this.messageOffset,partition:0,topic:t,value:JSON.stringify(n)};this.messageOffset++,this.qeueue.push(e)}for(const n of this.subscriptions)n.process()}async close(){this.qeueue.clear();for(const e of this.subscriptions)e.close();this.subscriptions.length=0}on(e,t){return this}once(e,t){return this}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1994),i=n(2170),o=n(3231),s=n(3241),a=n(3239),c=n(3242),u=n(5348),l=n(5349),h={lastClientSummaryHead:void 0,logOffset:-1,minimumSequenceNumber:-1,protocolState:void 0,sequenceNumber:-1},d={branchMap:void 0,clients:void 0,durableSequenceNumber:0,epoch:0,logOffset:-1,sequenceNumber:0,term:1};class p{constructor(e){this.webSocket=e}get id(){return this.webSocket.id}send(e,...t){this.webSocket.emit(t[0],...t.slice(1))}}class f{constructor(){this.topics=new Map}publish(e,...t){const n=this.topics.get(e);if(n)for(const[,r]of n)r.subscriber.send(e,...t)}subscribe(e,t){this.topics.has(e)||this.topics.set(e,new Map);const n=this.topics.get(e);n.has(t.id)||n.set(t.id,{subscriber:t,count:0}),n.get(t.id).count++}unsubscribe(e,t){r(this.topics.has(e));const n=this.topics.get(e);r(n.has(t.id));const i=n.get(t.id);i.count--,0===i.count&&n.delete(t.id),0===n.size&&this.topics.delete(e)}}class m{constructor(e){this.publisher=e}on(e,t){}to(e){return{emit:(t,...n)=>this.publisher.publish(e,t,...n)}}async close(){}}class g{constructor(e,t,n,r,i,o,s,a,c,u,l,h,d,p,f,g,b,v){this.setup=e,this.details=t,this.tenantId=n,this.documentId=r,this.taskMessageSender=i,this.tenantManager=o,this.gitManager=s,this.permission=a,this.maxMessageSize=c,this.pubSub=u,this.broadcasterContext=l,this.scriptoriumContext=h,this.foremanContext=d,this.scribeContext=p,this.deliContext=f,this.clientTimeout=g,this.serviceConfiguration=b,this.scribeNackOnSummarizeException=v,this.existing=t.existing,this.dbObject=this.getDeliState(),this.socketPublisher=new m(this.pubSub),this.setupKafkas(),this.setupLambdas(),this.startLambdas()}static async load(e,t,n,r,i,a,c,u,h,d,p=new l.LocalOrdererSetup(n,r,e,t,d),m=new f,b=new s.LocalContext(h),v=new s.LocalContext(h),y=new s.LocalContext(h),S=new s.LocalContext(h),_=new s.LocalContext(h),w=o.ClientSequenceTimeout,C=o.DefaultServiceConfiguration,k=!1){const x=await p.documentP();return new g(p,x,n,r,i,a,d,c,u,m,b,v,y,S,_,w,C,k)}async connect(e,t,n){const r=new p(e);return this.connectInternal(r,t,n)}connectInternal(e,t,n){const r=new u.LocalOrdererConnection(this.pubSub,e,this.existing,this.details.value,this.rawDeltasKafka,this.tenantId,this.documentId,t,n,this.maxMessageSize,this.serviceConfiguration);return this.existing=!0,r}async close(){await this.closeKafkas(),this.closeLambdas()}hasPendingWork(){return!(!this.broadcasterLambda||!this.broadcasterLambda.lambda)&&this.broadcasterLambda.lambda.hasPendingWork()}setupKafkas(){const e=JSON.parse(this.dbObject.deli);this.rawDeltasKafka=new a.LocalKafka(e.logOffset+1),this.deltasKafka=new a.LocalKafka}setupLambdas(){this.scriptoriumLambda=new c.LocalLambdaController(this.deltasKafka,this.setup,this.scriptoriumContext,async(e,t)=>{const n=await e.deltaCollectionP();return new o.ScriptoriumLambda(n,void 0,t)}),this.broadcasterLambda=new c.LocalLambdaController(this.deltasKafka,this.setup,this.broadcasterContext,async(e,t)=>new o.BroadcasterLambda(this.socketPublisher,t)),this.foremanLambda=new c.LocalLambdaController(this.deltasKafka,this.setup,this.foremanContext,async(e,t)=>new o.ForemanLambda(this.taskMessageSender,this.tenantManager,this.permission,t,this.tenantId,this.documentId)),this.gitManager&&(this.scribeLambda=new c.LocalLambdaController(this.deltasKafka,this.setup,this.scribeContext,(e,t)=>this.startScribeLambda(e,t))),this.deliLambda=new c.LocalLambdaController(this.rawDeltasKafka,this.setup,this.deliContext,async(e,t)=>{const n=await e.documentCollectionP(),r=JSON.parse(this.dbObject.deli);return new o.DeliLambda(t,this.tenantId,this.documentId,r,this.dbObject,n,this.deltasKafka,this.rawDeltasKafka,this.clientTimeout,o.ActivityCheckingTimeout,o.NoopConsolidationTimeout)})}async startScribeLambda(e,t){const[n,r,s,a]=await Promise.all([e.documentCollectionP(),e.scribeDeltaCollectionP(),e.protocolHeadP(),e.scribeMessagesP()]),c=this.getScribeState(),u=c.protocolState?c.protocolState:{members:[],proposals:[],values:[]},l=new i.ProtocolOpHandler(this.documentId,c.minimumSequenceNumber,c.sequenceNumber,1,u.members,u.proposals,u.values,()=>-1,()=>{});return new o.ScribeLambda(t,n,r,this.tenantId,this.documentId,c,this.gitManager,this.rawDeltasKafka,l,1,s,a.map(e=>e.operation),!1,this.scribeNackOnSummarizeException)}startLambdas(){this.deliLambda&&this.deliLambda.start(),this.scriptoriumLambda&&this.scriptoriumLambda.start(),this.foremanLambda&&this.foremanLambda.start(),this.scribeLambda&&this.scribeLambda.start(),this.broadcasterLambda&&this.broadcasterLambda.start()}async closeKafkas(){await Promise.all([this.rawDeltasKafka.close(),this.deltasKafka.close()])}closeLambdas(){this.deliLambda&&(this.deliLambda.close(),this.deliLambda=void 0),this.scriptoriumLambda&&(this.scriptoriumLambda.close(),this.scriptoriumLambda=void 0),this.foremanLambda&&(this.foremanLambda.close(),this.foremanLambda=void 0),this.scribeLambda&&(this.scribeLambda.close(),this.scribeLambda=void 0),this.broadcasterLambda&&(this.broadcasterLambda.close(),this.broadcasterLambda=void 0)}getDeliState(){const e=this.details.value;return void 0!==e.deli&&null!==e.deli||(e.deli=JSON.stringify(d)),e}getScribeState(){const e=this.details.value;return void 0===e.scribe||null===e.scribe?h:"string"===typeof this.details.value.scribe?JSON.parse(this.details.value.scribe):this.details.value.scribe}}t.LocalOrderer=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LocalContext=class{constructor(e){this.log=e}checkpoint(e){}error(e,t){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137);t.LocalLambdaController=class extends r.EventEmitter{constructor(e,t,n,r){super(),this.kafaka=e,this.setup=t,this.context=n,this.starter=r,this._state="created",this.kafaka.subscribe(this)}get state(){return this._state}async start(){if("closed"!==this._state)try{this.lambda=await this.starter(this.setup,this.context),"created"===this._state&&(this._state="started"),this.emit("started",this.lambda),"closed"===this._state&&this.close()}catch(e){this.context.error(e,!0),this.startTimer=setTimeout(()=>{this.start()},5e3)}}close(){this._state="closed",this.lambda&&(this.lambda.close(),this.lambda=void 0),void 0!==this.startTimer&&(clearTimeout(this.startTimer),this.startTimer=void 0),this.removeAllListeners()}process(e){if(!this.lambda)throw new Error("The lambda has not started yet");this.lambda.handler(e)}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(137),i=n(5350),o=n(2663);class s extends r.EventEmitter{constructor(e){super(),this.socket=e,this.pending=[],this.sendScheduled=!1,this.socket.on("error",t=>{o.debug(`ws error on connection to ${e.url}`,t),this.emit("error",t)}),this.socket.on("close",(t,n)=>{o.debug(`ws to ${e.url} close ${t} ${n}`),this.emit("close",t,n)}),this.socket.on("message",e=>{const t=JSON.parse(e);for(const n of t)this.emit("message",n)})}static async connect(e,t){const n=new i(`ws://${e}/${t}`);return await new Promise((e,t)=>{const r=e=>t(e);n.on("error",r),n.on("open",()=>{n.removeListener("error",r),e()})}),new s(n)}send(t){this.pending.push(t),this.sendScheduled||(this.sendScheduled=!0,e(()=>{o.debug(`Sending ${this.pending.length} messages`),this.sendBuffers(this.pending),this.pending=[],this.sendScheduled=!1}))}on(e,t){return super.on(e,t),this}sendBuffers(e){this.socket.send(JSON.stringify(e))}}t.Socket=s}).call(t,n(733).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5356);n.d(t,"SessionStorageDbFactory",function(){return r.a});var i=n(5357);n.d(t,"TestCodeLoader",function(){return i.a});var o=n(3245);n.d(t,"TestDataStore",function(){return o.a});var s=n(5360);n.d(t,"TestRootComponent",function(){return s.b}),n.d(t,"TestHost",function(){return s.a})},function(e,t,n){"use strict";var r=n(3082),i=n(5358);async function o(e,t,n){Object(i.a)(`loader.request(url=${t})`);const r=await e.request({url:t});if(200!==r.status)return void Object(i.a)(`Error: loader.request(url=${t}) -> ${r.status}`);const o=r.mimeType;switch(Object(i.a)(`loader.request(url=${t}) -> ${o}`),o){case"fluid/component":case"fluid/dataType":n(r.value);break;default:Object(i.a)(`Unhandled mimeType ${o}`)}}t.a=class{constructor(e,t,n){this.codeLoader=e,this.documentServiceFactory=t,this.resolver=n}async open(e,t,n,s){Object(i.a)(`TestDataStore.open("${e}", "${t.package}", "${n}")`);const a=this.resolver,c=new r.Loader(a,this.documentServiceFactory,this.codeLoader,{blockUpdateMarkers:!0},s||{},new Map),u=`https://test.com/${encodeURIComponent(e)}`,l=`${u}${"/"!==(n&&n.charAt(0))?"/":""}${n}`;Object(i.a)(`resolving baseUrl = ${u}`);const h=await c.resolve({url:u});let d;Object(i.a)(`resolved baseUrl = ${u}`);const p=new Promise(e=>{d=e});return Object(i.a)(`attaching url = ${l}`),h.on("contextChanged",async()=>{Object(i.a)(`contextChanged url=${l}`),await o(c,l,d)}),await o(c,l,d),Object(i.a)(`attached url = ${l}`),h.existing||(Object(i.a)("initializing chaincode"),await async function(e,t){if(!t)return;const n=e.getQuorum();e.connected||await new Promise(t=>e.on("connected",()=>{t()})),n.has("code")||await n.propose("code",t),Object(i.a)(`Code is ${n.get("code")}`)}(h,t).catch(e=>{console.assert(!1,`chaincode error: ${e}`)}),Object(i.a)("chaincode initialized")),p}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2610),i=n(2098),o=n(5366),s=n(2664);class a{constructor(e,t,n,r,i,o){this.resolvedUrl=e,this.localDeltaConnectionServer=t,this.tokenProvider=n,this.tenantId=r,this.documentId=i,this.documentDeltaConnectionsMap=o,this.isExperimentalDocumentService=!0}async connectToStorage(){return new r.DocumentStorageService(this.documentId,new i.GitManager(new o.TestHistorian(this.localDeltaConnectionServer.testDbFactory.testDatabase)))}async connectToDeltaStorage(){return new s.TestDeltaStorageService(this.tenantId,this.documentId,this.localDeltaConnectionServer.databaseManager)}async connectToDeltaStream(e){const t=await s.TestDocumentDeltaConnection.create(this.tenantId,this.documentId,this.tokenProvider.token,e,this.localDeltaConnectionServer.webSocketServer),n=t.clientId;return this.documentDeltaConnectionsMap.set(n,t),t.on("disconnect",()=>{this.documentDeltaConnectionsMap.delete(n)}),t}async branch(){throw new Error("Not implemented")}getErrorTrackingService(){return null}}t.TestDocumentService=a,t.createTestDocumentService=function(e,t,n,r,i,o){return new a(e,t,n,r,i,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2012);class i{constructor(e,t,n){this.debugInfo=e,this.debugErr=t,this.debugWarn=n}static create(e){const t=r(e),n=r(e);n.log=console.warn.bind(console),n.enabled=!0;const o=r(e);return o.log=console.error.bind(console),o.enabled=!0,new i(t,o,n)}info(e){this.debugInfo(e)}warn(e){this.debugWarn(e)}error(e){this.debugErr(e)}}t.DebugLogger=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawOperationType="RawOperation",t.SequencedOperationType="SequencedOperation",t.NackOperationType="Nack",t.SystemType="System",t.BoxcarType="boxcar",function(e){e[e.Join=0]="Join",e[e.Leave=1]="Leave"}(t.SystemOperations||(t.SystemOperations={})),function(e){e.UpdateDSN="updateDSN"}(t.ControlMessageType||(t.ControlMessageType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1994),i=n(137),o=n(2006),s=n(3247);t.TestContext=class extends i.EventEmitter{constructor(e=s.DebugLogger.create("fluid-server:TestContext")){super(),this.log=e,this.offset=Number.NEGATIVE_INFINITY,this.waits=[]}checkpoint(e){r(e.offset>this.offset,`${e.offset} > ${this.offset}`),this.offset=e.offset,this.waits=this.waits.filter(t=>!(t.value<=e.offset)||(t.deferred.resolve(),!1))}error(e,t){this.emit("error",e,t)}waitForOffset(e){if(e<=this.offset)return Promise.resolve();const t=new o.Deferred;return this.waits.push({deferred:t,value:e}),t.promise}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(2006),i=n(2048),o=n(2665);t.TestHistorian=class{constructor(e=new o.TestDb({})){this.endpoint="",this.blobs=e.collection("blobs"),this.commits=e.collection("commits"),this.trees=e.collection("trees"),this.refs=e.collection("refs")}async getHeader(e){const t=await this.getTree(e,!0),n=[".attributes",".blobs",".messages","header"],r=[];for(const i of t.tree)if("blob"===i.type&&n.reduce((e,t)=>e||i.path.endsWith(t),!1)){const e=this.getBlob(i.sha);r.push(e)}return{blobs:await Promise.all(r),tree:t}}getFullTree(e){throw new Error("Not Supported")}async getBlob(t){const n=await this.blobs.findOne({_id:t});return{content:e.from(n.value.content,n.value.encoding).toString("base64"),encoding:n.value.encoding,sha:n._id,size:n.value.content.length,url:""}}async createBlob(t){const n=r.gitHashFile(e.from(t.content,t.encoding));return await this.blobs.insertOne({_id:n,value:t}),{sha:n,url:""}}getContent(e,t){throw new Error("Not Supported")}async getCommits(e,t){const n=await this.getCommit(e);return n?[{commit:{author:n.author,committer:n.committer,message:n.message,tree:n.tree,url:n.url},parents:n.parents,sha:n.sha,url:n.url}]:[]}async getCommit(e){let t=await this.commits.findOne({_id:e});if(!t){const n=await this.getRef(`refs/heads/${e}`);void 0!==n&&(t=await this.commits.findOne({_id:n.object.sha}))}if(t)return{author:{},committer:{},message:t.value.message,parents:t.value.parents.map(e=>({sha:e,url:""})),sha:t._id,tree:{sha:t.value.tree,url:""},url:""}}async createCommit(e){const t=e.tree;return await this.commits.insertOne({_id:t,value:e}),this.getCommit(t)}getRefs(){throw new Error("Not Supported")}async getRef(e){const t=e.startsWith("refs/")?e.substr(5):e,n=await this.refs.findOne({_id:t});if(n)return{ref:n.value.ref,url:"",object:{sha:n.value.sha,url:"",type:""}}}async createRef(e){const t=e.ref.startsWith("refs/")?e.ref.substr(5):e.ref;return await this.refs.insertOne({_id:t,value:e}),this.getRef(e.ref)}async updateRef(e,t){const n=e.startsWith("refs/")?e.substr(5):e;return t.force?await this.refs.upsert({_id:n},{sha:t.sha,ref:e},{}):await this.refs.update({_id:n},{sha:t.sha,ref:e},{}),this.getRef(e)}async deleteRef(e){throw new Error("Not Supported")}createTag(e){throw new Error("Not Supported")}getTag(e){throw new Error("Not Supported")}async createTree(e){const t=i();return await this.trees.insertOne({_id:t,value:e}),this.getTree(t,!1)}async getTree(e,t){return this.getTreeHelper(e,t)}async getTreeHelper(e,t,n=""){const r=await this.trees.findOne({_id:e});if(r){const e={sha:r._id,url:"",tree:[]};for(const i of r.value.tree){const r=""===n?i.path:`${n}/${i.path}`,o={mode:i.mode,path:r,sha:i.sha,size:0,type:i.type,url:""};if(e.tree.push(o),"tree"===i.type&&t){const n=await this.getTreeHelper(i.sha,t,r);n&&(e.tree=e.tree.concat(n.tree))}}return e}}}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";const r={sessionStatus:"inactive",presence:void 0,audience:void 0,cellOutputAnnotations:void 0};t.a=r},function(e,t,n){"use strict";var r=n(2666);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=function(e){function t(t){var n=e.call(this,t)||this;return n._inputElement=i.createRef(),n._autoFillEnabled=!0,n._isComposing=!1,n._onCompositionStart=function(e){n._isComposing=!0,n._autoFillEnabled=!1},n._onCompositionUpdate=function(){Object(o._6)()&&n._updateValue(n._getCurrentInputValue(),!0)},n._onCompositionEnd=function(e){var t=n._getCurrentInputValue();n._tryEnableAutofill(t,n.value,!1,!0),n._isComposing=!1,n._async.setTimeout(function(){n._updateValue(n._getCurrentInputValue(),!1)},0)},n._onClick=function(){n._value&&""!==n._value&&n._autoFillEnabled&&(n._autoFillEnabled=!1)},n._onKeyDown=function(e){if(n.props.onKeyDown&&n.props.onKeyDown(e),!e.nativeEvent.isComposing)switch(e.which){case o.h.backspace:n._autoFillEnabled=!1;break;case o.h.left:case o.h.right:n._autoFillEnabled&&(n._value=n.state.displayValue,n._autoFillEnabled=!1);break;default:n._autoFillEnabled||-1!==n.props.enableAutofillOnKeyPress.indexOf(e.which)&&(n._autoFillEnabled=!0)}},n._onInputChanged=function(e){var t=n._getCurrentInputValue(e);if(n._isComposing||n._tryEnableAutofill(t,n._value,e.nativeEvent.isComposing),!Object(o._6)()||!n._isComposing){var r=e.nativeEvent.isComposing,i=void 0===r?n._isComposing:r;n._updateValue(t,i)}},n._onChanged=function(){},n._updateValue=function(e,t){(e||e!==n._value)&&(n._value=n.props.onInputChange?n.props.onInputChange(e,t):e,n.setState({displayValue:n._getDisplayValue(n._value,n.props.suggestedDisplayValue)},function(){return n._notifyInputChange(n._value,t)}))},Object(o._2)(n),n._async=new o.a(n),n._value=t.defaultVisibleValue||"",n.state={displayValue:t.defaultVisibleValue||""},n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"cursorLocation",{get:function(){if(this._inputElement.current){var e=this._inputElement.current;return"forward"!==e.selectionDirection?e.selectionEnd:e.selectionStart}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValueSelected",{get:function(){return Boolean(this.inputElement&&this.inputElement.selectionStart!==this.inputElement.selectionEnd)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._inputElement.current?this._inputElement.current.selectionStart:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._inputElement.current?this._inputElement.current.selectionEnd:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._inputElement.current},enumerable:!0,configurable:!0}),t.prototype.UNSAFE_componentWillReceiveProps=function(e){if(this.props.updateValueInWillReceiveProps){var t=this.props.updateValueInWillReceiveProps();null!==t&&t!==this._value&&(this._value=t)}var n=this._getDisplayValue(this._value,e.suggestedDisplayValue);"string"===typeof n&&this.setState({displayValue:n})},t.prototype.componentDidUpdate=function(){var e=this._value,t=this.props,n=t.suggestedDisplayValue,r=t.shouldSelectFullInputValueInComponentDidUpdate,i=0;if(!t.preventValueSelection&&this._autoFillEnabled&&e&&n&&this._doesTextStartWith(n,e)){var o=!1;if(r&&(o=r()),o&&this._inputElement.current)this._inputElement.current.setSelectionRange(0,n.length,"backward");else{for(;i<e.length&&e[i].toLocaleLowerCase()===n[i].toLocaleLowerCase();)i++;i>0&&this._inputElement.current&&this._inputElement.current.setSelectionRange(i,n.length,"backward")}}},t.prototype.componentWillUnmount=function(){this._async.dispose()},t.prototype.render=function(){var e=this.state.displayValue,t=Object(o.P)(this.props,o._3);return i.createElement("input",Object(r.a)({autoCapitalize:"off",autoComplete:"off","aria-autocomplete":"both"},t,{ref:this._inputElement,value:e,onCompositionStart:this._onCompositionStart,onCompositionUpdate:this._onCompositionUpdate,onCompositionEnd:this._onCompositionEnd,onChange:this._onChanged,onInput:this._onInputChanged,onKeyDown:this._onKeyDown,onClick:this.props.onClick?this.props.onClick:this._onClick,"data-lpignore":!0}))},t.prototype.focus=function(){this._inputElement.current&&this._inputElement.current.focus()},t.prototype.clear=function(){this._autoFillEnabled=!0,this._updateValue("",!1),this._inputElement.current&&this._inputElement.current.setSelectionRange(0,0)},t.prototype._getCurrentInputValue=function(e){return e&&e.target&&e.target.value?e.target.value:this.inputElement&&this.inputElement.value?this.inputElement.value:""},t.prototype._tryEnableAutofill=function(e,t,n,r){!n&&e&&this._inputElement.current&&this._inputElement.current.selectionStart===e.length&&!this._autoFillEnabled&&(e.length>t.length||r)&&(this._autoFillEnabled=!0)},t.prototype._notifyInputChange=function(e,t){this.props.onInputValueChange&&this.props.onInputValueChange(e,t)},t.prototype._getDisplayValue=function(e,t){var n=e;return t&&e&&this._doesTextStartWith(t,n)&&this._autoFillEnabled&&(n=t),n},t.prototype._doesTextStartWith=function(e,t){return!(!e||!t)&&0===e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())},t.defaultProps={enableAutofillOnKeyPress:[o.h.down,o.h.up]},t}(i.Component);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(r.d)(t,e)}(s)},function(e,t,n){"use strict";var r=n(5403);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=Object(o.s)(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.styles,a=e.as,c=void 0===a?"div":a,u=e.className,l=s(n,{className:u});return i.createElement(c,Object(r.a)({role:"status",className:l.root},Object(o.P)(this.props,o.w,["className"])),i.createElement(o.d,null,i.createElement("div",{className:l.screenReaderText},t)))},t.defaultProps={"aria-live":"polite"},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(89),a=n(394),c=n(48),u=n(106),l=n(73),h=n(753),d=n(266),p=Object(o.s)(),f="overflow",m=function(){return null},g={styles:function(e){return{root:{selectors:{"&.is-disabled":{color:e.theme.semanticColors.bodyText}}}}}},b=function(e){function t(t){var n=e.call(this,t)||this;return n._focusZone=i.createRef(),n._onReduceData=function(e){var t=e.renderedItems,n=e.renderedOverflowItems,i=e.props.overflowIndex,o=t[i];if((t=Object(r.f)(t)).splice(i,1),n=Object(r.f)(n,[o]),void 0!==o)return Object(r.a)(Object(r.a)({},e),{renderedItems:t,renderedOverflowItems:n})},n._onRenderBreadcrumb=function(e){var t=e.props,a=t.ariaLabel,h=t.dividerAs,d=void 0===h?c.b:h,p=t.onRenderItem,b=void 0===p?n._onRenderItem:p,v=t.overflowAriaLabel,y=t.overflowIndex,S=t.onRenderOverflowIcon,_=e.renderedOverflowItems,w=e.renderedItems,C=_.map(function(e){var t=!(!e.onClick&&!e.href);return{name:e.text,key:e.key,onClick:e.onClick?n._onBreadcrumbClicked.bind(n,e):null,href:e.href,disabled:!t,itemProps:t?void 0:g}}),k=w.length-1,x=_&&0!==_.length,O=w.map(function(e,t){return i.createElement("li",{className:n._classNames.listItem,key:e.key||String(t)},b(e,n._onRenderItem),(t!==k||x&&t===y-1)&&i.createElement(d,{className:n._classNames.chevron,iconName:Object(o.S)(n.props.theme)?"ChevronLeft":"ChevronRight",item:e}))});if(x){var I=S?{}:{iconName:"More"},T=S||m;O.splice(y,0,i.createElement("li",{className:n._classNames.overflow,key:f},i.createElement(u.g,{className:n._classNames.overflowButton,iconProps:I,role:"button","aria-haspopup":"true",ariaLabel:v,onRenderMenuIcon:T,menuProps:{items:C,directionalHint:l.a.bottomLeftEdge}}),y!==k+1&&i.createElement(d,{className:n._classNames.chevron,iconName:Object(o.S)(n.props.theme)?"ChevronLeft":"ChevronRight",item:_[_.length-1]})))}var E=Object(o.P)(n.props,o._0,["className"]);return i.createElement("div",Object(r.a)({className:n._classNames.root,role:"navigation","aria-label":a},E),i.createElement(s.a,Object(r.a)({componentRef:n._focusZone,direction:s.b.horizontal},n.props.focusZoneProps),i.createElement("ol",{className:n._classNames.list},O)))},n._onRenderItem=function(e){if(e.onClick||e.href)return i.createElement(a.a,{as:e.as,className:n._classNames.itemLink,href:e.href,"aria-current":e.isCurrentItem?"page":void 0,onClick:n._onBreadcrumbClicked.bind(n,e)},i.createElement(d.b,Object(r.a)({content:e.text,overflowMode:d.c.Parent},n.props.tooltipHostProps),e.text));var t=e.as||"span";return i.createElement(t,{className:n._classNames.item},i.createElement(d.b,Object(r.a)({content:e.text,overflowMode:d.c.Parent},n.props.tooltipHostProps),e.text))},n._onBreadcrumbClicked=function(e,t){e.onClick&&e.onClick(t,e)},Object(o._2)(n),n._validateProps(t),n}return Object(r.d)(t,e),t.prototype.focus=function(){this._focusZone.current&&this._focusZone.current.focus()},t.prototype.render=function(){this._validateProps(this.props);var e=this.props,t=e.onReduceData,n=void 0===t?this._onReduceData:t,o=e.overflowIndex,s=e.maxDisplayedItems,a=e.items,c=e.className,u=e.theme,l=e.styles,d=Object(r.f)(a),f=d.splice(o,d.length-s),m={props:this.props,renderedItems:d,renderedOverflowItems:f};return this._classNames=p(l,{className:c,theme:u}),i.createElement(h.a,{onRenderData:this._onRenderBreadcrumb,onReduceData:n,data:m})},t.prototype._validateProps=function(e){var t=e.maxDisplayedItems,n=e.overflowIndex,r=e.items;if(n<0||t>1&&n>t-1||r.length>0&&n>r.length-1)throw new Error("Breadcrumb: overflowIndex out of range")},t.defaultProps={items:[],maxDisplayedItems:999,overflowIndex:0},t}(i.Component)},function(e,t,n){"use strict";var r=n(5410);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b})},function(e,t,n){"use strict";var r=n(2286);n.d(t,"a",function(){return r.b})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),i=n(0),o=(n.n(i),n(735)),s=n(2),a=n(3260),c=Object(s.s)(),u=function(e){function t(t){var n=e.call(this,t)||this;n._focusCallbacks={},n._changeCallbacks={},n._onBlur=function(e,t){n.setState({keyFocused:void 0})},Object(s._2)(n);var r=t.defaultSelectedKey,i=t.options,o=void 0===i?[]:i,a=!l(t)&&void 0!==r&&o.some(function(e){return e.key===r});return n.state={keyChecked:a?r:n._getKeyChecked(t)},n._id=Object(s.L)("ChoiceGroup"),n._labelId=Object(s.L)("ChoiceGroupLabel"),n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"checkedOption",{get:function(){var e=this,t=this.props.options,n=void 0===t?[]:t;return Object(s.A)(n,function(t){return t.key===e.state.keyChecked})},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e,t){if(e!==this.props){var n=this._getKeyChecked(this.props);n!==this._getKeyChecked(e)&&this.setState({keyChecked:n})}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,u=t.theme,l=t.styles,h=t.options,d=void 0===h?[]:h,p=t.label,f=t.required,m=t.disabled,g=t.name,b=this.state,v=b.keyChecked,y=b.keyFocused,S=Object(s.P)(this.props,s.w,["onChange","className","required"]),_=c(l,{theme:u,className:n,optionsContainIconOrImage:d.some(function(e){return!(!e.iconProps&&!e.imageSrc)})}),w=this._id+"-label",C=this.props.ariaLabelledBy||(p?w:this.props["aria-labelledby"]);return i.createElement("div",Object(r.a)({className:_.applicationRole},S),i.createElement("div",Object(r.a)({className:_.root,role:"radiogroup"},C&&{"aria-labelledby":C}),p&&i.createElement(o.a,{className:_.label,required:f,id:w,disabled:m},p),i.createElement("div",{className:_.flexContainer},d.map(function(t){var n=Object(r.a)(Object(r.a)({},t),{focused:t.key===y,checked:t.key===v,disabled:t.disabled||m,id:e._getOptionId(t),labelId:e._labelId+"-"+t.key,name:g||e._id,required:f});return i.createElement(a.a,Object(r.a)({key:t.key,onBlur:e._onBlur,onFocus:e._onFocus(t.key),onChange:e._onChange(t.key)},n))}))))},t.prototype.focus=function(){var e=this.props.options,t=void 0===e?[]:e,n=this.checkedOption||t.filter(function(e){return!e.disabled})[0],r=n&&document.getElementById(this._getOptionId(n));r&&r.focus()},t.prototype._onFocus=function(e){var t=this;return this._focusCallbacks[e]||(this._focusCallbacks[e]=function(n,r){t.setState({keyFocused:e})}),this._focusCallbacks[e]},t.prototype._onChange=function(e){var t=this;return this._changeCallbacks[e]||(this._changeCallbacks[e]=function(n,r){var i=t.props,o=i.onChanged,a=i.onChange;l(t.props)||t.setState({keyChecked:e});var c=Object(s.A)(t.props.options||[],function(t){return t.key===e});a?a(n,c):o&&o(c,n)}),this._changeCallbacks[e]},t.prototype._getKeyChecked=function(e){if(void 0!==e.selectedKey)return e.selectedKey;var t=e.options,n=(void 0===t?[]:t).filter(function(e){return e.checked});return n[0]&&n[0].key},t.prototype._getOptionId=function(e){return this._id+"-"+e.key},t}(i.Component);function l(e){return Object(s._4)(e,"selectedKey")}},function(e,t,n){"use strict";var r=n(5419);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s}),t.c=function(e){var t,n=e.theme,l=e.className,h=e.color,d=e.beaconColorOne,p=e.beaconColorTwo,f=e.delayBeforeCoachmarkAnimation,m=e.isCollapsed,g=e.isBeaconAnimating,b=e.isMeasuring,v=e.isMeasured,y=e.entityHostHeight,S=e.entityHostWidth,_=e.transformOrigin;if(!n)throw new Error("theme is undefined or null in base Dropdown getStyles function.");var w=r.i.continuousPulseAnimationDouble(d||n.palette.themePrimary,p||n.palette.themeTertiary,"35px","150px","10px"),C=r.i.createDefaultAnimation(w,f);return{root:[n.fonts.medium,{position:"relative"},l],pulsingBeacon:[{position:"absolute",top:"50%",left:"50%",transform:Object(i.S)(n)?"translate(50%, -50%)":"translate(-50%, -50%)",width:"0px",height:"0px",borderRadius:"225px",borderStyle:"solid",opacity:"0"},m&&g&&C],translateAnimationContainer:[{width:"100%",height:"100%"},m&&{animationDuration:"14s",animationTimingFunction:"linear",animationDirection:"normal",animationIterationCount:"1",animationDelay:"0s",animationFillMode:"forwards",animationName:a,transition:"opacity 0.5s ease-in-out"},!m&&{opacity:"1"}],scaleAnimationLayer:[{width:"100%",height:"100%"},m&&{animationDuration:"14s",animationTimingFunction:"linear",animationDirection:"normal",animationIterationCount:"1",animationDelay:"0s",animationFillMode:"forwards",animationName:c}],rotateAnimationLayer:[{width:"100%",height:"100%"},m&&{animationDuration:"14s",animationTimingFunction:"linear",animationDirection:"normal",animationIterationCount:"1",animationDelay:"0s",animationFillMode:"forwards",animationName:u},!m&&{opacity:"1"}],entityHost:[{position:"relative",outline:"none",overflow:"hidden",backgroundColor:h,borderRadius:o,transition:"border-radius 250ms, width 500ms, height 500ms cubic-bezier(0.5, 0, 0, 1)",visibility:"hidden",selectors:(t={},t[r.e]={backgroundColor:"Window",border:"2px solid WindowText"},t["."+i.g+" &:focus"]={outline:"1px solid "+n.palette.themeTertiary},t)},!b&&{width:o,height:s,visibility:"visible"},!m&&{borderRadius:"1px",opacity:"1",width:S,height:y}],entityInnerHost:[{transition:"transform 500ms cubic-bezier(0.5, 0, 0, 1)",transformOrigin:_,transform:"scale(0)"},!m&&{width:S,height:y,transform:"scale(1)"},!b&&{visibility:"visible"}],childrenContainer:[{display:v&&m?"none":"block"}],ariaContainer:{position:"fixed",opacity:0,height:0,width:0,pointerEvents:"none"}}};var r=n(5),i=n(2),o=32,s=32,a=Object(r.D)({"0%":{transform:"translate(0, 0)",animationTimingFunction:"linear"},"78.57%":{transform:"translate(0, 0)",animationTimingFunction:"cubic-bezier(0.62, 0, 0.56, 1)"},"82.14%":{transform:"translate(0, -5px)",animationTimingFunction:"cubic-bezier(0.58, 0, 0, 1)"},"84.88%":{transform:"translate(0, 9px)",animationTimingFunction:"cubic-bezier(1, 0, 0.56, 1)"},"88.1%":{transform:"translate(0, -2px)",animationTimingFunction:"cubic-bezier(0.58, 0, 0.67, 1)"},"90.12%":{transform:"translate(0, 0)",animationTimingFunction:"linear"},"100%":{transform:"translate(0, 0)"}}),c=Object(r.D)({"0%":{transform:" scale(0)",animationTimingFunction:"linear"},"14.29%":{transform:"scale(0)",animationTimingFunction:"cubic-bezier(0.84, 0, 0.52, 0.99)"},"16.67%":{transform:"scale(1.15)",animationTimingFunction:"cubic-bezier(0.48, -0.01, 0.52, 1.01)"},"19.05%":{transform:"scale(0.95)",animationTimingFunction:"cubic-bezier(0.48, 0.02, 0.52, 0.98)"},"21.43%":{transform:"scale(1)",animationTimingFunction:"linear"},"42.86%":{transform:"scale(1)",animationTimingFunction:"cubic-bezier(0.48, -0.02, 0.52, 1.02)"},"45.71%":{transform:"scale(0.8)",animationTimingFunction:"cubic-bezier(0.48, 0.01, 0.52, 0.99)"},"50%":{transform:"scale(1)",animationTimingFunction:"linear"},"90.12%":{transform:"scale(1)",animationTimingFunction:"cubic-bezier(0.48, -0.02, 0.52, 1.02)"},"92.98%":{transform:"scale(0.8)",animationTimingFunction:"cubic-bezier(0.48, 0.01, 0.52, 0.99)"},"97.26%":{transform:"scale(1)",animationTimingFunction:"linear"},"100%":{transform:"scale(1)"}}),u=Object(r.D)({"0%":{transform:"rotate(0deg)",animationTimingFunction:"linear"},"83.33%":{transform:" rotate(0deg)",animationTimingFunction:"cubic-bezier(0.33, 0, 0.67, 1)"},"83.93%":{transform:"rotate(15deg)",animationTimingFunction:"cubic-bezier(0.33, 0, 0.67, 1)"},"84.52%":{transform:"rotate(-15deg)",animationTimingFunction:"cubic-bezier(0.33, 0, 0.67, 1)"},"85.12%":{transform:"rotate(15deg)",animationTimingFunction:"cubic-bezier(0.33, 0, 0.67, 1)"},"85.71%":{transform:"rotate(-15deg)",animationTimingFunction:"cubic-bezier(0.33, 0, 0.67, 1)"},"86.31%":{transform:"rotate(0deg)",animationTimingFunction:"linear"},"100%":{transform:"rotate(0deg)"}})},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(259),a=n(3263),c=n(5428),u=n(73),l=n(3261),h=n(740),d=Object(o.s)(),p="Coachmark",f=function(e){function t(t){var n=e.call(this,t)||this;return n._entityHost=i.createRef(),n._entityInnerHostElement=i.createRef(),n._translateAnimationContainer=i.createRef(),n._ariaAlertContainer=i.createRef(),n._childrenContainer=i.createRef(),n._positioningContainer=i.createRef(),n.dismiss=function(e){var t=n.props.onDismiss;t&&t(e)},n._onKeyDown=function(e){(e.altKey&&e.which===o.h.c||e.which===o.h.enter&&n._translateAnimationContainer.current&&n._translateAnimationContainer.current.contains(e.target))&&n._onFocusHandler()},n._onFocusHandler=function(){n.state.isCollapsed&&n._openCoachmark()},n._onPositioned=function(e){n._async.requestAnimationFrame(function(){n.setState({targetAlignment:e.alignmentEdge,targetPosition:e.targetEdge})})},n._setBeakPosition=function(){var e,t,r,i,a,u,h=n.state.targetAlignment;switch(n._beakDirection){case s.b.top:case s.b.bottom:h?h===s.b.left?(e=l.b/2-c.b/2+"px",a="left"):(r=l.b/2-c.b/2+"px",a="right"):(e="calc(50% - "+c.b/2+"px)",a="center"),n._beakDirection===s.b.top?(t="3px",u="top"):(i="3px",u="bottom");break;case s.b.left:case s.b.right:h?h===s.b.top?(t=l.b/2-c.b/2+"px",u="top"):(i=l.b/2-c.b/2+"px",u="bottom"):(t="calc(50% - "+c.b/2+"px)",u="center"),n._beakDirection===s.b.left?(Object(o.S)(n.props.theme)?r="3px":e="3px",a="left"):(Object(o.S)(n.props.theme)?e="3px":r="3px",a="right")}n.setState({beakLeft:e,beakRight:r,beakBottom:i,beakTop:t,transformOrigin:a+" "+u})},n._openCoachmark=function(){n.setState({isCollapsed:!1}),n.props.onAnimationOpenStart&&n.props.onAnimationOpenStart(),n._entityInnerHostElement.current&&n._entityInnerHostElement.current.addEventListener("transitionend",function(){n._async.setTimeout(function(){n._entityInnerHostElement.current&&Object(o.F)(n._entityInnerHostElement.current)},1e3),n.props.onAnimationOpenEnd&&n.props.onAnimationOpenEnd()})},n._async=new o.a(n),n._events=new o.e(n),Object(o._2)(n),Object(o._29)(p,t,{teachingBubbleRef:void 0,collapsed:"isCollapsed",beakWidth:void 0,beakHeight:void 0,width:void 0,height:void 0}),n.state={isCollapsed:t.isCollapsed,isBeaconAnimating:!0,isMeasuring:!0,entityInnerHostRect:{width:0,height:0},isMouseInProximity:!1,isMeasured:!1},n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"_beakDirection",{get:function(){var e=this.state.targetPosition;return void 0===e?s.b.bottom:Object(s.d)(e)},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.beaconColorOne,n=e.beaconColorTwo,o=e.children,s=e.target,u=e.color,p=e.positioningContainerProps,f=e.ariaDescribedBy,m=e.ariaDescribedByText,g=e.ariaLabelledBy,b=e.ariaLabelledByText,v=e.ariaAlertText,y=e.delayBeforeCoachmarkAnimation,S=e.styles,_=e.theme,w=e.className,C=e.persistentBeak,k=this.state,x=k.beakLeft,O=k.beakTop,I=k.beakRight,T=k.beakBottom,E=k.isCollapsed,N=k.isBeaconAnimating,M=k.isMeasuring,P=k.entityInnerHostRect,j=k.transformOrigin,D=k.alertText,R=k.isMeasured,L=u;!L&&_&&(L=_.semanticColors.primaryButtonBackground);var A=d(S,{theme:_,beaconColorOne:t,beaconColorTwo:n,className:w,isCollapsed:E,isBeaconAnimating:N,isMeasuring:M,color:L,transformOrigin:j,isMeasured:R,entityHostHeight:P.height+"px",entityHostWidth:P.width+"px",width:l.b+"px",height:l.a+"px",delayBeforeCoachmarkAnimation:y+"ms"}),F=E?l.a:P.height;return i.createElement(a.a,Object(r.a)({target:s,offsetFromTarget:c.a,componentRef:this._positioningContainer,finalHeight:F,onPositioned:this._onPositioned,bounds:this._getBounds()},p),i.createElement("div",{className:A.root},v&&i.createElement("div",{className:A.ariaContainer,role:"alert",ref:this._ariaAlertContainer,"aria-hidden":!E},D),i.createElement("div",{className:A.pulsingBeacon}),i.createElement("div",{className:A.translateAnimationContainer,ref:this._translateAnimationContainer},i.createElement("div",{className:A.scaleAnimationLayer},i.createElement("div",{className:A.rotateAnimationLayer},this._positioningContainer.current&&(E||C)&&i.createElement(c.c,{left:x,top:O,right:I,bottom:T,direction:this._beakDirection,color:L}),i.createElement("div",{className:A.entityHost,ref:this._entityHost,tabIndex:-1,"data-is-focusable":!0,role:"dialog","aria-labelledby":g,"aria-describedby":f},E&&[g&&i.createElement("p",{id:g,key:0,className:A.ariaContainer},b),f&&i.createElement("p",{id:f,key:1,className:A.ariaContainer},m)],i.createElement(h.a,{isClickableOutsideFocusTrap:!0,forceFocusInsideTrap:!1},i.createElement("div",{className:A.entityInnerHost,ref:this._entityInnerHostElement},i.createElement("div",{className:A.childrenContainer,ref:this._childrenContainer,"aria-hidden":E},o)))))))))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.isCollapsed&&!e.isCollapsed&&this._openCoachmark()},t.prototype.shouldComponentUpdate=function(e,t){return!Object(o._19)(e,this.props)||!Object(o._19)(t,this.state)},t.prototype.componentDidUpdate=function(e,t){t.targetAlignment===this.state.targetAlignment&&t.targetPosition===this.state.targetPosition||this._setBeakPosition(),e.preventDismissOnLostFocus!==this.props.preventDismissOnLostFocus&&this._addListeners()},t.prototype.componentDidMount=function(){var e=this;this._async.requestAnimationFrame(function(){e._entityInnerHostElement.current&&e.state.entityInnerHostRect.width+e.state.entityInnerHostRect.width===0&&(e.setState({isMeasuring:!1,entityInnerHostRect:{width:e._entityInnerHostElement.current.offsetWidth,height:e._entityInnerHostElement.current.offsetHeight},isMeasured:!0}),e._setBeakPosition(),e.forceUpdate()),e._addListeners(),e._async.setTimeout(function(){e._addProximityHandler(e.props.mouseProximityOffset)},e.props.delayBeforeMouseOpen),e.props.ariaAlertText&&e._async.setTimeout(function(){e.props.ariaAlertText&&e._ariaAlertContainer.current&&e.setState({alertText:e.props.ariaAlertText})},0),e.props.preventFocusOnMount||e._async.setTimeout(function(){e._entityHost.current&&e._entityHost.current.focus()},1e3)})},t.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},t.prototype._addListeners=function(){var e=this.props.preventDismissOnLostFocus,t=Object(o.I)();this._events.off(),t&&(this._events.on(t,"keydown",this._onKeyDown,!0),e||(this._events.on(t,"click",this._dismissOnLostFocus,!0),this._events.on(t,"focus",this._dismissOnLostFocus,!0)))},t.prototype._dismissOnLostFocus=function(e){var t=e.target,n=this._translateAnimationContainer.current&&!Object(o.y)(this._translateAnimationContainer.current,t),r=this.props.target;n&&t!==r&&!Object(o.y)(r,t)&&this.dismiss(e)},t.prototype._getBounds=function(){var e=this.props,t=e.isPositionForced,n=e.positioningContainerProps;return t?!n||n.directionalHint!==u.a.topAutoEdge&&n.directionalHint!==u.a.bottomAutoEdge?{left:-1/0,top:-1/0,bottom:1/0,right:1/0,width:1/0,height:1/0}:{left:0,top:-1/0,bottom:1/0,right:window.innerWidth,width:window.innerWidth,height:1/0}:void 0},t.prototype._addProximityHandler=function(e){var t=this;void 0===e&&(e=0);var n=[];this._async.setTimeout(function(){t._setTargetElementRect(),t._events.on(window,"resize",function(){n.forEach(function(e){clearInterval(e)}),n.push(t._async.setTimeout(function(){t._setTargetElementRect()},100))})},10),this._events.on(document,"mousemove",function(n){if(t.state.isCollapsed){var r=n.clientY,i=n.clientX;t._setTargetElementRect(),t._isInsideElement(i,r,e)!==t.state.isMouseInProximity&&t._openCoachmark()}t.props.onMouseMove&&t.props.onMouseMove(n)})},t.prototype._setTargetElementRect=function(){this._translateAnimationContainer&&this._translateAnimationContainer.current&&(this._targetElementRect=this._translateAnimationContainer.current.getBoundingClientRect())},t.prototype._isInsideElement=function(e,t,n){return void 0===n&&(n=0),e>this._targetElementRect.left-n&&e<this._targetElementRect.left+this._targetElementRect.width+n&&t>this._targetElementRect.top-n&&t<this._targetElementRect.top+this._targetElementRect.height+n},t.defaultProps={isCollapsed:!0,mouseProximityOffset:10,delayBeforeMouseOpen:3600,delayBeforeCoachmarkAnimation:0,isPositionForced:!0,positioningContainerProps:{directionalHint:u.a.bottomAutoEdge}},t}(i.Component)},function(e,t,n){"use strict";var r=n(5426);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n(2038),n(2143),n(2408),n(2287)},function(e,t,n){"use strict";n(2215)},function(e,t,n){"use strict";n(2038),n(2144)},function(e,t,n){"use strict";t.a=function(e){if(!e||e.length<r.i)return"ffffff";if(e.length>=r.g)return e.substring(0,r.g);return e.substring(0,r.i)};var r=n(2038)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(2678),a=n(5440),c=n(5442),u=n(2038),l=n(2171),h=n(2215),d=n(2675),p=n(2674),f=n(2676),m=n(3267),g=n(3271),b=Object(o.s)(),v=["hex","r","g","b","a"],y=function(e){function t(n){var i=e.call(this,n)||this;i._onSVChanged=function(e,t){i._updateColor(e,t)},i._onHChanged=function(e,t){i._updateColor(e,Object(p.a)(i.state.color,t))},i._onAChanged=function(e,t){i._updateColor(e,Object(d.a)(i.state.color,Math.round(t)))},i._onBlur=function(e){var t,n=i.state,o=n.color,s=n.editingColor;if(s){var a=s.value,c=s.component,d="hex"===c,p=d?u.i:u.j;if(a.length>=p&&(d||!isNaN(Number(a)))){var g=void 0;g=d?Object(l.a)("#"+Object(m.a)(a)):Object(h.a)(Object(f.a)(Object(r.a)(Object(r.a)({},o),((t={})[c]=Number(a),t)))),i._updateColor(e,g)}else i.setState({editingColor:void 0})}},Object(o._2)(i),i.state={color:S(n)||Object(l.a)("#ffffff")},i._textChangeHandlers={};for(var s=0,a=v;s<a.length;s++){var c=a[s];i._textChangeHandlers[c]=i._onTextChange.bind(i,c)}var g=n.strings,b=t.defaultProps.strings;return i._textLabels={r:n.redLabel||g.red||b.red,g:n.greenLabel||g.green||b.green,b:n.blueLabel||g.blue||b.blue,a:n.alphaLabel||g.alpha||b.alpha,hex:n.hexLabel||g.hex||b.hex},i._strings=Object(r.a)(Object(r.a)({},b),g),i}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"color",{get:function(){return this.state.color},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e,t){if(e!==this.props){var n=S(this.props);n&&this._updateColor(void 0,n)}},t.prototype.render=function(){var e=this,t=this.props,n=this._strings,r=this._textLabels,o=t.theme,l=t.className,h=t.styles,d=t.alphaSliderHidden,p=this.state.color,f=b(h,{theme:o,className:l}),m=p.str||"",g="#"===m[0]?m.split("").join(" "):0===m.indexOf("rgba(")?"R G B A "+p.r+" "+p.g+" "+p.b+" "+p.a+"%":m,y=n.rootAriaLabelFormat.replace("{0}",g);return i.createElement("div",{className:f.root,role:"group","aria-label":y},i.createElement("div",{className:f.panel},i.createElement(a.a,{color:p,onChange:this._onSVChanged,ariaLabel:n.svAriaLabel,ariaDescription:n.svAriaDescription,ariaValueFormat:n.svAriaValueFormat,className:f.colorRectangle}),i.createElement("div",{className:f.flexContainer},i.createElement("div",{className:f.flexSlider},i.createElement(c.a,{className:"is-hue",ariaLabel:n.hue||n.hueAriaLabel,minValue:0,maxValue:u.c,value:p.h,onChange:this._onHChanged}),!d&&i.createElement(c.a,{className:"is-alpha",isAlpha:!0,ariaLabel:n.alphaAriaLabel||r.a,overlayColor:p.hex,minValue:0,maxValue:u.b,value:p.a,onChange:this._onAChanged})),t.showPreview&&i.createElement("div",{className:f.flexPreviewBox},i.createElement("div",{className:f.colorSquare+" is-preview",style:{backgroundColor:p.str}}))),i.createElement("table",{className:f.table,role:"group",cellPadding:"0",cellSpacing:"0"},i.createElement("thead",null,i.createElement("tr",{className:f.tableHeader},i.createElement("td",{className:f.tableHexCell},r.hex),i.createElement("td",null,r.r),i.createElement("td",null,r.g),i.createElement("td",null,r.b),!d&&i.createElement("td",null,r.a))),i.createElement("tbody",null,i.createElement("tr",null,v.map(function(t){return"a"===t&&d?null:i.createElement("td",{key:t,style:"hex"===t?void 0:{width:"18%"}},i.createElement(s.a,{className:f.input,onChange:e._textChangeHandlers[t],onBlur:e._onBlur,value:e._getDisplayValue(t),spellCheck:!1,ariaLabel:r[t],autoComplete:"off"}))}))))))},t.prototype._getDisplayValue=function(e){var t=this.state,n=t.color,r=t.editingColor;return r&&r.component===e?r.value:"hex"===e?n[e]||"":"number"!==typeof n[e]||isNaN(n[e])?"":String(n[e])},t.prototype._onTextChange=function(e,t,n){var i,o=this.state.color,s="hex"===e,a="a"===e;if(n=(n||"").substr(0,s?u.g:u.h),(s?u.a:u.k).test(n))if(""!==n&&(s?n.length===u.g:a?Number(n)<=u.b:Number(n)<=u.d))if(String(o[e])===n)this.state.editingColor&&this.setState({editingColor:void 0});else{var c=s?Object(l.a)("#"+n):Object(h.a)(Object(r.a)(Object(r.a)({},o),((i={})[e]=Number(n),i)));this._updateColor(t,c)}else this.setState({editingColor:{component:e,value:n}})},t.prototype._updateColor=function(e,t){if(t){var n=this.state,r=n.color,i=n.editingColor;if(t.h!==r.h||t.str!==r.str||i){if(e&&this.props.onChange&&(this.props.onChange(e,t),e.defaultPrevented))return;this.setState({color:t,editingColor:void 0})}}},t.defaultProps={strings:{rootAriaLabelFormat:"Color picker, {0} selected.",hex:"Hex",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha",hueAriaLabel:"Hue",svAriaLabel:g.a.defaultProps.ariaLabel,svAriaValueFormat:g.a.defaultProps.ariaValueFormat,svAriaDescription:g.a.defaultProps.ariaDescription}},t}(i.Component);function S(e){var t=e.color;return"string"===typeof t?Object(l.a)(t):t}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(3270),o=n(5437),s=Object(r._21)(i.a,o.a,void 0,{scope:"TextField"})},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(1),i=n(0),o=(n.n(i),n(735)),s=n(48),a=n(2),c=Object(a.s)(),u="",l="TextField",h=function(e){function t(t){var n=e.call(this,t)||this;n._textElement=i.createRef(),n._onFocus=function(e){n.props.onFocus&&n.props.onFocus(e),n.setState({isFocused:!0},function(){n.props.validateOnFocusIn&&n._validate(n.value)})},n._onBlur=function(e){n.props.onBlur&&n.props.onBlur(e),n.setState({isFocused:!1},function(){n.props.validateOnFocusOut&&n._validate(n.value)})},n._onRenderLabel=function(e){var t=e.label,r=e.required,s=n._classNames.subComponentStyles?n._classNames.subComponentStyles.label:void 0;return t?i.createElement(o.a,{required:r,htmlFor:n._id,styles:s,disabled:e.disabled,id:n._labelId},e.label):null},n._onRenderDescription=function(e){return e.description?i.createElement("span",{className:n._classNames.description},e.description):null},n._onInputChange=function(e){var t,r=e.target.value;void 0!==r&&r!==n._lastChangeValue&&(n._lastChangeValue=r,e.persist(),n.setState(function(e,i){var o=d(i,e)||"";return(t=r===o)?null:n._isControlled?null:{uncontrolledValue:r}},function(){var i=n.props.onChange;!t&&i&&i(e,r)}))},Object(a._2)(n),n._async=new a.a(n),n._fallbackId=Object(a.L)(l),n._descriptionId=Object(a.L)(l+"Description"),n._labelId=Object(a.L)(l+"Label"),n._warnControlledUsage();var r=t.defaultValue,s=void 0===r?u:r;return"number"===typeof s&&(s=String(s)),n.state={uncontrolledValue:n._isControlled?void 0:s,isFocused:!1,errorMessage:""},n._delayedValidate=n._async.debounce(n._validate,n.props.deferredValidationTime),n._lastValidation=0,n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return d(this.props,this.state)},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this._adjustInputHeight(),this.props.validateOnLoad&&this._validate(this.value)},t.prototype.componentWillUnmount=function(){this._async.dispose()},t.prototype.getSnapshotBeforeUpdate=function(e,t){return{selection:[this.selectionStart,this.selectionEnd]}},t.prototype.componentDidUpdate=function(e,t,n){var r=this.props,i=(n||{}).selection,o=void 0===i?[null,null]:i,s=o[0],a=o[1];!!e.multiline!==!!r.multiline&&t.isFocused&&(this.focus(),null!==s&&null!==a&&s>=0&&a>=0&&this.setSelectionRange(s,a));var c=d(e,t),u=this.value;c!==u&&(this._warnControlledUsage(e),this.state.errorMessage&&!r.errorMessage&&this.setState({errorMessage:""}),this._adjustInputHeight(),this._lastChangeValue=void 0,p(r)&&this._delayedValidate(u))},t.prototype.render=function(){var e=this.props,t=e.borderless,n=e.className,o=e.disabled,u=e.iconProps,l=e.inputClassName,h=e.label,d=e.multiline,p=e.required,f=e.underlined,m=e.prefix,g=e.resizable,b=e.suffix,v=e.theme,y=e.styles,S=e.autoAdjustHeight,_=e.onRenderPrefix,w=void 0===_?this._onRenderPrefix:_,C=e.onRenderSuffix,k=void 0===C?this._onRenderSuffix:C,x=e.onRenderLabel,O=void 0===x?this._onRenderLabel:x,I=e.onRenderDescription,T=void 0===I?this._onRenderDescription:I,E=this.state.isFocused,N=this._errorMessage;return this._classNames=c(y,{theme:v,className:n,disabled:o,focused:E,required:p,multiline:d,hasLabel:!!h,hasErrorMessage:!!N,borderless:t,resizable:g,hasIcon:!!u,underlined:f,inputClassName:l,autoAdjustHeight:S}),i.createElement("div",{className:this._classNames.root},i.createElement("div",{className:this._classNames.wrapper},O(this.props,this._onRenderLabel),i.createElement("div",{className:this._classNames.fieldGroup},(void 0!==m||this.props.onRenderPrefix)&&i.createElement("div",{className:this._classNames.prefix},w(this.props,this._onRenderPrefix)),d?this._renderTextArea():this._renderInput(),u&&i.createElement(s.b,Object(r.a)({className:this._classNames.icon},u)),(void 0!==b||this.props.onRenderSuffix)&&i.createElement("div",{className:this._classNames.suffix},k(this.props,this._onRenderSuffix)))),this._isDescriptionAvailable&&i.createElement("span",{id:this._descriptionId},T(this.props,this._onRenderDescription),N&&i.createElement("div",{role:"alert"},i.createElement(a.d,null,i.createElement("p",{className:this._classNames.errorMessage},i.createElement("span",{"data-automation-id":"error-message"},N))))))},t.prototype.focus=function(){this._textElement.current&&this._textElement.current.focus()},t.prototype.blur=function(){this._textElement.current&&this._textElement.current.blur()},t.prototype.select=function(){this._textElement.current&&this._textElement.current.select()},t.prototype.setSelectionStart=function(e){this._textElement.current&&(this._textElement.current.selectionStart=e)},t.prototype.setSelectionEnd=function(e){this._textElement.current&&(this._textElement.current.selectionEnd=e)},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._textElement.current?this._textElement.current.selectionStart:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._textElement.current?this._textElement.current.selectionEnd:-1},enumerable:!0,configurable:!0}),t.prototype.setSelectionRange=function(e,t){this._textElement.current&&this._textElement.current.setSelectionRange(e,t)},t.prototype._warnControlledUsage=function(e){Object(a._28)({componentId:this._id,componentName:l,props:this.props,oldProps:e,valueProp:"value",defaultValueProp:"defaultValue",onChangeProp:"onChange",readOnlyProp:"readOnly"}),null!==this.props.value||this._hasWarnedNullValue||(this._hasWarnedNullValue=!0,Object(a._26)("Warning: 'value' prop on '"+l+"' should not be null. Consider using an empty string to clear the component or undefined to indicate an uncontrolled component."))},Object.defineProperty(t.prototype,"_id",{get:function(){return this.props.id||this._fallbackId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isControlled",{get:function(){return Object(a._4)(this.props,"value")},enumerable:!0,configurable:!0}),t.prototype._onRenderPrefix=function(e){var t=e.prefix;return i.createElement("span",{style:{paddingBottom:"1px"}},t)},t.prototype._onRenderSuffix=function(e){var t=e.suffix;return i.createElement("span",{style:{paddingBottom:"1px"}},t)},Object.defineProperty(t.prototype,"_errorMessage",{get:function(){var e=this.props.errorMessage;return(void 0===e?this.state.errorMessage:e)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isDescriptionAvailable",{get:function(){var e=this.props;return!!(e.onRenderDescription||e.description||this._errorMessage)},enumerable:!0,configurable:!0}),t.prototype._renderTextArea=function(){var e=Object(a.P)(this.props,a._22,["defaultValue"]),t=this.props["aria-labelledby"]||(this.props.label?this._labelId:void 0);return i.createElement("textarea",Object(r.a)({id:this._id},e,{ref:this._textElement,value:this.value||"",onInput:this._onInputChange,onChange:this._onInputChange,className:this._classNames.field,"aria-labelledby":t,"aria-describedby":this._isDescriptionAvailable?this._descriptionId:this.props["aria-describedby"],"aria-invalid":!!this._errorMessage,"aria-label":this.props.ariaLabel,readOnly:this.props.readOnly,onFocus:this._onFocus,onBlur:this._onBlur}))},t.prototype._renderInput=function(){var e=Object(a.P)(this.props,a._3,["defaultValue"]),t=this.props["aria-labelledby"]||(this.props.label?this._labelId:void 0);return i.createElement("input",Object(r.a)({type:"text",id:this._id,"aria-labelledby":t},e,{ref:this._textElement,value:this.value||"",onInput:this._onInputChange,onChange:this._onInputChange,className:this._classNames.field,"aria-label":this.props.ariaLabel,"aria-describedby":this._isDescriptionAvailable?this._descriptionId:this.props["aria-describedby"],"aria-invalid":!!this._errorMessage,readOnly:this.props.readOnly,onFocus:this._onFocus,onBlur:this._onBlur}))},t.prototype._validate=function(e){var t=this;if(this._latestValidateValue!==e||!p(this.props)){this._latestValidateValue=e;var n=this.props.onGetErrorMessage,r=n&&n(e||"");if(void 0!==r)if("string"!==typeof r&&"then"in r){var i=++this._lastValidation;r.then(function(n){i===t._lastValidation&&t.setState({errorMessage:n}),t._notifyAfterValidate(e,n)})}else this.setState({errorMessage:r}),this._notifyAfterValidate(e,r);else this._notifyAfterValidate(e,"")}},t.prototype._notifyAfterValidate=function(e,t){e===this.value&&this.props.onNotifyValidationResult&&this.props.onNotifyValidationResult(t,e)},t.prototype._adjustInputHeight=function(){if(this._textElement.current&&this.props.autoAdjustHeight&&this.props.multiline){var e=this._textElement.current;e.style.height="",e.style.height=e.scrollHeight+"px"}},t.defaultProps={resizable:!0,deferredValidationTime:200,validateOnLoad:!0},t}(i.Component);function d(e,t){var n=e.value,r=void 0===n?t.uncontrolledValue:n;return"number"===typeof r?String(r):r}function p(e){return!(e.validateOnFocusIn||e.validateOnFocusOut)}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(2038),a=n(2672),c=n(2673),u=n(2144),l=Object(o.s)(),h=function(e){function t(t){var n=e.call(this,t)||this;return n._root=i.createRef(),n._isAdjustingSaturation=!0,n._descriptionId=Object(o.L)("ColorRectangle-description"),n._onKeyDown=function(e){var t=n.state.color,r=t.s,i=t.v,a=e.shiftKey?10:1;switch(e.which){case o.h.up:n._isAdjustingSaturation=!1,i+=a;break;case o.h.down:n._isAdjustingSaturation=!1,i-=a;break;case o.h.left:n._isAdjustingSaturation=!0,r-=a;break;case o.h.right:n._isAdjustingSaturation=!0,r+=a;break;default:return}n._updateColor(e,Object(c.a)(t,Object(u.a)(r,s.e),Object(u.a)(i,s.f)))},n._onMouseDown=function(e){n._events.on(window,"mousemove",n._onMouseMove,!0),n._events.on(window,"mouseup",n._disableEvents,!0),n._onMouseMove(e)},n._onMouseMove=function(e){if(n._root.current){var t=function(e,t,n){var r=n.getBoundingClientRect(),i=(e.clientX-r.left)/r.width,o=(e.clientY-r.top)/r.height;return Object(c.a)(t,Object(u.a)(Math.round(i*s.e),s.e),Object(u.a)(Math.round(s.f-o*s.f),s.f))}(e,n.state.color,n._root.current);t&&n._updateColor(e,t)}},n._disableEvents=function(){n._events.off()},Object(o._2)(n),n._events=new o.e(n),n.state={color:t.color},n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"color",{get:function(){return this.state.color},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e,t){e!==this.props&&this.props.color&&this.setState({color:this.props.color})},t.prototype.componentWillUnmount=function(){this._events.dispose()},t.prototype.render=function(){var e=this.props,t=e.minSize,n=e.theme,r=e.className,o=e.styles,c=e.ariaValueFormat,u=e.ariaLabel,h=e.ariaDescription,d=this.state.color,p=l(o,{theme:n,className:r,minSize:t}),f=c.replace("{0}",String(d.s)).replace("{1}",String(d.v));return i.createElement("div",{ref:this._root,tabIndex:0,className:p.root,style:{backgroundColor:Object(a.a)(d)},onMouseDown:this._onMouseDown,onKeyDown:this._onKeyDown,role:"slider","aria-valuetext":f,"aria-valuenow":this._isAdjustingSaturation?d.s:d.v,"aria-valuemin":0,"aria-valuemax":s.f,"aria-label":u,"aria-describedby":this._descriptionId,"data-is-focusable":!0},i.createElement("div",{className:p.description,id:this._descriptionId},h),i.createElement("div",{className:p.light}),i.createElement("div",{className:p.dark}),i.createElement("div",{className:p.thumb,style:{left:d.s+"%",top:s.f-d.v+"%",backgroundColor:d.str}}))},t.prototype._updateColor=function(e,t){var n=this.props.onChange,r=this.state.color;t.s===r.s&&t.v===r.v||(n&&n(e,t),e.defaultPrevented||(this.setState({color:t}),e.preventDefault()))},t.defaultProps={minSize:220,ariaLabel:"Saturation and brightness",ariaValueFormat:"Saturation {0} brightness {1}",ariaDescription:"Use left and right arrow keys to set saturation. Use up and down arrow keys to set brightness."},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r,i,o=n(1),s=n(0),a=(n.n(s),n(2666)),c=n(2),u=n(258),l=n(754),h=n(106),d=n(73),p=n(5448),f=n(5449),m=n(90),g=n(735),b=n(756);!function(e){e[e.backward=-1]="backward",e[e.none=0]="none",e[e.forward=1]="forward"}(r||(r={})),function(e){e[e.clearAll=-2]="clearAll",e[e.default=-1]="default"}(i||(i={}));var v=250,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.d)(t,e),t.prototype.render=function(){return this.props.render()},t.prototype.shouldComponentUpdate=function(e){return!Object(c._19)(Object(o.a)(Object(o.a)({},this.props),{render:void 0}),Object(o.a)(Object(o.a)({},e),{render:void 0}))},t}(s.Component),S="ComboBox",_=function(e){function t(t){var n=e.call(this,t)||this;n._root=s.createRef(),n._autofill=s.createRef(),n._comboBoxWrapper=s.createRef(),n._comboBoxMenu=s.createRef(),n._selectedElement=s.createRef(),n.focus=function(e,t){n._autofill.current&&(t?Object(c.E)(n._autofill.current):n._autofill.current.focus(),e&&n.setState({isOpen:!0}))},n.dismissMenu=function(){n.state.isOpen&&n.setState({isOpen:!1})},n._onUpdateValueInAutofillWillReceiveProps=function(){var e=n._autofill.current;if(!e)return null;if(null===e.value||void 0===e.value)return null;var t=n._normalizeToString(n._currentVisibleValue);return e.value!==t?t||"":e.value},n._onShouldSelectFullInputValueInAutofillComponentDidUpdate=function(){return n._currentVisibleValue===n.state.suggestedDisplayValue},n._getVisibleValue=function(){var e=n.props,t=e.text,r=e.allowFreeform,i=e.autoComplete,o=n.state,s=o.selectedIndices,a=o.currentPendingValueValidIndex,c=o.currentOptions,u=o.currentPendingValue,l=o.suggestedDisplayValue,h=o.isOpen,d=o.focused,p=n._indexWithinBounds(c,a);if((!h||!p)&&t&&(null===u||void 0===u))return t;if(n.props.multiSelect){if(d){var f=-1;return"on"===i&&p&&(f=a),n._getPendingString(u,c,f)}return n._getMultiselectDisplayString(s,c,l)}f=n._getFirstSelectedIndex();return r?("on"===i&&p&&(f=a),n._getPendingString(u,c,f)):p&&"on"===i?(f=a,n._normalizeToString(u)):!n.state.isOpen&&u?n._indexWithinBounds(c,f)?u:n._normalizeToString(l):n._indexWithinBounds(c,f)?c[f].text:n._normalizeToString(l)},n._onInputChange=function(e){n.props.disabled?n._handleInputWhenDisabled(null):n.props.allowFreeform?n._processInputChangeWithFreeform(e):n._processInputChangeWithoutFreeform(e)},n._select=function(){if(n._autofill.current&&n._autofill.current.inputElement&&n._autofill.current.inputElement.select(),!n.state.focused){var e={focused:!0};!n.props.openOnKeyboardFocus||n.state.isOpen||n.props.disabled||(e.isOpen=!0),n.setState(e)}},n._onResolveOptions=function(){if(n.props.onResolveOptions){var e=n.props.onResolveOptions(Object(o.f)(n.state.currentOptions));if(Array.isArray(e))n.setState({currentOptions:e});else if(e&&e.then){var t=n._currentPromise=e;t.then(function(e){t===n._currentPromise&&n.setState({currentOptions:e})})}}},n._onBlur=function(e){var t=e.relatedTarget;if(null===e.relatedTarget&&(t=document.activeElement),t&&(n._root.current&&n._root.current.contains(t)||n._comboBoxMenu.current&&(n._comboBoxMenu.current.contains(t)||Object(c.B)(n._comboBoxMenu.current,function(e){return e===t}))))return e.preventDefault(),void e.stopPropagation();n.state.focused&&(n.setState({focused:!1}),n.props.multiSelect&&!n.props.allowFreeform||n._submitPendingValue(e))},n._onRenderContainer=function(e){var t=e.onRenderList,r=e.calloutProps,i=e.dropdownWidth,a=e.dropdownMaxWidth,l=e.onRenderUpperContent,h=void 0===l?n._onRenderUpperContent:l,p=e.onRenderLowerContent,f=void 0===p?n._onRenderLowerContent:p,m=e.useComboBoxAsMenuWidth,g=e.persistMenu,b=e.shouldRestoreFocus,v=void 0===b||b,y=n.state.isOpen,S=m&&n._comboBoxWrapper.current?n._comboBoxWrapper.current.clientWidth+2:void 0;return s.createElement(u.a,Object(o.a)({isBeakVisible:!1,gapSpace:0,doNotLayer:!1,directionalHint:d.a.bottomLeftEdge,directionalHintFixed:!1},r,{onLayerMounted:n._onLayerMounted,className:Object(c.t)(n._classNames.callout,r?r.className:void 0),target:n._comboBoxWrapper.current,onDismiss:n._onDismiss,onMouseDown:n._onCalloutMouseDown,onScroll:n._onScroll,setInitialFocus:!1,calloutWidth:m&&n._comboBoxWrapper.current?S&&S:i,calloutMaxWidth:a||S,hidden:g?!y:void 0,shouldRestoreFocus:v}),h(n.props,n._onRenderUpperContent),s.createElement("div",{className:n._classNames.optionsContainerWrapper,ref:n._comboBoxMenu},t(Object(o.a)({},e),n._onRenderList)),f(n.props,n._onRenderLowerContent))},n._onLayerMounted=function(){n._onCalloutLayerMounted(),n.props.calloutProps&&n.props.calloutProps.onLayerMounted&&n.props.calloutProps.onLayerMounted()},n._onRenderLabel=function(e){var t=e.props,r=t.label,i=t.disabled,o=t.required;return r?s.createElement(g.a,{id:n._id+"-label",disabled:i,required:o,className:n._classNames.label},r,e.multiselectAccessibleText&&s.createElement("span",{className:n._classNames.screenReaderText},e.multiselectAccessibleText)):null},n._onRenderList=function(e){var t=e.onRenderItem,r=e.options,i=n._id;return s.createElement("div",{id:i+"-list",className:n._classNames.optionsContainer,"aria-labelledby":i+"-label",role:"listbox"},r.map(function(e){return t(e,n._onRenderItem)}))},n._onRenderItem=function(e){switch(e.itemType){case b.a.Divider:return n._renderSeparator(e);case b.a.Header:return n._renderHeader(e);default:return n._renderOption(e)}},n._onRenderLowerContent=function(){return null},n._onRenderUpperContent=function(){return null},n._renderOption=function(e){var t=n.props.onRenderOption,r=void 0===t?n._onRenderOptionContent:t,i=n._id,o=n._isOptionSelected(e.index),a=n._isOptionChecked(e.index),c=n._getCurrentOptionStyles(e),u=Object(f.b)(n._getCurrentOptionStyles(e)),d=n._getPreviewText(e),p=function(){return r(e,n._onRenderOptionContent)};return s.createElement(y,{key:e.key,index:e.index,disabled:e.disabled,isSelected:o,isChecked:a,text:e.text,render:function(){return n.props.multiSelect?s.createElement(l.a,{id:i+"-list"+e.index,ariaLabel:n._getPreviewText(e),key:e.key,"data-index":e.index,styles:c,className:"ms-ComboBox-option","data-is-focusable":!0,onChange:n._onItemClick(e),label:e.text,role:"option",checked:a,title:d,disabled:e.disabled,onRenderLabel:p,inputProps:{"aria-selected":o?"true":"false"}}):s.createElement(h.e,{id:i+"-list"+e.index,key:e.key,"data-index":e.index,styles:c,checked:o,className:"ms-ComboBox-option",onClick:n._onItemClick(e),onMouseEnter:n._onOptionMouseEnter.bind(n,e.index),onMouseMove:n._onOptionMouseMove.bind(n,e.index),onMouseLeave:n._onOptionMouseLeave,role:"option","aria-selected":o?"true":"false",ariaLabel:n._getPreviewText(e),disabled:e.disabled,title:d},s.createElement("span",{className:u.optionTextWrapper,ref:o?n._selectedElement:void 0},r(e,n._onRenderOptionContent)))},data:e.data})},n._onCalloutMouseDown=function(e){e.preventDefault()},n._onScroll=function(){n._isScrollIdle||void 0===n._scrollIdleTimeoutId?n._isScrollIdle=!1:(n._async.clearTimeout(n._scrollIdleTimeoutId),n._scrollIdleTimeoutId=void 0),n._scrollIdleTimeoutId=n._async.setTimeout(function(){n._isScrollIdle=!0},v)},n._onRenderOptionContent=function(e){var t=Object(f.b)(n._getCurrentOptionStyles(e));return s.createElement("span",{className:t.optionText},e.text)},n._onDismiss=function(){var e=n.props.onMenuDismiss;e&&e(),n.props.persistMenu&&n._onCalloutLayerMounted(),n._setOpenStateAndFocusOnClose(!1,!1),n._resetSelectedIndex()},n._onAfterClearPendingInfo=function(){n._processingClearPendingInfo=!1},n._onInputKeyDown=function(e){var t=n.props,o=t.disabled,s=t.allowFreeform,a=t.autoComplete,u=n.state,l=u.isOpen,h=u.currentOptions,d=u.currentPendingValueValidIndexOnHover;if(n._lastKeyDownWasAltOrMeta=n._isAltOrMeta(e),o)n._handleInputWhenDisabled(e);else{var p=n._getPendingSelectedIndex(!1);switch(e.which){case c.h.enter:n._autofill.current&&n._autofill.current.inputElement&&n._autofill.current.inputElement.select(),n._submitPendingValue(e),n.props.multiSelect&&l?n.setState({currentPendingValueValidIndex:p}):(l||(!s||void 0===n.state.currentPendingValue||null===n.state.currentPendingValue||n.state.currentPendingValue.length<=0)&&n.state.currentPendingValueValidIndex<0)&&n.setState({isOpen:!l});break;case c.h.tab:return n.props.multiSelect||n._submitPendingValue(e),void(l&&n._setOpenStateAndFocusOnClose(!l,!1));case c.h.escape:if(n._resetSelectedIndex(),!l)return;n.setState({isOpen:!1});break;case c.h.up:if(d===i.clearAll&&(p=n.state.currentOptions.length),e.altKey||e.metaKey){if(l){n._setOpenStateAndFocusOnClose(!l,!0);break}return}n._setPendingInfoFromIndexAndDirection(p,r.backward);break;case c.h.down:e.altKey||e.metaKey?n._setOpenStateAndFocusOnClose(!0,!0):(d===i.clearAll&&(p=-1),n._setPendingInfoFromIndexAndDirection(p,r.forward));break;case c.h.home:case c.h.end:if(s)return;p=-1;var f=r.forward;e.which===c.h.end&&(p=h.length,f=r.backward),n._setPendingInfoFromIndexAndDirection(p,f);break;case c.h.space:if(!s&&"off"===a)break;default:if(e.which>=112&&e.which<=123)return;if(e.keyCode===c.h.alt||"Meta"===e.key)return;if(!s&&"on"===a){n._onInputChange(e.key);break}return}e.stopPropagation(),e.preventDefault()}},n._onInputKeyUp=function(e){var t=n.props,r=t.disabled,i=t.allowFreeform,o=t.autoComplete,s=n.state.isOpen,a=n._lastKeyDownWasAltOrMeta&&n._isAltOrMeta(e);n._lastKeyDownWasAltOrMeta=!1;var u=a&&!(Object(c._8)()||Object(c._7)());if(r)n._handleInputWhenDisabled(e);else switch(e.which){case c.h.space:return void(i||"off"!==o||n._setOpenStateAndFocusOnClose(!s,!!s));default:return void(u&&s&&n._setOpenStateAndFocusOnClose(!s,!0))}},n._onOptionMouseLeave=function(){n._shouldIgnoreMouseEvent()||n.props.persistMenu&&!n.state.isOpen||n.setState({currentPendingValueValidIndexOnHover:i.clearAll})},n._onComboBoxClick=function(){var e=n.props.disabled,t=n.state.isOpen;e||(n._setOpenStateAndFocusOnClose(!t,!1),n.setState({focused:!0}))},n._onAutofillClick=function(){var e=n.props,t=e.disabled;e.allowFreeform&&!t?n.focus(n.state.isOpen||n._processingTouch):n._onComboBoxClick()},n._onTouchStart=function(){!n._comboBoxWrapper.current||"onpointerdown"in n._comboBoxWrapper||n._handleTouchAndPointerEvent()},n._onPointerDown=function(e){"touch"===e.pointerType&&(n._handleTouchAndPointerEvent(),e.preventDefault(),e.stopImmediatePropagation())},Object(c._2)(n),n._async=new c.a(n),n._events=new c.e(n),Object(c._30)(S,t,{defaultSelectedKey:"selectedKey",text:"defaultSelectedKey",selectedKey:"value",dropdownWidth:"useComboBoxAsMenuWidth"}),n._id=t.id||Object(c.L)("ComboBox");var a=n._buildDefaultSelectedKeys(t.defaultSelectedKey,t.selectedKey);n._isScrollIdle=!0,n._processingTouch=!1,n._gotMouseMove=!1,n._processingClearPendingInfo=!1;var p=n._getSelectedIndices(t.options,a);return n.state={isOpen:!1,selectedIndices:p,focused:!1,suggestedDisplayValue:void 0,currentOptions:n.props.options,currentPendingValueValidIndex:-1,currentPendingValue:void 0,currentPendingValueValidIndexOnHover:i.default},n}return Object(o.d)(t,e),Object.defineProperty(t.prototype,"selectedOptions",{get:function(){var e=this.state,t=e.currentOptions,n=e.selectedIndices;return Object(b.b)(t,n)},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this._comboBoxWrapper.current&&(this._events.on(this._comboBoxWrapper.current,"focus",this._onResolveOptions,!0),"onpointerdown"in this._comboBoxWrapper.current&&this._events.on(this._comboBoxWrapper.current,"pointerdown",this._onPointerDown,!0))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){if(e.selectedKey!==this.props.selectedKey||e.text!==this.props.text||e.options!==this.props.options){var t=this._buildSelectedKeys(e.selectedKey),n=this._getSelectedIndices(e.options,t);this.setState({selectedIndices:n,currentOptions:e.options}),null===e.selectedKey&&this.setState({suggestedDisplayValue:void 0})}},t.prototype.componentDidUpdate=function(e,t){var n=this,r=this.props,i=r.allowFreeform,o=r.text,s=r.onMenuOpen,a=r.onMenuDismissed,c=this.state,u=c.isOpen,l=c.focused,h=c.selectedIndices,d=c.currentPendingValueValidIndex;!u||t.isOpen&&t.currentPendingValueValidIndex===d||this._async.setTimeout(function(){return n._scrollIntoView()},0),l&&(u||t.isOpen&&!u&&this._focusInputAfterClose&&this._autofill.current&&document.activeElement!==this._autofill.current.inputElement)&&this.focus(void 0,!0),this._focusInputAfterClose&&(t.isOpen&&!u||l&&(!u&&!this.props.multiSelect&&t.selectedIndices&&h&&t.selectedIndices[0]!==h[0]||!i||o!==e.text))&&this._select(),this._notifyPendingValueChanged(t),u&&!t.isOpen&&s&&s(),!u&&t.isOpen&&a&&a()},t.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},t.prototype.render=function(){var e=this,t=this._id,n=t+"-error",r=this.props,i=r.className,u=r.label,l=r.disabled,d=r.ariaLabel,g=r.ariaDescribedBy,b=r.required,v=r.errorMessage,y=r.onRenderContainer,S=void 0===y?this._onRenderContainer:y,_=r.onRenderLabel,w=void 0===_?this._onRenderLabel:_,C=r.onRenderList,k=void 0===C?this._onRenderList:C,x=r.onRenderItem,O=void 0===x?this._onRenderItem:x,I=r.onRenderOption,T=void 0===I?this._onRenderOptionContent:I,E=r.allowFreeform,N=r.buttonIconProps,M=r.isButtonAriaHidden,P=void 0===M||M,j=r.styles,D=r.theme,R=r.title,L=r.keytipProps,A=r.placeholder,F=r.tabIndex,B=r.autofill,q=r.persistMenu,z=r.iconButtonProps,W=r.multiSelect,H=this.state,V=H.isOpen,U=H.focused,$=H.suggestedDisplayValue;this._currentVisibleValue=this._getVisibleValue();var K=W?this._getMultiselectDisplayString(this.state.selectedIndices,this.state.currentOptions,$):void 0,G=Object(c.P)(this.props,c.w,["onChange","value"]),Y=!!(v&&v.length>0),J=U&&this.props.multiSelect&&K?K:A;return this._classNames=this.props.getClassNames?this.props.getClassNames(D,!!V,!!l,!!b,!!U,!!E,!!Y,i):Object(f.a)(Object(p.c)(D,j),i,!!V,!!l,!!b,!!U,!!E,!!Y),s.createElement("div",Object(o.a)({},G,{ref:this._root,className:this._classNames.container}),w({props:this.props,multiselectAccessibleText:K},this._onRenderLabel),s.createElement(m.a,{keytipProps:L,disabled:l},function(r){return s.createElement("div",{"data-ktp-target":r["data-ktp-target"],ref:e._comboBoxWrapper,id:t+"wrapper",className:e._classNames.root},s.createElement(a.a,Object(o.a)({"data-ktp-execute-target":r["data-ktp-execute-target"],"data-is-interactable":!l,componentRef:e._autofill,id:t+"-input",className:e._classNames.input,type:"text",onFocus:e._select,onBlur:e._onBlur,onKeyDown:e._onInputKeyDown,onKeyUp:e._onInputKeyUp,onClick:e._onAutofillClick,onTouchStart:e._onTouchStart,onInputValueChange:e._onInputChange,"aria-expanded":V,"aria-autocomplete":e._getAriaAutoCompleteValue(),role:"combobox",readOnly:l||!E,"aria-labelledby":u&&t+"-label","aria-label":d&&!u?d:void 0,"aria-describedby":void 0!==v?Object(c._11)(g,r["aria-describedby"],n):Object(c._11)(g,r["aria-describedby"]),"aria-activedescendant":e._getAriaActiveDescentValue(),"aria-required":b,"aria-disabled":l,"aria-owns":V?t+"-list":void 0,spellCheck:!1,defaultVisibleValue:e._currentVisibleValue,suggestedDisplayValue:$,updateValueInWillReceiveProps:e._onUpdateValueInAutofillWillReceiveProps,shouldSelectFullInputValueInComponentDidUpdate:e._onShouldSelectFullInputValueInAutofillComponentDidUpdate,title:R,preventValueSelection:!U,placeholder:J,tabIndex:F},B)),s.createElement(h.g,Object(o.a)({className:"ms-ComboBox-CaretDown-button",styles:e._getCaretButtonStyles(),role:"presentation","aria-hidden":P,"data-is-focusable":!1,tabIndex:-1,onClick:e._onComboBoxClick,onBlur:e._onBlur,iconProps:N,disabled:l,checked:V},z)))}),(q||V)&&S(Object(o.a)(Object(o.a)({},this.props),{onRenderList:k,onRenderItem:O,onRenderOption:T,options:this.state.currentOptions.map(function(e,t){return Object(o.a)(Object(o.a)({},e),{index:t})}),onDismiss:this._onDismiss}),this._onRenderContainer),s.createElement("div",{role:"region","aria-live":"polite","aria-atomic":"true",id:n,className:Y?this._classNames.errorMessage:""},void 0!==v?v:""))},t.prototype._getPendingString=function(e,t,n){return null!==e&&void 0!==e?e:this._indexWithinBounds(t,n)?t[n].text:""},t.prototype._getMultiselectDisplayString=function(e,t,n){for(var r=[],i=0;e&&i<e.length;i++){var o=e[i];r.push(this._indexWithinBounds(t,o)?t[o].text:this._normalizeToString(n))}var s="";for(i=0;i<r.length;i++)i>0&&(s+=", "),s+=r[i];return s},t.prototype._indexWithinBounds=function(e,t){return!!e&&(t>=0&&t<e.length)},t.prototype._processInputChangeWithFreeform=function(e){var t=this,n=this.state.currentOptions,r=-1;if(""===e)return 1===(s=n.map(function(e,t){return Object(o.a)(Object(o.a)({},e),{index:t})}).filter(function(e){return e.itemType!==b.a.Header&&e.itemType!==b.a.Divider}).filter(function(n){return t._getPreviewText(n)===e})).length&&(r=s[0].index),void this._setPendingInfo(e,r,e);var i=e;e=e.toLocaleLowerCase();var s,a="";if("on"===this.props.autoComplete){if((s=n.map(function(e,t){return Object(o.a)(Object(o.a)({},e),{index:t})}).filter(function(e){return e.itemType!==b.a.Header&&e.itemType!==b.a.Divider}).filter(function(n){return 0===t._getPreviewText(n).toLocaleLowerCase().indexOf(e)})).length>0){var c=this._getPreviewText(s[0]);a=c.toLocaleLowerCase()!==e?c:"",r=s[0].index}}else 1===(s=n.map(function(e,t){return Object(o.a)(Object(o.a)({},e),{index:t})}).filter(function(e){return e.itemType!==b.a.Header&&e.itemType!==b.a.Divider}).filter(function(n){return t._getPreviewText(n).toLocaleLowerCase()===e})).length&&(r=s[0].index);this._setPendingInfo(i,r,a)},t.prototype._processInputChangeWithoutFreeform=function(e){var t=this,n=this.state,r=n.currentPendingValue,i=n.currentPendingValueValidIndex,s=n.currentOptions;if("on"===this.props.autoComplete&&""!==e){void 0!==this._lastReadOnlyAutoCompleteChangeTimeoutId&&(this._async.clearTimeout(this._lastReadOnlyAutoCompleteChangeTimeoutId),this._lastReadOnlyAutoCompleteChangeTimeoutId=void 0,e=this._normalizeToString(r)+e);var a=e;e=e.toLocaleLowerCase();var c=s.map(function(e,t){return Object(o.a)(Object(o.a)({},e),{index:t})}).filter(function(e){return e.itemType!==b.a.Header&&e.itemType!==b.a.Divider}).filter(function(t){return 0===t.text.toLocaleLowerCase().indexOf(e)});return c.length>0&&this._setPendingInfo(a,c[0].index,this._getPreviewText(c[0])),void(this._lastReadOnlyAutoCompleteChangeTimeoutId=this._async.setTimeout(function(){t._lastReadOnlyAutoCompleteChangeTimeoutId=void 0},1e3))}var u=i>=0?i:this._getFirstSelectedIndex();this._setPendingInfoFromIndex(u)},t.prototype._getFirstSelectedIndex=function(){return this.state.selectedIndices&&this.state.selectedIndices.length>0?this.state.selectedIndices[0]:-1},t.prototype._getNextSelectableIndex=function(e,t){var n=this.state.currentOptions,i=e+t;if(i=Math.max(0,Math.min(n.length-1,i)),!this._indexWithinBounds(n,i))return-1;var o=n[i];if(o.itemType===b.a.Header||o.itemType===b.a.Divider||!0===o.hidden){if(t===r.none||!(i>0&&t<r.none||i>=0&&i<n.length&&t>r.none))return e;i=this._getNextSelectableIndex(i,t)}return i},t.prototype._setSelectedIndex=function(e,t,n){var i=this;void 0===n&&(n=r.none);var s=this.props,a=s.onChange,c=s.onPendingValueChanged,u=this.state.currentOptions,l=this.state.selectedIndices,h=l?l.slice():[];if(e=this._getNextSelectableIndex(e,n),this._indexWithinBounds(u,e)){if(this.props.multiSelect||h.length<1||1===h.length&&h[0]!==e){var d=Object(o.a)({},u[e]);if(!d||d.disabled)return;if(this.props.multiSelect?(d.selected=void 0!==d.selected?!d.selected:h.indexOf(e)<0,d.selected&&h.indexOf(e)<0?h.push(e):!d.selected&&h.indexOf(e)>=0&&(h=h.filter(function(t){return t!==e}))):h[0]=e,t.persist(),this.props.selectedKey||null===this.props.selectedKey)this._hasPendingValue&&c&&(c(),this._hasPendingValue=!1),a&&a(t,d,e,void 0);else{var p=u.slice();p[e]=d,this.setState({selectedIndices:h,currentOptions:p},function(){i._hasPendingValue&&c&&(c(),i._hasPendingValue=!1),a&&a(t,d,e,void 0)})}}this.props.multiSelect&&this.state.isOpen||this._clearPendingInfo()}},t.prototype._submitPendingValue=function(e){var t=this.props,n=t.onChange,r=t.allowFreeform,i=t.autoComplete,o=this.state,s=o.currentPendingValue,a=o.currentPendingValueValidIndex,u=o.currentOptions,l=o.currentPendingValueValidIndexOnHover,h=this.state.selectedIndices;if(!this._processingClearPendingInfo){if(r){if(null===s||void 0===s)return void(l>=0&&(this._setSelectedIndex(l,e),this._clearPendingInfo()));if(this._indexWithinBounds(u,a)){var d=this._getPreviewText(u[a]).toLocaleLowerCase();if(s.toLocaleLowerCase()===d||i&&0===d.indexOf(s.toLocaleLowerCase())&&this._autofill.current&&this._autofill.current.isValueSelected&&s.length+(this._autofill.current.selectionEnd-this._autofill.current.selectionStart)===d.length||this._autofill.current&&this._autofill.current.inputElement&&this._autofill.current.inputElement.value.toLocaleLowerCase()===d){if(this._setSelectedIndex(a,e),this.props.multiSelect&&this.state.isOpen)return;return void this._clearPendingInfo()}}if(n)n&&n(e,void 0,void 0,s);else{var p={key:s||Object(c.L)(),text:this._normalizeToString(s)};this.props.multiSelect&&(p.selected=!0);var f=u.concat([p]);h&&(this.props.multiSelect||(h=[]),h.push(f.length-1)),this.setState({currentOptions:f,selectedIndices:h})}}else a>=0?this._setSelectedIndex(a,e):l>=0&&this._setSelectedIndex(l,e);this._clearPendingInfo()}},t.prototype._onCalloutLayerMounted=function(){this._gotMouseMove=!1},t.prototype._renderSeparator=function(e){var t=e.index,n=e.key;return t&&t>0?s.createElement("div",{role:"separator",key:n,className:this._classNames.divider}):null},t.prototype._renderHeader=function(e){var t=this.props.onRenderOption,n=void 0===t?this._onRenderOptionContent:t;return s.createElement("div",{key:e.key,className:this._classNames.header},n(e,this._onRenderOptionContent))},t.prototype._isOptionSelected=function(e){return this.state.currentPendingValueValidIndexOnHover!==i.clearAll&&this._getPendingSelectedIndex(!0)===e},t.prototype._isOptionChecked=function(e){if(this.props.multiSelect&&void 0!==e&&this.state.selectedIndices){return this.state.selectedIndices.indexOf(e)>=0}return!1},t.prototype._getPendingSelectedIndex=function(e){var t=this.state,n=t.currentPendingValueValidIndexOnHover,r=t.currentPendingValueValidIndex,i=t.currentPendingValue;return n>=0?n:r>=0||e&&null!==i&&void 0!==i?r:this.props.multiSelect?0:this._getFirstSelectedIndex()},t.prototype._scrollIntoView=function(){var e=this.props,t=e.onScrollToItem,n=e.scrollSelectedToTop,r=this.state,i=r.currentPendingValueValidIndex,o=r.currentPendingValue;if(t)t(i>=0||""!==o?i:this._getFirstSelectedIndex());else if(this._selectedElement.current&&this._selectedElement.current.offsetParent)if(n)this._selectedElement.current.offsetParent.scrollIntoView(!0);else{var s=!0;if(this._comboBoxMenu.current&&this._comboBoxMenu.current.offsetParent){var a=this._comboBoxMenu.current.offsetParent.getBoundingClientRect(),c=this._selectedElement.current.offsetParent.getBoundingClientRect();if(a.top<=c.top&&a.top+a.height>=c.top+c.height)return;a.top+a.height<=c.top+c.height&&(s=!1)}this._selectedElement.current.offsetParent.scrollIntoView(s)}},t.prototype._onItemClick=function(e){var t=this,n=this.props.onItemClick,r=e.index;return function(i){n&&n(i,e,r),t._setSelectedIndex(r,i),t.props.multiSelect||(t._autofill.current&&t._autofill.current.focus(),t.setState({isOpen:!1}))}},t.prototype._getSelectedIndices=function(e,t){if(!e||!t)return[];var n={};e.forEach(function(e,t){e.selected&&(n[t]=!0)});for(var r=function(t){var r=Object(c.C)(e,function(e){return e.key===t});r>-1&&(n[r]=!0)},i=0,o=t;i<o.length;i++){r(o[i])}return Object.keys(n).map(Number).sort()},t.prototype._resetSelectedIndex=function(){var e=this.state.currentOptions;this._clearPendingInfo();var t=this._getFirstSelectedIndex();t>0&&t<e.length?this.setState({suggestedDisplayValue:e[t].text}):this.props.text&&this.setState({suggestedDisplayValue:this.props.text})},t.prototype._clearPendingInfo=function(){this._processingClearPendingInfo=!0,this.setState({currentPendingValue:void 0,currentPendingValueValidIndex:-1,suggestedDisplayValue:void 0,currentPendingValueValidIndexOnHover:i.default},this._onAfterClearPendingInfo)},t.prototype._setPendingInfo=function(e,t,n){void 0===t&&(t=-1),this._processingClearPendingInfo||this.setState({currentPendingValue:this._normalizeToString(e),currentPendingValueValidIndex:t,suggestedDisplayValue:n,currentPendingValueValidIndexOnHover:i.default})},t.prototype._setPendingInfoFromIndex=function(e){var t=this.state.currentOptions;if(e>=0&&e<t.length){var n=t[e];this._setPendingInfo(this._getPreviewText(n),e,this._getPreviewText(n))}else this._clearPendingInfo()},t.prototype._setPendingInfoFromIndexAndDirection=function(e,t){var n=this.state.currentOptions;t===r.forward&&e>=n.length-1?e=-1:t===r.backward&&e<=0&&(e=n.length);var i=this._getNextSelectableIndex(e,t);e===i?t===r.forward?e=this._getNextSelectableIndex(-1,t):t===r.backward&&(e=this._getNextSelectableIndex(n.length,t)):e=i,this._indexWithinBounds(n,e)&&this._setPendingInfoFromIndex(e)},t.prototype._notifyPendingValueChanged=function(e){var t=this.props.onPendingValueChanged;if(t){var n=this.state,r=n.currentPendingValue,i=n.currentOptions,o=n.currentPendingValueValidIndex,s=n.currentPendingValueValidIndexOnHover,a=void 0,c=void 0;s!==e.currentPendingValueValidIndexOnHover&&this._indexWithinBounds(i,s)?a=s:o!==e.currentPendingValueValidIndex&&this._indexWithinBounds(i,o)?a=o:r!==e.currentPendingValue&&(c=r),(void 0!==a||void 0!==c||this._hasPendingValue)&&(t(void 0!==a?i[a]:void 0,a,c),this._hasPendingValue=void 0!==a||void 0!==c)}},t.prototype._setOpenStateAndFocusOnClose=function(e,t){this._focusInputAfterClose=t,this.setState({isOpen:e})},t.prototype._isAltOrMeta=function(e){return e.which===c.h.alt||"Meta"===e.key},t.prototype._onOptionMouseEnter=function(e){this._shouldIgnoreMouseEvent()||this.setState({currentPendingValueValidIndexOnHover:e})},t.prototype._onOptionMouseMove=function(e){this._gotMouseMove=!0,this._isScrollIdle&&this.state.currentPendingValueValidIndexOnHover!==e&&this.setState({currentPendingValueValidIndexOnHover:e})},t.prototype._shouldIgnoreMouseEvent=function(){return!this._isScrollIdle||!this._gotMouseMove},t.prototype._handleInputWhenDisabled=function(e){this.props.disabled&&(this.state.isOpen&&this.setState({isOpen:!1}),null!==e&&e.which!==c.h.tab&&e.which!==c.h.escape&&(e.which<112||e.which>123)&&(e.stopPropagation(),e.preventDefault()))},t.prototype._handleTouchAndPointerEvent=function(){var e=this;void 0!==this._lastTouchTimeoutId&&(this._async.clearTimeout(this._lastTouchTimeoutId),this._lastTouchTimeoutId=void 0),this._processingTouch=!0,this._lastTouchTimeoutId=this._async.setTimeout(function(){e._processingTouch=!1,e._lastTouchTimeoutId=void 0},500)},t.prototype._getCaretButtonStyles=function(){var e=this.props.caretDownButtonStyles;return Object(p.a)(this.props.theme,e)},t.prototype._getCurrentOptionStyles=function(e){var t=this.props.comboBoxOptionStyles,n=e.styles;return Object(p.b)(this.props.theme,t,n,this._isPendingOption(e),e.hidden)},t.prototype._getAriaActiveDescentValue=function(){var e=this.state.isOpen&&this.state.selectedIndices&&this.state.selectedIndices.length>=0?this._id+"-list"+this.state.selectedIndices[0]:void 0;return this.state.isOpen&&this.state.focused&&-1!==this.state.currentPendingValueValidIndex&&(e=this._id+"-list"+this.state.currentPendingValueValidIndex),e},t.prototype._getAriaAutoCompleteValue=function(){return!this.props.disabled&&"on"===this.props.autoComplete?this.props.allowFreeform?"inline":"both":"none"},t.prototype._isPendingOption=function(e){return e&&e.index===this.state.currentPendingValueValidIndex},t.prototype._buildDefaultSelectedKeys=function(e,t){var n=this._buildSelectedKeys(e);return n.length?n:this._buildSelectedKeys(t)},t.prototype._buildSelectedKeys=function(e){return void 0===e?[]:e instanceof Array?e:[e]},t.prototype._getPreviewText=function(e){return e.useAriaLabelAsText&&e.ariaLabel?e.ariaLabel:e.text},t.prototype._normalizeToString=function(e){return e||""},t.defaultProps={options:[],allowFreeform:!1,autoComplete:"on",buttonIconProps:{iconName:"ChevronDown"}},t=Object(o.c)([Object(c.u)("ComboBox",["theme","styles"],!0)],t)}(s.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(3257),a=n(2286),c=n(258),u=n(73),l=n(2678),h=n(2406),d=n(740),p=Object(o.s)(),f={months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["S","M","T","W","T","F","S"],goToToday:"Go to today",prevMonthAriaLabel:"Go to previous month",nextMonthAriaLabel:"Go to next month",prevYearAriaLabel:"Go to previous year",nextYearAriaLabel:"Go to next year",prevYearRangeAriaLabel:"Previous year range",nextYearRangeAriaLabel:"Next year range",closeButtonAriaLabel:"Close date picker",weekNumberFormatString:"Week number {0}"},m=function(e){function t(t){var n=e.call(this,t)||this;return n._calendar=i.createRef(),n._datePickerDiv=i.createRef(),n._textField=i.createRef(),n._onSelectDate=function(e){var t=n.props,r=t.formatDate,i=t.onSelectDate;n.props.calendarProps&&n.props.calendarProps.onSelectDate&&n.props.calendarProps.onSelectDate(e),n.setState({selectedDate:e,formattedDate:r&&e?r(e):""}),i&&i(e),n._calendarDismissed()},n._onCalloutPositioned=function(){var e=!0;n.props.calloutProps&&void 0!==n.props.calloutProps.setInitialFocus&&(e=n.props.calloutProps.setInitialFocus),n._calendar.current&&e&&n._calendar.current.focus()},n._onTextFieldFocus=function(e){n.props.disableAutoFocus||n.props.allowTextInput||(n._preventFocusOpeningPicker?n._preventFocusOpeningPicker=!1:n._showDatePickerPopup())},n._onTextFieldBlur=function(e){n._validateTextInput()},n._onTextFieldChanged=function(e,t){var r=n.props,i=r.allowTextInput,o=r.textField;if(i){n.state.isDatePickerShown&&n._dismissDatePickerPopup();var s=n.props,a=s.isRequired,c=s.strings;n.setState({errorMessage:a&&!t?c.isRequiredErrorMessage||" ":void 0,formattedDate:t})}o&&o.onChange&&o.onChange(e,t)},n._onTextFieldKeyDown=function(e){switch(e.which){case o.h.enter:e.preventDefault(),e.stopPropagation(),n.state.isDatePickerShown?n.props.allowTextInput&&n._dismissDatePickerPopup():(n._validateTextInput(),n._showDatePickerPopup());break;case o.h.escape:n._handleEscKey(e)}},n._onTextFieldClick=function(e){n.props.disableAutoFocus||n.state.isDatePickerShown||n.props.disabled?n.props.allowTextInput&&n._dismissDatePickerPopup():n._showDatePickerPopup()},n._onIconClick=function(e){e.stopPropagation(),n.state.isDatePickerShown||n.props.disabled?n.props.allowTextInput&&n._dismissDatePickerPopup():n._showDatePickerPopup()},n._dismissDatePickerPopup=function(){n.state.isDatePickerShown&&n.setState({isDatePickerShown:!1},function(){n._validateTextInput()})},n._calendarDismissed=function(){n._preventFocusOpeningPicker=!0,n._dismissDatePickerPopup()},n._handleEscKey=function(e){n.state.isDatePickerShown&&e.stopPropagation(),n._calendarDismissed()},n._validateTextInput=function(){var e=n.props,t=e.isRequired,r=e.allowTextInput,i=e.strings,o=e.parseDateFromString,s=e.onSelectDate,a=e.formatDate,c=e.minDate,u=e.maxDate,l=n.state.formattedDate;if(!n.state.isDatePickerShown)if(r){var h=null;if(l){if(n.state.selectedDate&&a&&a(n.state.selectedDate)===l)return void n.setState({errorMessage:""});!(h=o(l))||isNaN(h.getTime())?(a&&(h=n.state.selectedDate,n.setState({formattedDate:a(h).toString()})),n.setState({errorMessage:i.invalidInputErrorMessage||" "})):n._isDateOutOfBounds(h,c,u)?n.setState({errorMessage:i.isOutOfBoundsErrorMessage||" "}):(n.setState({selectedDate:h,errorMessage:""}),a&&a(h)!==l&&n.setState({formattedDate:a(h).toString()}))}else n.setState({errorMessage:t?i.isRequiredErrorMessage||" ":""});s&&s(h)}else t&&!l?n.setState({errorMessage:i.isRequiredErrorMessage||" "}):n.setState({errorMessage:""})},Object(o._2)(n),n.state=n._getDefaultState(),n._id=t.id||Object(o.L)("DatePicker"),n._preventFocusOpeningPicker=!1,n}return Object(r.d)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.formatDate,n=e.value;if(!(Object(h.f)(this.props.minDate,e.minDate)&&Object(h.f)(this.props.maxDate,e.maxDate)&&this.props.isRequired===e.isRequired&&Object(h.f)(this.state.selectedDate,n)&&this.props.formatDate===t)){this._setErrorMessage(!0,e),this._id=e.id||this._id;var r=this.state.selectedDate;Object(h.f)(r,n)&&this.props.formatDate===t||this.setState({selectedDate:n||void 0,formattedDate:t&&n?t(n):""})}},t.prototype.componentDidUpdate=function(e,t){t.isDatePickerShown&&!this.state.isDatePickerShown&&this.props.onAfterMenuDismiss&&this.props.onAfterMenuDismiss()},t.prototype.render=function(){var e=this.props,t=e.firstDayOfWeek,n=e.strings,a=e.label,h=e.theme,f=e.className,m=e.styles,g=e.initialPickerDate,b=e.isRequired,v=e.disabled,y=e.ariaLabel,S=e.pickerAriaLabel,_=e.placeholder,w=e.allowTextInput,C=e.borderless,k=e.minDate,x=e.maxDate,O=e.showCloseButton,I=e.calendarProps,T=e.calloutProps,E=e.textField,N=e.underlined,M=e.allFocusable,P=e.calendarAs,j=void 0===P?s.a:P,D=e.tabIndex,R=this.state,L=R.isDatePickerShown,A=R.formattedDate,F=R.selectedDate,B=p(m,{theme:h,className:f,disabled:v,label:!!a,isDatePickerShown:L}),q=Object(o.L)("DatePicker-Callout"),z=Object(o.P)(this.props,o.w,["value"]),W=E&&E.iconProps;return i.createElement("div",Object(r.a)({},z,{className:B.root}),i.createElement("div",{ref:this._datePickerDiv,"aria-haspopup":"true","aria-owns":L?q:void 0},i.createElement(l.a,Object(r.a)({role:"combobox",label:a,"aria-expanded":L,ariaLabel:y,"aria-controls":L?q:void 0,required:b,disabled:v,errorMessage:this._getErrorMessage(),placeholder:_,borderless:C,value:A,componentRef:this._textField,underlined:N,tabIndex:D,readOnly:!w},E,{id:this._id+"-label",className:Object(o.t)(B.textField,E&&E.className),iconProps:Object(r.a)(Object(r.a)({iconName:"Calendar"},W),{className:Object(o.t)(B.icon,W&&W.className),onClick:this._onIconClick}),onKeyDown:this._onTextFieldKeyDown,onFocus:this._onTextFieldFocus,onBlur:this._onTextFieldBlur,onClick:this._onTextFieldClick,onChange:this._onTextFieldChanged}))),L&&i.createElement(c.a,Object(r.a)({id:q,role:"dialog",ariaLabel:S,isBeakVisible:!1,gapSpace:0,doNotLayer:!1,target:this._datePickerDiv.current,directionalHint:u.a.bottomLeftEdge},T,{className:Object(o.t)(B.callout,T&&T.className),onDismiss:this._calendarDismissed,onPositioned:this._onCalloutPositioned}),i.createElement(d.a,{isClickableOutsideFocusTrap:!0,disableFirstFocus:this.props.disableAutoFocus,forceFocusInsideTrap:!1},i.createElement(j,Object(r.a)({},I,{onSelectDate:this._onSelectDate,onDismiss:this._calendarDismissed,isMonthPickerVisible:this.props.isMonthPickerVisible,showMonthPickerAsOverlay:this.props.showMonthPickerAsOverlay,today:this.props.today,value:F||g,firstDayOfWeek:t,strings:n,highlightCurrentMonth:this.props.highlightCurrentMonth,highlightSelectedMonth:this.props.highlightSelectedMonth,showWeekNumbers:this.props.showWeekNumbers,firstWeekOfYear:this.props.firstWeekOfYear,showGoToToday:this.props.showGoToToday,dateTimeFormatter:this.props.dateTimeFormatter,minDate:k,maxDate:x,componentRef:this._calendar,showCloseButton:O,allFocusable:M})))))},t.prototype.focus=function(){this._textField.current&&this._textField.current.focus()},t.prototype.reset=function(){this.setState(this._getDefaultState())},t.prototype._setErrorMessage=function(e,t){var n=t||this.props,r=n.isRequired,i=n.strings,o=n.value,s=n.minDate,a=n.maxDate,c=n.initialPickerDate||!r||o?void 0:i.isRequiredErrorMessage||" ";return!c&&o&&(c=this._isDateOutOfBounds(o,s,a)?i.isOutOfBoundsErrorMessage||" ":void 0),e&&this.setState({errorMessage:c}),c},t.prototype._showDatePickerPopup=function(){this.state.isDatePickerShown||(this._preventFocusOpeningPicker=!0,this.setState({isDatePickerShown:!0}))},t.prototype._getDefaultState=function(e){return void 0===e&&(e=this.props),{selectedDate:e.value||void 0,formattedDate:e.formatDate&&e.value?e.formatDate(e.value):"",isDatePickerShown:!1,errorMessage:this._setErrorMessage(!1)}},t.prototype._isDateOutOfBounds=function(e,t,n){return!!t&&Object(h.e)(t,e)>0||!!n&&Object(h.e)(n,e)<0},t.prototype._getErrorMessage=function(){if(!this.state.isDatePickerShown)return this.state.errorMessage},t.defaultProps={allowTextInput:!1,formatDate:function(e){return e?e.toDateString():""},parseDateFromString:function(e){var t=Date.parse(e);return t?new Date(t):null},firstDayOfWeek:s.b.Sunday,initialPickerDate:new Date,isRequired:!1,isMonthPickerVisible:!0,showMonthPickerAsOverlay:!1,strings:f,highlightCurrentMonth:!1,highlightSelectedMonth:!1,borderless:!1,pickerAriaLabel:"Calendar",showWeekNumbers:!1,firstWeekOfYear:a.c.FirstDay,showGoToToday:!0,dateTimeFormatter:void 0,showCloseButton:!1,underlined:!1,allFocusable:!1},t}(i.Component)},function(e,t,n){"use strict";n(5456),n(3275),n(3281),n(3282),n(3283),n(3284),n(2679)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(2679),a=n(3276),c=n(263),u=n(3281),l=Object(o.s)(),h={isDarkOverlay:!1,isBlocking:!1,className:"",containerClassName:"",topOffsetFixed:!1},d={type:s.a.normal,className:"",topButtonsProps:[]},p=function(e){function t(t){var n=e.call(this,t)||this;return n._getSubTextId=function(){var e=n.props,t=e.ariaDescribedById,r=e.modalProps,i=e.dialogContentProps,o=e.subText,s=r&&r.subtitleAriaId||t;return s||(s=(i&&i.subText||o)&&n._defaultSubTextId),s},n._getTitleTextId=function(){var e=n.props,t=e.ariaLabelledById,r=e.modalProps,i=e.dialogContentProps,o=e.title,s=r&&r.titleAriaId||t;return s||(s=(i&&i.title||o)&&n._defaultTitleTextId),s},n._id=Object(o.L)("Dialog"),n._defaultTitleTextId=n._id+"-title",n._defaultSubTextId=n._id+"-subText",n}return Object(r.d)(t,e),t.prototype.render=function(){var e,t,n,o,s=this.props,c=s.className,p=s.containerClassName,f=s.contentClassName,m=s.elementToFocusOnDismiss,g=s.firstFocusableSelector,b=s.forceFocusInsideTrap,v=s.styles,y=s.hidden,S=s.ignoreExternalFocusing,_=s.isBlocking,w=s.isClickableOutsideFocusTrap,C=s.isDarkOverlay,k=s.isOpen,x=s.onDismiss,O=s.onDismissed,I=s.onLayerDidMount,T=s.responsiveMode,E=s.subText,N=s.theme,M=s.title,P=s.topButtonsProps,j=s.type,D=s.minWidth,R=s.maxWidth,L=s.modalProps,A=Object(r.a)({},L?L.layerProps:{onLayerDidMount:I});I&&!A.onLayerDidMount&&(A.onLayerDidMount=I),L&&L.dragOptions&&!L.dragOptions.dragHandleSelector?(n="ms-Dialog-draggable-header",o=Object(r.a)(Object(r.a)({},L.dragOptions),{dragHandleSelector:"."+n})):o=L&&L.dragOptions;var F=Object(r.a)(Object(r.a)(Object(r.a)({className:c,containerClassName:p,isBlocking:_,isDarkOverlay:C,onDismissed:O},h),L),{layerProps:A,dragOptions:o}),B=Object(r.a)(Object(r.a)(Object(r.a)({className:f,subText:E,title:M,topButtonsProps:P,type:j},d),this.props.dialogContentProps),{draggableHeaderClassName:n,titleProps:Object(r.a)({id:(null===(e=this.props.dialogContentProps)||void 0===e?void 0:e.titleId)||this._defaultTitleTextId},null===(t=this.props.dialogContentProps)||void 0===t?void 0:t.titleProps)}),q=l(v,{theme:N,className:F.className,containerClassName:F.containerClassName,hidden:y,dialogDefaultMinWidth:D,dialogDefaultMaxWidth:R});return i.createElement(a.a,Object(r.a)({elementToFocusOnDismiss:m,firstFocusableSelector:g,forceFocusInsideTrap:b,ignoreExternalFocusing:S,isClickableOutsideFocusTrap:w,onDismissed:F.onDismissed,responsiveMode:T},F,{isDarkOverlay:F.isDarkOverlay,isBlocking:F.isBlocking,isOpen:void 0!==k?k:!y,className:q.root,containerClassName:q.main,onDismiss:x||F.onDismiss,subtitleAriaId:this._getSubTextId(),titleAriaId:this._getTitleTextId()}),i.createElement(u.a,Object(r.a)({subTextId:this._defaultSubTextId,title:B.title,subText:B.subText,showCloseButton:F.isBlocking,topButtonsProps:B.topButtonsProps,type:B.type,onDismiss:x||B.onDismiss,className:B.className},B),this.props.children))},t.defaultProps={hidden:!0},t=Object(r.c)([c.b],t)}(i.Component)},function(e,t,n){"use strict";var r=n(3277);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=n(5457);n.d(t,"a",function(){return r.a});n(3278)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(416),a=n(3279),c=n(755),u=n(261),l=n(764),h=n(263),d=n(763),p=n(412),f=n(5458),m=n(23),g={eventBubblingEnabled:!1},b=Object(o.s)(),v="Modal",y=function(e){function t(t){var n=e.call(this,t)||this;n._focusTrapZone=i.createRef(),n._allowScrollOnModal=function(e){e?n._allowTouchBodyScroll?Object(o.k)(e,n._events):Object(o.l)(e,n._events):n._events.off(n._scrollableContent),n._scrollableContent=e},n._onModalContextMenuClose=function(){n.setState({isModalMenuOpen:!1})},n._onModalClose=function(){n._lastSetX=0,n._lastSetY=0,n.setState({isModalMenuOpen:!1,isInKeyboardMoveMode:!1,isOpen:!1,x:0,y:0}),n.props.dragOptions&&n._hasRegisteredKeyUp&&n._events.off(window,"keyup",n._onKeyUp,!0),n.props.onDismissed&&n.props.onDismissed()},n._onDragStart=function(){n.setState({isModalMenuOpen:!1,isInKeyboardMoveMode:!1})},n._onDrag=function(e,t){var r=n.state,i=r.x,o=r.y;n.setState({x:i+t.delta.x,y:o+t.delta.y})},n._onDragStop=function(){n.focus()},n._onKeyUp=function(e){e.altKey&&e.ctrlKey&&e.keyCode===o.h.space&&Object(o.y)(n._scrollableContent,e.target)&&(n.setState({isModalMenuOpen:!n.state.isModalMenuOpen}),e.preventDefault(),e.stopPropagation())},n._onKeyDown=function(e){if(e.altKey&&e.ctrlKey&&e.keyCode===o.h.space)return e.preventDefault(),void e.stopPropagation();if(n.state.isModalMenuOpen&&(e.altKey||e.keyCode===o.h.escape)&&n.setState({isModalMenuOpen:!1}),!n.state.isInKeyboardMoveMode||e.keyCode!==o.h.escape&&e.keyCode!==o.h.enter||(n.setState({isInKeyboardMoveMode:!1}),e.preventDefault(),e.stopPropagation()),n.state.isInKeyboardMoveMode){var t=!0,r=n._getMoveDelta(e);switch(e.keyCode){case o.h.escape:n.setState({x:n._lastSetX,y:n._lastSetY});case o.h.enter:n._lastSetX=0,n._lastSetY=0,n.setState({isInKeyboardMoveMode:!1});break;case o.h.up:n.setState({y:n.state.y-r});break;case o.h.down:n.setState({y:n.state.y+r});break;case o.h.left:n.setState({x:n.state.x-r});break;case o.h.right:n.setState({x:n.state.x+r});break;default:t=!1}t&&(e.preventDefault(),e.stopPropagation())}},n._onEnterKeyboardMoveMode=function(){n._lastSetX=n.state.x,n._lastSetY=n.state.y,n.setState({isInKeyboardMoveMode:!0,isModalMenuOpen:!1}),n._events.on(window,"keydown",n._onKeyDown,!0)},n._onExitKeyboardMoveMode=function(){n._lastSetX=0,n._lastSetY=0,n.setState({isInKeyboardMoveMode:!1}),n._events.off(window,"keydown",n._onKeyDown,!0)},n._registerForKeyUp=function(){n._hasRegisteredKeyUp||(n._events.on(window,"keyup",n._onKeyUp,!0),n._hasRegisteredKeyUp=!0)},n._async=new o.a(n),n._events=new o.e(n),Object(m._14)(n),Object(o._29)(v,t,{onLayerDidMount:"layerProps.onLayerDidMount"}),n.state={id:Object(o.L)("Modal"),isOpen:t.isOpen,isVisible:t.isOpen,hasBeenOpened:t.isOpen,x:0,y:0},n._lastSetX=0,n._lastSetY=0;var r=n.props.allowTouchBodyScroll,s=void 0!==r&&r;return n._allowTouchBodyScroll=s,n}return Object(r.d)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){if(clearTimeout(this._onModalCloseTimer),e.isOpen)if(this.state.isOpen){if(this.setState({hasBeenOpened:!0,isVisible:!0}),e.topOffsetFixed){var t=document.getElementsByClassName("ms-Dialog-main"),n=void 0;t.length>0&&(n=t[0].getBoundingClientRect(),this.setState({modalRectangleTop:n.top}))}}else this.setState({isOpen:!0}),e.dragOptions&&this._registerForKeyUp();!e.isOpen&&this.state.isOpen&&(this._onModalCloseTimer=this._async.setTimeout(this._onModalClose,1e3*parseFloat(a.a)),this.setState({isVisible:!1}))},t.prototype.componentDidMount=function(){this.state.isOpen&&this.state.isVisible&&this._registerForKeyUp()},t.prototype.componentDidUpdate=function(e,t){e.isOpen||t.isVisible||this.setState({isVisible:!0})},t.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.containerClassName,o=e.scrollableContentClassName,a=e.elementToFocusOnDismiss,m=e.firstFocusableSelector,v=e.forceFocusInsideTrap,y=e.ignoreExternalFocusing,S=e.isBlocking,_=e.isClickableOutsideFocusTrap,w=e.isDarkOverlay,C=e.onDismiss,k=e.layerProps,x=e.overlay,O=e.responsiveMode,I=e.titleAriaId,T=e.styles,E=e.subtitleAriaId,N=e.theme,M=e.topOffsetFixed,P=e.onLayerDidMount,j=e.isModeless,D=e.dragOptions,R=this.state,L=R.isOpen,A=R.isVisible,F=R.hasBeenOpened,B=R.modalRectangleTop,q=R.x,z=R.y,W=R.isInKeyboardMoveMode;if(!L)return null;var H=void 0===k?"":k.className,V=b(T,{theme:N,className:t,containerClassName:n,scrollableContentClassName:o,isOpen:L,isVisible:A,hasBeenOpened:F,modalRectangleTop:B,topOffsetFixed:M,isModeless:j,layerClassName:H,isDefaultDragHandle:D&&!D.dragHandleSelector}),U=Object(r.a)(Object(r.a)(Object(r.a)({},g),this.props.layerProps),{onLayerDidMount:k&&k.onLayerDidMount?k.onLayerDidMount:P,insertFirst:j,className:V.layer}),$=i.createElement(s.a,{componentRef:this._focusTrapZone,className:V.main,elementToFocusOnDismiss:a,isClickableOutsideFocusTrap:j||_||!S,ignoreExternalFocusing:y,forceFocusInsideTrap:j?!j:v,firstFocusableSelector:m,focusPreviouslyFocusedInnerElement:!0,onBlur:W?this._onExitKeyboardMoveMode:void 0},D&&W&&i.createElement("div",{className:V.keyboardMoveIconContainer},D.keyboardMoveIconProps?i.createElement(p.b,Object(r.a)({},D.keyboardMoveIconProps)):i.createElement(p.b,{iconName:"move",className:V.keyboardMoveIcon})),i.createElement("div",{ref:this._allowScrollOnModal,className:V.scrollableContent,"data-is-scrollable":!0},D&&this.state.isModalMenuOpen&&i.createElement(D.menu,{items:[{key:"move",text:D.moveMenuItemText,onClick:this._onEnterKeyboardMoveMode},{key:"close",text:D.closeMenuItemText,onClick:this._onModalClose}],onDismiss:this._onModalContextMenuClose,alignTargetEdge:!0,coverTarget:!0,directionalHint:d.b.topLeftEdge,directionalHintFixed:!0,shouldFocusOnMount:!0,target:this._scrollableContent}),this.props.children));return O>=h.a.small?i.createElement(u.a,Object(r.a)({},U),i.createElement(l.a,{role:j||!S?"dialog":"alertdialog","aria-modal":!j,ariaLabelledBy:I,ariaDescribedBy:E,onDismiss:C,shouldRestoreFocus:!y},i.createElement("div",{className:V.root},!j&&i.createElement(c.a,Object(r.a)({isDarkThemed:w,onClick:S?void 0:C,allowTouchBodyScroll:this._allowTouchBodyScroll},x)),D?i.createElement(f.a,{handleSelector:D.dragHandleSelector||"."+V.main.split(" ")[0],preventDragSelector:"button",onStart:this._onDragStart,onDragChange:this._onDrag,onStop:this._onDragStop,position:{x:q,y:z}},$):$))):null},t.prototype.focus=function(){this._focusTrapZone.current&&this._focusTrapZone.current.focus()},t.prototype._getMoveDelta=function(e){var t=10;return e.shiftKey?e.ctrlKey||(t=50):e.ctrlKey&&(t=1),t},t.defaultProps={isOpen:!1,isDarkOverlay:!0,isBlocking:!1,className:"",containerClassName:""},t=Object(r.c)([h.b],t)}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=n(5),i=r.c.durationValue2,o={root:"ms-Modal",main:"ms-Dialog-main",scrollableContent:"ms-Modal-scrollableContent",isOpen:"is-open",layer:"ms-Modal-Layer"},s=function(e){var t,n=e.className,s=e.containerClassName,a=e.scrollableContentClassName,c=e.isOpen,u=e.isVisible,l=e.hasBeenOpened,h=e.modalRectangleTop,d=e.theme,p=e.topOffsetFixed,f=e.isModeless,m=e.layerClassName,g=e.isDefaultDragHandle,b=d.palette,v=d.effects,y=d.fonts,S=Object(r.w)(o,d);return{root:[S.root,y.medium,{backgroundColor:"transparent",position:f?"absolute":"fixed",height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,pointerEvents:"none",transition:"opacity "+i},p&&l&&{alignItems:"flex-start"},c&&S.isOpen,u&&{opacity:1,pointerEvents:"auto"},n],main:[S.main,{boxShadow:v.elevation64,borderRadius:v.roundedCorner2,backgroundColor:b.white,boxSizing:"border-box",position:"relative",textAlign:"left",outline:"3px solid transparent",maxHeight:"calc(100% - 32px)",maxWidth:"calc(100% - 32px)",minHeight:"176px",minWidth:"288px",overflowY:"auto",zIndex:f?r.r.Layer:void 0},p&&l&&{top:h},g&&{cursor:"move"},s],scrollableContent:[S.scrollableContent,{overflowY:"auto",flexGrow:1,maxHeight:"100vh",selectors:(t={},t["@supports (-webkit-overflow-scrolling: touch)"]={maxHeight:window.innerHeight},t)},a],layer:f&&[m,S.layer,{position:"static",width:"unset",height:"unset"}],keyboardMoveIconContainer:{position:"absolute",display:"flex",justifyContent:"center",width:"100%",padding:"3px 0px"},keyboardMoveIcon:{fontSize:y.xLargePlus.fontSize,width:"24px"}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(2),i=n(5),o=Object(r._10)(function(e,t){return{root:Object(i.F)(e,t&&{touchAction:"none",selectors:{"& *":{userSelect:"none"}}})}})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(3282),o=n(5461),s=Object(r._21)(i.a,o.a,void 0,{scope:"DialogContent"})},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(2679),a=n(106),c=n(3283),u=n(263),l=Object(o.s)(),h=i.createElement(c.a,null).type,d="DialogContent",p=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),Object(o._29)(d,t,{titleId:"titleProps.id"}),n}return Object(r.d)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.showCloseButton,c=t.className,u=t.closeButtonAriaLabel,h=t.onDismiss,d=t.subTextId,p=t.subText,f=t.titleProps,m=void 0===f?{}:f,g=t.titleId,b=t.title,v=t.type,y=t.styles,S=t.theme,_=t.draggableHeaderClassName,w=l(y,{theme:S,className:c,isLargeHeader:v===s.a.largeHeader,isClose:v===s.a.close,draggableHeaderClassName:_}),C=this._groupChildren();return p&&(e=i.createElement("p",{className:w.subText,id:d},p)),i.createElement("div",{className:w.content},i.createElement("div",{className:w.header},i.createElement("div",Object(r.a)({id:g,role:"heading","aria-level":2},m,{className:Object(o.t)(w.title,m.className)}),b),i.createElement("div",{className:w.topButton},this.props.topButtonsProps.map(function(e,t){return i.createElement(a.g,Object(r.a)({key:e.uniqueId||t},e))}),(v===s.a.close||n&&v!==s.a.largeHeader)&&i.createElement(a.g,{className:w.button,iconProps:{iconName:"Cancel"},ariaLabel:u,onClick:h,title:u}))),i.createElement("div",{className:w.inner},i.createElement("div",{className:w.innerContent},e,C.contents),C.footers))},t.prototype._groupChildren=function(){var e={footers:[],contents:[]};return i.Children.map(this.props.children,function(t){"object"===typeof t&&null!==t&&t.type===h?e.footers.push(t):e.contents.push(t)}),e},t.defaultProps={showCloseButton:!1,className:"",topButtonsProps:[],closeButtonAriaLabel:"Close"},t=Object(r.c)([u.b],t)}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(3284),o=n(5460),s=Object(r._21)(i.a,o.a,void 0,{scope:"DialogFooter"})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=Object(o.s)(),a=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.styles,r=e.theme;return this._classNames=s(n,{theme:r,className:t}),i.createElement("div",{className:this._classNames.actions},i.createElement("div",{className:this._classNames.actionsRight},this._renderChildrenAsActions()))},t.prototype._renderChildrenAsActions=function(){var e=this;return i.Children.map(this.props.children,function(t){return t?i.createElement("span",{className:e._classNames.action},t):null})},t}(i.Component)},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.normal=0]="normal",e[e.compact=1]="compact"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r=n(5),i=n(2),o={root:"ms-DocumentCardPreview",icon:"ms-DocumentCardPreview-icon",iconContainer:"ms-DocumentCardPreview-iconContainer"},s=function(e){var t,n,s=e.theme,a=e.className,c=e.isFileList,u=s.palette,l=s.fonts,h=Object(r.w)(o,s);return{root:[h.root,l.small,{backgroundColor:c?u.white:u.neutralLighterAlt,borderBottom:"1px solid "+u.neutralLight,overflow:"hidden",position:"relative"},a],previewIcon:[h.iconContainer,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}],icon:[h.icon,{left:"10px",bottom:"10px",position:"absolute"}],fileList:{padding:"16px 16px 0 16px",listStyleType:"none",margin:0,selectors:{li:{height:"16px",lineHeight:"16px",marginBottom:"8px",overflow:"hidden"}}},fileListIcon:{display:"inline-block",marginRight:"8px"},fileListLink:[Object(r.v)(s,{highContrastStyle:{border:"1px solid WindowText",outline:"none"}}),{boxSizing:"border-box",color:u.neutralDark,overflow:"hidden",display:"inline-block",textDecoration:"none",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"calc(100% - 24px)",selectors:(t={":hover":{color:u.themePrimary}},t["."+i.g+" &:focus"]={selectors:(n={},n[r.e]={outline:"none"},n)},t)}],fileListOverflowText:{padding:"0px 16px 8px 16px",display:"block"}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(5),i={root:"ms-DocumentCardActivity",multiplePeople:"ms-DocumentCardActivity--multiplePeople",details:"ms-DocumentCardActivity-details",name:"ms-DocumentCardActivity-name",activity:"ms-DocumentCardActivity-activity",avatars:"ms-DocumentCardActivity-avatars",avatar:"ms-DocumentCardActivity-avatar"},o=function(e){var t=e.theme,n=e.className,o=e.multiplePeople,s=t.palette,a=t.fonts,c=Object(r.w)(i,t);return{root:[c.root,o&&c.multiplePeople,{padding:"8px 16px",position:"relative"},n],avatars:[c.avatars,{marginLeft:"-2px",height:"32px"}],avatar:[c.avatar,{display:"inline-block",verticalAlign:"top",position:"relative",textAlign:"center",width:32,height:32,selectors:{"&:after":{content:'" "',position:"absolute",left:"-1px",top:"-1px",right:"-1px",bottom:"-1px",border:"2px solid "+s.white,borderRadius:"50%"},":nth-of-type(2)":o&&{marginLeft:"-16px"}}}],details:[c.details,{left:o?"72px":"56px",height:32,position:"absolute",top:8,width:"calc(100% - 72px)"}],name:[c.name,{display:"block",fontSize:a.small.fontSize,lineHeight:"15px",height:"15px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:s.neutralPrimary,fontWeight:r.d.semibold}],activity:[c.activity,{display:"block",fontSize:a.small.fontSize,lineHeight:"15px",height:"15px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:s.neutralSecondary}]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(5),i={root:"ms-DocumentCardTitle"},o=function(e){var t=e.theme,n=e.className,o=e.showAsSecondaryTitle,s=t.palette,a=t.fonts;return{root:[Object(r.w)(i,t).root,o?a.medium:a.large,{padding:"8px 16px",display:"block",overflow:"hidden",wordWrap:"break-word",height:o?"45px":"38px",lineHeight:o?"18px":"21px",color:o?s.neutralSecondary:s.neutralPrimary},n]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(5),i={root:"ms-DocumentCardLocation"},o=function(e){var t=e.theme,n=e.className,o=t.palette,s=t.fonts;return{root:[Object(r.w)(i,t).root,s.small,{color:o.themePrimary,display:"block",fontWeight:r.d.semibold,overflow:"hidden",padding:"8px 16px",position:"relative",textDecoration:"none",textOverflow:"ellipsis",whiteSpace:"nowrap",selectors:{":hover":{color:o.themePrimary,cursor:"pointer"}}},n]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(3252),a=n(5494),c=n(89),u=n(2681),l=a,h=function(e){function t(t){var n=e.call(this,t)||this;return n.floatingPicker=i.createRef(),n.selectedItemsList=i.createRef(),n.root=i.createRef(),n.input=i.createRef(),n.onSelectionChange=function(){n.forceUpdate()},n.onInputChange=function(e,t){t||(n.setState({queryString:e}),n.floatingPicker.current&&n.floatingPicker.current.onQueryStringChanged(e))},n.onInputFocus=function(e){n.selectedItemsList.current&&n.selectedItemsList.current.unselectAll(),n.props.inputProps&&n.props.inputProps.onFocus&&n.props.inputProps.onFocus(e)},n.onInputClick=function(e){if(n.selectedItemsList.current&&n.selectedItemsList.current.unselectAll(),n.floatingPicker.current&&n.inputElement){var t=""===n.inputElement.value||n.inputElement.value!==n.floatingPicker.current.inputText;n.floatingPicker.current.showPicker(t)}},n.onBackspace=function(e){e.which===o.h.backspace&&n.selectedItemsList.current&&n.items.length&&(n.input.current&&!n.input.current.isValueSelected&&n.input.current.inputElement===document.activeElement&&0===n.input.current.cursorLocation?(n.floatingPicker.current&&n.floatingPicker.current.hidePicker(),e.preventDefault(),n.selectedItemsList.current.removeItemAt(n.items.length-1),n._onSelectedItemsChanged()):n.selectedItemsList.current.hasSelectedItems()&&(n.floatingPicker.current&&n.floatingPicker.current.hidePicker(),e.preventDefault(),n.selectedItemsList.current.removeSelectedItems(),n._onSelectedItemsChanged()))},n.onCopy=function(e){n.selectedItemsList.current&&n.selectedItemsList.current.onCopy(e)},n.onPaste=function(e){if(n.props.onPaste){var t=e.clipboardData.getData("Text");e.preventDefault(),n.props.onPaste(t)}},n._onSuggestionSelected=function(e){var t=n.props.currentRenderedQueryString,r=n.state.queryString;if(void 0===t||t===r){var i=n.props.onItemSelected?n.props.onItemSelected(e):e;if(null===i)return;var o,s=i,a=i;a&&a.then?a.then(function(e){o=e,n._addProcessedItem(o)}):(o=s,n._addProcessedItem(o))}},n._onSelectedItemsChanged=function(){n.focus()},n._onSuggestionsShownOrHidden=function(){n.forceUpdate()},Object(o._2)(n),n.selection=new u.a({onSelectionChanged:function(){return n.onSelectionChange()}}),n.state={queryString:"",suggestionItems:n.props.suggestionItems?n.props.suggestionItems:null,selectedItems:n.props.defaultSelectedItems?n.props.defaultSelectedItems:n.props.selectedItems?n.props.selectedItems:null},n.floatingPickerProps=n.props.floatingPickerProps,n.selectedItemsListProps=n.props.selectedItemsListProps,n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"items",{get:function(){return this.state.selectedItems?this.state.selectedItems:this.selectedItemsList.current?this.selectedItemsList.current.items:null},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this.forceUpdate()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.floatingPickerProps&&(this.floatingPickerProps=e.floatingPickerProps),e.selectedItemsListProps&&(this.selectedItemsListProps=e.selectedItemsListProps),e.selectedItems&&this.setState({selectedItems:e.selectedItems})},t.prototype.focus=function(){this.input.current&&this.input.current.focus()},t.prototype.clearInput=function(){this.input.current&&this.input.current.clear()},Object.defineProperty(t.prototype,"inputElement",{get:function(){return this.input.current&&this.input.current.inputElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highlightedItems",{get:function(){return this.selectedItemsList.current?this.selectedItemsList.current.highlightedItems():[]},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.className,n=e.inputProps,a=e.disabled,h=e.focusZoneProps,d=this.floatingPicker.current&&-1!==this.floatingPicker.current.currentSelectedSuggestionIndex?"sug-"+this.floatingPicker.current.currentSelectedSuggestionIndex:void 0,p=!!this.floatingPicker.current&&this.floatingPicker.current.isSuggestionsShown;return i.createElement("div",{ref:this.root,className:Object(o.t)("ms-BasePicker ms-BaseExtendedPicker",t||""),onKeyDown:this.onBackspace,onCopy:this.onCopy},i.createElement(c.a,Object(r.a)({direction:c.b.bidirectional},h),i.createElement(u.c,{selection:this.selection,selectionMode:u.b.multiple},i.createElement("div",{className:Object(o.t)("ms-BasePicker-text",l.pickerText),role:"list"},this.props.headerComponent,this.renderSelectedItemsList(),this.canAddItems()&&i.createElement(s.a,Object(r.a)({},n,{className:Object(o.t)("ms-BasePicker-input",l.pickerInput),ref:this.input,onFocus:this.onInputFocus,onClick:this.onInputClick,onInputValueChange:this.onInputChange,"aria-activedescendant":d,"aria-owns":p?"suggestion-list":void 0,"aria-expanded":p,"aria-haspopup":"true",role:"combobox",disabled:a,onPaste:this.onPaste}))))),this.renderFloatingPicker())},t.prototype.canAddItems=function(){var e=this.props.itemLimit;return void 0===e||this.items.length<e},t.prototype.renderFloatingPicker=function(){var e=this.props.onRenderFloatingPicker;return i.createElement(e,Object(r.a)({componentRef:this.floatingPicker,onChange:this._onSuggestionSelected,onSuggestionsHidden:this._onSuggestionsShownOrHidden,onSuggestionsShown:this._onSuggestionsShownOrHidden,inputElement:this.input.current?this.input.current.inputElement:void 0,selectedItems:this.items,suggestionItems:this.props.suggestionItems?this.props.suggestionItems:void 0},this.floatingPickerProps))},t.prototype.renderSelectedItemsList=function(){var e=this.props.onRenderSelectedItems;return i.createElement(e,Object(r.a)({componentRef:this.selectedItemsList,selection:this.selection,selectedItems:this.props.selectedItems?this.props.selectedItems:void 0,onItemsDeleted:this.props.selectedItems?this.props.onItemsRemoved:void 0},this.selectedItemsListProps))},t.prototype._addProcessedItem=function(e){this.props.onItemAdded&&this.props.onItemAdded(e),this.selectedItemsList.current&&this.selectedItemsList.current.addItems([e]),this.input.current&&this.input.current.clear(),this.floatingPicker.current&&this.floatingPicker.current.hidePicker(),this.focus()},t}(i.Component)},function(e,t,n){"use strict";var r=n(5497);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b})},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.none=0]="none",e[e.descriptive=1]="descriptive",e[e.more=2]="more",e[e.downArrow=3]="downArrow"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(3292),a=n(5498),c=n(48),u=n(732),l=n(2680),h=Object(o.s)(),d=function(e){function t(t){var n=e.call(this,t)||this;return n._classNames=h(n.props.styles,{theme:n.props.theme,className:n.props.className}),n._getPersonaControl=function(e){var t=n.props,o=t.getPersonaProps,s=t.personaSize;return i.createElement(u.a,Object(r.a)({imageInitials:e.imageInitials,imageUrl:e.imageUrl,initialsColor:e.initialsColor,allowPhoneInitials:e.allowPhoneInitials,text:e.personaName,size:s},o?o(e):null,{styles:{details:{flex:"1 0 auto"}}}))},n._getPersonaCoinControl=function(e){var t=n.props,o=t.getPersonaProps,s=t.personaSize;return i.createElement(l.a,Object(r.a)({imageInitials:e.imageInitials,imageUrl:e.imageUrl,initialsColor:e.initialsColor,allowPhoneInitials:e.allowPhoneInitials,text:e.personaName,size:s},o?o(e):null))},Object(o._2)(n),n._ariaDescriptionId=Object(o.L)(),n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props.overflowButtonProps,t=this.props,n=t.chevronButtonProps,r=t.maxDisplayablePersonas,o=t.personas,s=t.overflowPersonas,a=t.showAddButton,c=t.ariaLabel,u=this._classNames,l="number"===typeof r?Math.min(o.length,r):o.length;n&&!e&&(e=n);var h=s&&s.length>0,d=h?o:o.slice(0,l),p=(h?s:o.slice(l))||[];return i.createElement("div",{className:u.root},this.onRenderAriaDescription(),i.createElement("div",{className:u.itemContainer},a?this._getAddNewElement():null,i.createElement("ul",{className:u.members,"aria-label":c},this._onRenderVisiblePersonas(d,0===p.length&&1===o.length)),e?this._getOverflowElement(p):null))},t.prototype.onRenderAriaDescription=function(){var e=this.props.ariaDescription,t=this._classNames;return e&&i.createElement("span",{className:t.screenReaderOnly,id:this._ariaDescriptionId},e)},t.prototype._onRenderVisiblePersonas=function(e,t){var n=this,r=this.props,o=r.onRenderPersona,s=void 0===o?this._getPersonaControl:o,a=r.onRenderPersonaCoin,c=void 0===a?this._getPersonaCoinControl:a;return e.map(function(e,r){var o=t?s(e,n._getPersonaControl):c(e,n._getPersonaCoinControl);return i.createElement("li",{key:(t?"persona":"personaCoin")+"-"+r,className:n._classNames.member},e.onClick?n._getElementWithOnClickEvent(o,e,r):n._getElementWithoutOnClickEvent(o,e,r))})},t.prototype._getElementWithOnClickEvent=function(e,t,n){var s=t.keytipProps;return i.createElement(a.a,Object(r.a)({},Object(o.P)(t,o.q),this._getElementProps(t,n),{keytipProps:s,onClick:this._onPersonaClick.bind(this,t)}),e)},t.prototype._getElementWithoutOnClickEvent=function(e,t,n){return i.createElement("div",Object(r.a)({},Object(o.P)(t,o.q),this._getElementProps(t,n)),e)},t.prototype._getElementProps=function(e,t){var n=this._classNames;return{key:(e.imageUrl?"i":"")+t,"data-is-focusable":!0,className:n.itemButton,title:e.personaName,onMouseMove:this._onPersonaMouseMove.bind(this,e),onMouseOut:this._onPersonaMouseOut.bind(this,e)}},t.prototype._getOverflowElement=function(e){switch(this.props.overflowButtonType){case s.a.descriptive:return this._getDescriptiveOverflowElement(e);case s.a.downArrow:return this._getIconElement("ChevronDown");case s.a.more:return this._getIconElement("More");default:return null}},t.prototype._getDescriptiveOverflowElement=function(e){var t=this.props.personaSize;if(!e||e.length<1)return null;var n=e.map(function(e){return e.personaName}).join(", "),o=Object(r.a)({title:n},this.props.overflowButtonProps),s=Math.max(e.length,0),c=this._classNames;return i.createElement(a.a,Object(r.a)({},o,{ariaDescription:o.title,className:c.descriptiveOverflowButton}),i.createElement(l.a,{size:t,onRenderInitials:this._renderInitialsNotPictured(s),initialsColor:l.b.transparent}))},t.prototype._getIconElement=function(e){var t=this.props,n=t.overflowButtonProps,o=t.personaSize,s=this._classNames;return i.createElement(a.a,Object(r.a)({},n,{className:s.overflowButton}),i.createElement(l.a,{size:o,onRenderInitials:this._renderInitials(e,!0),initialsColor:l.b.transparent}))},t.prototype._getAddNewElement=function(){var e=this.props,t=e.addButtonProps,n=e.personaSize,o=this._classNames;return i.createElement(a.a,Object(r.a)({},t,{className:o.addButton}),i.createElement(l.a,{size:n,onRenderInitials:this._renderInitials("AddFriend")}))},t.prototype._onPersonaClick=function(e,t){e.onClick(t,e),t.preventDefault(),t.stopPropagation()},t.prototype._onPersonaMouseMove=function(e,t){e.onMouseMove&&e.onMouseMove(t,e)},t.prototype._onPersonaMouseOut=function(e,t){e.onMouseOut&&e.onMouseOut(t,e)},t.prototype._renderInitials=function(e,t){var n=this._classNames;return function(){return i.createElement(c.b,{iconName:e,className:t?n.overflowInitialsIcon:""})}},t.prototype._renderInitialsNotPictured=function(e){var t=this._classNames;return function(){return i.createElement("span",{className:t.overflowInitialsIcon},"+"+e)}},t.defaultProps={maxDisplayablePersonas:5,personas:[],overflowPersonas:[],personaSize:l.c.size32},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),i=n(0),o=(n.n(i),n(5504)),s=n(2),a=n(258),c=n(3295),u=o,l=function(e){function t(t){var n=e.call(this,t)||this;return n.root=i.createRef(),n.suggestionsControl=i.createRef(),n.SuggestionsControlOfProperType=c.a,n.isComponentMounted=!1,n.onQueryStringChanged=function(e){e!==n.state.queryString&&(n.setState({queryString:e}),n.props.onInputChanged&&n.props.onInputChanged(e),n.updateValue(e))},n.hidePicker=function(){var e=n.isSuggestionsShown;n.setState({suggestionsVisible:!1}),n.props.onSuggestionsHidden&&e&&n.props.onSuggestionsHidden()},n.showPicker=function(e){void 0===e&&(e=!1);var t=n.isSuggestionsShown;n.setState({suggestionsVisible:!0});var r=n.props.inputElement?n.props.inputElement.value:"";e&&n.updateValue(r),n.props.onSuggestionsShown&&!t&&n.props.onSuggestionsShown()},n.completeSuggestion=function(){n.suggestionsControl.current&&n.suggestionsControl.current.hasSuggestionSelected()&&n.onChange(n.suggestionsControl.current.currentSuggestion.item)},n.onSuggestionClick=function(e,t,r){n.onChange(t),n._updateSuggestionsVisible(!1)},n.onSuggestionRemove=function(e,t,r){n.props.onRemoveSuggestion&&n.props.onRemoveSuggestion(t),n.suggestionsControl.current&&n.suggestionsControl.current.removeSuggestion(r)},n.onKeyDown=function(e){if(n.state.suggestionsVisible&&(!n.props.inputElement||n.props.inputElement.contains(e.target))){var t=e.which;switch(t){case s.h.escape:n.hidePicker(),e.preventDefault(),e.stopPropagation();break;case s.h.tab:case s.h.enter:!e.shiftKey&&!e.ctrlKey&&n.suggestionsControl.current&&n.suggestionsControl.current.handleKeyDown(t)?(e.preventDefault(),e.stopPropagation()):n._onValidateInput();break;case s.h.del:n.props.onRemoveSuggestion&&n.suggestionsControl.current&&n.suggestionsControl.current.hasSuggestionSelected&&n.suggestionsControl.current.currentSuggestion&&e.shiftKey&&(n.props.onRemoveSuggestion(n.suggestionsControl.current.currentSuggestion.item),n.suggestionsControl.current.removeSuggestion(),n.forceUpdate(),e.stopPropagation());break;case s.h.up:case s.h.down:n.suggestionsControl.current&&n.suggestionsControl.current.handleKeyDown(t)&&(e.preventDefault(),e.stopPropagation(),n._updateActiveDescendant())}}},n._onValidateInput=function(){if(n.state.queryString&&n.props.onValidateInput&&n.props.createGenericItem){var e=n.props.createGenericItem(n.state.queryString,n.props.onValidateInput(n.state.queryString)),t=n.suggestionStore.convertSuggestionsToSuggestionItems([e]);n.onChange(t[0].item)}},n._async=new s.a(n),Object(s._2)(n),n.suggestionStore=t.suggestionsStore,n.state={queryString:"",didBind:!1},n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"inputText",{get:function(){return this.state.queryString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"suggestions",{get:function(){return this.suggestionStore.suggestions},enumerable:!0,configurable:!0}),t.prototype.forceResolveSuggestion=function(){this.suggestionsControl.current&&this.suggestionsControl.current.hasSuggestionSelected()?this.completeSuggestion():this._onValidateInput()},Object.defineProperty(t.prototype,"currentSelectedSuggestionIndex",{get:function(){return this.suggestionsControl.current?this.suggestionsControl.current.currentSuggestionIndex:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSuggestionsShown",{get:function(){return void 0!==this.state.suggestionsVisible&&this.state.suggestionsVisible},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){this._bindToInputElement(),this.isComponentMounted=!0,this._onResolveSuggestions=this._async.debounce(this._onResolveSuggestions,this.props.resolveDelay)},t.prototype.componentDidUpdate=function(){this._bindToInputElement()},t.prototype.componentWillUnmount=function(){this._unbindFromInputElement(),this.isComponentMounted=!1},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.suggestionItems&&this.updateSuggestions(e.suggestionItems)},t.prototype.updateSuggestions=function(e,t){void 0===t&&(t=!1),this.suggestionStore.updateSuggestions(e),t&&this.forceUpdate()},t.prototype.render=function(){var e=this.props.className;return i.createElement("div",{ref:this.root,className:Object(s.t)("ms-BasePicker ms-BaseFloatingPicker",e||"")},this.renderSuggestions())},t.prototype.renderSuggestions=function(){var e=this.SuggestionsControlOfProperType;return this.state.suggestionsVisible?i.createElement(a.a,Object(r.a)({className:u.callout,isBeakVisible:!1,gapSpace:5,target:this.props.inputElement,onDismiss:this.hidePicker,directionalHint:a.b.bottomLeftEdge,directionalHintForRTL:a.b.bottomRightEdge,calloutWidth:this.props.calloutWidth?this.props.calloutWidth:0},this.props.pickerCalloutProps),i.createElement(e,Object(r.a)({onRenderSuggestion:this.props.onRenderSuggestionsItem,onSuggestionClick:this.onSuggestionClick,onSuggestionRemove:this.onSuggestionRemove,suggestions:this.suggestionStore.getSuggestions(),componentRef:this.suggestionsControl,completeSuggestion:this.completeSuggestion,shouldLoopSelection:!1},this.props.pickerSuggestionsProps))):null},t.prototype.onSelectionChange=function(){this.forceUpdate()},t.prototype.updateValue=function(e){""===e?this.updateSuggestionWithZeroState():this._onResolveSuggestions(e)},t.prototype.updateSuggestionWithZeroState=function(){if(this.props.onZeroQuerySuggestion){var e=(0,this.props.onZeroQuerySuggestion)(this.props.selectedItems);this.updateSuggestionsList(e)}else this.hidePicker()},t.prototype.updateSuggestionsList=function(e){var t=this,n=e,r=e;if(Array.isArray(n))this.updateSuggestions(n,!0);else if(r&&r.then){var i=this.currentPromise=r;i.then(function(e){i===t.currentPromise&&t.isComponentMounted&&t.updateSuggestions(e,!0)})}},t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(e)},t.prototype._updateActiveDescendant=function(){if(this.props.inputElement&&this.suggestionsControl.current&&this.suggestionsControl.current.selectedElement){var e=this.suggestionsControl.current.selectedElement.getAttribute("id");e&&this.props.inputElement.setAttribute("aria-activedescendant",e)}},t.prototype._onResolveSuggestions=function(e){var t=this.props.onResolveSuggestions(e,this.props.selectedItems);this._updateSuggestionsVisible(!0),null!==t&&this.updateSuggestionsList(t)},t.prototype._updateSuggestionsVisible=function(e){e?this.showPicker():this.hidePicker()},t.prototype._bindToInputElement=function(){this.props.inputElement&&!this.state.didBind&&(this.props.inputElement.addEventListener("keydown",this.onKeyDown),this.setState({didBind:!0}))},t.prototype._unbindFromInputElement=function(){this.props.inputElement&&this.state.didBind&&(this.props.inputElement.removeEventListener("keydown",this.onKeyDown),this.setState({didBind:!1}))},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r,i=n(1),o=n(0),s=(n.n(o),n(2)),a=n(3296),c=n(5516),u=n(5),l=c;!function(e){e[e.header=0]="header",e[e.suggestion=1]="suggestion",e[e.footer=2]="footer"}(r||(r={}));var h=function(e){function t(t){var n=e.call(this,t)||this;return Object(s._2)(n),n}return Object(i.d)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.renderItem,r=t.onExecute,i=t.isSelected,a=t.id,c=t.className;return r?o.createElement("div",{id:a,onClick:r,className:Object(s.t)("ms-Suggestions-sectionButton",c,l.actionButton,(e={},e["is-selected "+l.buttonSelected]=i,e))},n()):o.createElement("div",{id:a,className:Object(s.t)("ms-Suggestions-section",c,l.suggestionsTitle)},n())},t}(o.Component),d=function(e){function t(t){var n=e.call(this,t)||this;return n._selectedElement=o.createRef(),n._suggestions=o.createRef(),n.SuggestionsOfProperType=a.a,Object(s._2)(n),n.state={selectedHeaderIndex:-1,selectedFooterIndex:-1,suggestions:t.suggestions},n}return Object(i.d)(t,e),t.prototype.componentDidMount=function(){this.resetSelectedItem()},t.prototype.componentDidUpdate=function(){this.scrollSelected()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;e.suggestions&&this.setState({suggestions:e.suggestions},function(){t.resetSelectedItem()})},t.prototype.componentWillUnmount=function(){var e;null===(e=this._suggestions.current)||void 0===e||e.deselectAllSuggestions()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.headerItemsProps,r=e.footerItemsProps,i=e.suggestionsAvailableAlertText,a=Object(u.F)(u.C),c=this.state.suggestions&&this.state.suggestions.length>0&&i;return o.createElement("div",{className:Object(s.t)("ms-Suggestions",t||"",l.root)},n&&this.renderHeaderItems(),this._renderSuggestions(),r&&this.renderFooterItems(),c?o.createElement("span",{role:"alert","aria-live":"polite",className:a},i):null)},Object.defineProperty(t.prototype,"currentSuggestion",{get:function(){var e;return(null===(e=this._suggestions.current)||void 0===e?void 0:e.getCurrentItem())||void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSuggestionIndex",{get:function(){return this._suggestions.current?this._suggestions.current.currentIndex:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedElement",{get:function(){var e;return this._selectedElement.current?this._selectedElement.current:null===(e=this._suggestions.current)||void 0===e?void 0:e.selectedElement},enumerable:!0,configurable:!0}),t.prototype.hasSuggestionSelected=function(){var e;return(null===(e=this._suggestions.current)||void 0===e?void 0:e.hasSuggestionSelected())||!1},t.prototype.hasSelection=function(){var e=this.state,t=e.selectedHeaderIndex,n=e.selectedFooterIndex;return-1!==t||this.hasSuggestionSelected()||-1!==n},t.prototype.executeSelectedAction=function(){var e,t=this.props,n=t.headerItemsProps,r=t.footerItemsProps,i=this.state,o=i.selectedHeaderIndex,s=i.selectedFooterIndex;if(n&&-1!==o&&o<n.length){var a=n[o];a.onExecute&&a.onExecute()}else if(null===(e=this._suggestions.current)||void 0===e?void 0:e.hasSuggestionSelected())this.props.completeSuggestion();else if(r&&-1!==s&&s<r.length){var c=r[s];c.onExecute&&c.onExecute()}},t.prototype.removeSuggestion=function(e){var t,n;null===(t=this._suggestions.current)||void 0===t||t.removeSuggestion(e||(null===(n=this._suggestions.current)||void 0===n?void 0:n.currentIndex))},t.prototype.handleKeyDown=function(e){var t,n,i,o,a=this.state,c=a.selectedHeaderIndex,u=a.selectedFooterIndex,l=!1;return e===s.h.down?-1!==c||(null===(t=this._suggestions.current)||void 0===t?void 0:t.hasSuggestionSelected())||-1!==u?-1!==c?(this.selectNextItem(r.header),l=!0):(null===(n=this._suggestions.current)||void 0===n?void 0:n.hasSuggestionSelected())?(this.selectNextItem(r.suggestion),l=!0):-1!==u&&(this.selectNextItem(r.footer),l=!0):this.selectFirstItem():e===s.h.up?-1!==c||(null===(i=this._suggestions.current)||void 0===i?void 0:i.hasSuggestionSelected())||-1!==u?-1!==c?(this.selectPreviousItem(r.header),l=!0):(null===(o=this._suggestions.current)||void 0===o?void 0:o.hasSuggestionSelected())?(this.selectPreviousItem(r.suggestion),l=!0):-1!==u&&(this.selectPreviousItem(r.footer),l=!0):this.selectLastItem():e!==s.h.enter&&e!==s.h.tab||this.hasSelection()&&(this.executeSelectedAction(),l=!0),l},t.prototype.scrollSelected=function(){this._selectedElement.current&&this._selectedElement.current.scrollIntoView(!1)},t.prototype.renderHeaderItems=function(){var e=this,t=this.props,n=t.headerItemsProps,r=t.suggestionsHeaderContainerAriaLabel,i=this.state.selectedHeaderIndex;return n?o.createElement("div",{className:Object(s.t)("ms-Suggestions-headerContainer",l.suggestionsContainer),id:"suggestionHeader-list",role:"list","aria-label":r},n.map(function(t,n){var r=-1!==i&&i===n;return t.shouldShow()?o.createElement("div",{ref:r?e._selectedElement:void 0,id:"sug-header"+n,key:"sug-header"+n,role:"listitem","aria-label":t.ariaLabel},o.createElement(h,{id:"sug-header-item"+n,isSelected:r,renderItem:t.renderItem,onExecute:t.onExecute,className:t.className})):null})):null},t.prototype.renderFooterItems=function(){var e=this,t=this.props,n=t.footerItemsProps,r=t.suggestionsFooterContainerAriaLabel,i=this.state.selectedFooterIndex;return n?o.createElement("div",{className:Object(s.t)("ms-Suggestions-footerContainer",l.suggestionsContainer),id:"suggestionFooter-list",role:"list","aria-label":r},n.map(function(t,n){var r=-1!==i&&i===n;return t.shouldShow()?o.createElement("div",{ref:r?e._selectedElement:void 0,id:"sug-footer"+n,key:"sug-footer"+n,role:"listitem","aria-label":t.ariaLabel},o.createElement(h,{id:"sug-footer-item"+n,isSelected:r,renderItem:t.renderItem,onExecute:t.onExecute,className:t.className})):null})):null},t.prototype._renderSuggestions=function(){var e=this.SuggestionsOfProperType;return o.createElement(e,Object(i.a)({ref:this._suggestions},this.props,{suggestions:this.state.suggestions}))},t.prototype.selectNextItem=function(e,t){if(e!==t){var n=void 0!==t?t:e;this._selectNextItemOfItemType(e,n===e?this._getCurrentIndexForType(e):void 0)||this.selectNextItem(this._getNextItemSectionType(e),n)}else this._selectNextItemOfItemType(e)},t.prototype.selectPreviousItem=function(e,t){if(e!==t){var n=void 0!==t?t:e;this._selectPreviousItemOfItemType(e,n===e?this._getCurrentIndexForType(e):void 0)||this.selectPreviousItem(this._getPreviousItemSectionType(e),n)}else this._selectPreviousItemOfItemType(e)},t.prototype.resetSelectedItem=function(){var e;this.setState({selectedHeaderIndex:-1,selectedFooterIndex:-1}),null===(e=this._suggestions.current)||void 0===e||e.deselectAllSuggestions(),(void 0===this.props.shouldSelectFirstItem||this.props.shouldSelectFirstItem())&&this.selectFirstItem()},t.prototype.selectFirstItem=function(){this._selectNextItemOfItemType(r.header)||this._selectNextItemOfItemType(r.suggestion)||this._selectNextItemOfItemType(r.footer)},t.prototype.selectLastItem=function(){this._selectPreviousItemOfItemType(r.footer)||this._selectPreviousItemOfItemType(r.suggestion)||this._selectPreviousItemOfItemType(r.header)},t.prototype._selectNextItemOfItemType=function(e,t){var n,i;if(void 0===t&&(t=-1),e===r.suggestion){if(this.state.suggestions.length>t+1)return null===(n=this._suggestions.current)||void 0===n||n.setSelectedSuggestion(t+1),this.setState({selectedHeaderIndex:-1,selectedFooterIndex:-1}),!0}else{var o=e===r.header,s=o?this.props.headerItemsProps:this.props.footerItemsProps;if(s&&s.length>t+1)for(var a=t+1;a<s.length;a++){var c=s[a];if(c.onExecute&&c.shouldShow())return this.setState({selectedHeaderIndex:o?a:-1}),this.setState({selectedFooterIndex:o?-1:a}),null===(i=this._suggestions.current)||void 0===i||i.deselectAllSuggestions(),!0}}return!1},t.prototype._selectPreviousItemOfItemType=function(e,t){var n,i;if(e===r.suggestion){if((o=void 0!==t?t:this.state.suggestions.length)>0)return null===(n=this._suggestions.current)||void 0===n||n.setSelectedSuggestion(o-1),this.setState({selectedHeaderIndex:-1,selectedFooterIndex:-1}),!0}else{var o,s=e===r.header,a=s?this.props.headerItemsProps:this.props.footerItemsProps;if(a)if((o=void 0!==t?t:a.length)>0)for(var c=o-1;c>=0;c--){var u=a[c];if(u.onExecute&&u.shouldShow())return this.setState({selectedHeaderIndex:s?c:-1}),this.setState({selectedFooterIndex:s?-1:c}),null===(i=this._suggestions.current)||void 0===i||i.deselectAllSuggestions(),!0}}return!1},t.prototype._getCurrentIndexForType=function(e){switch(e){case r.header:return this.state.selectedHeaderIndex;case r.suggestion:return this._suggestions.current.currentIndex;case r.footer:return this.state.selectedFooterIndex}},t.prototype._getNextItemSectionType=function(e){switch(e){case r.header:return r.suggestion;case r.suggestion:return r.footer;case r.footer:return r.header}},t.prototype._getPreviousItemSectionType=function(e){switch(e){case r.header:return r.footer;case r.suggestion:return r.header;case r.footer:return r.suggestion}},t}(o.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(3297),a=n(5515),c=function(e){function t(t){var n=e.call(this,t)||this;return n._selectedElement=i.createRef(),n.SuggestionsItemOfProperType=s.a,n._onClickTypedSuggestionsItem=function(e,t){return function(r){n.props.onSuggestionClick(r,e,t)}},n._onRemoveTypedSuggestionsItem=function(e,t){return function(r){(0,n.props.onSuggestionRemove)(r,e,t),r.stopPropagation()}},Object(o._2)(n),n.currentIndex=-1,n}return Object(r.d)(t,e),t.prototype.nextSuggestion=function(){var e=this.props.suggestions;if(e&&e.length>0){if(-1===this.currentIndex)return this.setSelectedSuggestion(0),!0;if(this.currentIndex<e.length-1)return this.setSelectedSuggestion(this.currentIndex+1),!0;if(this.props.shouldLoopSelection&&this.currentIndex===e.length-1)return this.setSelectedSuggestion(0),!0}return!1},t.prototype.previousSuggestion=function(){var e=this.props.suggestions;if(e&&e.length>0){if(-1===this.currentIndex)return this.setSelectedSuggestion(e.length-1),!0;if(this.currentIndex>0)return this.setSelectedSuggestion(this.currentIndex-1),!0;if(this.props.shouldLoopSelection&&0===this.currentIndex)return this.setSelectedSuggestion(e.length-1),!0}return!1},Object.defineProperty(t.prototype,"selectedElement",{get:function(){return this._selectedElement.current||void 0},enumerable:!0,configurable:!0}),t.prototype.getCurrentItem=function(){return this.props.suggestions[this.currentIndex]},t.prototype.getSuggestionAtIndex=function(e){return this.props.suggestions[e]},t.prototype.hasSuggestionSelected=function(){return-1!==this.currentIndex&&this.currentIndex<this.props.suggestions.length},t.prototype.removeSuggestion=function(e){this.props.suggestions.splice(e,1)},t.prototype.deselectAllSuggestions=function(){this.currentIndex>-1&&this.props.suggestions[this.currentIndex]&&(this.props.suggestions[this.currentIndex].selected=!1,this.currentIndex=-1,this.forceUpdate())},t.prototype.setSelectedSuggestion=function(e){var t=this.props.suggestions;e>t.length-1||e<0?(this.currentIndex=0,this.currentSuggestion.selected=!1,this.currentSuggestion=t[0],this.currentSuggestion.selected=!0):(this.currentIndex>-1&&t[this.currentIndex]&&(t[this.currentIndex].selected=!1),t[e].selected=!0,this.currentIndex=e,this.currentSuggestion=t[e]),this.forceUpdate()},t.prototype.componentDidUpdate=function(){this.scrollSelected()},t.prototype.render=function(){var e=this,t=this.props,n=t.onRenderSuggestion,r=t.suggestionsItemClassName,s=t.resultsMaximumNumber,c=t.showRemoveButtons,u=t.suggestionsContainerAriaLabel,l=this.SuggestionsItemOfProperType,h=this.props.suggestions;return s&&(h=h.slice(0,s)),i.createElement("div",{className:Object(o.t)("ms-Suggestions-container",a.suggestionsContainer),id:"suggestion-list",role:"list","aria-label":u},h.map(function(t,o){return i.createElement("div",{ref:t.selected||o===e.currentIndex?e._selectedElement:void 0,key:t.item.key?t.item.key:o,id:"sug-"+o,role:"listitem","aria-label":t.ariaLabel},i.createElement(l,{id:"sug-item"+o,suggestionModel:t,RenderSuggestion:n,onClick:e._onClickTypedSuggestionsItem(t.item,o),className:r,showRemoveButton:c,onRemoveItem:e._onRemoveTypedSuggestionsItem(t.item,o),isSelectedOverride:o===e.currentIndex}))}))},t.prototype.scrollSelected=function(){var e;void 0!==(null===(e=this._selectedElement.current)||void 0===e?void 0:e.scrollIntoView)&&this._selectedElement.current.scrollIntoView(!1)},t}(i.Component)},function(e,t,n){"use strict";var r=n(5505);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(106),a=n(748),c=n(3254),u=n(3299),l=n(3300),h=n(3302),d=n(3301),p=Object(o.s)(),f=Object(o._21)(l.a,h.b,void 0,{scope:"SuggestionItem"}),m=function(e){function t(t){var n=e.call(this,t)||this;return n._forceResolveButton=i.createRef(),n._searchForMoreButton=i.createRef(),n._selectedElement=i.createRef(),n.tryHandleKeyDown=function(e,t){var r=!1,i=null,s=n.state.selectedActionType,a=n.props.suggestions.length;if(e===o.h.down)switch(s){case u.a.forceResolve:a>0?(n._refocusOnSuggestions(e),i=u.a.none):i=n._searchForMoreButton.current?u.a.searchMore:u.a.forceResolve;break;case u.a.searchMore:n._forceResolveButton.current?i=u.a.forceResolve:a>0?(n._refocusOnSuggestions(e),i=u.a.none):i=u.a.searchMore;break;case u.a.none:-1===t&&n._forceResolveButton.current&&(i=u.a.forceResolve)}else if(e===o.h.up)switch(s){case u.a.forceResolve:n._searchForMoreButton.current?i=u.a.searchMore:a>0&&(n._refocusOnSuggestions(e),i=u.a.none);break;case u.a.searchMore:a>0?(n._refocusOnSuggestions(e),i=u.a.none):n._forceResolveButton.current&&(i=u.a.forceResolve);break;case u.a.none:-1===t&&n._searchForMoreButton.current&&(i=u.a.searchMore)}return null!==i&&(n.setState({selectedActionType:i}),r=!0),r},n._getAlertText=function(){var e=n.props,t=e.isLoading,r=e.isSearching,i=e.suggestions,o=e.suggestionsAvailableAlertText,s=e.noResultsFoundText;if(!t&&!r){if(i.length>0)return o||"";if(s)return s}return""},n._getMoreResults=function(){n.props.onGetMoreResults&&n.props.onGetMoreResults()},n._forceResolve=function(){n.props.createGenericItem&&n.props.createGenericItem()},n._shouldShowForceResolve=function(){return!!n.props.showForceResolve&&n.props.showForceResolve()},n._onClickTypedSuggestionsItem=function(e,t){return function(r){n.props.onSuggestionClick(r,e,t)}},n._refocusOnSuggestions=function(e){"function"===typeof n.props.refocusSuggestions&&n.props.refocusSuggestions(e)},n._onRemoveTypedSuggestionsItem=function(e,t){return function(r){(0,n.props.onSuggestionRemove)(r,e,t),r.stopPropagation()}},Object(o._2)(n),n.state={selectedActionType:u.a.none},n}return Object(r.d)(t,e),t.prototype.componentDidMount=function(){this.scrollSelected(),this.activeSelectedElement=this._selectedElement?this._selectedElement.current:null},t.prototype.componentDidUpdate=function(){this._selectedElement.current&&this.activeSelectedElement!==this._selectedElement.current&&(this.scrollSelected(),this.activeSelectedElement=this._selectedElement.current)},t.prototype.render=function(){var e,t,n=this,l=this.props,h=l.forceResolveText,f=l.mostRecentlyUsedHeaderText,m=l.searchForMoreText,g=l.className,b=l.moreSuggestionsAvailable,v=l.noResultsFoundText,y=l.suggestions,S=l.isLoading,_=l.isSearching,w=l.loadingText,C=l.onRenderNoResultFound,k=l.searchingText,x=l.isMostRecentlyUsedVisible,O=l.resultsMaximumNumber,I=l.resultsFooterFull,T=l.resultsFooter,E=l.isResultsFooterVisible,N=void 0===E||E,M=l.suggestionsHeaderText,P=l.suggestionsClassName,j=l.theme,D=l.styles,R=l.suggestionsListId;this._classNames=D?p(D,{theme:j,className:g,suggestionsClassName:P,forceResolveButtonSelected:this.state.selectedActionType===u.a.forceResolve,searchForMoreButtonSelected:this.state.selectedActionType===u.a.searchMore}):{root:Object(o.t)("ms-Suggestions",g,d.root),title:Object(o.t)("ms-Suggestions-title",d.suggestionsTitle),searchForMoreButton:Object(o.t)("ms-SearchMore-button",d.actionButton,(e={},e["is-selected "+d.buttonSelected]=this.state.selectedActionType===u.a.searchMore,e)),forceResolveButton:Object(o.t)("ms-forceResolve-button",d.actionButton,(t={},t["is-selected "+d.buttonSelected]=this.state.selectedActionType===u.a.forceResolve,t)),suggestionsAvailable:Object(o.t)("ms-Suggestions-suggestionsAvailable",d.suggestionsAvailable),suggestionsContainer:Object(o.t)("ms-Suggestions-container",d.suggestionsContainer,P),noSuggestions:Object(o.t)("ms-Suggestions-none",d.suggestionsNone)};var L=this._classNames.subComponentStyles?this._classNames.subComponentStyles.spinner:void 0,A=D?{styles:L}:{className:Object(o.t)("ms-Suggestions-spinner",d.suggestionsSpinner)},F=function(){return v?i.createElement("div",{className:n._classNames.noSuggestions},v):null},B=M;x&&f&&(B=f);var q=void 0;N&&(q=y.length>=O?I:T);var z=(!y||!y.length)&&!S,W=z||S?{role:"dialog",id:R}:{};return i.createElement("div",Object(r.a)({className:this._classNames.root},W),i.createElement(c.a,{message:this._getAlertText(),"aria-live":"polite"}),B?i.createElement("div",{className:this._classNames.title},B):null,h&&this._shouldShowForceResolve()&&i.createElement(s.e,{componentRef:this._forceResolveButton,className:this._classNames.forceResolveButton,onClick:this._forceResolve,"data-automationid":"sug-forceResolve"},h),S&&i.createElement(a.a,Object(r.a)({},A,{label:w})),z?C?C(void 0,F):F():this._renderSuggestions(),m&&b&&i.createElement(s.e,{componentRef:this._searchForMoreButton,className:this._classNames.searchForMoreButton,iconProps:{iconName:"Search"},onClick:this._getMoreResults},m),_?i.createElement(a.a,Object(r.a)({},A,{label:k})):null,!q||b||x||_?null:i.createElement("div",{className:this._classNames.title},q(this.props)))},t.prototype.hasSuggestedAction=function(){return!!this._searchForMoreButton.current||!!this._forceResolveButton.current},t.prototype.hasSuggestedActionSelected=function(){return this.state.selectedActionType!==u.a.none},t.prototype.executeSelectedAction=function(){switch(this.state.selectedActionType){case u.a.forceResolve:this._forceResolve();break;case u.a.searchMore:this._getMoreResults()}},t.prototype.focusAboveSuggestions=function(){this._forceResolveButton.current?this.setState({selectedActionType:u.a.forceResolve}):this._searchForMoreButton.current&&this.setState({selectedActionType:u.a.searchMore})},t.prototype.focusBelowSuggestions=function(){this._searchForMoreButton.current?this.setState({selectedActionType:u.a.searchMore}):this._forceResolveButton.current&&this.setState({selectedActionType:u.a.forceResolve})},t.prototype.focusSearchForMoreButton=function(){this._searchForMoreButton.current&&this._searchForMoreButton.current.focus()},t.prototype.scrollSelected=function(){this._selectedElement.current&&void 0!==this._selectedElement.current.scrollIntoView&&this._selectedElement.current.scrollIntoView(!1)},t.prototype._renderSuggestions=function(){var e=this,t=this.props,n=t.onRenderSuggestion,r=t.removeSuggestionAriaLabel,o=t.suggestionsItemClassName,s=t.resultsMaximumNumber,a=t.showRemoveButtons,c=t.suggestionsContainerAriaLabel,u=t.suggestionsListId,l=this.props.suggestions,h=f,d=-1;return l.some(function(e,t){return!!e.selected&&(d=t,!0)}),s&&(l=d>=s?l.slice(d-s+1,d+1):l.slice(0,s)),0===l.length?null:i.createElement("div",{className:this._classNames.suggestionsContainer,id:u,role:"listbox","aria-label":c},l.map(function(t,s){return i.createElement("div",{ref:t.selected?e._selectedElement:void 0,key:t.item.key?t.item.key:s,id:"sug-"+s,"aria-selected":t.selected,role:"option","aria-label":t.ariaLabel},i.createElement(h,{suggestionModel:t,RenderSuggestion:n,onClick:e._onClickTypedSuggestionsItem(t.item,s),className:o,showRemoveButton:a,removeButtonAriaLabel:r,onRemoveItem:e._onRemoveTypedSuggestionsItem(t.item,s)}))}))},t}(i.Component)},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.none=0]="none",e[e.forceResolve=1]="forceResolve",e[e.searchMore=2]="searchMore"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(106),a=n(3301),c=Object(o.s)(),u=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),n}return Object(r.d)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.suggestionModel,r=t.RenderSuggestion,u=t.onClick,l=t.className,h=t.onRemoveItem,d=t.isSelectedOverride,p=t.removeButtonAriaLabel,f=t.styles,m=t.theme,g=f?c(f,{theme:m,className:l,suggested:n.selected||d}):{root:Object(o.t)("ms-Suggestions-item",a.suggestionsItem,(e={},e["is-suggested "+a.suggestionsItemIsSuggested]=n.selected||d,e),l),itemButton:Object(o.t)("ms-Suggestions-itemButton",a.itemButton),closeButton:Object(o.t)("ms-Suggestions-closeButton",a.closeButton)};return i.createElement("div",{className:g.root},i.createElement(s.e,{onClick:u,className:g.itemButton},r(n.item,this.props)),this.props.showRemoveButton?i.createElement(s.g,{iconProps:{iconName:"Cancel",styles:{root:{fontSize:"12px"}}},title:p,ariaLabel:p,onClick:h,className:g.closeButton}):null)},t}(i.Component)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"root",function(){return i}),n.d(t,"suggestionsItem",function(){return o}),n.d(t,"closeButton",function(){return s}),n.d(t,"suggestionsItemIsSuggested",function(){return a}),n.d(t,"itemButton",function(){return c}),n.d(t,"actionButton",function(){return u}),n.d(t,"buttonSelected",function(){return l}),n.d(t,"suggestionsTitle",function(){return h}),n.d(t,"suggestionsContainer",function(){return d}),n.d(t,"suggestionsNone",function(){return p}),n.d(t,"suggestionsSpinner",function(){return f}),n.d(t,"suggestionsAvailable",function(){return m});var r=n(731);Object(r.a)([{rawString:".root_c28b7666{min-width:260px}.suggestionsItem_c28b7666{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;position:relative;overflow:hidden}.suggestionsItem_c28b7666:hover{background:"},{theme:"neutralLighter",defaultValue:"#f3f2f1"},{rawString:"}.suggestionsItem_c28b7666:hover .closeButton_c28b7666{display:block}.suggestionsItem_c28b7666.suggestionsItemIsSuggested_c28b7666{background:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:"}.suggestionsItem_c28b7666.suggestionsItemIsSuggested_c28b7666:hover{background:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c6c4"},{rawString:"}@media screen and (-ms-high-contrast: active){.suggestionsItem_c28b7666.suggestionsItemIsSuggested_c28b7666:hover{background:Highlight;color:HighlightText}}@media screen and (-ms-high-contrast: active){.suggestionsItem_c28b7666.suggestionsItemIsSuggested_c28b7666{background:Highlight;color:HighlightText;-ms-high-contrast-adjust:none}}.suggestionsItem_c28b7666.suggestionsItemIsSuggested_c28b7666 .closeButton_c28b7666:hover{background:"},{theme:"neutralTertiary",defaultValue:"#a19f9d"},{rawString:";color:"},{theme:"neutralPrimary",defaultValue:"#323130"},{rawString:"}@media screen and (-ms-high-contrast: active){.suggestionsItem_c28b7666.suggestionsItemIsSuggested_c28b7666 .itemButton_c28b7666{color:HighlightText}}.suggestionsItem_c28b7666 .closeButton_c28b7666{display:none;color:"},{theme:"neutralSecondary",defaultValue:"#605e5c"},{rawString:"}.suggestionsItem_c28b7666 .closeButton_c28b7666:hover{background:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:"}.actionButton_c28b7666{background-color:transparent;border:0;cursor:pointer;margin:0;position:relative;border-top:1px solid "},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:";height:40px;width:100%;font-size:12px}[dir='ltr'] .actionButton_c28b7666{padding-left:8px}[dir='rtl'] .actionButton_c28b7666{padding-right:8px}html[dir='ltr'] .actionButton_c28b7666{text-align:left}html[dir='rtl'] .actionButton_c28b7666{text-align:right}.actionButton_c28b7666:hover{background-color:"},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:";cursor:pointer}.actionButton_c28b7666:focus,.actionButton_c28b7666:active{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}.actionButton_c28b7666 .ms-Button-icon{font-size:16px;width:25px}.actionButton_c28b7666 .ms-Button-label{margin:0 4px 0 9px}html[dir='rtl'] .actionButton_c28b7666 .ms-Button-label{margin:0 9px 0 4px}.buttonSelected_c28b7666{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}.suggestionsTitle_c28b7666{padding:0 12px;color:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:";font-size:12px;line-height:40px;border-bottom:1px solid "},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:"}.suggestionsContainer_c28b7666{overflow-y:auto;overflow-x:hidden;max-height:300px;border-bottom:1px solid "},{theme:"neutralLight",defaultValue:"#edebe9"},{rawString:"}.suggestionsNone_c28b7666{text-align:center;color:#797775;font-size:12px;line-height:30px}.suggestionsSpinner_c28b7666{margin:5px 0;white-space:nowrap;line-height:20px;font-size:12px}html[dir='ltr'] .suggestionsSpinner_c28b7666{padding-left:14px}html[dir='rtl'] .suggestionsSpinner_c28b7666{padding-right:14px}html[dir='ltr'] .suggestionsSpinner_c28b7666{text-align:left}html[dir='rtl'] .suggestionsSpinner_c28b7666{text-align:right}.suggestionsSpinner_c28b7666 .ms-Spinner-circle{display:inline-block;vertical-align:middle}.suggestionsSpinner_c28b7666 .ms-Spinner-label{display:inline-block;margin:0px 10px 0 16px;vertical-align:middle}html[dir='rtl'] .suggestionsSpinner_c28b7666 .ms-Spinner-label{margin:0px 16px 0 10px}.itemButton_c28b7666.itemButton_c28b7666{width:100%;padding:0px;min-width:0;height:100%}@media screen and (-ms-high-contrast: active){.itemButton_c28b7666.itemButton_c28b7666{color:WindowText}}.itemButton_c28b7666.itemButton_c28b7666:hover{color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:"}.closeButton_c28b7666.closeButton_c28b7666{padding:0 4px;height:auto;width:32px}@media screen and (-ms-high-contrast: active){.closeButton_c28b7666.closeButton_c28b7666{color:WindowText}}.closeButton_c28b7666.closeButton_c28b7666:hover{background:"},{theme:"neutralTertiaryAlt",defaultValue:"#c8c6c4"},{rawString:";color:"},{theme:"neutralDark",defaultValue:"#201f1e"},{rawString:"}.suggestionsAvailable_c28b7666{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}\n"}]);var i="root_c28b7666",o="suggestionsItem_c28b7666",s="closeButton_c28b7666",a="suggestionsItemIsSuggested_c28b7666",c="itemButton_c28b7666",u="actionButton_c28b7666",l="buttonSelected_c28b7666",h="suggestionsTitle_c28b7666",d="suggestionsContainer_c28b7666",p="suggestionsNone_c28b7666",f="suggestionsSpinner_c28b7666",m="suggestionsAvailable_c28b7666"},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),t.b=function(e){var t,n,o,s=e.className,a=e.theme,c=e.suggested,u=a.palette,l=a.semanticColors,h=Object(r.w)(i,a);return{root:[h.root,{display:"flex",alignItems:"stretch",boxSizing:"border-box",width:"100%",position:"relative",selectors:{"&:hover":{background:l.menuItemBackgroundHovered},"&:hover .ms-Suggestions-closeButton":{display:"block"}}},s],itemButton:[h.itemButton,{width:"100%",padding:0,border:"none",height:"100%",minWidth:0,overflow:"hidden",selectors:(t={},t[r.e]={color:"WindowText",selectors:{":hover":{background:"Highlight",color:"HighlightText",MsHighContrastAdjust:"none"}}},t[":hover"]={color:l.menuItemTextHovered},t)},c&&[h.isSuggested,{background:l.menuItemBackgroundPressed,selectors:(n={":hover":{background:l.menuDivider}},n[r.e]={background:"Highlight",color:"HighlightText",MsHighContrastAdjust:"none"},n)}]],closeButton:[h.closeButton,{display:"none",color:u.neutralSecondary,padding:"0 4px",height:"auto",width:32,selectors:(o={":hover, :active":{background:u.neutralTertiaryAlt,color:u.neutralDark}},o[r.e]={color:"WindowText"},o)},c&&{selectors:{":hover, :active":{background:u.neutralTertiary,color:u.neutralPrimary}}}]}};var r=n(5),i={root:"ms-Suggestions-item",itemButton:"ms-Suggestions-itemButton",closeButton:"ms-Suggestions-closeButton",isSuggested:"is-suggested"}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){var e=this;this._isSuggestionModel=function(e){return void 0!==e.item},this._ensureSuggestionModel=function(t){return e._isSuggestionModel(t)?t:{item:t,selected:!1,ariaLabel:t.name||t.primaryText}},this.suggestions=[],this.currentIndex=-1}return e.prototype.updateSuggestions=function(e,t){e&&e.length>0?(this.suggestions=this.convertSuggestionsToSuggestionItems(e),this.currentIndex=t||0,-1===t?this.currentSuggestion=void 0:void 0!==t&&(this.suggestions[t].selected=!0,this.currentSuggestion=this.suggestions[t])):(this.suggestions=[],this.currentIndex=-1,this.currentSuggestion=void 0)},e.prototype.nextSuggestion=function(){if(this.suggestions&&this.suggestions.length){if(this.currentIndex<this.suggestions.length-1)return this.setSelectedSuggestion(this.currentIndex+1),!0;if(this.currentIndex===this.suggestions.length-1)return this.setSelectedSuggestion(0),!0}return!1},e.prototype.previousSuggestion=function(){if(this.suggestions&&this.suggestions.length){if(this.currentIndex>0)return this.setSelectedSuggestion(this.currentIndex-1),!0;if(0===this.currentIndex)return this.setSelectedSuggestion(this.suggestions.length-1),!0}return!1},e.prototype.getSuggestions=function(){return this.suggestions},e.prototype.getCurrentItem=function(){return this.currentSuggestion},e.prototype.getSuggestionAtIndex=function(e){return this.suggestions[e]},e.prototype.hasSelectedSuggestion=function(){return!!this.currentSuggestion},e.prototype.removeSuggestion=function(e){this.suggestions.splice(e,1)},e.prototype.createGenericSuggestion=function(e){var t=this.convertSuggestionsToSuggestionItems([e])[0];this.currentSuggestion=t},e.prototype.convertSuggestionsToSuggestionItems=function(e){return Array.isArray(e)?e.map(this._ensureSuggestionModel):[]},e.prototype.deselectAllSuggestions=function(){this.currentIndex>-1&&(this.suggestions[this.currentIndex].selected=!1,this.currentIndex=-1)},e.prototype.setSelectedSuggestion=function(e){e>this.suggestions.length-1||e<0?(this.currentIndex=0,this.currentSuggestion.selected=!1,this.currentSuggestion=this.suggestions[0],this.currentSuggestion.selected=!0):(this.currentIndex>-1&&(this.suggestions[this.currentIndex].selected=!1),this.suggestions[e].selected=!0,this.currentIndex=e,this.currentSuggestion=this.suggestions[e])},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(732),a=n(106),c=n(2409),u=n(5510),l=Object(o.s)(),h=Object(o._21)(function(e){var t=e.item,n=e.onRemoveItem,u=e.index,h=e.selected,d=e.removeButtonAriaLabel,p=e.styles,f=e.theme,m=e.className,g=e.disabled,b=Object(o.L)(),v=l(p,{theme:f,className:m,selected:h,disabled:g,invalid:t.ValidationState===c.a.warning}),y=v.subComponentStyles?v.subComponentStyles.persona:void 0,S=v.subComponentStyles?v.subComponentStyles.personaCoin:void 0;return i.createElement("div",{className:v.root,"data-is-focusable":!g,"data-is-sub-focuszone":!0,"data-selection-index":u,role:"listitem","aria-labelledby":"selectedItemPersona-"+b},i.createElement("div",{className:v.itemContent,id:"selectedItemPersona-"+b},i.createElement(s.a,Object(r.a)({size:s.d.size24,styles:y,coinProps:{styles:S}},t))),i.createElement(a.g,{onClick:n,disabled:g,iconProps:{iconName:"Cancel",styles:{root:{fontSize:"12px"}}},className:v.removeButton,ariaLabel:d}))},u.a,void 0,{scope:"PeoplePickerItem"})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(732),a=n(5511),c=Object(o.s)(),u=Object(o._21)(function(e){var t=e.personaProps,n=e.suggestionsProps,o=e.compact,a=e.styles,u=e.theme,l=e.className,h=c(a,{theme:u,className:n&&n.suggestionsItemClassName||l}),d=h.subComponentStyles&&h.subComponentStyles.persona?h.subComponentStyles.persona:void 0;return i.createElement("div",{className:h.root},i.createElement(s.a,Object(r.a)({size:s.d.size24,styles:d,className:h.personaWrapper,showSecondaryText:!o},t)))},a.a,void 0,{scope:"PeoplePickerItemSuggestion"})},function(e,t,n){"use strict";t.a=function(e){var t,n=e.className,o=e.theme,s=e.isFocused,a=e.inputClassName,c=e.disabled;if(!o)throw new Error("theme is undefined or null in base BasePicker getStyles function.");var u=o.semanticColors,l=o.effects,h=o.fonts,d=u.inputBorder,p=u.inputBorderHovered,f=u.inputFocusBorderAlt,m=Object(r.w)(i,o);return{root:[m.root,n],text:[m.text,{display:"flex",position:"relative",flexWrap:"wrap",alignItems:"center",boxSizing:"border-box",minWidth:180,minHeight:30,border:"1px solid "+d,borderRadius:l.roundedCorner2},!s&&!c&&{selectors:{":hover":{borderColor:p}}},s&&!c&&Object(r.y)(f,l.roundedCorner2),c&&{borderColor:"rgba(218, 218, 218, 0.29)",selectors:(t={":after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,background:"rgba(218, 218, 218, 0.29)"}},t[r.e]={borderColor:"GrayText",selectors:{":after":{background:"none"}}},t)}],itemsWrapper:[m.itemsWrapper,{display:"flex",flexWrap:"wrap",maxWidth:"100%"}],input:[m.input,h.medium,{height:30,border:"none",flexGrow:1,outline:"none",padding:"0 6px 0",alignSelf:"flex-end",borderRadius:l.roundedCorner2,backgroundColor:"transparent",color:u.inputText,selectors:{"::-ms-clear":{display:"none"}}},a],screenReaderText:r.C}};var r=n(5),i={root:"ms-BasePicker",text:"ms-BasePicker-text",itemsWrapper:"ms-BasePicker-itemsWrapper",input:"ms-BasePicker-input"}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),i=(n.n(r),n(2)),o=n(106),s=n(5513),a=Object(i.s)(),c=Object(i._21)(function(e){var t=e.theme,n=e.styles,i=e.selected,s=e.disabled,c=e.enableTagFocusInDisabledPicker,u=e.children,l=e.className,h=e.index,d=e.onRemoveItem,p=e.removeButtonAriaLabel,f=e.title,m=void 0===f?"string"===typeof e.children?e.children:e.item.name:f,g=a(n,{theme:t,className:l,selected:i,disabled:s});return r.createElement("div",{className:g.root,role:"listitem",key:h,"data-selection-index":h,"data-is-focusable":(c||!s)&&!0},r.createElement("span",{className:g.text,"aria-label":m,title:m},u),r.createElement(o.g,{onClick:d,disabled:s,iconProps:{iconName:"Cancel",styles:{root:{fontSize:"12px"}}},className:g.close,ariaLabel:p}))},s.a,void 0,{scope:"TagItem"})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),i=(n.n(r),n(2)),o=n(5514),s=Object(i.s)(),a=Object(i._21)(function(e){var t=e.styles,n=e.theme,i=e.children,o=s(t,{theme:n});return r.createElement("div",{className:o.suggestionTextOverflow}," ",i," ")},o.a,void 0,{scope:"TagItemSuggestion"})},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(731);Object(r.a)([{rawString:".resultContent_b8ec3aca{display:table-row}.resultContent_b8ec3aca .resultItem_b8ec3aca{display:table-cell;vertical-align:bottom}.peoplePickerPersona_b8ec3aca{width:180px}.peoplePickerPersona_b8ec3aca .ms-Persona-details{width:100%}.peoplePicker_b8ec3aca .ms-BasePicker-text{min-height:40px}.peoplePickerPersonaContent_b8ec3aca{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:7px 12px}\n"}]);var i="peoplePickerPersona_b8ec3aca",o="peoplePickerPersonaContent_b8ec3aca"},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(5522),o=n(5523),s=Object(r._21)(i.a,o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(106),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClick=function(){var e=t.props,n=e.onClick,r=e.disabled,i=e.item;n&&!r&&n(i)},t._onMouseEnter=function(e){var n=t.props,r=n.onHover,i=n.disabled,o=n.item,s=n.onMouseEnter;s&&s(e)||!r||i||r(o)},t._onMouseMove=function(e){var n=t.props,r=n.onHover,i=n.disabled,o=n.item,s=n.onMouseMove;s&&s(e)||!r||i||r(o)},t._onMouseLeave=function(e){var n=t.props,r=n.onHover,i=n.disabled,o=n.onMouseLeave;o&&o(e)||!r||i||r()},t._onFocus=function(){var e=t.props,n=e.onFocus,r=e.disabled,i=e.item;n&&!r&&n(i)},t}return Object(r.d)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.item,r=t.id,a=t.className,c=t.role,u=t.selected,l=t.disabled,h=t.onRenderItem,d=t.cellDisabledStyle,p=t.cellIsSelectedStyle,f=t.index,m=t.label,g=t.getClassNames;return i.createElement(s.e,{id:r,"data-index":f,"data-is-focusable":!0,disabled:l,className:Object(o.t)(a,(e={},e[""+p]=u,e[""+d]=l,e)),onClick:this._onClick,onMouseEnter:this._onMouseEnter,onMouseMove:this._onMouseMove,onMouseLeave:this._onMouseLeave,onFocus:this._onFocus,role:c,"aria-selected":u,ariaLabel:m,title:m,getClassNames:g},h(n))},t.defaultProps={disabled:!1,id:Object(o.L)("gridCell")},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(3313),a=n(3314),c=n(2683),u=n(3317),l=Object(o.s)(),h=function(e){function t(t){var n=e.call(this,t)||this;return n._hoverCard=i.createRef(),n.dismiss=function(e){n._async.clearTimeout(n._openTimerId),n._async.clearTimeout(n._dismissTimerId),e?n._dismissTimerId=n._async.setTimeout(function(){n._setDismissedState()},n.props.cardDismissDelay):n._setDismissedState()},n._cardOpen=function(e){n._shouldBlockHoverCard()||"keydown"===e.type&&e.which!==n.props.openHotKey||(n._async.clearTimeout(n._dismissTimerId),"mouseenter"===e.type&&(n._currentMouseTarget=e.currentTarget),n._executeCardOpen(e))},n._executeCardOpen=function(e){n._async.clearTimeout(n._openTimerId),n._openTimerId=n._async.setTimeout(function(){n.setState(function(t){return t.isHoverCardVisible?t:{isHoverCardVisible:!0,mode:c.a.compact,openMode:"keydown"===e.type?s.b.hotKey:s.b.hover}})},n.props.cardOpenDelay)},n._cardDismiss=function(e,t){if(e){if(!(t instanceof MouseEvent))return;if("keydown"===t.type&&t.which!==o.h.escape)return;n.props.sticky||n._currentMouseTarget!==t.currentTarget&&t.which!==o.h.escape||n.dismiss(!0)}else{if(n.props.sticky&&!(t instanceof MouseEvent)&&t.nativeEvent instanceof MouseEvent&&"mouseleave"===t.type)return;n.dismiss(!0)}},n._setDismissedState=function(){n.setState({isHoverCardVisible:!1,mode:c.a.compact,openMode:s.b.hover})},n._instantOpenAsExpanded=function(e){n._async.clearTimeout(n._dismissTimerId),n.setState(function(e){return e.isHoverCardVisible?e:{isHoverCardVisible:!0,mode:c.a.expanded}})},n._setEventListeners=function(){var e=n.props,t=e.trapFocus,r=e.instantOpenOnClick,i=e.eventListenerTarget,o=i?n._getTargetElement(i):n._getTargetElement(n.props.target),s=n._nativeDismissEvent;o&&(n._events.on(o,"mouseenter",n._cardOpen),n._events.on(o,"mouseleave",s),t?n._events.on(o,"keydown",n._cardOpen):(n._events.on(o,"focus",n._cardOpen),n._events.on(o,"blur",s)),r?n._events.on(o,"click",n._instantOpenAsExpanded):(n._events.on(o,"mousedown",s),n._events.on(o,"keydown",s)))},Object(o._2)(n),n._async=new o.a(n),n._events=new o.e(n),n._nativeDismissEvent=n._cardDismiss.bind(n,!0),n._childDismissEvent=n._cardDismiss.bind(n,!1),n.state={isHoverCardVisible:!1,mode:c.a.compact,openMode:s.b.hover},n}return Object(r.d)(t,e),t.prototype.componentDidMount=function(){this._setEventListeners()},t.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},t.prototype.componentDidUpdate=function(e,t){var n=this;e.target!==this.props.target&&(this._events.off(),this._setEventListeners()),t.isHoverCardVisible!==this.state.isHoverCardVisible&&(this.state.isHoverCardVisible?(this._async.setTimeout(function(){n.setState({mode:c.a.expanded},function(){n.props.onCardExpand&&n.props.onCardExpand()})},this.props.expandedCardOpenDelay),this.props.onCardVisible&&this.props.onCardVisible()):(this.setState({mode:c.a.compact}),this.props.onCardHide&&this.props.onCardHide()))},t.prototype.render=function(){var e=this.props,t=e.expandingCardProps,n=e.children,c=e.id,h=e.setAriaDescribedBy,d=void 0===h||h,p=e.styles,f=e.theme,m=e.className,g=e.type,b=e.plainCardProps,v=e.trapFocus,y=e.setInitialFocus,S=this.state,_=S.isHoverCardVisible,w=S.mode,C=S.openMode,k=c||Object(o.L)("hoverCard");this._classNames=l(p,{theme:f,className:m});var x=Object(r.a)(Object(r.a)({},Object(o.P)(this.props,o.w)),{id:k,trapFocus:!!v,firstFocus:y||C===s.b.hotKey,targetElement:this._getTargetElement(this.props.target),onEnter:this._cardOpen,onLeave:this._childDismissEvent}),O=Object(r.a)(Object(r.a)(Object(r.a)({},t),x),{mode:w}),I=Object(r.a)(Object(r.a)({},b),x);return i.createElement("div",{className:this._classNames.host,ref:this._hoverCard,"aria-describedby":d&&_?k:void 0,"data-is-focusable":!Boolean(this.props.target)},n,_&&(g===s.a.expanding?i.createElement(a.a,Object(r.a)({},O)):i.createElement(u.a,Object(r.a)({},I))))},t.prototype._getTargetElement=function(e){switch(typeof e){case"string":return Object(o.I)().querySelector(e);case"object":return e;default:return this._hoverCard.current||void 0}},t.prototype._shouldBlockHoverCard=function(){return!(!this.props.shouldBlockHoverCard||!this.props.shouldBlockHoverCard())},t.defaultProps={cardOpenDelay:500,cardDismissDelay:100,expandedCardOpenDelay:1500,instantOpenOnClick:!1,setInitialFocus:!1,openHotKey:o.h.c,type:s.a.expanding},t}(i.Component)},function(e,t,n){"use strict";var r,i;n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),function(e){e[e.hover=0]="hover",e[e.hotKey=1]="hotKey"}(r||(r={})),function(e){e.plain="PlainCard",e.expanding="ExpandingCard"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(5528),o=n(3315),s=Object(r._21)(o.a,i.a,void 0,{scope:"ExpandingCard"})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(2683),a=n(3316),c=Object(o.s)(),u=function(e){function t(t){var n=e.call(this,t)||this;return n._expandedElem=i.createRef(),n._onKeyDown=function(e){e.which===o.h.escape&&n.props.onLeave&&n.props.onLeave(e)},n._onRenderCompactCard=function(){return i.createElement("div",{className:n._classNames.compactCard},n.props.onRenderCompactCard(n.props.renderData))},n._onRenderExpandedCard=function(){return!n.state.firstFrameRendered&&n._async.requestAnimationFrame(function(){n.setState({firstFrameRendered:!0})}),i.createElement("div",{className:n._classNames.expandedCard,ref:n._expandedElem},i.createElement("div",{className:n._classNames.expandedCardScroll},n.props.onRenderExpandedCard&&n.props.onRenderExpandedCard(n.props.renderData)))},n._checkNeedsScroll=function(){var e=n.props.expandedCardHeight;n._async.requestAnimationFrame(function(){n._expandedElem.current&&n._expandedElem.current.scrollHeight>=e&&n.setState({needsScroll:!0})})},n._async=new o.a(n),Object(o._2)(n),n.state={firstFrameRendered:!1,needsScroll:!1},n}return Object(r.d)(t,e),t.prototype.componentDidMount=function(){this._checkNeedsScroll()},t.prototype.componentWillUnmount=function(){this._async.dispose()},t.prototype.render=function(){var e=this.props,t=e.styles,n=e.compactCardHeight,o=e.expandedCardHeight,u=e.theme,l=e.mode,h=e.className,d=this.state,p=d.needsScroll,f=d.firstFrameRendered,m=n+o;this._classNames=c(t,{theme:u,compactCardHeight:n,className:h,expandedCardHeight:o,needsScroll:p,expandedCardFirstFrameRendered:l===s.a.expanded&&f});var g=i.createElement("div",{onMouseEnter:this.props.onEnter,onMouseLeave:this.props.onLeave,onKeyDown:this._onKeyDown},this._onRenderCompactCard(),this._onRenderExpandedCard());return i.createElement(a.a,Object(r.a)({},this.props,{content:g,finalHeight:m,className:this._classNames.root}))},t.defaultProps={compactCardHeight:156,expandedCardHeight:384,directionalHintFixed:!0},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(73),a=n(258),c=function(e){var t=e.gapSpace,n=void 0===t?0:t,c=e.directionalHint,u=void 0===c?s.a.bottomLeftEdge:c,l=e.directionalHintFixed,h=e.targetElement,d=e.firstFocus,p=e.trapFocus,f=e.onLeave,m=e.className,g=e.finalHeight,b=e.content,v=e.calloutProps,y=Object(r.a)(Object(r.a)(Object(r.a)({},Object(o.P)(e,o.w)),{className:m,target:h,isBeakVisible:!1,directionalHint:u,directionalHintFixed:l,finalHeight:g,minPagePadding:24,onDismiss:f,gapSpace:n}),v);return i.createElement(i.Fragment,null,p?i.createElement(a.c,Object(r.a)({},y,{focusTrapProps:{forceFocusInsideTrap:!1,isClickableOutsideFocusTrap:!0,disableFirstFocus:!d}}),b):i.createElement(a.a,Object(r.a)({},y),b))}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(5529),o=n(3318),s=Object(r._21)(o.a,i.a,void 0,{scope:"PlainCard"})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(3316),a=Object(o.s)(),c=function(e){function t(t){var n=e.call(this,t)||this;return n._onKeyDown=function(e){e.which===o.h.escape&&n.props.onLeave&&n.props.onLeave(e)},Object(o._2)(n),n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.theme,o=e.className;this._classNames=a(t,{theme:n,className:o});var c=i.createElement("div",{onMouseEnter:this.props.onEnter,onMouseLeave:this.props.onLeave,onKeyDown:this._onKeyDown},this.props.onRenderPlainCard(this.props.renderData));return i.createElement(s.a,Object(r.a)({},this.props,{content:c,className:this._classNames.root}))},t}(i.Component)},function(e,t,n){"use strict";var r=n(5553);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n(5),i=function(e){var t,n=e.theme,i=e.disabled,o=e.visible;return{container:[{backgroundColor:n.palette.neutralDark},i&&{opacity:.5,selectors:(t={},t[r.e]={color:"GrayText",opacity:1},t)},!o&&{visibility:"hidden"}],root:[n.fonts.medium,{textAlign:"center",paddingLeft:"3px",paddingRight:"3px",backgroundColor:n.palette.neutralDark,color:n.palette.neutralLight,minWidth:"11px",lineHeight:"17px",height:"17px",display:"inline-block"},i&&{color:n.palette.neutralTertiaryAlt}]}},o=function(e){return{container:[],root:[{border:"none",boxShadow:"none"}],beak:[],beakCurtain:[],calloutMain:[{backgroundColor:"transparent"}]}},s=function(e){return function(t){return Object(r.E)(o(t),{root:[{marginLeft:e.x,marginTop:e.y}]})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(1),i=n(0),o=(n.n(i),n(3322)),s=n(3319),a=n(261),c=n(2),u=n(414),l=n(5560),h=n(745),d=n(5561),p=n(398),f={key:Object(c._8)()?"Control":"Meta",modifierKeys:[d.a.alt]},m=f,g={key:"Escape"},b=Object(c.s)(),v=function(e){function t(t,n){var i=e.call(this,t,n)||this;i._keytipManager=u.a.getInstance(),i._delayedKeytipQueue=[],i._keyHandled=!1,i._onDismiss=function(e){i.state.inKeytipMode&&i._exitKeytipMode(e)},i._onKeyDown=function(e){i._keyHandled=!1;var t=e.key;switch(t){case"Alt":break;case"Tab":case"Enter":case"Spacebar":case" ":case"ArrowUp":case"Up":case"ArrowDown":case"Down":case"ArrowLeft":case"Left":case"ArrowRight":case"Right":i.state.inKeytipMode&&(i._keyHandled=!0,i._exitKeytipMode(e));break;default:"Esc"===t?t="Escape":"OS"!==t&&"Win"!==t||(t="Meta");var n={key:t};n.modifierKeys=i._getModifierKey(t,e),i.processTransitionInput(n,e)}},i._onKeyPress=function(e){i.state.inKeytipMode&&!i._keyHandled&&(i.processInput(e.key.toLocaleLowerCase(),e),e.preventDefault(),e.stopPropagation())},i._onKeytipAdded=function(e){var t=e.keytip,n=e.uniqueID;if(i._keytipTree.addNode(t,n),i._setKeytips(),i._keytipTree.isCurrentKeytipParent(t)&&(i._addKeytipToQueue(Object(h.e)(t.keySequences)),i._keytipTree.currentKeytip&&i._keytipTree.currentKeytip.hasDynamicChildren&&i._keytipTree.currentKeytip.children.indexOf(t.id)<0)){var r=i._keytipTree.getNode(i._keytipTree.currentKeytip.id);r&&(i._keytipTree.currentKeytip=r)}if(i._newCurrentKeytipSequences&&Object(c.n)(t.keySequences,i._newCurrentKeytipSequences)&&i._triggerKeytipImmediately(t),i._isCurrentKeytipAnAlias(t)){var o=t.keySequences;t.overflowSetSequence&&(o=Object(h.d)(o,t.overflowSetSequence)),i._keytipTree.currentKeytip=i._keytipTree.getNode(Object(h.e)(o))}},i._onKeytipUpdated=function(e){var t=e.keytip,n=e.uniqueID;i._keytipTree.updateNode(t,n),i._setKeytips(),i._keytipTree.isCurrentKeytipParent(t)&&i._addKeytipToQueue(Object(h.e)(t.keySequences))},i._onKeytipRemoved=function(e){var t=e.keytip,n=e.uniqueID;i._removeKeytipFromQueue(Object(h.e)(t.keySequences)),i._keytipTree.removeNode(t,n),i._setKeytips()},i._onPersistedKeytipAdded=function(e){var t=e.keytip,n=e.uniqueID;i._keytipTree.addNode(t,n,!0)},i._onPersistedKeytipRemoved=function(e){var t=e.keytip,n=e.uniqueID;i._keytipTree.removeNode(t,n)},i._onPersistedKeytipExecute=function(e){i._persistedKeytipExecute(e.overflowButtonSequences,e.keytipSequences)},i._setInKeytipMode=function(e){i.setState({inKeytipMode:e}),i._keytipManager.inKeytipMode=e},i._warnIfDuplicateKeytips=function(){var e=i._getDuplicateIds(i._keytipTree.getChildren());e.length&&Object(c._26)("Duplicate keytips found for "+e.join(", "))},i._getDuplicateIds=function(e){var t={};return e.filter(function(e){return t[e]=t[e]?t[e]+1:1,2===t[e]})},Object(c._2)(i),i._events=new c.e(i),i._async=new c.a(i);var o=Object(r.f)(i._keytipManager.getKeytips());return i.state={inKeytipMode:!1,keytips:o,visibleKeytips:i._getVisibleKeytips(o)},i._buildTree(),i._currentSequence="",i._events.on(i._keytipManager,p.g.KEYTIP_ADDED,i._onKeytipAdded),i._events.on(i._keytipManager,p.g.KEYTIP_UPDATED,i._onKeytipUpdated),i._events.on(i._keytipManager,p.g.KEYTIP_REMOVED,i._onKeytipRemoved),i._events.on(i._keytipManager,p.g.PERSISTED_KEYTIP_ADDED,i._onPersistedKeytipAdded),i._events.on(i._keytipManager,p.g.PERSISTED_KEYTIP_REMOVED,i._onPersistedKeytipRemoved),i._events.on(i._keytipManager,p.g.PERSISTED_KEYTIP_EXECUTE,i._onPersistedKeytipExecute),i}return Object(r.d)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.content,c=t.styles,u=this.state,l=u.keytips,d=u.visibleKeytips;return this._classNames=b(c,{}),i.createElement(a.a,{styles:o.a},i.createElement("span",{id:p.d,className:this._classNames.innerContent},""+n+p.c),l&&l.map(function(t,n){return i.createElement("span",{key:n,id:Object(h.e)(t.keySequences),className:e._classNames.innerContent},t.keySequences.join(p.c))}),d&&d.map(function(e){return i.createElement(s.a,Object(r.a)({key:Object(h.e)(e.keySequences)},e))}))},t.prototype.componentDidMount=function(){this._events.on(window,"mouseup",this._onDismiss,!0),this._events.on(window,"pointerup",this._onDismiss,!0),this._events.on(window,"resize",this._onDismiss),this._events.on(window,"keydown",this._onKeyDown,!0),this._events.on(window,"keypress",this._onKeyPress,!0),this._events.on(window,"scroll",this._onDismiss,!0),this._events.on(this._keytipManager,p.g.ENTER_KEYTIP_MODE,this._enterKeytipMode),this._events.on(this._keytipManager,p.g.EXIT_KEYTIP_MODE,this._exitKeytipMode)},t.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},t.prototype.getCurrentSequence=function(){return this._currentSequence},t.prototype.getKeytipTree=function(){return this._keytipTree},t.prototype.processTransitionInput=function(e,t){var n=this._keytipTree.currentKeytip;Object(d.b)(this.props.keytipExitSequences,e)&&n?(this._keyHandled=!0,this._exitKeytipMode(t)):Object(d.b)(this.props.keytipReturnSequences,e)?n&&(this._keyHandled=!0,n.id===this._keytipTree.root.id?this._exitKeytipMode(t):(n.onReturn&&n.onReturn(this._getKtpExecuteTarget(n),this._getKtpTarget(n)),this._currentSequence="",this._keytipTree.currentKeytip=this._keytipTree.getNode(n.parent),this.showKeytips(this._keytipTree.getChildren()),this._warnIfDuplicateKeytips())):Object(d.b)(this.props.keytipStartSequences,e)&&!n&&(this._keyHandled=!0,this._enterKeytipMode(),this._warnIfDuplicateKeytips())},t.prototype.processInput=function(e,t){var n=this._currentSequence+e,r=this._keytipTree.currentKeytip;if(r){var i=this._keytipTree.getExactMatchedNode(n,r);if(i){this._keytipTree.currentKeytip=r=i;var o=this._keytipTree.getChildren();return r.onExecute&&(r.onExecute(this._getKtpExecuteTarget(r),this._getKtpTarget(r)),r=this._keytipTree.currentKeytip),0!==o.length||r.hasDynamicChildren||r.hasMenu?(this.showKeytips(o),this._warnIfDuplicateKeytips()):this._exitKeytipMode(t),void(this._currentSequence="")}var s=this._keytipTree.getPartiallyMatchedNodes(n,r);if(s.length>0){var a=s.filter(function(e){return!e.persisted}).map(function(e){return e.id});this.showKeytips(a),this._currentSequence=n}}},t.prototype.showKeytips=function(e){for(var t=0,n=this._keytipManager.getKeytips();t<n.length;t++){var r=n[t],i=Object(h.e)(r.keySequences);e.indexOf(i)>=0?r.visible=!0:r.overflowSetSequence&&e.indexOf(Object(h.e)(Object(h.d)(r.keySequences,r.overflowSetSequence)))>=0?r.visible=!0:r.visible=!1}this._setKeytips()},t.prototype._enterKeytipMode=function(){this._keytipManager.shouldEnterKeytipMode&&(this._keytipManager.delayUpdatingKeytipChange&&(this._buildTree(),this._setKeytips()),this._keytipTree.currentKeytip=this._keytipTree.root,this.showKeytips(this._keytipTree.getChildren()),this._setInKeytipMode(!0),this.props.onEnterKeytipMode&&this.props.onEnterKeytipMode())},t.prototype._buildTree=function(){this._keytipTree=new l.a;for(var e=0,t=Object.keys(this._keytipManager.keytips);e<t.length;e++){var n=t[e],r=this._keytipManager.keytips[n];this._keytipTree.addNode(r.keytip,r.uniqueID)}for(var i=0,o=Object.keys(this._keytipManager.persistedKeytips);i<o.length;i++){n=o[i],r=this._keytipManager.persistedKeytips[n];this._keytipTree.addNode(r.keytip,r.uniqueID)}},t.prototype._exitKeytipMode=function(e){this._keytipTree.currentKeytip=void 0,this._currentSequence="",this.showKeytips([]),this._delayedQueueTimeout&&this._async.clearTimeout(this._delayedQueueTimeout),this._delayedKeytipQueue=[],this._setInKeytipMode(!1),this.props.onExitKeytipMode&&this.props.onExitKeytipMode(e)},t.prototype._setKeytips=function(e){void 0===e&&(e=this._keytipManager.getKeytips()),this.setState({keytips:e,visibleKeytips:this._getVisibleKeytips(e)})},t.prototype._persistedKeytipExecute=function(e,t){this._newCurrentKeytipSequences=t;var n=this._keytipTree.getNode(Object(h.e)(e));n&&n.onExecute&&n.onExecute(this._getKtpExecuteTarget(n),this._getKtpTarget(n))},t.prototype._getVisibleKeytips=function(e){var t={};return e.filter(function(e){var n=Object(h.e)(e.keySequences);return t[n]=t[n]?t[n]+1:1,e.visible&&1===t[n]})},t.prototype._getModifierKey=function(e,t){var n=[];return t.altKey&&"Alt"!==e&&n.push(d.a.alt),t.ctrlKey&&"Control"!==e&&n.push(d.a.ctrl),t.shiftKey&&"Shift"!==e&&n.push(d.a.shift),t.metaKey&&"Meta"!==e&&n.push(d.a.meta),n.length?n:void 0},t.prototype._triggerKeytipImmediately=function(e){var t=Object(r.f)(e.keySequences);if(e.overflowSetSequence&&(t=Object(h.d)(t,e.overflowSetSequence)),this._keytipTree.currentKeytip=this._keytipTree.getNode(Object(h.e)(t)),this._keytipTree.currentKeytip){var n=this._keytipTree.getChildren();n.length&&this.showKeytips(n),this._keytipTree.currentKeytip.onExecute&&this._keytipTree.currentKeytip.onExecute(this._getKtpExecuteTarget(this._keytipTree.currentKeytip),this._getKtpTarget(this._keytipTree.currentKeytip))}this._newCurrentKeytipSequences=void 0},t.prototype._addKeytipToQueue=function(e){var t=this;this._delayedKeytipQueue.push(e),this._delayedQueueTimeout&&this._async.clearTimeout(this._delayedQueueTimeout),this._delayedQueueTimeout=this._async.setTimeout(function(){t._delayedKeytipQueue.length&&(t.showKeytips(t._delayedKeytipQueue),t._delayedKeytipQueue=[])},300)},t.prototype._removeKeytipFromQueue=function(e){var t=this,n=this._delayedKeytipQueue.indexOf(e);n>=0&&(this._delayedKeytipQueue.splice(n,1),this._delayedQueueTimeout&&this._async.clearTimeout(this._delayedQueueTimeout),this._delayedQueueTimeout=this._async.setTimeout(function(){t._delayedKeytipQueue.length&&(t.showKeytips(t._delayedKeytipQueue),t._delayedKeytipQueue=[])},300))},t.prototype._getKtpExecuteTarget=function(e){return Object(c.I)().querySelector(Object(h.b)(e.id))},t.prototype._getKtpTarget=function(e){return Object(c.I)().querySelector(Object(h.c)(e.keySequences))},t.prototype._isCurrentKeytipAnAlias=function(e){var t=this._keytipTree.currentKeytip;return!(!t||!t.overflowSetSequence&&!t.persisted||!Object(c.n)(e.keySequences,t.keySequences))},t.defaultProps={keytipStartSequences:[f],keytipExitSequences:[m],keytipReturnSequences:[g],content:""},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(5),i=function(e){return{root:[{zIndex:r.r.KeytipLayer}]}},o=function(e){return{innerContent:[{position:"absolute",width:0,height:0,margin:0,padding:0,border:0,overflow:"hidden",visibility:"hidden"}]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r,i=n(1),o=n(0),s=(n.n(o),n(106)),a=n(3324),c=n(2),u=n(89),l=n(48),h=n(23);var d=Object(c.s)(),p=function(e){function t(t){var n=e.call(this,t)||this;return n._focusZone=o.createRef(),n._onRenderLink=function(e){var t=n.props,r=t.styles,i=t.groups,s=t.theme,a=d(r,{theme:s,groups:i});return o.createElement("div",{className:a.linkText},e.name)},n._renderGroup=function(e,t){var r=n.props,i=r.styles,s=r.groups,a=r.theme,c=r.onRenderGroupHeader,u=void 0===c?n._renderGroupHeader:c,l=d(i,{theme:a,isGroup:!0,isExpanded:n._isGroupExpanded(e),groups:s});return o.createElement("div",{key:t,className:l.group},e.name?u(e,n._renderGroupHeader):null,o.createElement("div",{className:l.groupContent},n._renderLinks(e.links,0)))},n._renderGroupHeader=function(e){var t=n.props,r=t.styles,i=t.groups,s=t.theme,a=t.expandButtonAriaLabel,c=d(r,{theme:s,isGroup:!0,isExpanded:n._isGroupExpanded(e),groups:i}),u=n._isGroupExpanded(e),h=(u?e.collapseAriaLabel:e.expandAriaLabel)||a;return o.createElement("button",{className:c.chevronButton,onClick:n._onGroupHeaderClicked.bind(n,e),"aria-label":h,"aria-expanded":u},o.createElement(l.b,{className:c.chevronIcon,iconName:"ChevronDown"}),e.name)},Object(c._2)(n),n.state={isGroupCollapsed:{},isLinkExpandStateChanged:!1,selectedKey:t.initialSelectedKey||t.selectedKey},n}return Object(i.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.groups,r=e.className,i=e.isOnTop,s=e.theme;if(!n)return null;var a=n.map(this._renderGroup),c=d(t,{theme:s,className:r,isOnTop:i,groups:n});return o.createElement(u.a,{direction:u.b.vertical,componentRef:this._focusZone},o.createElement("nav",{role:"navigation",className:c.root,"aria-label":this.props.ariaLabel},a))},Object.defineProperty(t.prototype,"selectedKey",{get:function(){return this.state.selectedKey},enumerable:!0,configurable:!0}),t.prototype.focus=function(e){return void 0===e&&(e=!1),!(!this._focusZone||!this._focusZone.current)&&this._focusZone.current.focus(e)},t.prototype._renderNavLink=function(e,t,n){var r,i=this.props,c=i.styles,u=i.groups,l=i.theme,p=e.icon||e.iconProps,f=this._isLinkSelected(e),m=e.ariaCurrent,g=void 0===m?"page":m,b=d(c,{theme:l,isSelected:f,isDisabled:e.disabled,isButtonEntry:e.onClick&&!e.forceAnchor,leftPadding:14*n+3+(p?0:24),groups:u}),v=e.url&&e.target&&(!(r=e.url)||/^[a-z0-9+-.]+:\/\//i.test(r))?"noopener noreferrer":void 0,y=this.props.linkAs?Object(h.z)(this.props.linkAs,s.a):s.a,S=this.props.onRenderLink?Object(h.A)(this.props.onRenderLink,this._onRenderLink):this._onRenderLink;return o.createElement(y,{className:b.link,styles:a.a,href:e.url||(e.forceAnchor?"#":void 0),iconProps:e.iconProps||{iconName:e.icon},onClick:e.onClick?this._onNavButtonLinkClicked.bind(this,e):this._onNavAnchorLinkClicked.bind(this,e),title:void 0!==e.title?e.title:e.name,target:e.target,rel:v,disabled:e.disabled,"aria-current":f?g:void 0,"aria-label":e.ariaLabel?e.ariaLabel:void 0,link:e},S(e))},t.prototype._renderCompositeLink=function(e,t,n){var r=Object(i.a)({},Object(c.P)(e,c.w,["onClick"])),s=this.props,a=s.expandButtonAriaLabel,u=s.styles,h=s.groups,p=s.theme,f=d(u,{theme:p,isExpanded:!!e.isExpanded,isSelected:this._isLinkSelected(e),isLink:!0,isDisabled:e.disabled,position:14*n+1,groups:h}),m="";return e.links&&e.links.length>0&&(m=e.collapseAriaLabel||e.expandAriaLabel?e.isExpanded?e.collapseAriaLabel:e.expandAriaLabel:a?e.name+" "+a:e.name),o.createElement("div",Object(i.a)({},r,{key:e.key||t,className:f.compositeLink}),e.links&&e.links.length>0?o.createElement("button",{className:f.chevronButton,onClick:this._onLinkExpandClicked.bind(this,e),"aria-label":m,"aria-expanded":e.isExpanded?"true":"false"},o.createElement(l.b,{className:f.chevronIcon,iconName:"ChevronDown"})):null,this._renderNavLink(e,t,n))},t.prototype._renderLink=function(e,t,n){var r=this.props,i=r.styles,s=r.groups,a=r.theme,c=d(i,{theme:a,groups:s});return o.createElement("li",{key:e.key||t,role:"listitem",className:c.navItem},this._renderCompositeLink(e,t,n),e.isExpanded?this._renderLinks(e.links,++n):null)},t.prototype._renderLinks=function(e,t){var n=this;if(!e||!e.length)return null;var r=e.map(function(e,r){return n._renderLink(e,r,t)}),i=this.props,s=i.styles,a=i.groups,c=i.theme,u=d(s,{theme:c,groups:a});return o.createElement("ul",{role:"list",className:u.navItems},r)},t.prototype._onGroupHeaderClicked=function(e,t){e.onHeaderClick&&e.onHeaderClick(t,this._isGroupExpanded(e)),this._toggleCollapsed(e),t.preventDefault(),t.stopPropagation()},t.prototype._onLinkExpandClicked=function(e,t){var n=this.props.onLinkExpandClick;n&&n(t,e),t.defaultPrevented||(e.isExpanded=!e.isExpanded,this.setState({isLinkExpandStateChanged:!0})),t.preventDefault(),t.stopPropagation()},t.prototype._preventBounce=function(e,t){!e.url&&e.forceAnchor&&t.preventDefault()},t.prototype._onNavAnchorLinkClicked=function(e,t){this._preventBounce(e,t),this.props.onLinkClick&&this.props.onLinkClick(t,e),!e.url&&e.links&&e.links.length>0&&this._onLinkExpandClicked(e,t),this.setState({selectedKey:e.key})},t.prototype._onNavButtonLinkClicked=function(e,t){this._preventBounce(e,t),e.onClick&&e.onClick(t,e),!e.url&&e.links&&e.links.length>0&&this._onLinkExpandClicked(e,t),this.setState({selectedKey:e.key})},t.prototype._isLinkSelected=function(e){if(void 0!==this.props.selectedKey)return e.key===this.props.selectedKey;if(void 0!==this.state.selectedKey)return e.key===this.state.selectedKey;if("undefined"===typeof Object(c.W)()||!e.url)return!1;(r=r||document.createElement("a")).href=e.url||"";var t=r.href;return location.href===t||(location.protocol+"//"+location.host+location.pathname===t||!!location.hash&&(location.hash===e.url||(r.href=location.hash.substring(1),r.href===t)))},t.prototype._isGroupExpanded=function(e){return e.name&&this.state.isGroupCollapsed.hasOwnProperty(e.name)?!this.state.isGroupCollapsed[e.name]:void 0===e.collapseByDefault||!e.collapseByDefault},t.prototype._toggleCollapsed=function(e){var t;if(e.name){var n=Object(i.a)(Object(i.a)({},this.state.isGroupCollapsed),((t={})[e.name]=this._isGroupExpanded(e),t));this.setState({isGroupCollapsed:n})}},t.defaultProps={groups:null},t}(o.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r=n(5),i={root:"ms-Nav",linkText:"ms-Nav-linkText",compositeLink:"ms-Nav-compositeLink",link:"ms-Nav-link",chevronButton:"ms-Nav-chevronButton",chevronIcon:"ms-Nav-chevron",navItem:"ms-Nav-navItem",navItems:"ms-Nav-navItems",group:"ms-Nav-group",groupContent:"ms-Nav-groupContent"},o={textContainer:{overflow:"hidden"},label:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},s=function(e){var t,n=e.className,o=e.theme,s=e.isOnTop,a=e.isExpanded,c=e.isGroup,u=e.isLink,l=e.isSelected,h=e.isDisabled,d=e.isButtonEntry,p=e.navHeight,f=void 0===p?44:p,m=e.position,g=e.leftPadding,b=void 0===g?20:g,v=e.leftPaddingExpanded,y=void 0===v?28:v,S=e.rightPadding,_=void 0===S?20:S,w=o.palette,C=o.semanticColors,k=o.fonts,x=Object(r.w)(i,o);return{root:[x.root,n,k.medium,{overflowY:"auto",userSelect:"none",WebkitOverflowScrolling:"touch"},s&&[{position:"absolute"},r.a.slideRightIn40]],linkText:[x.linkText,{margin:"0 4px",overflow:"hidden",verticalAlign:"middle",textAlign:"left",textOverflow:"ellipsis"}],compositeLink:[x.compositeLink,{display:"block",position:"relative",color:C.bodyText},a&&"is-expanded",l&&"is-selected",h&&"is-disabled",h&&{color:C.disabledText}],link:[x.link,Object(r.v)(o),{display:"block",position:"relative",height:f,width:"100%",lineHeight:f+"px",textDecoration:"none",cursor:"pointer",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",paddingLeft:b,paddingRight:_,color:C.bodyText,selectors:(t={},t[r.e]={borderColor:"transparent",selectors:{":focus":{borderColor:"WindowText"}}},t)},!h&&{selectors:{".ms-Nav-compositeLink:hover &":{backgroundColor:C.bodyBackgroundHovered}}},l&&{color:C.bodyTextChecked,fontWeight:r.d.semibold,backgroundColor:C.bodyBackgroundChecked,selectors:{"&:after":{borderLeft:"2px solid "+w.themePrimary,content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none"}}},h&&{color:C.disabledText},d&&{color:w.themePrimary}],chevronButton:[x.chevronButton,Object(r.v)(o),k.small,{display:"block",textAlign:"left",lineHeight:f+"px",margin:"5px 0",padding:"0px, "+_+"px, 0px, "+y+"px",border:"none",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",cursor:"pointer",color:C.bodyText,backgroundColor:"transparent",selectors:{"&:visited":{color:C.bodyText}}},c&&{fontSize:k.large.fontSize,width:"100%",height:f,borderBottom:"1px solid "+C.bodyDivider},u&&{display:"block",width:y-2,height:f-2,position:"absolute",top:"1px",left:m+"px",zIndex:r.r.Nav,padding:0,margin:0},l&&{color:w.themePrimary,backgroundColor:w.neutralLighterAlt,selectors:{"&:after":{borderLeft:"2px solid "+w.themePrimary,content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none"}}}],chevronIcon:[x.chevronIcon,{position:"absolute",left:"8px",height:f,lineHeight:f+"px",fontSize:k.small.fontSize,transition:"transform .1s linear"},a&&{transform:"rotate(-180deg)"},u&&{top:0}],navItem:[x.navItem,{padding:0}],navItems:[x.navItems,{listStyleType:"none",padding:0,margin:0}],group:[x.group,a&&"is-expanded"],groupContent:[x.groupContent,{display:"none",marginBottom:"40px"},r.a.slideDownIn20,a&&{display:"block"}]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(106),a=n(89),c=n(3326),u=n(2684),l=n(48),h=Object(o.s)(),d="Pivot",p=function(e){function t(t){var n=e.call(this,t)||this;n._focusZone=i.createRef(),n._renderPivotLink=function(e,t,o){var a,c=t.itemKey,u=t.headerButtonProps,l=e.keyToTabIdMapping[c],h=t.onRenderItemLink,d=o===c;a=h?h(t,n._renderLinkContent):n._renderLinkContent(t);var p=t.headerText||"";return p+=t.itemCount?" ("+t.itemCount+")":"",p+=t.itemIcon?" xx":"",i.createElement(s.e,Object(r.a)({},u,{id:l,key:c,className:d?n._classNames.linkIsSelected:n._classNames.link,onClick:n._onLinkClick.bind(n,c),onKeyPress:n._onKeyPress.bind(n,c),ariaLabel:t.ariaLabel,role:"tab","aria-selected":d,name:t.headerText,keytipProps:t.keytipProps,"data-content":p}),a)},n._renderLinkContent=function(e){var t=e.itemCount,r=e.itemIcon,o=e.headerText,s=n._classNames;return i.createElement("span",{className:s.linkContent},void 0!==r&&i.createElement("span",{className:s.icon},i.createElement(l.b,{iconName:r})),void 0!==o&&i.createElement("span",{className:s.text}," ",e.headerText),void 0!==t&&i.createElement("span",{className:s.count}," (",t,")"))},n._pivotId=Object(o.L)(d);var a,c=n._getPivotLinks(t).links,u=t.defaultSelectedKey,h=void 0===u?t.initialSelectedKey:u,p=t.defaultSelectedIndex,f=void 0===p?t.initialSelectedIndex:p;return h?a=h:"number"===typeof f?a=c[f].itemKey:c.length&&(a=c[0].itemKey),n.state={selectedKey:a},n}return Object(r.d)(t,e),t.prototype.focus=function(){this._focusZone.current&&this._focusZone.current.focus()},t.prototype.render=function(){var e=this._getPivotLinks(this.props),t=this._getSelectedKey(e),n=Object(o.P)(this.props,o.w);return this._classNames=this._getClassNames(this.props),i.createElement("div",Object(r.a)({role:"toolbar"},n),this._renderPivotLinks(e,t),t&&this._renderPivotItem(e,t))},t.prototype._getSelectedKey=function(e){var t=this.props.selectedKey;if(this._isKeyValid(e,t)||null===t)return t;var n=this.state.selectedKey;return this._isKeyValid(e,n)?n:e.links.length?e.links[0].itemKey:void 0},t.prototype._renderPivotLinks=function(e,t){var n=this,r=e.links.map(function(r){return n._renderPivotLink(e,r,t)});return i.createElement(a.a,{componentRef:this._focusZone,direction:a.b.horizontal},i.createElement("div",{className:this._classNames.root,role:"tablist"},r))},t.prototype._renderPivotItem=function(e,t){if(this.props.headersOnly||!t)return null;var n=e.keyToIndexMapping[t],r=e.keyToTabIdMapping[t];return i.createElement("div",{role:"tabpanel","aria-labelledby":r,className:this._classNames.itemContainer},i.Children.toArray(this.props.children)[n])},t.prototype._getPivotLinks=function(e){var t=this,n={links:[],keyToIndexMapping:{},keyToTabIdMapping:{}};return i.Children.map(i.Children.toArray(e.children),function(e,i){if(f(e)){var s=e,a=s.props,c=a.linkText,u=Object(r.e)(a,["linkText"]),l=s.props.itemKey||i.toString();n.links.push(Object(r.a)(Object(r.a)({headerText:c},u),{itemKey:l})),n.keyToIndexMapping[l]=i,n.keyToTabIdMapping[l]=t._getTabId(l,i)}else Object(o._26)("The children of a Pivot component must be of type PivotItem to be rendered.")}),n},t.prototype._getTabId=function(e,t){return this.props.getTabId?this.props.getTabId(e,t):this._pivotId+"-Tab"+t},t.prototype._isKeyValid=function(e,t){return void 0!==t&&null!==t&&void 0!==e.keyToIndexMapping[t]},t.prototype._onLinkClick=function(e,t){t.preventDefault(),this._updateSelectedItem(e,t)},t.prototype._onKeyPress=function(e,t){t.which===o.h.enter&&(t.preventDefault(),this._updateSelectedItem(e))},t.prototype._updateSelectedItem=function(e,t){this.setState({selectedKey:e});var n=this._getPivotLinks(this.props);if(this.props.onLinkClick&&n.keyToIndexMapping[e]>=0){var r=n.keyToIndexMapping[e],o=i.Children.toArray(this.props.children)[r];f(o)&&this.props.onLinkClick(o,t)}},t.prototype._getClassNames=function(e){var t=e.theme,n=e.linkSize===u.b.large,r=e.linkFormat===u.a.tabs;return h(e.styles,{theme:t,rootIsLarge:n,rootIsTabs:r})},t}(i.Component);function f(e){return!!e&&"object"===typeof e&&!!e.type&&e.type.name===c.a.name}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(0),o=(n.n(i),n(2)),s="PivotItem",a=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),Object(o._29)(s,t,{linkText:"headerText"}),n}return Object(r.d)(t,e),t.prototype.render=function(){return i.createElement("div",Object(r.a)({},Object(o.P)(this.props,o.w)),this.props.children)},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(48),a=n(89),c=n(3328),u=Object(o.s)(),l=function(e){var t=e.icon||"FavoriteStarFill";return i.createElement("div",{className:e.classNames.ratingStar,key:e.id},i.createElement(s.b,{className:e.classNames.ratingStarBack,iconName:t}),!e.disabled&&i.createElement(s.b,{className:e.classNames.ratingStarFront,iconName:t,style:{width:e.fillPercentage+"%"}}))},h=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),Object(o._29)("Rating",t,{onChanged:"onChange"}),n._id=Object(o.L)("Rating"),n._min=n.props.allowZeroStars?0:1,void 0!==n.props.min&&1!==n.props.min&&(n._min=n.props.min),n._labelId=Object(o.L)("RatingLabel"),n.state={rating:n._getInitialValue(t)},n}return Object(r.d)(t,e),t.prototype.render=function(){var e,t,n,s=this.props,h=s.disabled,d=s.getAriaLabel,p=s.styles,f=s.max,m=s.readOnly,g=s.size,b=s.theme,v=s.icon,y=void 0===v?"FavoriteStarFill":v,S=s.unselectedIcon,_=void 0===S?"FavoriteStar":S,w=this._id,C=[],k=[],x=this._getRating(),O=Object(o.P)(this.props,o.w);this._classNames=u(p,{disabled:h,readOnly:m,theme:b});for(var I=this._min;I<=f;I++)if(0!==I){var T=this._getFillingPercentage(I),E={fillPercentage:T,disabled:h,classNames:this._classNames,icon:T>0?y:_};k.push(this._getStarId(I-1)),C.push(i.createElement("button",Object(r.a)({className:Object(o.t)(this._classNames.ratingButton,(e={},e[this._classNames.ratingStarIsLarge]=g===c.a.Large,e[this._classNames.ratingStarIsSmall]=g!==c.a.Large,e)),id:k[I-1],key:I},I===Math.ceil(x)?{"data-is-current":!0}:{},{onFocus:this._onFocus.bind(this,I),onClick:this._onFocus.bind(this,I),disabled:!(!h&&!m),role:"presentation",type:"button"}),this._getLabel(I),i.createElement(l,Object(r.a)({key:I+"rating"},E))))}var N=d?d(x||0,f):void 0,M=m?{allowFocusRoot:!0,disabled:!0,"aria-label":N,"aria-readonly":!0,"data-is-focusable":!0,tabIndex:0}:void 0;return i.createElement("div",Object(r.a)({className:Object(o.t)("ms-Rating-star",this._classNames.root,(t={},t[this._classNames.rootIsLarge]=g===c.a.Large,t[this._classNames.rootIsSmall]=g!==c.a.Large,t)),"aria-label":m?"":N,id:w},O),i.createElement(a.a,Object(r.a)({direction:a.b.horizontal,className:Object(o.t)(this._classNames.ratingFocusZone,(n={},n[this._classNames.rootIsLarge]=g===c.a.Large,n[this._classNames.rootIsSmall]=g!==c.a.Large,n)),defaultActiveElement:x?k[Math.ceil(x)-1]&&"#"+k[Math.ceil(x)-1]:void 0},M),C))},t.prototype._getStarId=function(e){return this._id+"-star-"+e},t.prototype._onFocus=function(e,t){if(Math.ceil(this.state.rating)!==e){this.setState({rating:e});var n=this.props,r=n.onChange,i=n.onChanged;r&&r(t,e),i&&i(e)}},t.prototype._getLabel=function(e){var t=this.props.ariaLabelFormat||"";return i.createElement("span",{id:this._labelId+"-"+e,className:this._classNames.labelText},Object(o.G)(t,e,this.props.max))},t.prototype._getInitialValue=function(e){return"undefined"===typeof e.rating?this._min:null!==e.rating?this._getClampedRating(e.rating):void 0},t.prototype._getClampedRating=function(e){return Math.min(Math.max(e,this._min),this.props.max)},t.prototype._getRating=function(){return void 0!==this.props.rating?this._getClampedRating(this.props.rating):void 0!==this.state.rating&&null!==this.state.rating?this._getClampedRating(this.state.rating):0},t.prototype._getFillingPercentage=function(e){var t=this._getRating(),n=Math.ceil(t),r=100;return e===t?r=100:e===n?r=t%1*100:e>n&&(r=0),r},t.defaultProps={min:1,max:5},t}(i.Component)},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.Small=0]="Small",e[e.Large=1]="Large"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(2685),a=Object(o.s)(),c=function(e){function t(t){var n=e.call(this,t)||this;return n._root=i.createRef(),n._stickyAboveRef=i.createRef(),n._stickyBelowRef=i.createRef(),n._contentContainer=i.createRef(),n.subscribe=function(e){n._subscribers.add(e)},n.unsubscribe=function(e){n._subscribers.delete(e)},n.addSticky=function(e){n._stickies.add(e),n.contentContainer&&(e.setDistanceFromTop(n.contentContainer),n.sortSticky(e))},n.removeSticky=function(e){n._stickies.delete(e),n._removeStickyFromContainers(e),n.notifySubscribers()},n.sortSticky=function(e,t){n.stickyAbove&&n.stickyBelow&&(t&&n._removeStickyFromContainers(e),e.canStickyTop&&e.stickyContentTop&&n._addToStickyContainer(e,n.stickyAbove,e.stickyContentTop),e.canStickyBottom&&e.stickyContentBottom&&n._addToStickyContainer(e,n.stickyBelow,e.stickyContentBottom))},n.updateStickyRefHeights=function(){var e=n._stickies,t=0,r=0;e.forEach(function(e){var i=e.state,o=i.isStickyTop,s=i.isStickyBottom;e.nonStickyContent&&(o&&(t+=e.nonStickyContent.offsetHeight),s&&(r+=e.nonStickyContent.offsetHeight),n._checkStickyStatus(e))}),n.setState({stickyTopHeight:t,stickyBottomHeight:r})},n.notifySubscribers=function(){n.contentContainer&&n._subscribers.forEach(function(e){e(n.contentContainer,n.stickyBelow)})},n.getScrollPosition=function(){return n.contentContainer?n.contentContainer.scrollTop:0},n.syncScrollSticky=function(e){e&&n.contentContainer&&e.syncScroll(n.contentContainer)},n._getScrollablePaneContext=function(){return{scrollablePane:{subscribe:n.subscribe,unsubscribe:n.unsubscribe,addSticky:n.addSticky,removeSticky:n.removeSticky,updateStickyRefHeights:n.updateStickyRefHeights,sortSticky:n.sortSticky,notifySubscribers:n.notifySubscribers,syncScrollSticky:n.syncScrollSticky}}},n._addToStickyContainer=function(e,t,r){if(t.children.length){if(!t.contains(r)){var i=[].slice.call(t.children),o=[];n._stickies.forEach(function(r){t===n.stickyAbove&&e.canStickyTop?o.push(r):e.canStickyBottom&&o.push(r)});for(var s=void 0,a=0,c=o.sort(function(e,t){return(e.state.distanceFromTop||0)-(t.state.distanceFromTop||0)}).filter(function(e){var r=t===n.stickyAbove?e.stickyContentTop:e.stickyContentBottom;if(r)return i.indexOf(r)>-1});a<c.length;a++){var u=c[a];if((u.state.distanceFromTop||0)>=(e.state.distanceFromTop||0)){s=u;break}}var l=null;s&&(l=t===n.stickyAbove?s.stickyContentTop:s.stickyContentBottom),t.insertBefore(r,l)}}else t.appendChild(r)},n._removeStickyFromContainers=function(e){n.stickyAbove&&e.stickyContentTop&&n.stickyAbove.contains(e.stickyContentTop)&&n.stickyAbove.removeChild(e.stickyContentTop),n.stickyBelow&&e.stickyContentBottom&&n.stickyBelow.contains(e.stickyContentBottom)&&n.stickyBelow.removeChild(e.stickyContentBottom)},n._onWindowResize=function(){var e=n._getScrollbarWidth(),t=n._getScrollbarHeight();n.setState({scrollbarWidth:e,scrollbarHeight:t}),n.notifySubscribers()},n._getStickyContainerStyle=function(e,t){return Object(r.a)(Object(r.a)({height:e},Object(o.S)(n.props.theme)?{right:"0",left:(n.state.scrollbarWidth||n._getScrollbarWidth()||0)+"px"}:{left:"0",right:(n.state.scrollbarWidth||n._getScrollbarWidth()||0)+"px"}),t?{top:"0"}:{bottom:(n.state.scrollbarHeight||n._getScrollbarHeight()||0)+"px"})},n._onScroll=function(){var e=n.contentContainer;e&&n._stickies.forEach(function(t){t.syncScroll(e)}),n._notifyThrottled()},n._subscribers=new Set,n._stickies=new Set,Object(o._2)(n),n._async=new o.a(n),n._events=new o.e(n),n.state={stickyTopHeight:0,stickyBottomHeight:0,scrollbarWidth:0,scrollbarHeight:0},n._notifyThrottled=n._async.throttle(n.notifySubscribers,50),n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"root",{get:function(){return this._root.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyAbove",{get:function(){return this._stickyAboveRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyBelow",{get:function(){return this._stickyBelowRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentContainer",{get:function(){return this._contentContainer.current},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){var e=this,t=this.props.initialScrollPosition;this._events.on(this.contentContainer,"scroll",this._onScroll),this._events.on(window,"resize",this._onWindowResize),this.contentContainer&&t&&(this.contentContainer.scrollTop=t),this.setStickiesDistanceFromTop(),this._stickies.forEach(function(t){e.sortSticky(t)}),this.notifySubscribers(),"MutationObserver"in window&&(this._mutationObserver=new MutationObserver(function(t){var n=e._getScrollbarHeight();if(n!==e.state.scrollbarHeight&&e.setState({scrollbarHeight:n}),e.notifySubscribers(),t.some(function(e){return null!==this.stickyAbove&&null!==this.stickyBelow&&(this.stickyAbove.contains(e.target)||this.stickyBelow.contains(e.target))}.bind(e)))e.updateStickyRefHeights();else{var r=[];e._stickies.forEach(function(e){e.root&&e.root.contains(t[0].target)&&r.push(e)}),r.length&&r.forEach(function(e){e.forceUpdate()})}}),this.root&&this._mutationObserver.observe(this.root,{childList:!0,attributes:!0,subtree:!0,characterData:!0}))},t.prototype.componentWillUnmount=function(){this._events.dispose(),this._async.dispose(),this._mutationObserver&&this._mutationObserver.disconnect()},t.prototype.shouldComponentUpdate=function(e,t){return this.props.children!==e.children||this.props.initialScrollPosition!==e.initialScrollPosition||this.props.className!==e.className||this.state.stickyTopHeight!==t.stickyTopHeight||this.state.stickyBottomHeight!==t.stickyBottomHeight||this.state.scrollbarWidth!==t.scrollbarWidth||this.state.scrollbarHeight!==t.scrollbarHeight},t.prototype.componentDidUpdate=function(e,t){var n=this.props.initialScrollPosition;this.contentContainer&&"number"===typeof n&&e.initialScrollPosition!==n&&(this.contentContainer.scrollTop=n),t.stickyTopHeight===this.state.stickyTopHeight&&t.stickyBottomHeight===this.state.stickyBottomHeight||this.notifySubscribers(),this._async.setTimeout(this._onWindowResize,0)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.theme,c=e.styles,u=this.state,l=u.stickyTopHeight,h=u.stickyBottomHeight,d=a(c,{theme:n,className:t,scrollbarVisibility:this.props.scrollbarVisibility});return i.createElement("div",Object(r.a)({},Object(o.P)(this.props,o.w),{ref:this._root,className:d.root}),i.createElement("div",{"aria-hidden":"true",ref:this._stickyAboveRef,className:d.stickyAbove,style:this._getStickyContainerStyle(l,!0)}),i.createElement("div",{ref:this._contentContainer,className:d.contentContainer,"data-is-scrollable":!0},i.createElement(s.a.Provider,{value:this._getScrollablePaneContext()},this.props.children)),i.createElement("div",{"aria-hidden":"true",className:d.stickyBelow,style:this._getStickyContainerStyle(h,!1)},i.createElement("div",{ref:this._stickyBelowRef,className:d.stickyBelowItems})))},t.prototype.setStickiesDistanceFromTop=function(){var e=this;this.contentContainer&&this._stickies.forEach(function(t){t.setDistanceFromTop(e.contentContainer)})},t.prototype.forceLayoutUpdate=function(){this._onWindowResize()},t.prototype._checkStickyStatus=function(e){this.stickyAbove&&this.stickyBelow&&this.contentContainer&&e.nonStickyContent&&(e.state.isStickyTop||e.state.isStickyBottom?(e.state.isStickyTop&&!this.stickyAbove.contains(e.nonStickyContent)&&e.stickyContentTop&&e.addSticky(e.stickyContentTop),e.state.isStickyBottom&&!this.stickyBelow.contains(e.nonStickyContent)&&e.stickyContentBottom&&e.addSticky(e.stickyContentBottom)):this.contentContainer.contains(e.nonStickyContent)||e.resetSticky())},t.prototype._getScrollbarWidth=function(){var e=this.contentContainer;return e?e.offsetWidth-e.clientWidth:0},t.prototype._getScrollbarHeight=function(){var e=this.contentContainer;return e?e.offsetHeight-e.clientHeight:0},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(106),a=n(48),c=Object(o.s)(),u="SearchBox",l=function(e){function t(t){var n=e.call(this,t)||this;return n._rootElement=i.createRef(),n._inputElement=i.createRef(),n._onClickFocus=function(){var e=n._inputElement.current;e&&(n.focus(),e.selectionStart=e.selectionEnd=0)},n._onFocusCapture=function(e){n.setState({hasFocus:!0}),n.props.onFocus&&n.props.onFocus(e)},n._onClearClick=function(e){var t=n.props.clearButtonProps;t&&t.onClick&&t.onClick(e),e.defaultPrevented||n._onClear(e)},n._onKeyDown=function(e){switch(e.which){case o.h.escape:n.props.onEscape&&n.props.onEscape(e),e.defaultPrevented||n._onClear(e);break;case o.h.enter:if(n.props.onSearch){n.props.onSearch(n.state.value);break}return;default:if(n.props.onKeyDown&&n.props.onKeyDown(e),!e.defaultPrevented)return}e.preventDefault(),e.stopPropagation()},n._onBlur=function(e){n.setState({hasFocus:!1}),n.props.onBlur&&n.props.onBlur(e)},n._onInputChange=function(e){var t=e.target.value;t!==n._latestValue&&(n._latestValue=t,n.setState({value:t}),n._callOnChange(e,t))},Object(o._2)(n),Object(o._29)(u,t,{labelText:"placeholder",defaultValue:"value"}),n._latestValue=t.value||"",n._fallbackId=Object(o.L)(u),n.state={value:n._latestValue,hasFocus:!1},n}return Object(r.d)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){void 0!==e.value&&(this._latestValue=e.value,this.setState({value:e.value||""}))},t.prototype.render=function(){var e=this.props,t=e.ariaLabel,n=e.placeholder,u=e.className,l=e.disabled,h=e.underlined,d=e.styles,p=e.labelText,f=e.theme,m=e.clearButtonProps,g=e.disableAnimation,b=e.iconProps,v=e.id,y=void 0===v?this._fallbackId:v,S=this.state,_=S.value,w=S.hasFocus,C=void 0!==n?n:p,k=c(d,{theme:f,className:u,underlined:h,hasFocus:w,disabled:l,hasInput:_.length>0,disableAnimation:g}),x=Object(o.P)(this.props,o._3,["className","placeholder","onFocus","onBlur","value"]);return i.createElement("div",{role:"search",ref:this._rootElement,className:k.root,onFocusCapture:this._onFocusCapture},i.createElement("div",{className:k.iconContainer,onClick:this._onClickFocus,"aria-hidden":!0},i.createElement(a.b,Object(r.a)({iconName:"Search"},b,{className:k.icon}))),i.createElement("input",Object(r.a)({},x,{id:y,className:k.field,placeholder:C,onChange:this._onInputChange,onInput:this._onInputChange,onBlur:this._onBlur,onKeyDown:this._onKeyDown,value:_,disabled:l,role:"searchbox","aria-label":t,ref:this._inputElement})),_.length>0&&i.createElement("div",{className:k.clearButton},i.createElement(s.g,Object(r.a)({onBlur:this._onBlur,styles:{root:{height:"auto"},icon:{fontSize:"12px"}},iconProps:{iconName:"Clear"}},m,{onClick:this._onClearClick}))))},t.prototype.focus=function(){this._inputElement.current&&this._inputElement.current.focus()},t.prototype.hasFocus=function(){return!!this.state.hasFocus},t.prototype._onClear=function(e){this.props.onClear&&this.props.onClear(e),e.defaultPrevented||(this._latestValue="",this.setState({value:""}),this._callOnChange(void 0,""),e.stopPropagation(),e.preventDefault(),this.focus())},t.prototype._callOnChange=function(e,t){var n=this.props,r=n.onChange,i=n.onChanged;i&&i(t),r&&r(e,t)},t.defaultProps={disableAnimation:!1,clearButtonProps:{ariaLabel:"Clear text"}},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(0),o=(n.n(i),n(2681)),s=n(2),a=function(e){function t(t){var n=e.call(this,t)||this;n.addItems=function(e){var t=n.props.onItemSelected?n.props.onItemSelected(e):e,r=t,i=t;if(i&&i.then)i.then(function(e){var t=n.state.items.concat(e);n.updateItems(t)});else{var o=n.state.items.concat(r);n.updateItems(o)}},n.removeItemAt=function(e){var t=n.state.items;if(n._canRemoveItem(t[e])&&e>-1){n.props.onItemsDeleted&&n.props.onItemsDeleted([t[e]]);var r=t.slice(0,e).concat(t.slice(e+1));n.updateItems(r)}},n.removeItem=function(e){var t=n.state.items.indexOf(e);n.removeItemAt(t)},n.replaceItem=function(e,t){var r=n.state.items,i=r.indexOf(e);if(i>-1){var o=r.slice(0,i).concat(t).concat(r.slice(i+1));n.updateItems(o)}},n.removeItems=function(e){var t=n.state.items,r=e.filter(function(e){return n._canRemoveItem(e)}),i=t.filter(function(e){return-1===r.indexOf(e)}),o=r[0],s=t.indexOf(o);n.props.onItemsDeleted&&n.props.onItemsDeleted(r),n.updateItems(i,s)},n.onCopy=function(e){if(n.props.onCopyItems&&n.selection.getSelectedCount()>0){var t=n.selection.getSelection();n.copyItems(t)}},n.renderItems=function(){var e=n.props.removeButtonAriaLabel,t=n.props.onRenderItem;return n.state.items.map(function(r,i){return t({item:r,index:i,key:r.key?r.key:i,selected:n.selection.isIndexSelected(i),onRemoveItem:function(){return n.removeItem(r)},onItemChange:n.onItemChange,removeButtonAriaLabel:e,onCopyItem:function(e){return n.copyItems([e])}})})},n.onSelectionChanged=function(){n.forceUpdate()},n.onItemChange=function(e,t){var r=n.state.items;if(t>=0){var i=r;i[t]=e,n.updateItems(i)}},Object(s._2)(n);var r=t.selectedItems||t.defaultSelectedItems||[];return n.state={items:r},n.selection=n.props.selection?n.props.selection:new o.a({onSelectionChanged:n.onSelectionChanged}),n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"items",{get:function(){return this.state.items},enumerable:!0,configurable:!0}),t.prototype.removeSelectedItems=function(){this.state.items.length&&this.selection.getSelectedCount()>0&&this.removeItems(this.selection.getSelection())},t.prototype.updateItems=function(e,t){var n=this;this.props.selectedItems?this.onChange(e):this.setState({items:e},function(){n._onSelectedItemsUpdated(e,t)})},t.prototype.hasSelectedItems=function(){return this.selection.getSelectedCount()>0},t.prototype.unselectAll=function(){this.selection.setAllSelected(!1)},t.prototype.highlightedItems=function(){return this.selection.getSelection()},t.prototype.UNSAFE_componentWillUpdate=function(e,t){t.items&&t.items!==this.state.items&&this.selection.setItems(t.items)},t.prototype.componentDidMount=function(){this.selection.setItems(this.state.items)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.selectedItems;t&&this.setState({items:t}),e.selection&&(this.selection=e.selection)},t.prototype.render=function(){return this.renderItems()},t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(e)},t.prototype.copyItems=function(e){if(this.props.onCopyItems){var t=this.props.onCopyItems(e),n=document.createElement("input");document.body.appendChild(n);try{if(n.value=t,n.select(),!document.execCommand("copy"))throw new Error}catch(r){}finally{document.body.removeChild(n)}}},t.prototype._onSelectedItemsUpdated=function(e,t){this.onChange(e)},t.prototype._canRemoveItem=function(e){return!this.props.canRemoveItem||this.props.canRemoveItem(e)},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(732),a=n(106),c=n(5590),u=function(e){function t(t){var n=e.call(this,t)||this;return n.persona=i.createRef(),Object(o._2)(n),n.state={contextualMenuVisible:!1},n}return Object(r.d)(t,e),t.prototype.render=function(){var e,t,n=this.props,u=n.item,l=n.onExpandItem,h=n.onRemoveItem,d=n.removeButtonAriaLabel,p=n.index,f=n.selected,m=Object(o.L)();return i.createElement("div",{ref:this.persona,className:Object(o.t)("ms-PickerPersona-container",c.personaContainer,(e={},e["is-selected "+c.personaContainerIsSelected]=f,e),(t={},t["is-invalid "+c.validationError]=!u.isValid,t)),"data-is-focusable":!0,"data-is-sub-focuszone":!0,"data-selection-index":p,role:"listitem","aria-labelledby":"selectedItemPersona-"+m},i.createElement("div",{hidden:!u.canExpand||void 0===l},i.createElement(a.g,{onClick:this._onClickIconButton(l),iconProps:{iconName:"Add",style:{fontSize:"14px"}},className:Object(o.t)("ms-PickerItem-removeButton",c.expandButton,c.actionButton),ariaLabel:d})),i.createElement("div",{className:Object(o.t)(c.personaWrapper)},i.createElement("div",{className:Object(o.t)("ms-PickerItem-content",c.itemContent),id:"selectedItemPersona-"+m},i.createElement(s.a,Object(r.a)({},u,{onRenderCoin:this.props.renderPersonaCoin,onRenderPrimaryText:this.props.renderPrimaryText,size:s.d.size32}))),i.createElement(a.g,{onClick:this._onClickIconButton(h),iconProps:{iconName:"Cancel",style:{fontSize:"14px"}},className:Object(o.t)("ms-PickerItem-removeButton",c.removeButton,c.actionButton),ariaLabel:d})))},t.prototype._onClickIconButton=function(e){return function(t){t.stopPropagation(),t.preventDefault(),e&&e()}},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=(n.n(r),n(2)),o=Object(i.s)(),s=function(e){var t=e.styles,n=e.theme,i=e.className,s=e.vertical,a=e.alignContent,c=o(t,{theme:n,className:i,alignContent:a,vertical:s});return r.createElement("div",{className:c.root},r.createElement("div",{className:c.content,role:"separator","aria-orientation":s?"vertical":"horizontal"},e.children))}},function(e,t,n){"use strict";var r=n(5598);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),n.d(t,"c",function(){return r.c})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(3336),a=Object(o.s)(),c=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),n.state={contentLoaded:t.isDataLoaded},n._async=new o.a(n),n}return Object(r.d)(t,e),t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.isDataLoaded;n!==e.isDataLoaded&&(this._async.clearTimeout(this._lastTimeoutId),n?this._lastTimeoutId=this._async.setTimeout(function(){t.setState({contentLoaded:n})},200):this.setState({contentLoaded:n}))},t.prototype.componentWillUnmount=function(){this._async.dispose()},t.prototype.render=function(){var e=this.props,t=e.styles,n=e.shimmerElements,c=e.children,u=e.isDataLoaded,l=e.width,h=e.className,d=e.customElementsGroup,p=e.theme,f=e.ariaLabel,m=e.shimmerColors,g=this.state.contentLoaded;this._classNames=a(t,{theme:p,isDataLoaded:u,className:h,transitionAnimationInterval:200,shimmerColor:m&&m.shimmer,shimmerWaveColor:m&&m.shimmerWave});var b=Object(o.P)(this.props,o.w);return i.createElement("div",Object(r.a)({},b,{className:this._classNames.root}),!g&&i.createElement("div",{style:{width:l||"100%"},className:this._classNames.shimmerWrapper},i.createElement("div",{className:this._classNames.shimmerGradient}),d||i.createElement(s.a,{shimmerElements:n,backgroundColor:m&&m.background})),c&&i.createElement("div",{className:this._classNames.dataWrapper},c),f&&!u&&i.createElement("div",{role:"status","aria-live":"polite"},i.createElement(o.d,null,i.createElement("div",{className:this._classNames.screenReaderText},f))))},t.defaultProps={isDataLoaded:!1},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(3337),o=n(5604),s=Object(r._21)(i.a,o.a,void 0,{scope:"ShimmerElementsGroup"})},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(3338),a=n(3339),c=n(3341),u=n(3343),l=Object(o.s)(),h=function(e){var t=e.styles,n=e.width,o=void 0===n?"auto":n,h=e.shimmerElements,p=e.rowHeight,f=void 0===p?function(e){return e.map(function(e){switch(e.type){case s.a.circle:e.height||(e.height=s.b.circle);case s.a.line:e.height||(e.height=s.b.line);case s.a.gap:e.height||(e.height=s.b.gap)}return e}).reduce(function(e,t){return t.height&&t.height>e?t.height:e},0)}(h||[]):p,m=e.flexWrap,g=void 0!==m&&m,b=e.theme,v=e.backgroundColor,y=l(t,{theme:b,flexWrap:g});return i.createElement("div",{style:{width:o},className:y.root},function(e,t,n){return e?e.map(function(e,o){e.type;var l=Object(r.e)(e,["type"]);switch(e.type){case s.a.circle:return i.createElement(u.a,Object(r.a)({key:o},l,{styles:d(e,t,n)}));case s.a.gap:return i.createElement(c.a,Object(r.a)({key:o},l,{styles:d(e,t,n)}));case s.a.line:return i.createElement(a.a,Object(r.a)({key:o},l,{styles:d(e,t,n)}))}}):i.createElement(a.a,{height:s.b.line})}(h,v,f))};function d(e,t,n){var i,o=e.verticalAlign,a=e.type,c=e.height,u=n&&c?n-c:0;if(o&&"center"!==o?o&&"top"===o?i={borderBottomWidth:u+"px",borderTopWidth:"0px"}:o&&"bottom"===o&&(i={borderBottomWidth:"0px",borderTopWidth:u+"px"}):i={borderBottomWidth:(u?Math.floor(u/2):0)+"px",borderTopWidth:(u?Math.ceil(u/2):0)+"px"},t)switch(a){case s.a.circle:return{root:Object(r.a)(Object(r.a)({},i),{borderColor:t}),svg:{fill:t}};case s.a.gap:return{root:Object(r.a)(Object(r.a)({},i),{borderColor:t,backgroundColor:t})};case s.a.line:return{root:Object(r.a)(Object(r.a)({},i),{borderColor:t}),topLeftCorner:{fill:t},topRightCorner:{fill:t},bottomLeftCorner:{fill:t},bottomRightCorner:{fill:t}}}return{root:i}}},function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),function(e){e[e.line=1]="line",e[e.circle=2]="circle",e[e.gap=3]="gap"}(r||(r={})),function(e){e[e.line=16]="line",e[e.gap=16]="gap",e[e.circle=24]="circle"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(3340),o=n(5601),s=Object(r._21)(i.a,o.a,void 0,{scope:"ShimmerLine"})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=(n.n(r),n(2)),o=Object(i.s)(),s=function(e){var t=e.height,n=e.styles,i=e.width,s=void 0===i?"100%":i,a=e.borderStyle,c=e.theme,u=o(n,{theme:c,height:t,borderStyle:a});return r.createElement("div",{style:{width:s,minWidth:"number"===typeof s?s+"px":"auto"},className:u.root},r.createElement("svg",{width:"2",height:"2",className:u.topLeftCorner},r.createElement("path",{d:"M0 2 A 2 2, 0, 0, 1, 2 0 L 0 0 Z"})),r.createElement("svg",{width:"2",height:"2",className:u.topRightCorner},r.createElement("path",{d:"M0 0 A 2 2, 0, 0, 1, 2 2 L 2 0 Z"})),r.createElement("svg",{width:"2",height:"2",className:u.bottomRightCorner},r.createElement("path",{d:"M2 0 A 2 2, 0, 0, 1, 0 2 L 2 2 Z"})),r.createElement("svg",{width:"2",height:"2",className:u.bottomLeftCorner},r.createElement("path",{d:"M2 2 A 2 2, 0, 0, 1, 0 0 L 0 2 Z"})))}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(3342),o=n(5602),s=Object(r._21)(i.a,o.a,void 0,{scope:"ShimmerGap"})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=(n.n(r),n(2)),o=Object(i.s)(),s=function(e){var t=e.height,n=e.styles,i=e.width,s=void 0===i?"10px":i,a=e.borderStyle,c=e.theme,u=o(n,{theme:c,height:t,borderStyle:a});return r.createElement("div",{style:{width:s,minWidth:"number"===typeof s?s+"px":"auto"},className:u.root})}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(5603),o=n(3344),s=Object(r._21)(o.a,i.a,void 0,{scope:"ShimmerCircle"})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=(n.n(r),n(2)),o=Object(i.s)(),s=function(e){var t=e.height,n=e.styles,i=e.borderStyle,s=e.theme,a=o(n,{theme:s,height:t,borderStyle:i});return r.createElement("div",{className:a.root},r.createElement("svg",{viewBox:"0 0 10 10",width:t,height:t,className:a.svg},r.createElement("path",{d:"M0,0 L10,0 L10,10 L0,10 L0,0 Z M0,5 C0,7.76142375 2.23857625,10 5,10 C7.76142375,10 10,7.76142375 10,5 C10,2.23857625 7.76142375,2.22044605e-16 5,0 C2.23857625,-2.22044605e-16 0,2.23857625 0,5 L0,5 Z"})))}},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(190),a=n(761),c=n(3334),u=n(144),l=n(68),h=Object(o.s)(),d=10,p=7,f=.95,m=function(e){function t(t){var n=e.call(this,t)||this;return n._onRenderShimmerPlaceholder=function(e,t){var r=n.props.onRenderCustomPlaceholder,o=r?r(t,e,n._renderDefaultShimmerPlaceholder):n._renderDefaultShimmerPlaceholder(t);return i.createElement(c.a,{customElementsGroup:o})},n._renderDefaultShimmerPlaceholder=function(e){var t=e.columns,n=e.compact,r=e.selectionMode,o=e.checkboxVisibility,a=e.cellStyleProps,h=void 0===a?l.a:a,d=l.b.rowHeight,m=l.b.compactRowHeight,g=n?m:d+1,b=[];return r!==s.b.none&&o!==u.a.hidden&&b.push(i.createElement(c.c,{key:"checkboxGap",shimmerElements:[{type:c.b.gap,width:"40px",height:g}]})),t.map(function(e,t){var n=[],r=h.cellLeftPadding+h.cellRightPadding+e.calculatedWidth+(e.isPadded?h.cellExtraRightPadding:0);n.push({type:c.b.gap,width:h.cellLeftPadding,height:g}),e.isIconOnly?(n.push({type:c.b.line,width:e.calculatedWidth,height:e.calculatedWidth}),n.push({type:c.b.gap,width:h.cellRightPadding,height:g})):(n.push({type:c.b.line,width:e.calculatedWidth*f,height:p}),n.push({type:c.b.gap,width:h.cellRightPadding+(e.calculatedWidth-e.calculatedWidth*f)+(e.isPadded?h.cellExtraRightPadding:0),height:g})),b.push(i.createElement(c.c,{key:t,width:r+"px",shimmerElements:n}))}),b.push(i.createElement(c.c,{key:"endGap",width:"100%",shimmerElements:[{type:c.b.gap,width:"100%",height:g}]})),i.createElement("div",{style:{display:"flex"}},b)},n._shimmerItems=t.shimmerLines?new Array(t.shimmerLines):new Array(d),n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.detailsListStyles,n=e.enableShimmer,s=e.items,c=e.listProps,u=(e.onRenderCustomPlaceholder,e.removeFadingOverlay),l=(e.shimmerLines,e.styles),d=e.theme,p=e.ariaLabelForGrid,f=e.ariaLabelForShimmer,m=Object(r.e)(e,["detailsListStyles","enableShimmer","items","listProps","onRenderCustomPlaceholder","removeFadingOverlay","shimmerLines","styles","theme","ariaLabelForGrid","ariaLabelForShimmer"]),g=c&&c.className;this._classNames=h(l,{theme:d});var b=Object(r.a)(Object(r.a)({},c),{className:n&&!u?Object(o.t)(this._classNames.root,g):g});return i.createElement(a.a,Object(r.a)({},m,{styles:t,items:n?this._shimmerItems:s,isPlaceholderData:n,ariaLabelForGrid:n&&f||p,onRenderMissingItem:this._onRenderShimmerPlaceholder,listProps:b}))},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(735),a=Object(o.s)(),c="SliderBase",u=1e3,l=function(e){function t(t){var n=e.call(this,t)||this;n._sliderLine=i.createRef(),n._thumb=i.createRef(),n._onKeyDownTimer=-1,n._getAriaValueText=function(e){var t=n.props.ariaValueText;if(void 0!==e)return t?t(e):e.toString()},n._onMouseDownOrTouchStart=function(e){"mousedown"===e.type?(n._events.on(window,"mousemove",n._onMouseMoveOrTouchMove,!0),n._events.on(window,"mouseup",n._onMouseUpOrTouchEnd,!0)):"touchstart"===e.type&&(n._events.on(window,"touchmove",n._onMouseMoveOrTouchMove,!0),n._events.on(window,"touchend",n._onMouseUpOrTouchEnd,!0)),n._onMouseMoveOrTouchMove(e,!0)},n._onMouseMoveOrTouchMove=function(e,t){if(n._sliderLine.current){var r,i,s,a=n.props,c=a.max,u=a.min,l=a.step,h=(c-u)/l,d=n._sliderLine.current.getBoundingClientRect(),p=(n.props.vertical?d.height:d.width)/h;if(n.props.vertical){var f=n._getPosition(e,n.props.vertical);r=(d.bottom-f)/p}else{var m=n._getPosition(e,n.props.vertical);r=(Object(o.S)(n.props.theme)?d.right-m:m-d.left)/p}r>Math.floor(h)?s=i=c:r<0?s=i=u:(s=u+l*r,i=u+l*Math.round(r)),n._updateValue(i,s),t||(e.preventDefault(),e.stopPropagation())}},n._onMouseUpOrTouchEnd=function(e){n.setState({renderedValue:void 0}),n.props.onChanged&&n.props.onChanged(e,n.state.value),n._events.off()},n._onKeyDown=function(e){var t=n.state.value,r=n.props,i=r.max,s=r.min,a=r.step,c=0;switch(e.which){case Object(o.T)(o.h.left,n.props.theme):case o.h.down:c=-a,n._clearOnKeyDownTimer(),n._setOnKeyDownTimer(e);break;case Object(o.T)(o.h.right,n.props.theme):case o.h.up:c=a,n._clearOnKeyDownTimer(),n._setOnKeyDownTimer(e);break;case o.h.home:t=s;break;case o.h.end:t=i;break;default:return}var u=Math.min(i,Math.max(s,t+c));n._updateValue(u,u),e.preventDefault(),e.stopPropagation()},n._clearOnKeyDownTimer=function(){n._async.clearTimeout(n._onKeyDownTimer)},n._setOnKeyDownTimer=function(e){n._onKeyDownTimer=n._async.setTimeout(function(){n.props.onChanged&&n.props.onChanged(e,n.state.value)},u)},n._async=new o.a(n),n._events=new o.e(n),Object(o._2)(n),Object(o._30)(c,n.props,{value:"defaultValue"}),n._id=Object(o.L)("Slider");var r=void 0!==t.value?t.value:void 0!==t.defaultValue?t.defaultValue:t.min;return n.state={value:r,renderedValue:void 0},n}return Object(r.d)(t,e),t.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},t.prototype.render=function(){var e,t,n,c,u,l=this.props,h=l.ariaLabel,d=l.className,p=l.disabled,f=l.label,m=l.max,g=l.min,b=l.showValue,v=l.buttonProps,y=l.vertical,S=l.valueFormat,_=l.styles,w=l.theme,C=l.originFromZero,k=this.value,x=this.renderedValue,O=g===m?0:(x-g)/(m-g)*100,I=g>=0?0:-g/(m-g)*100,T=y?"height":"width",E=p?{}:{onMouseDown:this._onMouseDownOrTouchStart},N=p?{}:{onTouchStart:this._onMouseDownOrTouchStart},M=p?{}:{onKeyDown:this._onKeyDown},P=a(_,{className:d,disabled:p,vertical:y,showTransitions:x===k,showValue:b,theme:w}),j=v?Object(o.P)(v,o.w):void 0;return i.createElement("div",{className:P.root},f&&i.createElement(s.a,Object(r.a)({className:P.titleLabel},h?{}:{htmlFor:this._id},{disabled:p}),f),i.createElement("div",{className:P.container},i.createElement("div",Object(r.a)({id:this._id,"aria-valuenow":k,"aria-valuemin":g,"aria-valuemax":m,"aria-valuetext":this._getAriaValueText(k),"aria-label":h||f,"aria-disabled":p},E,N,M,j,{className:Object(o.t)(P.slideBox,v.className),role:"slider",tabIndex:p?void 0:0,"data-is-focusable":!p}),i.createElement("div",{ref:this._sliderLine,className:P.line},C&&i.createElement("span",{className:Object(o.t)(P.zeroTick),style:this._getStyleUsingOffsetPercent(y,I)}),i.createElement("span",{ref:this._thumb,className:P.thumb,style:this._getStyleUsingOffsetPercent(y,O)}),C?i.createElement(i.Fragment,null,i.createElement("span",{className:Object(o.t)(P.lineContainer,P.inactiveSection),style:(e={},e[T]=Math.min(O,I)+"%",e)}),i.createElement("span",{className:Object(o.t)(P.lineContainer,P.activeSection),style:(t={},t[T]=Math.abs(I-O)+"%",t)}),i.createElement("span",{className:Object(o.t)(P.lineContainer,P.inactiveSection),style:(n={},n[T]=Math.min(100-O,100-I)+"%",n)})):i.createElement(i.Fragment,null,i.createElement("span",{className:Object(o.t)(P.lineContainer,P.activeSection),style:(c={},c[T]=O+"%",c)}),i.createElement("span",{className:Object(o.t)(P.lineContainer,P.inactiveSection),style:(u={},u[T]=100-O+"%",u)})))),b&&i.createElement(s.a,{className:P.valueLabel,disabled:p},S?S(k):k)),i.createElement(o.f,null))},t.prototype.focus=function(){this._thumb.current&&this._thumb.current.focus()},Object.defineProperty(t.prototype,"value",{get:function(){var e=this.props.value,t=void 0===e?this.state.value:e;return void 0===this.props.min||void 0===this.props.max||void 0===t?void 0:Math.max(this.props.min,Math.min(this.props.max,t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderedValue",{get:function(){var e=this.state.renderedValue;return void 0===e?this.value:e},enumerable:!0,configurable:!0}),t.prototype._getStyleUsingOffsetPercent=function(e,t){var n;return(n={})[e?"bottom":Object(o.S)(this.props.theme)?"right":"left"]=t+"%",n},t.prototype._getPosition=function(e,t){var n;switch(e.type){case"mousedown":case"mousemove":n=t?e.clientY:e.clientX;break;case"touchstart":case"touchmove":n=t?e.touches[0].clientY:e.touches[0].clientX}return n},t.prototype._updateValue=function(e,t){var n=this,r=this.props,i=r.step,o=r.snapToStep,s=0;if(isFinite(i))for(;Math.round(i*Math.pow(10,s))/Math.pow(10,s)!==i;)s++;var a=parseFloat(e.toFixed(s)),c=a!==this.state.value;o&&(t=a),this.setState({value:a,renderedValue:t},function(){c&&n.props.onChange&&n.props.onChange(n.state.value)})},t.defaultProps={step:1,min:0,max:10,showValue:!0,disabled:!1,vertical:!1,buttonProps:{},originFromZero:!1},t}(i.Component)},function(e,t,n){"use strict";var r=n(776);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.Both=0]="Both",e[e.Header=1]="Header",e[e.Footer=2]="Footer"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(3310),a=n(3350),c=n(23),u=Object(o.s)(),l=function(e){function t(t){var n,s=e.call(this,t)||this;return s.navigationIdleDelay=250,s._getItemsWithIndex=Object(c._24)(function(e){return e.map(function(e,t){return Object(r.a)(Object(r.a)({},e),{index:t})})}),s._onSwatchColorPickerBlur=function(){s.props.onCellFocused&&(s._cellFocused=!1,s.props.onCellFocused())},s._renderOption=function(e){var t=s.props,n=s._id;return i.createElement(a.a,{item:e,idPrefix:n,color:e.color,styles:t.getColorGridCellStyles,disabled:t.disabled,onClick:s._onCellClick,onHover:s._onGridCellHovered,onFocus:s._onGridCellFocused,selected:void 0!==s.state.selectedIndex&&s.state.selectedIndex===e.index,circle:"circle"===t.cellShape,label:e.label,onMouseEnter:s._onMouseEnter,onMouseMove:s._onMouseMove,onMouseLeave:s._onMouseLeave,onWheel:s._onWheel,onKeyDown:s._onKeyDown,height:t.cellHeight,width:t.cellWidth,borderWidth:t.cellBorderWidth})},s._onMouseEnter=function(e){return s.props.focusOnHover?(s.isNavigationIdle&&!s.props.disabled&&e.currentTarget.focus(),!0):!s.isNavigationIdle||!!s.props.disabled},s._onMouseMove=function(e){if(!s.props.focusOnHover)return!s.isNavigationIdle||!!s.props.disabled;var t=e.currentTarget;return!s.isNavigationIdle||document&&t===document.activeElement||t.focus(),!0},s._onMouseLeave=function(e){var t=s.props.mouseLeaveParentSelector;if(s.props.focusOnHover&&t&&s.isNavigationIdle&&!s.props.disabled)for(var n=document.querySelectorAll(t),r=0;r<n.length;r+=1)if(n[r].contains(e.currentTarget)){if(n[r].setActive)try{n[r].setActive()}catch(i){}else n[r].focus();break}},s._onWheel=function(){s.setNavigationTimeout()},s._onKeyDown=function(e){e.which!==o.h.up&&e.which!==o.h.down&&e.which!==o.h.left&&e.which!==o.h.right||s.setNavigationTimeout()},s.setNavigationTimeout=function(){s.isNavigationIdle||void 0===s.navigationIdleTimeoutId?s.isNavigationIdle=!1:(s.async.clearTimeout(s.navigationIdleTimeoutId),s.navigationIdleTimeoutId=void 0),s.navigationIdleTimeoutId=s.async.setTimeout(function(){s.isNavigationIdle=!0},s.navigationIdleDelay)},s._onGridCellHovered=function(e){var t=s.props.onCellHovered;if(t)return e?t(e.id,e.color):t()},s._onGridCellFocused=function(e){var t=s.props.onCellFocused;if(t)return e?(s._cellFocused=!0,t(e.id,e.color)):(s._cellFocused=!1,t())},s._onCellClick=function(e){if(!s.props.disabled){var t=e.index;t>=0&&t!==s.state.selectedIndex&&(s.props.onCellFocused&&s._cellFocused&&(s._cellFocused=!1,s.props.onCellFocused()),s.props.onColorChanged&&s.props.onColorChanged(e.id,e.color),!0!==s.props.isControlled&&s.setState({selectedIndex:t}))}},s._id=t.id||Object(o.L)("swatchColorPicker"),s.isNavigationIdle=!0,s.async=new o.a(s),t.selectedId&&(n=s._getSelectedIndex(t.colorCells,t.selectedId)),s.state={selectedIndex:n},s}return Object(r.d)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){void 0!==e.selectedId&&this.setState({selectedIndex:this._getSelectedIndex(e.colorCells,e.selectedId)})},t.prototype.componentWillUnmount=function(){this.props.onCellFocused&&this._cellFocused&&(this._cellFocused=!1,this.props.onCellFocused()),this.async.dispose()},t.prototype.render=function(){var e=this.props,t=e.colorCells,n=e.columnCount,o=e.ariaPosInSet,a=void 0===o?this.props.positionInSet:o,c=e.ariaSetSize,l=void 0===c?this.props.setSize:c,h=e.shouldFocusCircularNavigate,d=e.className,p=e.doNotContainWithinFocusZone,f=e.styles,m=e.cellMargin,g=u(f,{theme:this.props.theme,className:d,cellMargin:m});return t.length<1||n<1?null:i.createElement(s.a,Object(r.a)({},this.props,{id:this._id,items:this._getItemsWithIndex(t),columnCount:n,onRenderItem:this._renderOption,ariaPosInSet:a,ariaSetSize:l,shouldFocusCircularNavigate:h,doNotContainWithinFocusZone:p,onBlur:this._onSwatchColorPickerBlur,theme:this.props.theme,styles:{root:g.root,tableCell:g.tableCell,focusedContainer:g.focusedContainer}}))},t.prototype._getSelectedIndex=function(e,t){var n=Object(o.C)(e,function(e){return e.id===t});return n>=0?n:void 0},t.defaultProps={cellShape:"circle",disabled:!1,shouldFocusCircularNavigate:!0,cellMargin:10},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(3351),o=n(5623),s=Object(r._21)(i.a,o.a,void 0,{scope:"ColorPickerGridCell"},!0)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(1),i=n(0),o=(n.n(i),n(5)),s=n(2),a=n(2171),c=n(3311),u=n(769),l=Object(s._10)(function(e,t,n,r,i,s,a,c,l){var h=Object(u.a)(e);return Object(o.E)({root:["ms-Button",h.root,n,t,a&&["is-checked",h.rootChecked],s&&["is-disabled",h.rootDisabled],!s&&!a&&{selectors:{":hover":h.rootHovered,":focus":h.rootFocused,":active":h.rootPressed}},s&&a&&[h.rootCheckedDisabled],!s&&a&&{selectors:{":hover":h.rootCheckedHovered,":active":h.rootCheckedPressed}}],flexContainer:["ms-Button-flexContainer",h.flexContainer]})}),h=Object(s.s)(),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t}(c.a),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onRenderColorOption=function(e){return i.createElement("svg",{className:t._classNames.svg,viewBox:"0 0 20 20",fill:Object(a.a)(e.color).str},t.props.circle?i.createElement("circle",{cx:"50%",cy:"50%",r:"50%"}):i.createElement("rect",{width:"100%",height:"100%"}))},t}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.idPrefix,r=void 0===n?this.props.id:n,o=e.selected,s=e.disabled,a=e.styles,c=e.theme,u=e.circle,p=e.color,f=e.onClick,m=e.onHover,g=e.onFocus,b=e.onMouseEnter,v=e.onMouseMove,y=e.onMouseLeave,S=e.onWheel,_=e.onKeyDown,w=e.height,C=e.width,k=e.borderWidth;return this._classNames=h(a,{theme:c,disabled:s,selected:o,circle:u,isWhite:this._isWhiteCell(p),height:w,width:C,borderWidth:k}),i.createElement(d,{item:t,id:r+"-"+t.id+"-"+t.index,key:t.id,disabled:s,role:"gridcell",onRenderItem:this._onRenderColorOption,selected:o,onClick:f,onHover:m,onFocus:g,label:t.label,className:this._classNames.colorCell,getClassNames:l,index:t.index,onMouseEnter:b,onMouseMove:v,onMouseLeave:y,onWheel:S,onKeyDown:_})},t.prototype._isWhiteCell=function(e){return"ffffff"===Object(a.a)(e).hex},t.defaultProps={circle:!0,disabled:!1,selected:!1},t}(i.PureComponent)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(3353),a=n(258),c=n(73),u=Object(o.s)(),l=function(e){function t(t){var n=e.call(this,t)||this;return n.rootElement=i.createRef(),Object(o._2)(n),n.state={},n._defaultCalloutProps={beakWidth:16,gapSpace:0,setInitialFocus:!0,doNotLayer:!1,directionalHint:c.a.rightCenter},n}return Object(r.d)(t,e),t.prototype.focus=function(){this.rootElement.current&&this.rootElement.current.focus()},t.prototype.render=function(){var e=this.props,t=e.calloutProps,n=e.targetElement,o=e.onDismiss,c=e.hasCloseButton,l=void 0===c?this.props.hasCloseIcon:c,h=e.isWide,d=e.styles,p=e.theme,f=e.target,m=Object(r.a)(Object(r.a)({},this._defaultCalloutProps),t),g={theme:p,isWide:h,calloutProps:Object(r.a)(Object(r.a)({},m),{theme:m.theme}),hasCloseButton:l},b=u(d,g),v=b.subComponentStyles?b.subComponentStyles.callout:void 0;return i.createElement(a.a,Object(r.a)({target:f||n,onDismiss:o},m,{className:b.root,styles:v,hideOverflow:!0}),i.createElement("div",{ref:this.rootElement},i.createElement(s.a,Object(r.a)({},this.props))))},t.defaultProps={calloutProps:{beakWidth:16,gapSpace:0,setInitialFocus:!0,doNotLayer:!1,directionalHint:c.a.rightCenter}},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(3354),o=n(3355),s=Object(r._21)(i.a,o.a,void 0,{scope:"TeachingBubbleContent"})},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(106),a=n(738),c=n(3347),u=n(740),l=Object(o.s)(),h=function(e){function t(t){var n=e.call(this,t)||this;return n.rootElement=i.createRef(),n._onKeyDown=function(e){n.props.onDismiss&&e.which===o.h.escape&&n.props.onDismiss()},Object(o._2)(n),n.state={},n}return Object(r.d)(t,e),t.prototype.componentDidMount=function(){this.props.onDismiss&&document.addEventListener("keydown",this._onKeyDown,!1)},t.prototype.componentWillUnmount=function(){this.props.onDismiss&&document.removeEventListener("keydown",this._onKeyDown)},t.prototype.focus=function(){this.rootElement.current&&this.rootElement.current.focus()},t.prototype.render=function(){var e,t,n,o,h,d=this.props,p=d.children,f=d.illustrationImage,m=d.primaryButtonProps,g=d.secondaryButtonProps,b=d.headline,v=d.hasCondensedHeadline,y=d.hasCloseButton,S=void 0===y?this.props.hasCloseIcon:y,_=d.onDismiss,w=d.closeButtonAriaLabel,C=d.hasSmallHeadline,k=d.isWide,x=d.styles,O=d.theme,I=d.ariaDescribedBy,T=d.ariaLabelledBy,E=d.footerContent,N=l(x,{theme:O,hasCondensedHeadline:v,hasSmallHeadline:C,hasCloseButton:S,hasHeadline:!!b,isWide:k,primaryButtonClassName:m?m.className:void 0,secondaryButtonClassName:g?g.className:void 0});if(f&&f.src&&(e=i.createElement("div",{className:N.imageContent},i.createElement(a.a,Object(r.a)({},f)))),b){var M="string"===typeof b?"p":"div";t=i.createElement("div",{className:N.header},i.createElement(M,{role:"heading",className:N.headline,id:T},b))}if(p){var P="string"===typeof p?"p":"div";n=i.createElement("div",{className:N.body},i.createElement(P,{className:N.subText,id:I},p))}return(m||g||E)&&(o=i.createElement(c.a,{className:N.footer,horizontal:!0,horizontalAlign:E?"space-between":"end"},i.createElement(c.a.Item,{align:"center"},i.createElement("span",null,E)),i.createElement(c.a.Item,null,g&&i.createElement(s.f,Object(r.a)({},g,{className:N.secondaryButton})),m&&i.createElement(s.h,Object(r.a)({},m,{className:N.primaryButton}))))),S&&(h=i.createElement(s.g,{className:N.closeButton,iconProps:{iconName:"Cancel"},title:w,ariaLabel:w,onClick:_})),i.createElement("div",{className:N.content,ref:this.rootElement,role:"dialog",tabIndex:-1,"aria-labelledby":T,"aria-describedby":I,"data-is-focusable":!0},e,i.createElement(u.a,{isClickableOutsideFocusTrap:!0},i.createElement("div",{className:N.bodyContent},t,n,o,h)))},t.defaultProps={hasCondensedHeadline:!1,imageProps:{imageFit:a.b.cover,width:364,height:130}},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),i=n(5),o={root:"ms-TeachingBubble",body:"ms-TeachingBubble-body",bodyContent:"ms-TeachingBubble-bodycontent",closeButton:"ms-TeachingBubble-closebutton",content:"ms-TeachingBubble-content",footer:"ms-TeachingBubble-footer",header:"ms-TeachingBubble-header",headerIsCondensed:"ms-TeachingBubble-header--condensed",headerIsSmall:"ms-TeachingBubble-header--small",headerIsLarge:"ms-TeachingBubble-header--large",headline:"ms-TeachingBubble-headline",image:"ms-TeachingBubble-image",primaryButton:"ms-TeachingBubble-primaryButton",secondaryButton:"ms-TeachingBubble-secondaryButton",subText:"ms-TeachingBubble-subText",button:"ms-Button",buttonLabel:"ms-Button-label"},s=Object(i.D)({"0%":{opacity:0,animationTimingFunction:i.c.easeFunction1,transform:"scale3d(.90,.90,.90)"},"100%":{opacity:1,transform:"scale3d(1,1,1)"}}),a=function(e,t){var n=t||{},r=n.calloutWidth,i=n.calloutMaxWidth;return[{display:"block",maxWidth:364,border:0,outline:"transparent",width:r||"calc(100% + 1px)",animationName:""+s,animationDuration:"300ms",animationTimingFunction:"linear",animationFillMode:"both"},e&&{maxWidth:i||456}]},c=function(e,t,n){return t?[e.headerIsCondensed,{marginBottom:14}]:[n&&e.headerIsSmall,!n&&e.headerIsLarge,{selectors:{":not(:last-child)":{marginBottom:14}}}]},u=function(e){var t,n,s,u=e.hasCondensedHeadline,l=e.hasSmallHeadline,h=e.hasCloseButton,d=e.hasHeadline,p=e.isWide,f=e.primaryButtonClassName,m=e.secondaryButtonClassName,g=e.theme,b=e.calloutProps,v=void 0===b?{className:void 0,theme:g}:b,y=!u&&!l,S=g.palette,_=g.semanticColors,w=g.fonts,C=Object(i.w)(o,g);return{root:[C.root,w.medium,v.className],body:[C.body,h&&!d&&{marginRight:24},{selectors:{":not(:last-child)":{marginBottom:20}}}],bodyContent:[C.bodyContent,{padding:"20px 24px 20px 24px"}],closeButton:[C.closeButton,{position:"absolute",right:0,top:0,margin:"15px 15px 0 0",borderRadius:0,color:S.white,fontSize:w.small.fontSize,selectors:{":hover":{background:S.themeDarkAlt,color:S.white},":active":{background:S.themeDark,color:S.white},":focus":{border:"1px solid "+_.variantBorder}}}],content:Object(r.f)([C.content],a(p),[p&&{display:"flex"}]),footer:[C.footer,{display:"flex",flex:"auto",alignItems:"center",color:S.white,selectors:(t={},t["."+C.button+":not(:first-child)"]={marginLeft:10},t)}],header:Object(r.f)([C.header],c(C,u,l),[h&&{marginRight:24},(u||l)&&[w.medium,{fontWeight:i.d.semibold}]]),headline:[C.headline,{margin:0,color:S.white,fontWeight:i.d.semibold},y&&[{fontSize:w.xLarge.fontSize}]],imageContent:[C.header,C.image,p&&{display:"flex",alignItems:"center",maxWidth:154}],primaryButton:[C.primaryButton,f,{backgroundColor:S.white,borderColor:S.white,color:S.themePrimary,whiteSpace:"nowrap",selectors:(n={},n["."+C.buttonLabel]=w.medium,n[":hover"]={backgroundColor:S.themeLighter,borderColor:S.themeLighter,color:S.themePrimary},n[":focus"]={backgroundColor:S.themeLighter,borderColor:S.white},n[":active"]={backgroundColor:S.white,borderColor:S.white,color:S.themePrimary},n)}],secondaryButton:[C.secondaryButton,m,{backgroundColor:S.themePrimary,borderColor:S.white,whiteSpace:"nowrap",selectors:(s={},s["."+C.buttonLabel]=[w.medium,{color:S.white}],s["&:hover, &:focus"]={backgroundColor:S.themeDarkAlt,borderColor:S.white},s[":active"]={backgroundColor:S.themePrimary,borderColor:S.white},s)}],subText:[C.subText,{margin:0,fontSize:w.medium.fontSize,color:S.white,fontWeight:i.d.regular}],subComponentStyles:{callout:{root:Object(r.f)(a(p,v),[w.medium]),beak:[{background:S.themePrimary}],calloutMain:[{background:S.themePrimary}]}}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(0),o=(n.n(i),n(405)),s=n(2),a=function(e){if(0===i.Children.count(e.children))return null;e.block,e.className;var t=e.as,n=void 0===t?"span":t,a=(e.variant,e.nowrap,Object(r.e)(e,["block","className","as","variant","nowrap"])),c=Object(o.b)(e,{root:n});return Object(o.c)(c.root,Object(r.a)({},Object(s.P)(a,s._0)))}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){var n=e.as,r=e.className,i=e.block,o=e.nowrap,s=e.variant,a=t.fonts[s||"medium"];return{root:[t.fonts.medium,{display:i?"td"===n?"table-cell":"block":"inline",fontFamily:a.fontFamily,fontSize:a.fontSize,fontWeight:a.fontWeight,color:a.color,mozOsxFontSmoothing:a.MozOsxFontSmoothing,webkitFontSmoothing:a.WebkitFontSmoothing},o&&{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},r]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(735),a=n(90),c=Object(o.s)(),u="Toggle",l=function(e){function t(t){var n=e.call(this,t)||this;return n._toggleButton=i.createRef(),n._onClick=function(e){var t=n.props,r=t.disabled,i=t.checked,o=t.onChange,s=t.onChanged,a=t.onClick,c=n.state.checked;r||(void 0===i&&n.setState({checked:!c}),o&&o(e,!c),s&&s(!c),a&&a(e))},Object(o._2)(n),Object(o._30)(u,t,{checked:"defaultChecked"}),Object(o._29)(u,t,{onAriaLabel:"ariaLabel",offAriaLabel:void 0,onChanged:"onChange"}),n.state={checked:!(!t.checked&&!t.defaultChecked)},n._id=t.id||Object(o.L)("Toggle"),n}return Object(r.d)(t,e),t.getDerivedStateFromProps=function(e,t){return void 0===e.checked?null:{checked:!!e.checked}},Object.defineProperty(t.prototype,"checked",{get:function(){return this.state.checked},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this,t=this.props,n=t.as,u=void 0===n?"div":n,l=t.className,h=t.theme,d=t.disabled,p=t.keytipProps,f=t.label,m=t.ariaLabel,g=t.onAriaLabel,b=t.offAriaLabel,v=t.offText,y=t.onText,S=t.styles,_=t.inlineLabel,w=this.state.checked,C=w?y:v,k=w?g:b,x=Object(o.P)(this.props,o._3,["defaultChecked"]),O=c(S,{theme:h,className:l,disabled:d,checked:w,inlineLabel:_,onOffMissing:!y&&!v}),I=this._id+"-label",T=this._id+"-stateText",E=void 0;m||k||(f?E=I:C&&(E=T));var N=this.props.role?this.props.role:"switch";return i.createElement(u,{className:O.root,hidden:x.hidden},f&&i.createElement(s.a,{htmlFor:this._id,className:O.label,id:I},f),i.createElement("div",{className:O.container},i.createElement(a.a,{keytipProps:p,ariaDescribedBy:x["aria-describedby"],disabled:d},function(t){return i.createElement("button",Object(r.a)({},x,t,{className:O.pill,disabled:d,id:e._id,type:"button",role:N,ref:e._toggleButton,"aria-disabled":d,"aria-checked":w,"aria-label":m||k,"data-is-focusable":!0,onChange:e._noop,onClick:e._onClick,"aria-labelledby":E}),i.createElement("span",{className:O.thumb}))}),C&&i.createElement(s.a,{htmlFor:this._id,className:O.text,id:T},C)),i.createElement(o.f,null))},t.prototype.focus=function(){this._toggleButton.current&&this._toggleButton.current.focus()},t.prototype._noop=function(){},t}(i.Component)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(1),i=n(2369),o=(n.n(i),n(421)),s=n(17),a=n(5388),c=n(5393);t.a=class{constructor(e,t,n,r){this.notebookResource=e,this.services=t,this.handlers=r||{};let i=!0;n&&(i=!n.behavior||"disabled"===n.behavior),this.isEnabled=!!e&&!i}get model(){return this.sharedModel}useStore(e){this.store=e}joinSession(e,t){return Object(r.b)(this,void 0,void 0,function*(){o.a.operation(this.isEnabled,"Collaboration behavior must be enabled."),o.a.operation(!!this.store,"Store instance should be initialized before calling this API.");const n=yield this.getTenantInfo(),r=this.resolveDocumentUrl(n),s=this.resolveGuest();return this.sharedModel=new a.a(this.store,e,this.handlers,!!t&&t.isSharing),this.document=yield i.FluidDocumentLoader.load({documentUrl:r,adapter:this.sharedModel,guest:s,secret:n.tenantKey}),this.sharedModel.loaded||(yield new Promise(e=>this.sharedModel.once("loaded",()=>e()))),{documentUrl:r,userId:s.userId}})}leaveSession(){return this.sharedModel=void 0,this.document.close(),Promise.resolve()}get state(){return this.store.getState()}resolveGuest(){const e=Object(s.getUserInfo)(this.state);return o.a.operation(!!e,"Cannot join a collaboration session anonymously."),{userId:`${e.tenantId}:${e.alias}@${e.domain}`,displayName:e.displayName,presence:i.PresenceStatus.active}}getTenantInfo(){return Object(r.b)(this,void 0,void 0,function*(){let e=null;if(this.handlers.resolveTenant&&(e=yield this.handlers.resolveTenant()),e)return e;const t=yield this.services.tokenStore.getToken();let n={};t&&(n={Authorization:`Bearer ${t}`});const r={id:this.notebookResource.notebookResourceId},i=yield this.services.azureNotebookServicesRequest.post("/api/collab/tenants/",r,n).catch(e=>{const t=JSON.stringify(e);throw new Error(`tenant request failed with error ${t}`)});if(i&&(e={tenantId:i.id,tenantKey:i.key,ordererUrl:i.orderer.url}),!e)throw new Error("Unable to resolve collaboration service tenant");return e})}resolveDocumentUrl(e){const t=this.handlers.resolveDocumentId?this.handlers.resolveDocumentId():null;if(!t)throw new Error("Unable to resolve collaboration service document ID");return new c.a(e).getDocumentUrl(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(4869))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3082),s=n(2610),a=n(2031),c=i(n(3153)),u=n(5094),l=n(5278),h=n(5387);class d{constructor(e,t){this.loader=e,this.request=t}open(){return r(this,void 0,void 0,function*(){c.default("Opening Fluid document",this.request.url);try{this.container=yield this.loader.resolve(this.request)}catch(e){throw c.default("Failed to load container",e.errorType,e),e}this.container.on("error",e=>c.default("Container error",e)).on("closed",e=>c.default("Container closed",e)).on("contextChanged",e=>c.default("Container context changed",e)).on("connected",e=>c.default("Container connected",e)).on("disconnected",()=>c.default("Container disconnected")),yield this.initializeChaincode({package:{name:u.NotebookDdsName,version:"0.2.0",fluid:{browser:{}}},config:{}}),this.container.hasNullRuntime()&&(yield new Promise(e=>this.container.once("contextChanged",()=>e())));try{this.notebookComponent=yield this.requestComponent()}catch(e){throw c.default("Failed to initialize notebook model",e),e}if(!this.notebookComponent)throw c.default("Cannot resolve DDS component."),new Error("Cannot resolve DDS component.");c.default("Document loaded",this.request.url)})}close(){this.container.close()}initializeChaincode(e){return r(this,void 0,void 0,function*(){c.default("initializing chaincode");const t=this.container.getQuorum();this.container.connected||(yield new Promise(e=>this.container.once("connected",()=>e()))),t.has("code")||(yield t.propose("code",e)),c.default("Code quorum accepted",t.get("code"))})}requestComponent(){return r(this,void 0,void 0,function*(){c.default("resolving data component");const e=yield this.loader.request(this.request);if(200===e.status&&("fluid/component"===e.mimeType||"prague/component"===e.mimeType))return e.value;c.default("cannot resolve the component",e.status)})}}const p=[new l.LocalServiceFactory,new s.RouterliciousDocumentServiceFactory(!1,new s.DefaultErrorTracking,!1,!0,void 0)];t.FluidDocumentLoader=class{static load(e){return r(this,void 0,void 0,function*(){const t={url:e.documentUrl},n={id:e.guest.userId,displayName:e.guest.displayName},r=[new l.LocalServiceUrlResolver(n,e.secret),new h.DocumentUrlResolver(n,e.secret)],i=yield a.configurableUrlResolver(r,t),s={load:e=>Promise.resolve({fluidExport:u.fluidExport})},c={user:n,modelAdapter:e.adapter,blockUpdateMarkers:!0,tokens:i.tokens},f=new Map,m=new o.Loader(r,p,s,c,{},f),g=new d(m,t);return yield g.open(),g})}}},function(e,t,n){var r,i,o=n(3085),s=n(3086),a=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],h=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==h||null==d){var p=o();null==h&&(h=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,g=f-a+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||f>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,c=m,i=d;var b=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;l[u++]=b>>>24&255,l[u++]=b>>>16&255,l[u++]=b>>>8&255,l[u++]=255&b;var v=f/4294967296*1e4&268435455;l[u++]=v>>>8&255,l[u++]=255&v,l[u++]=v>>>24&15|16,l[u++]=v>>>16&255,l[u++]=d>>>8|128,l[u++]=255&d;for(var y=0;y<6;++y)l[u+y]=h[y];return t||s(l)}},function(e,t,n){var r=n(3085),i=n(3086);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.cache="fluid-cache",e.clientDetails="fluid-client-details",e.executionContext="execution-context",e.pause="pause",e.reconnect="fluid-reconnect",e.sequenceNumber="fluid-sequence-number",e.version="version"}(r||(r={}))},function(e,t,n){"use strict";var r=n(4877);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";t.a=function(){return performance.now()}},function(e,t,n){"use strict";(function(e){t.a=(t=>e.from(t,"base64").toString("utf-8"));t.b=(t=>e.from(t,"utf8").toString("base64"))}).call(t,n(22).Buffer)},function(e,t,n){"use strict";t.a=class{constructor(e,t=100){this.process=e,this.maxBatchSize=t,this.pendingWork=new Map}add(e,t){this.pendingWork.has(e)||this.pendingWork.set(e,[]),this.pendingWork.get(e).push(t),this.pendingWork.get(e).length>=this.maxBatchSize?(void 0!==this.pendingTimer&&clearTimeout(this.pendingTimer),this.pendingTimer=void 0,this.startWork()):void 0===this.pendingTimer&&(this.pendingTimer=setTimeout(()=>{this.pendingTimer=void 0,this.startWork()},0))}drain(){this.startWork()}startWork(){const e=this.pendingWork;this.pendingWork=new Map;for(const[t,n]of e)this.process(t,n)}}},function(e,t,n){"use strict";t.a=function(e,t){return(...n)=>{if(e.disposed)throw new Error("Already disposed");return t(...n)}}},function(e,t,n){"use strict";var r=n(2595);t.a=class extends r.a{emit(e,...t){if("error"===e){const n=super.emit(e,...t);return n||console.error("Nobody is listening for 'error' events"),n}let n;try{n=super.emit(e,...t)}catch(r){n=this.emit("error",r)}return n}}},function(e,t,n){"use strict";var r=n(2595);class i extends r.a{constructor(e){if(super(),this.isDisposed=!1,this.forwardingEvents=new Map,void 0!==e){const t=t=>this.unforwardEvent(e,t),n=t=>this.forwardEvent(e,t);this.on(i.removeListenerEvent,t),this.on(i.newListenerEvent,n)}}static isEmitterEvent(e){return e===i.newListenerEvent||e===i.removeListenerEvent}get disposed(){return this.isDisposed}dispose(){this.isDisposed=!0;for(const t of this.forwardingEvents.values())for(const n of t.values())try{n()}catch(e){}this.removeAllListeners(),this.forwardingEvents.clear()}forwardEvent(e,...t){for(const n of t)if(void 0!==e&&void 0!==n&&!i.isEmitterEvent(n)){let t=this.forwardingEvents.get(n);if(void 0===t&&(t=new Map,this.forwardingEvents.set(n,t)),!t.has(e)){const r=(...e)=>this.emit(n,...e);t.set(e,()=>e.off(n,r)),e.on(n,r)}}}unforwardEvent(e,...t){var n;for(const r of t)if(void 0!==r&&!i.isEmitterEvent(r)){const t=this.forwardingEvents.get(r);if((null===(n=t)||void 0===n?void 0:n.has(e))&&0===this.listenerCount(r)){const n=t.get(e);void 0!==n&&n(),t.delete(e),0===t.size&&this.forwardingEvents.delete(r)}}}}t.a=i,i.newListenerEvent="newListener",i.removeListenerEvent="removeListener"},function(e,t,n){"use strict";t.a=function(e,t,n,r){try{n?t.emit("connected",r):t.emit("disconnected")}catch(i){e.sendErrorEvent({eventName:"RaiseConnectedEventError",clientId:r},i)}}},function(e,t,n){"use strict";(function(e){t.c=i,t.a=o,t.b=async function(t){if("object"!==typeof crypto||null===crypto)return o(t);const n=`blob ${t.byteLength.toString()}${String.fromCharCode(0)}`,r=e.from(n,"utf-8");return i(e.concat([r,t],r.length+t.length))};var r=n(2596);n.n(r);async function i(e){if("object"!==typeof crypto||null===crypto){return(new r).update(e).digest("hex")}try{const n=await crypto.subtle.digest("SHA-1",e),i=new Uint8Array(n);return Array.prototype.map.call(i,function(e){return e.toString(16).padStart(2,"0")}).join("")}catch(t){return(new r).update(e).digest("hex")}}function o(e){const t=`blob ${e.byteLength.toString()}${String.fromCharCode(0)}`;return(new r).update(t).update(e).digest("hex")}}).call(t,n(22).Buffer)},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){var r=n(2164).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var c=s%i,u=Math.min(o-a,i-c),l=0;l<u;l++)n[c+l]=e[a+l];a+=u,(s+=u)%i===0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},function(e,t,n){"use strict";const r={compare:(e,t)=>e-t,min:Number.MIN_VALUE};t.b=r;t.a=class{constructor(e){this.comp=e,this.L=[{value:e.min,position:0}]}peek(){return this.L[1]}get(){this.swap(1,this.count());const e=this.L.pop();return this.fixdown(1),e.value}add(e){const t={value:e,position:this.L.length};return this.L.push(t),this.fixup(this.count()),t}update(e){const t=e.position;this.isGreaterThanParent(t)?this.fixup(t):this.fixdown(t)}remove(e){const t=e.position;this.swap(e.position,this.L.length-1),this.L.splice(this.L.length-1),t!==this.L.length&&this.update(this.L[t])}count(){return this.L.length-1}fixup(e){let t=e;for(;this.isGreaterThanParent(t);){const e=t>>1;this.swap(t,e),t=e}}isGreaterThanParent(e){return e>1&&this.comp.compare(this.L[e>>1].value,this.L[e].value)>0}fixdown(e){let t=e;for(;t<<1<=this.count();){let e=t<<1;if(e<this.count()&&this.comp.compare(this.L[e].value,this.L[e+1].value)>0&&e++,this.comp.compare(this.L[t].value,this.L[e].value)<=0)break;this.swap(t,e),t=e}}swap(e,t){const n=this.L[e];this.L[e]=this.L[t],this.L[e].position=e,this.L[t]=n,this.L[t].position=t}}},function(e,t,n){"use strict";var r=n(2012);n.n(r);const i=n(2085);class o{send(e){}}t.a=o;class s{constructor(e,t,n){this.namespace=e,this.properties=t,this.propertyGetters=n}static formatTick(e){return Math.floor(e)}static numberFromString(e){if(void 0===e||null===e)return;const t=Number(e);return Number.isNaN(t)?e:t}static sanitizePkgName(e){return e.replace("@","").replace("/","-")}static prepareErrorObject(e,t,n){if(null===t||"object"!==typeof t)e.error=t;else{const n=t;if(e.stack=n.stack,e.error=n.message,t.containsPII)e.error="Error message was removed as it contained PII";else if(t.getCustomProperties){const n=t.getCustomProperties();for(const t of Object.keys(n))void 0===e[t]&&(e[t]=n[t])}}void 0===e.stack&&n&&(e.stack=s.getStack())}static getStack(){let e=(new Error).stack;if(!e)try{throw new Error}catch(t){e=t.stack}return e}sendTelemetryEvent(e,t){const n=Object.assign(Object.assign({},e),{category:e.category?e.category:"generic"});void 0!==t&&s.prepareErrorObject(n,t,!1),this.send(n)}sendErrorEvent(e,t){const n=Object.assign(Object.assign({},e),{category:"error"});s.prepareErrorObject(n,t,!0),this.send(n)}sendPerformanceEvent(e,t){const n=Object.assign(Object.assign({},e),{category:e.category?e.category:"performance"});void 0!==t&&s.prepareErrorObject(n,t,!1),e.duration&&(n.duration=s.formatTick(e.duration)),this.send(n)}logGenericError(e,t){this.sendErrorEvent({eventName:e},t)}logException(e,t){this.sendErrorEvent(Object.assign(Object.assign({},e),{isException:!0}),t)}debugAssert(e,t){this.shipAssert(e,t)}shipAssert(e,t){if(!e){const e=void 0===t?{eventName:"Assert"}:t;e.isAssert=!0,e.stack=s.getStack(),this.sendErrorEvent(e)}}prepareEvent(e){const t=Object.assign(Object.assign({},this.properties),e);if(void 0!==this.namespace&&(t.eventName=`${this.namespace}${s.eventNamespaceSeparator}${t.eventName}`),this.propertyGetters)for(const n of Object.keys(this.propertyGetters)){if(void 0!==e[n])continue;const r=(0,this.propertyGetters[n])();void 0!==r&&(t[n]=r)}return t}}t.f=s,s.eventNamespaceSeparator=":";t.g=class{send(e){}sendTelemetryEvent(e,t){}sendErrorEvent(e,t){}sendPerformanceEvent(e,t){}logGenericError(e,t){}logException(e,t){}debugAssert(e,t){}shipAssert(e,t){}};class a extends s{constructor(e,t,n,r){super(t,n,r),this.logger=e}static create(e,t,n,r){return new a(e||new o,t,n,r)}send(e){this.logger.send(this.prepareEvent(e))}}t.b=a;class c extends s{constructor(e,t,n){super(e,t,n),this.loggers=[]}addLogger(e){void 0!==e&&null!==e&&this.loggers.push(e)}send(e){const t=this.prepareEvent(e);this.loggers.forEach(e=>{e.send(t)})}}t.d=c;class u extends s{constructor(e,t,n,r){super(void 0,n,r),this.debug=e,this.debugErr=t}static create(e,t,n){const i=r(e),o=r(e);return o.log=console.error.bind(console),o.enabled=!0,new u(i,o,t,n)}static mixinDebugLogger(e,t,n,r){if(!t)return u.create(e,n,r);const i=new c(void 0,n,r);return i.addLogger(u.create(e)),i.addLogger(a.create(t,e)),i}send(e){const t=this.prepareEvent(e),n="error"===t.category;let r=n?this.debugErr:this.debug;const o=e.eventName.lastIndexOf(s.eventNamespaceSeparator),a=e.eventName.substring(o+1);o>0&&(r=r.extend(e.eventName.substring(0,o))),t.eventName=void 0;let c="";"performance"===e.category&&(c=`tick=${s.formatTick(i())}`);const u=t.stack?t.stack:"";let l;t.stack=void 0;try{l=JSON.stringify(t)}catch(h){t.error=void 0,l=JSON.stringify(t)}"{}"===l&&(l=""),n&&(r.enabled=!0),r(`${a} ${l} ${c} ${u}`)}}t.c=u;class l{constructor(e,t){this.logger=e,this.startTime=i(),this.event=Object.assign({},t),this.reportEvent("start"),"object"===typeof window&&null!=window&&window.performance&&(this.startMark=`${t.eventName}-start`,window.performance.mark(this.startMark))}static start(e,t){return new l(e,t)}reportProgress(e,t="update"){this.reportEvent(t,e)}end(e,t="end"){if(this.reportEvent(t,e),this.startMark){const e=`${this.event.eventName}-${t}`;window.performance.mark(e),window.performance.measure(`${this.event.eventName}`,this.startMark,e),this.startMark=void 0}this.event=void 0}cancel(e,t){this.reportEvent("cancel",e,t),this.event=void 0}reportEvent(e,t,n){if(!this.event)return void this.logger.sendErrorEvent({eventName:"PerformanceEventAfterStop",perfEventName:this.event.eventName,eventNameSuffix:e});const r=Object.assign(Object.assign({},this.event),t);r.eventName=`${r.eventName}_${e}`,"start"!==e&&(r.duration=i()-this.startTime),this.logger.sendPerformanceEvent(r,n)}}t.e=l},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function s(...e){if(!s.enabled)return;const t=s,i=Number(new Date),o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i,e[0]=r.coerce(e[0]),"string"!==typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"===typeof o){const r=e[a];n=o.call(t,r),e.splice(a,1),a--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"===typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){const n=r(this.namespace+("undefined"===typeof t?":":t)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){const e=[...r.names.map(s),...r.skips.map(s).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(3087),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){"use strict";class r{constructor(e,t){this.expiry=e,this.cleanup=t,this.gcTimeouts=new Map}schedule(e){"indefinite"!==this.expiry.policy&&this.gcTimeouts.set(e,setTimeout(()=>{this.cleanup(e),this.cancel(e)},this.expiry.durationMs))}cancel(e){const t=this.gcTimeouts.get(e);void 0!==t&&(clearTimeout(t),this.gcTimeouts.delete(e))}update(e){"sliding"===this.expiry.policy&&(this.cancel(e),this.schedule(e))}}t.a=class{constructor({expiry:e={policy:"indefinite"},removeOnError:t=(()=>!0)}={}){this.cache=new Map,this.removeOnError=t,this.gc=new r(e,e=>this.remove(e))}has(e){return this.cache.has(e)}get(e){return this.has(e)&&this.gc.update(e),this.cache.get(e)}remove(e){return this.gc.cancel(e),this.cache.delete(e)}async addOrGet(e,t){let n=this.get(e);return void 0===n&&(n=(async()=>t())(),this.cache.set(e,n),n.catch(t=>{this.removeOnError(t)&&this.remove(e)}),this.gc.schedule(e)),n}add(e,t){const n=this.has(e);return this.addOrGet(e,t).catch(()=>{}),!n}async addValueOrGet(e,t){return this.addOrGet(e,async()=>t)}addValue(e,t){return this.add(e,async()=>t)}}},function(e,t,n){"use strict";var r=n(1994);n.n(r);const i=n(2165);t.a=class{constructor(e,t){"number"===typeof e?(this.ranges=[{length:0,primary:e,secondary:t}],this.lastPrimary=e,this.lastSecondary=t):(this.ranges=i(e.ranges),this.lastPrimary=e.lastPrimary,this.lastSecondary=e.lastSecondary)}get base(){return this.ranges[0].primary}get primaryHead(){return this.lastPrimary}get secondaryHead(){return this.lastSecondary}serialize(){return{lastPrimary:this.lastPrimary,lastSecondary:this.lastSecondary,ranges:i(this.ranges)}}add(e,t){r(e>=this.lastPrimary),void 0!==this.lastSecondary&&r(t>=this.lastSecondary),this.lastPrimary=e,this.lastSecondary=t;const n=this.ranges[this.ranges.length-1],i=n.primary+n.length,o=n.secondary+n.length;t!==o&&(e===i?0===n.length?n.secondary=t:(n.length--,this.ranges.push({length:0,primary:e,secondary:t})):i+1===e&&o+1===t?n.length++:this.ranges.push({length:0,primary:e,secondary:t}))}get(e){r(e>=this.ranges[0].primary);let t=1;for(;t<this.ranges.length&&!(e<this.ranges[t].primary);t++);r(e>=this.ranges[t-1].primary);const n=this.ranges[t-1];return Math.min(e-n.primary,n.length)+n.secondary}updateBase(e){r(e>=this.ranges[0].primary);let t=1;for(;t<this.ranges.length&&!(e<this.ranges[t].primary);t++);r(e>=this.ranges[t-1].primary);const n=this.ranges[t-1],i=e-n.primary;n.secondary=n.secondary+Math.min(i,n.length),n.length=Math.max(n.length-i,0),n.primary=e,this.ranges=t-1>0?this.ranges.slice(t-1):this.ranges,r.equal(e,this.ranges[0].primary)}}},function(e,t,n){var r=n(3089),i=n(4922),o=n(3092),s=n(4923),a=n(4930),c=n(3100),u=n(3101),l=n(4933),h=n(4935),d=n(4936),p=n(4937),f=n(2608),m=n(4942),g=n(4943),b=n(3107),v=n(2376),y=n(2602),S=n(4949),_=n(2139),w=n(4951),C=n(2601),k=1,x=2,O=4,I="[object Arguments]",T="[object Function]",E="[object GeneratorFunction]",N="[object Object]",M={};M[I]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[N]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[T]=M["[object WeakMap]"]=!1,e.exports=function e(t,n,P,j,D,R){var L,A=n&k,F=n&x,B=n&O;if(P&&(L=D?P(t,j,D,R):P(t)),void 0!==L)return L;if(!_(t))return t;var q=v(t);if(q){if(L=m(t),!A)return u(t,L)}else{var z=f(t),W=z==T||z==E;if(y(t))return c(t,A);if(z==N||z==I||W&&!D){if(L=F||W?{}:b(t),!A)return F?h(t,a(L,t)):l(t,s(L,t))}else{if(!M[z])return D?t:{};L=g(t,z,A)}}R||(R=new r);var H=R.get(t);if(H)return H;R.set(t,L),w(t)?t.forEach(function(r){L.add(e(r,n,P,r,t,R))}):S(t)&&t.forEach(function(r,i){L.set(i,e(r,n,P,i,t,R))});var V=B?F?p:d:F?keysIn:C,U=q?void 0:V(t);return i(U||t,function(r,i){U&&(r=t[i=r]),o(L,i,e(r,n,P,i,t,R))}),L}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(2372),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(2372);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(2372);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(2372);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(2371);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(2371),i=n(2597),o=n(4909),s=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<s-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(2598),i=n(4906),o=n(2139),s=n(3091),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,h=u.hasOwnProperty,d=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:a).test(s(e))}},function(e,t,n){var r=n(2599),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(c){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(4907),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(2096)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(4910),i=n(4917),o=n(4919),s=n(4920),a=n(4921);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,n){var r=n(4911),i=n(2371),o=n(2597);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(4912),i=n(4913),o=n(4914),s=n(4915),a=n(4916);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,n){var r=n(2374);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(2374),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(2374),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(2374),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},function(e,t,n){var r=n(2375);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(2375);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(2375);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(2375);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(2271),i=n(2601);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(2270),i=n(2167),o="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==o}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(2270),i=n(3098),o=n(2167),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},function(e,t,n){var r=n(2605),i=n(4929),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(3099)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(2271),i=n(2378);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(2139),i=n(2605),o=n(4932),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(2271),i=n(2606);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},function(e,t,n){var r=n(2271),i=n(3103);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(3105),i=n(2606),o=n(2601);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(3105),i=n(3103),o=n(2378);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(2166)(n(2096),"DataView");e.exports=r},function(e,t,n){var r=n(2166)(n(2096),"Promise");e.exports=r},function(e,t,n){var r=n(2166)(n(2096),"Set");e.exports=r},function(e,t,n){var r=n(2166)(n(2096),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(2609),i=n(4945),o=n(4946),s=n(4947),a=n(3106),c="[object Boolean]",u="[object Date]",l="[object Map]",h="[object Number]",d="[object RegExp]",p="[object Set]",f="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",b="[object DataView]",v="[object Float32Array]",y="[object Float64Array]",S="[object Int8Array]",_="[object Int16Array]",w="[object Int32Array]",C="[object Uint8Array]",k="[object Uint8ClampedArray]",x="[object Uint16Array]",O="[object Uint32Array]";e.exports=function(e,t,n){var I=e.constructor;switch(t){case g:return r(e);case c:case u:return new I(+e);case b:return i(e,n);case v:case y:case S:case _:case w:case C:case k:case x:case O:return a(e,n);case l:return new I;case h:case f:return new I(e);case d:return o(e);case p:return new I;case m:return s(e)}}},function(e,t,n){var r=n(2096).Uint8Array;e.exports=r},function(e,t,n){var r=n(2609);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(2599),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var r=n(2139),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var r=n(4950),i=n(2603),o=n(2604),s=o&&o.isMap,a=s?i(s):r;e.exports=a},function(e,t,n){var r=n(2608),i=n(2167),o="[object Map]";e.exports=function(e){return i(e)&&r(e)==o}},function(e,t,n){var r=n(4952),i=n(2603),o=n(2604),s=o&&o.isSet,a=s?i(s):r;e.exports=a},function(e,t,n){var r=n(2608),i=n(2167),o="[object Set]";e.exports=function(e){return i(e)&&r(e)==o}},function(e,t,n){"use strict";t.a=class{constructor(e){this.windowMSec=e,this.requestMap=new Map}filter(e,t){const n=[],r=Date.now();for(const i of t){const t=`${e}/${i}`;if(this.requestMap.has(t)){if(this.requestMap.get(t)+this.windowMSec>r)continue;this.requestMap.set(t,r),n.push(i)}else this.requestMap.set(t,r),n.push(i)}return n}}},function(e,t,n){"use strict";t.a=function(e){let t;try{t=JSON.parse(e)}catch(n){}return t}},function(e,t,n){"use strict";var r=n(3088);class i{constructor(e,t){this.defaultTimeout=e,this.defaultHandler=t}get hasTimer(){return!!this.timer}start(e=this.defaultTimeout,t=this.defaultHandler){this.clear(),this.timer=setTimeout(()=>this.wrapHandler(t),e)}clear(){this.timer&&(clearTimeout(this.timer),this.timer=void 0)}wrapHandler(e){this.clear(),e()}}t.b=i;t.a=class{constructor(e,t){this.timer=new i(e,()=>this.wrapHandler(t))}get hasTimer(){return this.timer.hasTimer}async start(e,t){return this.clear(),this.deferred=new r.a,this.timer.start(e,t?()=>this.wrapHandler(t):void 0),this.deferred.promise}clear(){this.timer.clear(),this.deferred&&(this.deferred.reject("canceled"),this.deferred=void 0)}wrapHandler(e){e(),this.deferred.resolve()}}},function(e,t,n){"use strict";const r=n(2085);class i{constructor(e){this.startTick=e,this.lastTick=e}static start(){const e=r();return new i(e)}trace(){const e=r(),t={totalTimeElapsed:e-this.startTick,duration:e-this.lastTick,tick:e};return this.lastTick=e,t}}t.a=i},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.createNew="createNew"}(r||(r={}))},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.generalError=0]="generalError",e[e.genericNetworkError=1]="genericNetworkError",e[e.authorizationError=2]="authorizationError",e[e.fileNotFoundOrAccessDeniedError=3]="fileNotFoundOrAccessDeniedError",e[e.outOfStorageError=4]="outOfStorageError",e[e.invalidFileNameError=5]="invalidFileNameError",e[e.throttlingError=6]="throttlingError",e[e.serviceError=7]="serviceError",e[e.summarizingError=8]="summarizingError",e[e.writeError=9]="writeError",e[e.fatalError=10]="fatalError"}(r||(r={}))},function(e,t,n){"use strict";t.a=class{constructor(e){this.internalStorageService=e}get repositoryUrl(){return this.internalStorageService.repositoryUrl}async getSnapshotTree(e){return this.internalStorageService.getSnapshotTree(e)}async getVersions(e,t){return this.internalStorageService.getVersions(e,t)}async read(e){return this.internalStorageService.read(e)}async getContent(e,t){return this.internalStorageService.getContent(e,t)}async write(e,t,n,r){return this.internalStorageService.write(e,t,n,r)}async uploadSummary(e){return this.internalStorageService.uploadSummary(e)}async uploadSummaryWithContext(e,t){return this.internalStorageService.uploadSummaryWithContext(e,t)}async downloadSummary(e){return this.internalStorageService.downloadSummary(e)}async createBlob(e){return this.internalStorageService.createBlob(e)}getRawUrl(e){return this.internalStorageService.getRawUrl(e)}}},function(e,t,n){"use strict";var r=n(2076),i=(n.n(r),n(3108));class o{constructor(e){this.isExperimentalDocumentServiceFactory=!0,this.protocolName="none:",this.protocolToDocumentFactoryMap=new Map,e.forEach(e=>{this.protocolToDocumentFactoryMap.set(e.protocolName,e)})}static create(e){if(Array.isArray(e)){const t=[];return e.forEach(e=>{const n=e;void 0!==n.protocolToDocumentFactoryMap?t.push(...n.protocolToDocumentFactoryMap.values()):t.push(e)}),1===t.length?t[0]:new o(t)}return e}async createDocumentService(e,t){Object(i.a)(e);const n=Object(r.parse)(e.url);if(void 0===n.protocol)throw new Error("No protocol provided");const o=this.protocolToDocumentFactoryMap.get(n.protocol);if(void 0===o)throw new Error("Unknown fluid protocol");return o.createDocumentService(e,t)}async createContainer(e,t,n){Object(i.a)(t);const o=Object(r.parse)(t.url);if(void 0===o.protocol)throw new Error("No protocol provided");const s=this.protocolToDocumentFactoryMap.get(o.protocol);if(void 0===s)throw new Error("Unknown fluid protocol");return s.createContainer(e,t,n)}}t.a=o},function(e,t,n){"use strict";async function r(e,t){const n=t.url;let r;for(const i of e)if(void 0!==(r=await i.resolve({url:n})))return r}t.b=r;class i{constructor(e){this.urlResolvers=e}static create(e){return Array.isArray(e)?1===e.length?e[0]:new i(e):e}async resolve(e){return r(this.urlResolvers,e)}async requestUrl(e,t){throw new Error("Not implmented")}}t.a=i},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),t.g=a,t.c=function(e,t,n,i,o=r[a()]){if(401===n||403===n)return new u(e,n,t,o);if(404===n)return new l(e,n,t,o);if(500===n)return new g(e);if(507===n)return new h(e,n,t,o);if(414===n||n===s)return new d(e,n,t,o);if(void 0!==i)return new p(e,i);return new c(e,n,t,o)};var r,i=n(2206);class o extends Error{getCustomProperties(){const e={};for(const t of Object.getOwnPropertyNames(this))e[t]=this[t];return e}}!function(e){e[e.Offline=0]="Offline",e[e.Online=1]="Online",e[e.Unknown=2]="Unknown"}(r||(r={}));const s=710;function a(){return"object"===typeof navigator&&null!==navigator&&"boolean"===typeof navigator.onLine?navigator.onLine?r.Online:r.Offline:r.Unknown}t.f=s;class c extends o{constructor(e,t,n,o=r[a()]){super(e),this.statusCode=t,this.canRetry=n,this.online=o,this.errorType=i.ErrorType.genericNetworkError}}class u extends o{constructor(e,t,n,o=r[a()]){super(e),this.statusCode=t,this.canRetry=n,this.online=o,this.errorType=i.ErrorType.authorizationError}}class l extends o{constructor(e,t,n,o=r[a()]){super(e),this.statusCode=t,this.canRetry=n,this.online=o,this.errorType=i.ErrorType.fileNotFoundOrAccessDeniedError}}class h extends o{constructor(e,t,n,o=r[a()]){super(e),this.statusCode=t,this.canRetry=n,this.online=o,this.errorType=i.ErrorType.outOfStorageError}}class d extends o{constructor(e,t,n,o=r[a()]){super(e),this.statusCode=t,this.canRetry=n,this.online=o,this.errorType=i.ErrorType.invalidFileNameError}}class p extends o{constructor(e,t){super(e),this.retryAfterSeconds=t,this.errorType=i.ErrorType.throttlingError}}class f extends o{constructor(e,t=!1){super(e),this.description=e,this.logged=t,this.errorType=i.ErrorType.summarizingError}}class m extends o{constructor(e){super(e),this.errorType=i.ErrorType.writeError,this.critical=!0}}class g extends o{constructor(e){super(e),this.errorType=i.ErrorType.fatalError,this.critical=!0}}t.e=(e=>new m(e));t.b=(e=>new g(e));t.d=((e,t)=>new f(e,t))},function(e,t,n){"use strict";(function(e){t.a=async function(t,n){const r=await t.read(n),i=e.from(r,"base64").toString();return JSON.parse(i)}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";t.a=function(e,t=!1){if(r(void 0!==e),"object"===typeof e&&null!==e)return Object.isFrozen(e)?e:(!0!==e.critical&&(e.critical=t),void 0===e.errorType&&(e.errorType=i.ErrorType.generalError,e.error=e),e);{const n={errorType:i.ErrorType.generalError,error:e,critical:t};return n}};var r=n(1994),i=(n.n(r),n(2206))},function(e,t,n){"use strict";t.a=function(e,t){return{type:1,tree:{".protocol":t,".app":e}}},t.b=function(e){var t;const n=e.tree[".attributes"],r=JSON.parse(n.content);return r.term=null!==(t=r.term)&&void 0!==t?t:1,r},t.c=function(e){const t=e.tree.quorumValues;return JSON.parse(t.content)}},function(e,t,n){"use strict";(function(e){t.g=function(e){switch(3===e.type?e.handleType:e.type){case 2:return o.FileMode.File;case 0:return o.FileMode.Commit;case 1:return o.FileMode.Directory;default:throw new Error}},t.h=function(e){switch(3===e.type?e.handleType:e.type){case 2:return"blob";case 0:return"commit";case 1:return"tree";default:throw new Error}},t.f=function(e,t){return a(function(e,t){return{sha:"",tree:s("",e,t),url:""}}(e,t))},t.e=a,t.d=function(e,t,n){e.entries.push({mode:o.FileMode.File,path:t,type:o.TreeEntry[o.TreeEntry.Blob],value:{contents:JSON.stringify(n),encoding:"utf-8"}})};var r=n(1994),i=(n.n(r),n(2006)),o=n(2001);function s(t,n,a){const c=[];for(const u of n){const n=`${t}${u.path}`;if(u.type===o.TreeEntry[o.TreeEntry.Blob]){const t=u.value,r=e.from(t.contents,t.encoding),s=Object(i.gitHashFile)(r);a.set(s,r.toString("base64"));const l={mode:o.FileMode[u.mode],path:n,sha:s,size:r.length,type:"blob",url:""};c.push(l)}else if(u.type===o.TreeEntry[o.TreeEntry.Commit]){const e={mode:o.FileMode[u.mode],path:n,sha:u.value,size:-1,type:"commit",url:""};c.push(e)}else{r(u.type===o.TreeEntry[o.TreeEntry.Tree]);const e=u.value,t={mode:o.FileMode[u.mode],path:n,sha:"",size:-1,type:"tree",url:""};c.push(t);const i=s(`${n}/`,e.entries,a);c.push(...i)}}return c}function a(e,t=new Map){const n={},r={id:e.sha,blobs:{},commits:{},trees:{}};n[""]=r;for(const i of e.tree){const e=i.path.lastIndexOf("/"),r=i.path.slice(0,Math.max(0,e)),o=i.path.slice(e+1),s=n[r];if("tree"===i.type){const e={id:i.sha,blobs:{},commits:{},trees:{}};s.trees[decodeURIComponent(o)]=e,n[i.path]=e}else"blob"===i.type?(s.blobs[decodeURIComponent(o)]=i.sha,t.set(i.sha,`/${i.path}`)):"commit"===i.type&&(s.commits[decodeURIComponent(o)]=i.sha)}return r}t.a=class{constructor(e,t,n="utf-8"){this.path=e,this.mode=o.FileMode.File,this.type=o.TreeEntry[o.TreeEntry.Blob],this.value={contents:t,encoding:n}}};t.b=class{constructor(e,t){this.path=e,this.value=t,this.mode=o.FileMode.Commit,this.type=o.TreeEntry[o.TreeEntry.Commit]}};t.c=class{constructor(e,t){this.path=e,this.value=t,this.mode=o.FileMode.Directory,this.type=o.TreeEntry[o.TreeEntry.Tree]}}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.Disconnected=0]="Disconnected",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected"}(r||(r={}))},function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),function(e){e.NoOp="noop",e.ClientJoin="join",e.ClientLeave="leave",e.Propose="propose",e.Reject="reject",e.Summarize="summarize",e.SummaryAck="summaryAck",e.SummaryNack="summaryNack",e.BlobUploaded="blobUploaded",e.Attach="attach",e.Operation="op",e.ChunkedOp="chunkedOp",e.Save="saveOp",e.Fork="fork",e.Integrate="integrate",e.RemoteHelp="remoteHelp",e.NoClient="noClient",e.RoundTrip="tripComplete",e.Control="control"}(r||(r={})),function(e){e.ThrottlingError="ThrottlingError",e.InvalidScopeError="InvalidScopeError",e.BadRequestError="BadRequestError",e.LimitExceededError="LimitExceededError"}(i||(i={}))},function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),function(e){e.File="100644",e.Executable="100755",e.Directory="040000",e.Commit="160000",e.Symlink="120000"}(r||(r={})),function(e){e[e.Blob=0]="Blob",e[e.Commit=1]="Commit",e[e.Tree=2]="Tree"}(i||(i={}))},function(e,t){},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.DocRead="doc:read",e.DocWrite="doc:write",e.SummaryWrite="summary:write"}(r||(r={}))},function(e,t,n){"use strict";t.b=function(e){switch(e.type){case r.MessageType.ClientJoin:case r.MessageType.ClientLeave:case r.MessageType.Propose:case r.MessageType.Reject:case r.MessageType.NoOp:case r.MessageType.NoClient:case r.MessageType.Summarize:case r.MessageType.SummaryAck:case r.MessageType.SummaryNack:return!0;default:return!1}};var r=n(2001),i=n(3109);t.a=class{constructor(e,t,n,r,o,s,a,c,u){this.branchId=e,this.minimumSequenceNumber=t,this.sequenceNumber=n,this.term=null!==r&&void 0!==r?r:1,this.quorum=new i.a(t,o,s,a,c,u)}close(){this.quorum.close()}processMessage(e,t){let n=!1;switch(e.type){case r.MessageType.ClientJoin:const i=e,o=JSON.parse(i.data),s={client:o.detail,sequenceNumber:i.sequenceNumber};this.quorum.addMember(o.clientId,s);break;case r.MessageType.ClientLeave:const a=e,c=JSON.parse(a.data);this.quorum.removeMember(c);break;case r.MessageType.Propose:const u=e.contents;this.quorum.addProposal(u.key,u.value,e.sequenceNumber,t,e.clientSequenceNumber),n=!0;break;case r.MessageType.Reject:const l=e.contents;this.quorum.rejectProposal(e.clientId,l)}return this.minimumSequenceNumber=e.minimumSequenceNumber,this.sequenceNumber=e.sequenceNumber,{immediateNoOp:n=this.quorum.updateMinimumSequenceNumber(e)||n}}getProtocolState(){const e=this.quorum.snapshot();return{members:e.members,minimumSequenceNumber:this.minimumSequenceNumber,proposals:e.proposals,sequenceNumber:this.sequenceNumber,values:e.values}}captureSummary(){const e=this.quorum.snapshot(),t={branch:this.branchId,minimumSequenceNumber:this.minimumSequenceNumber,sequenceNumber:this.sequenceNumber,term:this.term};return{tree:{".attributes":{content:JSON.stringify(t),type:2},quorumMembers:{content:JSON.stringify(e.members),type:2},quorumProposals:{content:JSON.stringify(e.proposals),type:2},quorumValues:{content:JSON.stringify(e.values),type:2}},type:1}}}},function(e,t,n){"use strict";var r=n(2001);t.a=(e=>e===r.MessageType.RemoteHelp||e===r.MessageType.Integrate||e===r.MessageType.ClientJoin||e===r.MessageType.ClientLeave||e===r.MessageType.Fork||e===r.MessageType.Control)},function(e,t,n){"use strict";t.b=function(e,t,n,i,o){const s={branch:e,minimumSequenceNumber:t,sequenceNumber:n,term:i};return[{mode:r.FileMode.File,path:"quorumMembers",type:r.TreeEntry[r.TreeEntry.Blob],value:{contents:JSON.stringify(o.members),encoding:"utf-8"}},{mode:r.FileMode.File,path:"quorumProposals",type:r.TreeEntry[r.TreeEntry.Blob],value:{contents:JSON.stringify(o.proposals),encoding:"utf-8"}},{mode:r.FileMode.File,path:"quorumValues",type:r.TreeEntry[r.TreeEntry.Blob],value:{contents:JSON.stringify(o.values),encoding:"utf-8"}},{mode:r.FileMode.File,path:"attributes",type:r.TreeEntry[r.TreeEntry.Blob],value:{contents:JSON.stringify(s),encoding:"utf-8"}}]},t.c=function(e,t){const n=e.tree.map(e=>{const t={mode:e.mode,path:e.path,sha:e.sha,type:e.type};return t});return n.push({mode:r.FileMode.Directory,path:".protocol",sha:t.sha,type:"tree"}),n},t.a=function(e,t){const n=[{mode:r.FileMode.File,path:"deli",type:r.TreeEntry[r.TreeEntry.Blob],value:{contents:e,encoding:"utf-8"}}];return n.push({mode:r.FileMode.File,path:"scribe",type:r.TreeEntry[r.TreeEntry.Blob],value:{contents:t,encoding:"utf-8"}}),n};var r=n(2001)},function(e,t,n){"use strict";(function(e){t.a=class{constructor(e){this.storage=e,this.blobs=new Map}loadBlobMetadata(e){for(const t of e)this.blobs.set(t.id,t)}getBlobMetadata(){return[...this.blobs.values()].map(e=>e)}async getBlob(t){if(!this.blobs.has(t))return Promise.reject("Blob does not exist");const n=this.blobs.get(t),r=await this.storage.read(t);return void 0!==r?(n.content=e.from(r,"base64"),n):void 0}async addBlob(e){this.blobs.set(e.id,e)}async createBlob(e){const t=await this.storage.createBlob(e.content),n={fileName:e.fileName,id:t.id,size:e.size,type:e.type,url:t.url};return this.blobs.set(n.id,n),n}async updateBlob(e){return null}async removeBlob(e){this.blobs.delete(e)}}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2001)),o=n(3110);class s{constructor(e,t,n,r,i,o,s,a,c,u,l,h,d,p,f,m,g){this.container=e,this.scope=t,this.codeLoader=n,this.chaincode=r,this._baseSnapshot=i,this.attributes=o,this.blobManager=s,this.deltaManager=a,this.quorum=c,this.loader=u,this.errorFn=l,this.submitFn=h,this.submitSignalFn=d,this.snapshotFn=p,this.closeFn=f,this.version=m,this.previousRuntimeState=g,this.isExperimentalContainerContext=!0,this._disposed=!1,this.logger=e.subLogger}static async createOrLoad(e,t,n,r,i,o,a,c,u,l,h,d,p,f,m,g,b){const v=new s(e,t,n,r,i,o,a,c,u,l,h,d,p,f,m,g,b);return await v.load(),v}get id(){return this.container.id}get clientId(){return this.container.clientId}get clientDetails(){return this.container.clientDetails}get existing(){return this.container.existing}get branch(){return this.attributes.branch}get parentBranch(){return this.container.parentBranch}get connectionState(){return this.connected?i.ConnectionState.Connected:i.ConnectionState.Disconnected}get connected(){return this.container.connected}get canSummarize(){return"summarize"in this.runtime}get serviceConfiguration(){return this.container.serviceConfiguration}get audience(){return this.container.audience}get options(){return this.container.options}get configuration(){return{canReconnect:this.container.canReconnect,scopes:this.container.scopes}}get IMessageScheduler(){return this}get baseSnapshot(){return this._baseSnapshot}get storage(){return this.container.storage}get disposed(){return this._disposed}dispose(e){this._disposed||(this._disposed=!0,this.runtime.dispose(e),this.quorum.dispose(),this.deltaManager.dispose())}async snapshot(e="",t=!1){return this.runtime.snapshot(e,t)}getLoadedFromVersion(){return this.container.loadedFromVersion}async snapshotRuntimeState(){return this.runtime.stop()}isLocal(){return this.container.isLocal()}createSummary(){if(!this.runtime)throw new Error("Runtime should be there to take summary");return this.runtime.createSummary()}setConnectionState(e,t){const n=this.runtime;r(this.connected===e),n.setConnectionState?n.setConnectionState(e,t):n.changeConnectionState?n.changeConnectionState(this.connectionState,t):r(!1)}process(e,t,n){this.runtime.process(e,t,n)}processSignal(e,t){this.runtime.processSignal(e,t)}async request(e){return this.runtime.request(e)}async requestSnapshot(e){return this.snapshotFn(e)}error(e){this.errorFn(e)}registerTasks(e){}async reloadContext(){return this.container.reloadContext()}hasNullRuntime(){return this.runtime instanceof o.b}async load(){this.runtime=await this.chaincode.instantiateRuntime(this)}}t.a=s},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(137)),o=(n.n(i),n(2272));class s{constructor(e){this.head=0,this.tail=0,this.buffer=[],this.log2Capacity=e,this.length=1<<e,this.lengthMask=this.length-1,this.buffer=Array(this.length).fill(void 0)}enqueue(e){const t=this.head+1&this.lengthMask;t!==this.tail?(this.buffer[this.head]=e,this.head=t):(this.resize(),this.buffer[this.head]=e,this.head=this.head+1&this.lengthMask)}dequeue(){if(this.head!==this.tail){const e=this.buffer[this.tail];return this.tail=this.tail+1&this.lengthMask,e}}peek(){if(this.head!==this.tail){return this.buffer[this.tail]}}resize(){Object(o.a)(`Resizing content buffer from ${this.length}!`),r.notStrictEqual(this.head,this.tail,"Content buffer size error");let e=[];this.head<this.tail?(e=this.buffer.slice(this.tail)).push(...this.buffer.slice(0,this.head)):(r.equal(this.tail,0,"Buffer tail should point at start"),e=this.buffer.slice(0,this.head)),this.log2Capacity+=1,this.length=1<<this.log2Capacity,this.lengthMask=this.length-1,this.head=e.length,this.tail=0,e.push(...Array(this.head).fill(void 0)),this.buffer=e}}t.a=class extends i.EventEmitter{constructor(e){super(),this.log2Capacity=e,this.cache=new Map}set(e){const t=e.clientId;this.cache.has(t)||this.cache.set(t,new s(this.log2Capacity)),this.cache.get(t).enqueue(e),this.emit("content",t)}get(e){return this.cache.has(e)?this.cache.get(e).dequeue():void 0}peek(e){return this.cache.has(e)?this.cache.get(e).peek():void 0}}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(137));n.n(i);class o extends i.EventEmitter{constructor(e){super(),this._nacked=!1,this.forwardEvents=["op","op-content","signal","error","pong"],this.nonForwardEvents=["nack","disconnect"],this._connection=e,this._details={claims:e.claims,clientId:e.clientId,existing:e.existing,get initialClients(){return e.initialClients},get initialContents(){return e.initialContents},get initialMessages(){return e.initialMessages},get initialSignals(){return e.initialSignals},maxMessageSize:e.maxMessageSize,mode:e.mode,parentBranch:e.parentBranch,serviceConfiguration:e.serviceConfiguration,version:e.version},e.on("nack",(e,t)=>{this._nacked=!0,this.emit("nack",t[0])}),e.on("disconnect",e=>{this.emit("disconnect",e),this.close()})}static async connect(e,t){const n=await e.connectToDeltaStream(t);return new o(n)}get details(){return this._details}get nacked(){return this._nacked}get connected(){return!!this._connection}get connection(){if(!this._connection)throw new Error("Connection is closed!");return this._connection}close(){if(this._connection){const e=this._connection;this._connection=void 0,e.disconnect()}this.removeAllListeners()}submit(e){this.connection.submit(e)}async submitAsync(e){return this.connection.submitAsync(e)}submitSignal(e){return this.connection.submitSignal(e)}on(e,t){return this.forwardEvents.includes(e)?(r(0===this.connection.listeners(e).length,"re-registration of events is not implemented"),this.connection.on(e,(...t)=>{this.emit(e,...t)})):r(this.nonForwardEvents.includes(e)),super.on(e,t),this}}t.a=o},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(137)),o=(n.n(i),n(2006)),s=n(2379);n.n(s);t.a=class extends i.EventEmitter{constructor(e){super(),this.worker=e,this.isDisposed=!1,this.q=new s,this.sysPause=!0,this.userPause=!1}get disposed(){return this.isDisposed}get paused(){return this.sysPause||this.userPause}get length(){return this.q.length}get idle(){return!this.processingDeferred&&0===this.q.length}dispose(){r.fail("Not implemented."),this.isDisposed=!0}clear(){this.q.clear()}peek(){return this.q.peekFront()}toArray(){return this.q.toArray()}push(e){this.q.push(e),this.emit("push",e),this.ensureProcessing()}async pause(){if(this.userPause=!0,this.processingDeferred)return this.processingDeferred.promise}resume(){this.userPause=!1,this.paused||this.ensureProcessing()}async systemPause(){if(this.sysPause=!0,this.processingDeferred)return this.processingDeferred.promise}systemResume(){this.sysPause=!1,this.paused||this.ensureProcessing()}ensureProcessing(){this.processingDeferred||(this.processingDeferred=new o.Deferred,Promise.resolve().then(()=>{this.processDeltas(),this.processingDeferred&&(this.processingDeferred.resolve(),this.processingDeferred=void 0)}))}processDeltas(){for(;0!==this.q.length&&!this.paused&&!this.error;){const t=this.q.shift();try{this.worker(t),this.emit("op",t)}catch(e){this.error=e,this.emit("error",e)}}0===this.q.length&&this.emit("idle")}}},function(e,t,n){"use strict";var r=n(2006);class i extends r.EventForwarder{constructor(e){super(e),this.queue=e,this.systemPaused=!1,this.localPaused=!1}get paused(){return this.queue.paused}get length(){return this.queue.length}get idle(){return this.queue.idle}peek(){return this.queue.peek()}toArray(){return this.queue.toArray()}async systemPause(){return this.systemPaused=!0,this.queue.pause()}async pause(){return this.localPaused=!0,this.queue.pause()}async systemResume(){return this.systemPaused=!1,this.updateResume()}async resume(){return this.localPaused=!1,this.updateResume()}async updateResume(){if(!this.systemPaused&&!this.localPaused)return this.queue.resume()}}t.a=class extends r.EventForwarder{constructor(e){super(e),this.deltaManager=e,this.inbound=new i(e.inbound),this.outbound=new i(e.outbound),this.inboundSignal=new i(e.inboundSignal)}get IDeltaSender(){return this}get minimumSequenceNumber(){return this.deltaManager.minimumSequenceNumber}get referenceSequenceNumber(){return this.deltaManager.referenceSequenceNumber}get initialSequenceNumber(){return this.deltaManager.initialSequenceNumber}get clientDetails(){return this.deltaManager.clientDetails}get version(){return this.deltaManager.version}get maxMessageSize(){return this.deltaManager.maxMessageSize}get serviceConfiguration(){return this.deltaManager.serviceConfiguration}get active(){return this.deltaManager.active}get readonly(){return this.deltaManager.readonly}dispose(){this.inbound.dispose(),this.outbound.dispose(),this.inboundSignal.dispose(),super.dispose()}close(){return this.deltaManager.close()}submitSignal(e){return this.deltaManager.submitSignal(e)}submit(e,t,n,r){return this.deltaManager.submit(e,t,n,r)}flush(){return this.deltaManager.flush()}}},function(e,t,n){"use strict";var r=n(2031),i=n(2272);t.a=class extends r.DocumentStorageServiceProxy{constructor(){super(...arguments),this.prefetchCache=new Map,this.prefetchEnabled=!0}async getSnapshotTree(e){const t=this.internalStorageService.getSnapshotTree(e);return t&&this.prefetchEnabled&&t.then(e=>{e&&this.prefetchTree(e)}),t}async read(e){return this.cachedRead(e)}stopPrefetch(){this.prefetchEnabled=!1,this.prefetchCache.clear()}cachedRead(e){if(this.prefetchEnabled){const t=this.prefetchCache.get(e);if(t)return t;const n=this.internalStorageService.read(e);return this.prefetchCache.set(e,n),n}return this.internalStorageService.read(e)}prefetchTree(e){const t=[];this.prefetchTreeCore(e,t);for(const n of t)this.cachedRead(n)}prefetchTreeCore(e,t){for(const n of Object.keys(e.blobs)){const r=e.blobs[n];n.startsWith(".")||"header"===n||n.startsWith("quorum")?null!==r&&this.cachedRead(r):n.startsWith("deltas")||null!==r&&t.push(r)}for(const n of Object.keys(e.commits))this.getVersions(e.commits[n],1).then(e=>this.getSnapshotTree(e[0])).catch(e=>Object(i.a)("Ignored cached read error",e));for(const n of Object.keys(e.trees))this.prefetchTreeCore(e.trees[n],t)}}},function(e,t,n){"use strict";var r=n(2031);t.a=class extends r.DocumentStorageServiceProxy{constructor(e,t){super(e),this.blobs=t}async read(e){const t=this.blobs.get(e);return void 0!==t?t:this.internalStorageService.read(e)}}},function(e,t,n){var r=n(4984),i=n(4991)(function(e,t,n){r(e,t,n)});e.exports=i},function(e,t,n){var r=n(3089),i=n(3116),o=n(4985),s=n(4987),a=n(2139),c=n(2378),u=n(3117);e.exports=function e(t,n,l,h,d){t!==n&&o(n,function(o,c){if(d||(d=new r),a(o))s(t,n,c,l,e,h,d);else{var p=h?h(u(t,c),o,c+"",t,n,d):void 0;void 0===p&&(p=o),i(t,c,p)}},c)}},function(e,t,n){var r=n(4986)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}},function(e,t,n){var r=n(3116),i=n(3100),o=n(3106),s=n(3101),a=n(3107),c=n(3095),u=n(2376),l=n(4988),h=n(2602),d=n(2598),p=n(2139),f=n(4989),m=n(3097),g=n(3117),b=n(4990);e.exports=function(e,t,n,v,y,S,_){var w=g(e,n),C=g(t,n),k=_.get(C);if(k)r(e,n,k);else{var x=S?S(w,C,n+"",e,t,_):void 0,O=void 0===x;if(O){var I=u(C),T=!I&&h(C),E=!I&&!T&&m(C);x=C,I||T||E?u(w)?x=w:l(w)?x=s(w):T?(O=!1,x=i(C,!0)):E?(O=!1,x=o(C,!0)):x=[]:f(C)||c(C)?(x=w,c(w)?x=b(w):p(w)&&!d(w)||(x=a(C))):O=!1}O&&(_.set(C,x),y(x,C,v,S,_),_.delete(C)),r(e,n,x)}}},function(e,t,n){var r=n(2377),i=n(2167);e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){var r=n(2270),i=n(2607),o=n(2167),s="[object Object]",a=Function.prototype,c=Object.prototype,u=a.toString,l=c.hasOwnProperty,h=u.call(Object);e.exports=function(e){if(!o(e)||r(e)!=s)return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==h}},function(e,t,n){var r=n(2271),i=n(2378);e.exports=function(e){return r(e,i(e))}},function(e,t,n){var r=n(4992),i=n(4999);e.exports=function(e){return r(function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(o--,s):void 0,a&&i(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,s)}return t})}},function(e,t,n){var r=n(3118),i=n(4993),o=n(4995);e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t,n){var r=n(4994),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),c=Array(a);++s<a;)c[s]=o[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=o[s];return u[t]=n(c),r(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(4996),i=n(4998)(r);e.exports=i},function(e,t,n){var r=n(4997),i=n(3093),o=n(3118),s=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=s},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=800,r=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var s=i(),a=r-(s-o);if(o=s,a>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(2373),i=n(2377),o=n(3096),s=n(2139);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?i(n)&&o(t,n.length):"string"==a&&t in n)&&r(n[t],e)}},function(e,t,n){"use strict";var r=n(2077),i=n(3120),o=n(5002),s=n(2611);function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=a(s);c.Axios=o,c.create=function(e){return a(r.merge(s,e))},c.Cancel=n(3124),c.CancelToken=n(5015),c.isCancel=n(3123),c.all=function(e){return Promise.all(e)},c.spread=n(5016),e.exports=c,e.exports.default=c},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(2611),i=n(2077),o=n(5010),s=n(5011);function a(e){this.defaults=e,this.interceptors={request:new o,response:new o}}a.prototype.request=function(e){"string"===typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){a.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){a.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=a},function(e,t,n){"use strict";var r=n(2077);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(3122);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},function(e,t,n){"use strict";var r=n(2077);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))}))}),o=s.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var r=n(2077),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},function(e,t,n){"use strict";var r=n(2077);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(2077);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(2077);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,n){"use strict";var r=n(2077),i=n(5012),o=n(3123),s=n(2611),a=n(5013),c=n(5014);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!a(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return u(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(2077);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(3124);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";t.a=function(e,t,n,o,s){""!==(s=s||a()).id&&void 0!==s.id||(Object(r.debug)("User with no id"),s=a());const c={documentId:t,scopes:o,tenantId:e,user:s};return i.sign(c,n)},t.b=a;var r=n(734),i=(n.n(r),n(2612)),o=(n.n(i),n(2048)),s=(n.n(o),n(3133));function a(){return{id:Object(o.v4)(),name:Object(s.b)(" ",!0)}}},function(e,t,n){var r=n(2164).Buffer,i=n(3126),o=n(3127),s=n(743),a=n(3128),c=n(734);function u(e,t){return r.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(e){var t=e.header,n=e.payload,r=e.secret||e.privateKey,i=e.encoding,s=o(t.alg),l=function(e,t,n){n=n||"utf8";var r=u(a(e),"binary"),i=u(a(t),n);return c.format("%s.%s",r,i)}(t,n,i),h=s.sign(l,r);return c.format("%s.%s",l,h)}function h(e){var t=e.secret||e.privateKey||e.key,n=new i(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=n,this.payload=new i(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}c.inherits(h,s),h.prototype.sign=function(){try{var e=l({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(t){this.readable=!1,this.emit("error",t),this.emit("close")}},h.sign=l,e.exports=h},function(e,t,n){"use strict";var r=n(22).Buffer,i=n(22).SlowBuffer;function o(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(var n=0,i=0;i<e.length;i++)n|=e[i]^t[i];return 0===n}e.exports=o,o.install=function(){r.prototype.equal=i.prototype.equal=function(e){return o(this,e)}};var s=r.prototype.equal,a=i.prototype.equal;o.restore=function(){r.prototype.equal=s,i.prototype.equal=a}},function(e,t,n){"use strict";var r=n(2164).Buffer,i=n(5021),o=128,s=48,a=2;function c(e){if(r.isBuffer(e))return e;if("string"===typeof e)return r.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function u(e,t,n){for(var r=0;t+r<n&&0===e[t+r];)++r;return e[t+r]>=o&&--r,r}e.exports={derToJose:function(e,t){e=c(e);var n=i(t),u=n+1,l=e.length,h=0;if(e[h++]!==s)throw new Error('Could not find expected "seq"');var d=e[h++];if(d===(1|o)&&(d=e[h++]),l-h<d)throw new Error('"seq" specified length of "'+d+'", only "'+(l-h)+'" remaining');if(e[h++]!==a)throw new Error('Could not find expected "int" for "r"');var p=e[h++];if(l-h-2<p)throw new Error('"r" specified length of "'+p+'", only "'+(l-h-2)+'" available');if(u<p)throw new Error('"r" specified length of "'+p+'", max of "'+u+'" is acceptable');var f=h;if(h+=p,e[h++]!==a)throw new Error('Could not find expected "int" for "s"');var m=e[h++];if(l-h!==m)throw new Error('"s" specified length of "'+m+'", expected "'+(l-h)+'"');if(u<m)throw new Error('"s" specified length of "'+m+'", max of "'+u+'" is acceptable');var g=h;if((h+=m)!==l)throw new Error('Expected to consume entire buffer, but "'+(l-h)+'" bytes remain');var b=n-p,v=n-m,y=r.allocUnsafe(b+p+v+m);for(h=0;h<b;++h)y[h]=0;e.copy(y,h,f+Math.max(-b,0),f+p);for(var S=h=n;h<S+v;++h)y[h]=0;return e.copy(y,h,g+Math.max(-v,0),g+m),y=(y=y.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=c(e);var n=i(t),l=e.length;if(l!==2*n)throw new TypeError('"'+t+'" signatures must be "'+2*n+'" bytes, saw "'+l+'"');var h=u(e,0,n),d=u(e,n,e.length),p=n-h,f=n-d,m=2+p+1+1+f,g=m<o,b=r.allocUnsafe((g?2:3)+m),v=0;return b[v++]=s,g?b[v++]=m:(b[v++]=1|o,b[v++]=255&m),b[v++]=a,b[v++]=p,h<0?(b[v++]=0,v+=e.copy(b,v,0,n)):v+=e.copy(b,v,h,n),b[v++]=a,b[v++]=f,d<0?(b[v++]=0,e.copy(b,v,n)):e.copy(b,v,n+d),b}}},function(e,t,n){"use strict";function r(e){return(e/8|0)+(e%8===0?0:1)}var i={ES256:r(256),ES384:r(384),ES512:r(521)};e.exports=function(e){var t=i[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}},function(e,t,n){var r=n(2164).Buffer,i=n(3126),o=n(3127),s=n(743),a=n(3128),c=n(734),u=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function l(e){if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e))return e;try{return JSON.parse(e)}catch(t){return}}function h(e){var t=e.split(".",1)[0];return l(r.from(t,"base64").toString("binary"))}function d(e){return e.split(".")[2]}function p(e){return u.test(e)&&!!h(e)}function f(e,t,n){if(!t){var r=new Error("Missing algorithm parameter for jws.verify");throw r.code="MISSING_ALGORITHM",r}var i=d(e=a(e)),s=function(e){return e.split(".",2).join(".")}(e);return o(t).verify(s,i,n)}function m(e,t){if(t=t||{},!p(e=a(e)))return null;var n=h(e);if(!n)return null;var i=function(e,t){t=t||"utf8";var n=e.split(".")[1];return r.from(n,"base64").toString(t)}(e);return("JWT"===n.typ||t.json)&&(i=JSON.parse(i,t.encoding)),{header:n,payload:i,signature:d(e)}}function g(e){var t=(e=e||{}).secret||e.publicKey||e.key,n=new i(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=n,this.signature=new i(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}c.inherits(g,s),g.prototype.verify=function(){try{var e=f(this.signature.buffer,this.algorithm,this.key.buffer),t=m(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(n){this.readable=!1,this.emit("error",n),this.emit("close")}},g.decode=m,g.isValid=p,g.verify=f,e.exports=g},function(e,t,n){var r=n(2382),i=n(3129),o=n(3130),s=n(3125),a=n(3131),c=n(3132),u=n(2613),l=["RS256","RS384","RS512","ES256","ES384","ES512"],h=["RS256","RS384","RS512"],d=["HS256","HS384","HS512"];c&&(l.splice(3,0,"PS256","PS384","PS512"),h.splice(3,0,"PS256","PS384","PS512")),e.exports=function(e,t,n,c){var p;if("function"!==typeof n||c||(c=n,n={}),n||(n={}),n=Object.assign({},n),p=c||function(e,t){if(e)throw e;return t},n.clockTimestamp&&"number"!==typeof n.clockTimestamp)return p(new r("clockTimestamp must be a number"));if(void 0!==n.nonce&&("string"!==typeof n.nonce||""===n.nonce.trim()))return p(new r("nonce must be a non-empty string"));var f=n.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return p(new r("jwt must be provided"));if("string"!==typeof e)return p(new r("jwt must be a string"));var m,g=e.split(".");if(3!==g.length)return p(new r("jwt malformed"));try{m=s(e,{complete:!0})}catch(y){return p(y)}if(!m)return p(new r("invalid token"));var b,v=m.header;if("function"===typeof t){if(!c)return p(new r("verify must be called asynchronous if secret or public key is provided as a callback"));b=t}else b=function(e,n){return n(null,t)};return b(v,function(t,s){if(t)return p(new r("error in secret or public key callback: "+t.message));var c,b=""!==g[2].trim();if(!b&&s)return p(new r("jwt signature is required"));if(b&&!s)return p(new r("secret or public key must be provided"));if(b||n.algorithms||(n.algorithms=["none"]),n.algorithms||(n.algorithms=~s.toString().indexOf("BEGIN CERTIFICATE")||~s.toString().indexOf("BEGIN PUBLIC KEY")?l:~s.toString().indexOf("BEGIN RSA PUBLIC KEY")?h:d),!~n.algorithms.indexOf(m.header.alg))return p(new r("invalid algorithm"));try{c=u.verify(e,m.header.alg,s)}catch(C){return p(C)}if(!c)return p(new r("invalid signature"));var y=m.payload;if("undefined"!==typeof y.nbf&&!n.ignoreNotBefore){if("number"!==typeof y.nbf)return p(new r("invalid nbf value"));if(y.nbf>f+(n.clockTolerance||0))return p(new i("jwt not active",new Date(1e3*y.nbf)))}if("undefined"!==typeof y.exp&&!n.ignoreExpiration){if("number"!==typeof y.exp)return p(new r("invalid exp value"));if(f>=y.exp+(n.clockTolerance||0))return p(new o("jwt expired",new Date(1e3*y.exp)))}if(n.audience){var S=Array.isArray(n.audience)?n.audience:[n.audience];if(!(Array.isArray(y.aud)?y.aud:[y.aud]).some(function(e){return S.some(function(t){return t instanceof RegExp?t.test(e):t===e})}))return p(new r("jwt audience invalid. expected: "+S.join(" or ")))}if(n.issuer&&("string"===typeof n.issuer&&y.iss!==n.issuer||Array.isArray(n.issuer)&&-1===n.issuer.indexOf(y.iss)))return p(new r("jwt issuer invalid. expected: "+n.issuer));if(n.subject&&y.sub!==n.subject)return p(new r("jwt subject invalid. expected: "+n.subject));if(n.jwtid&&y.jti!==n.jwtid)return p(new r("jwt jwtid invalid. expected: "+n.jwtid));if(n.nonce&&y.nonce!==n.nonce)return p(new r("jwt nonce invalid. expected: "+n.nonce));if(n.maxAge){if("number"!==typeof y.iat)return p(new r("iat required when maxAge is specified"));var _=a(n.maxAge,y.iat);if("undefined"===typeof _)return p(new r('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(f>=_+(n.clockTolerance||0))return p(new o("maxAge exceeded",new Date(1e3*_)))}if(!0===n.complete){var w=m.signature;return p(null,{header:v,payload:y,signature:w})}return p(null,y)})}},function(e,t,n){(function(n){var r;t=e.exports=G,r="object"===typeof n&&Object({NODE_ENV:"production",PUBLIC_URL:"%CDN_BUNDLE_URL%",AZNB_PUB_COMPONENT_VERSION:"1.1.3",AZNB_PUB_DEFAULT_ENDPOINT:"%AZNB_BACKEND_ENDPOINT%",AZNB_PUB_AZNBCONTENT_ENDPOINT:"%AZNB_PUB_AZNBCONTENT_ENDPOINT%",AZNB_PUB_BUILDTAG:"notebooks-release-prod.3971045.20200812160335.a3c03bb2"})&&Object({NODE_ENV:"production",PUBLIC_URL:"%CDN_BUNDLE_URL%",AZNB_PUB_COMPONENT_VERSION:"1.1.3",AZNB_PUB_DEFAULT_ENDPOINT:"%AZNB_BACKEND_ENDPOINT%",AZNB_PUB_AZNBCONTENT_ENDPOINT:"%AZNB_PUB_AZNBCONTENT_ENDPOINT%",AZNB_PUB_BUILDTAG:"notebooks-release-prod.3971045.20200812160335.a3c03bb2"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production",PUBLIC_URL:"%CDN_BUNDLE_URL%",AZNB_PUB_COMPONENT_VERSION:"1.1.3",AZNB_PUB_DEFAULT_ENDPOINT:"%AZNB_BACKEND_ENDPOINT%",AZNB_PUB_AZNBCONTENT_ENDPOINT:"%AZNB_PUB_AZNBCONTENT_ENDPOINT%",AZNB_PUB_BUILDTAG:"notebooks-release-prod.3971045.20200812160335.a3c03bb2"}).NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var i=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,s=t.re=[],a=t.src=[],c=0,u=c++;a[u]="0|[1-9]\\d*";var l=c++;a[l]="[0-9]+";var h=c++;a[h]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var p=c++;a[p]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var f=c++;a[f]="(?:"+a[u]+"|"+a[h]+")";var m=c++;a[m]="(?:"+a[l]+"|"+a[h]+")";var g=c++;a[g]="(?:-("+a[f]+"(?:\\."+a[f]+")*))";var b=c++;a[b]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var v=c++;a[v]="[0-9A-Za-z-]+";var y=c++;a[y]="(?:\\+("+a[v]+"(?:\\."+a[v]+")*))";var S=c++,_="v?"+a[d]+a[g]+"?"+a[y]+"?";a[S]="^"+_+"$";var w="[v=\\s]*"+a[p]+a[b]+"?"+a[y]+"?",C=c++;a[C]="^"+w+"$";var k=c++;a[k]="((?:<|>)?=?)";var x=c++;a[x]=a[l]+"|x|X|\\*";var O=c++;a[O]=a[u]+"|x|X|\\*";var I=c++;a[I]="[v=\\s]*("+a[O]+")(?:\\.("+a[O]+")(?:\\.("+a[O]+")(?:"+a[g]+")?"+a[y]+"?)?)?";var T=c++;a[T]="[v=\\s]*("+a[x]+")(?:\\.("+a[x]+")(?:\\.("+a[x]+")(?:"+a[b]+")?"+a[y]+"?)?)?";var E=c++;a[E]="^"+a[k]+"\\s*"+a[I]+"$";var N=c++;a[N]="^"+a[k]+"\\s*"+a[T]+"$";var M=c++;a[M]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var P=c++;a[P]="(?:~>?)";var j=c++;a[j]="(\\s*)"+a[P]+"\\s+",s[j]=new RegExp(a[j],"g");var D=c++;a[D]="^"+a[P]+a[I]+"$";var R=c++;a[R]="^"+a[P]+a[T]+"$";var L=c++;a[L]="(?:\\^)";var A=c++;a[A]="(\\s*)"+a[L]+"\\s+",s[A]=new RegExp(a[A],"g");var F=c++;a[F]="^"+a[L]+a[I]+"$";var B=c++;a[B]="^"+a[L]+a[T]+"$";var q=c++;a[q]="^"+a[k]+"\\s*("+w+")$|^$";var z=c++;a[z]="^"+a[k]+"\\s*("+_+")$|^$";var W=c++;a[W]="(\\s*)"+a[k]+"\\s*("+w+"|"+a[I]+")",s[W]=new RegExp(a[W],"g");var H=c++;a[H]="^\\s*("+a[I]+")\\s+-\\s+("+a[I]+")\\s*$";var V=c++;a[V]="^\\s*("+a[T]+")\\s+-\\s+("+a[T]+")\\s*$";var U=c++;a[U]="(<|>)?=?\\s*\\*";for(var $=0;$<35;$++)r($,a[$]),s[$]||(s[$]=new RegExp(a[$]));function K(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof G)return e;if("string"!==typeof e)return null;if(e.length>i)return null;if(!(t.loose?s[C]:s[S]).test(e))return null;try{return new G(e,t)}catch(n){return null}}function G(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof G){if(e.loose===t.loose)return e;e=e.version}else if("string"!==typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>i)throw new TypeError("version is longer than "+i+" characters");if(!(this instanceof G))return new G(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?s[C]:s[S]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}t.parse=K,t.valid=function(e,t){var n=K(e,t);return n?n.version:null},t.clean=function(e,t){var n=K(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof G||(e=new G(e,this.options)),this.compareMain(e)||this.comparePre(e)},G.prototype.compareMain=function(e){return e instanceof G||(e=new G(e,this.options)),J(this.major,e.major)||J(this.minor,e.minor)||J(this.patch,e.patch)},G.prototype.comparePre=function(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return J(n,i)}while(++t)},G.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"===typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"===typeof n&&(r=n,n=void 0);try{return new G(e,n).inc(t,r).version}catch(i){return null}},t.diff=function(e,t){if(ee(e,t))return null;var n=K(e),r=K(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},t.compareIdentifiers=J;var Y=/^[0-9]+$/;function J(e,t){var n=Y.test(e),r=Y.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function Q(e,t,n){return new G(e,n).compare(new G(t,n))}function Z(e,t,n){return Q(e,t,n)>0}function X(e,t,n){return Q(e,t,n)<0}function ee(e,t,n){return 0===Q(e,t,n)}function te(e,t,n){return 0!==Q(e,t,n)}function ne(e,t,n){return Q(e,t,n)>=0}function re(e,t,n){return Q(e,t,n)<=0}function ie(e,t,n,r){switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return ee(e,n,r);case"!=":return te(e,n,r);case">":return Z(e,n,r);case">=":return ne(e,n,r);case"<":return X(e,n,r);case"<=":return re(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function oe(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===se?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return J(t,e)},t.major=function(e,t){return new G(e,t).major},t.minor=function(e,t){return new G(e,t).minor},t.patch=function(e,t){return new G(e,t).patch},t.compare=Q,t.compareLoose=function(e,t){return Q(e,t,!0)},t.rcompare=function(e,t,n){return Q(t,e,n)},t.sort=function(e,n){return e.sort(function(e,r){return t.compare(e,r,n)})},t.rsort=function(e,n){return e.sort(function(e,r){return t.rcompare(e,r,n)})},t.gt=Z,t.lt=X,t.eq=ee,t.neq=te,t.gte=ne,t.lte=re,t.cmp=ie,t.Comparator=oe;var se={};function ae(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ae)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ae(e.raw,t);if(e instanceof oe)return new ae(e.value,t);if(!(this instanceof ae))return new ae(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ce(e){return!e||"x"===e.toLowerCase()||"*"===e}function ue(e,t,n,r,i,o,s,a,c,u,l,h,d){return((t=ce(n)?"":ce(r)?">="+n+".0.0":ce(i)?">="+n+"."+r+".0":">="+t)+" "+(a=ce(c)?"":ce(u)?"<"+(+c+1)+".0.0":ce(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function le(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==se&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function he(e,t,n){try{t=new ae(t,n)}catch(r){return!1}return t.test(e)}function de(e,t,n,r){var i,o,s,a,c;switch(e=new G(e,r),t=new ae(t,r),n){case">":i=Z,o=re,s=X,a=">",c=">=";break;case"<":i=X,o=ne,s=Z,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(he(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],h=null,d=null;if(l.forEach(function(e){e.semver===se&&(e=new oe(">=0.0.0")),h=h||e,d=d||e,i(e.semver,h.semver,r)?h=e:s(e.semver,d.semver,r)&&(d=e)}),h.operator===a||h.operator===c)return!1;if((!d.operator||d.operator===a)&&o(e,d.semver))return!1;if(d.operator===c&&s(e,d.semver))return!1}return!0}oe.prototype.parse=function(e){var t=this.options.loose?s[q]:s[z],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new G(n[2],this.options.loose):this.semver=se},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===se||("string"===typeof e&&(e=new G(e,this.options)),ie(e,this.operator,this.semver,this.options))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Comparator is required");var n;if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new ae(e.value,t),he(this.value,n,t);if(""===e.operator)return n=new ae(this.value,t),he(e.semver,n,t);var r=(">="===this.operator||">"===this.operator)&&(">="===e.operator||">"===e.operator),i=("<="===this.operator||"<"===this.operator)&&("<="===e.operator||"<"===e.operator),o=this.semver.version===e.semver.version,s=(">="===this.operator||"<="===this.operator)&&(">="===e.operator||"<="===e.operator),a=ie(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ie(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},t.Range=ae,ae.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?s[V]:s[H];e=e.replace(n,ue),r("hyphen replace",e),e=e.replace(s[W],"$1$2$3"),r("comparator trim",e,s[W]),e=(e=(e=e.replace(s[j],"$1~")).replace(s[A],"$1^")).split(/\s+/).join(" ");var i=t?s[q]:s[z],o=e.split(" ").map(function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){r("caret",e,t);var n=t.loose?s[B]:s[F];return e.replace(n,function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),ce(n)?a="":ce(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ce(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a})}(e,t)}).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){var n=t.loose?s[R]:s[D];return e.replace(n,function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),ce(n)?a="":ce(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ce(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a})}(e,t)}).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){e=e.trim();var n=t.loose?s[N]:s[E];return e.replace(n,function(t,n,i,o,s,a){r("xRange",e,t,n,i,o,s,a);var c=ce(i),u=c||ce(o),l=u||ce(s),h=l;return"="===n&&h&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&h?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),t=n+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",t),t})}(e,t)}).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(s[U],"")}(e,t),r("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter(function(e){return!!e.match(i)})),o=o.map(function(e){return new oe(e,this.options)},this)},ae.prototype.intersects=function(e,t){if(!(e instanceof ae))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(n){return e.set.some(function(e){return e.every(function(e){return n.intersects(e,t)})})})})},t.toComparators=function(e,t){return new ae(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},ae.prototype.test=function(e){if(!e)return!1;"string"===typeof e&&(e=new G(e,this.options));for(var t=0;t<this.set.length;t++)if(le(this.set[t],e,this.options))return!0;return!1},t.satisfies=he,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new ae(t,n)}catch(s){return null}return e.forEach(function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new G(r=e,n)))}),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new ae(t,n)}catch(s){return null}return e.forEach(function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new G(r=e,n)))}),r},t.minVersion=function(e,t){e=new ae(e,t);var n=new G("0.0.0");if(e.test(n))return n;if(n=new G("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r){var i=e.set[r];i.forEach(function(e){var t=new G(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!Z(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}})}if(n&&e.test(n))return n;return null},t.validRange=function(e,t){try{return new ae(e,t).range||"*"}catch(n){return null}},t.ltr=function(e,t,n){return de(e,t,"<",n)},t.gtr=function(e,t,n){return de(e,t,">",n)},t.outside=de,t.prerelease=function(e,t){var n=K(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new ae(e,n),t=new ae(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof G)return e;if("string"!==typeof e)return null;var t=e.match(s[M]);if(null==t)return null;return K(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}}).call(t,n(29))},function(e,t,n){(function(t){var r=n(3131),i=n(3132),o=n(2613),s=n(5026),a=n(5027),c=n(5028),u=n(5029),l=n(5030),h=n(5031),d=n(5032),p=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&p.splice(3,0,"PS256","PS384","PS512");var f={expiresIn:{isValid:function(e){return c(e)||h(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||h(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return h(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:s.bind(null,p),message:'"algorithm" must be a valid string enum value'},header:{isValid:l,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:a,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:a,message:'"mutatePayload" must be a boolean'}},m={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function g(e,t,n,r){if(!l(n))throw new Error('Expected "'+r+'" to be a plain object.');Object.keys(n).forEach(function(i){var o=e[i];if(o){if(!o.isValid(n[i]))throw new Error(o.message)}else if(!t)throw new Error('"'+i+'" is not allowed in "'+r+'"')})}var b={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},v=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,n,i,s){"function"===typeof i?(s=i,i={}):i=i||{};var a="object"===typeof e&&!t.isBuffer(e),c=Object.assign({alg:i.algorithm||"HS256",typ:a?"JWT":void 0,kid:i.keyid},i.header);function u(e){if(s)return s(e);throw e}if(!n&&"none"!==i.algorithm)return u(new Error("secretOrPrivateKey must have a value"));if("undefined"===typeof e)return u(new Error("payload is required"));if(a){try{!function(e){g(m,!0,e,"payload")}(e)}catch(y){return u(y)}i.mutatePayload||(e=Object.assign({},e))}else{var l=v.filter(function(e){return"undefined"!==typeof i[e]});if(l.length>0)return u(new Error("invalid "+l.join(",")+" option for "+typeof e+" payload"))}if("undefined"!==typeof e.exp&&"undefined"!==typeof i.expiresIn)return u(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if("undefined"!==typeof e.nbf&&"undefined"!==typeof i.notBefore)return u(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(e){g(f,!1,e,"options")}(i)}catch(y){return u(y)}var h=e.iat||Math.floor(Date.now()/1e3);if(i.noTimestamp?delete e.iat:a&&(e.iat=h),"undefined"!==typeof i.notBefore){try{e.nbf=r(i.notBefore,h)}catch(S){return u(S)}if("undefined"===typeof e.nbf)return u(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if("undefined"!==typeof i.expiresIn&&"object"===typeof e){try{e.exp=r(i.expiresIn,h)}catch(S){return u(S)}if("undefined"===typeof e.exp)return u(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(b).forEach(function(t){var n=b[t];if("undefined"!==typeof i[t]){if("undefined"!==typeof e[n])return u(new Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=i[t]}});var p=i.encoding||"utf8";if("function"!==typeof s)return o.sign({header:c,payload:e,secret:n,encoding:p});s=s&&d(s),o.createSign({header:c,privateKey:n,payload:e,encoding:p}).once("error",s).once("done",function(e){s(null,e)})}}).call(t,n(22).Buffer)},function(e,t){var n=1/0,r=9007199254740991,i=1.7976931348623157e308,o=NaN,s="[object Arguments]",a="[object Function]",c="[object GeneratorFunction]",u="[object String]",l="[object Symbol]",h=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=/^(?:0|[1-9]\d*)$/,g=parseInt;function b(e){return e!==e}function v(e,t){return function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(t,function(t){return e[t]})}var y,S,_=Object.prototype,w=_.hasOwnProperty,C=_.toString,k=_.propertyIsEnumerable,x=(y=Object.keys,S=Object,function(e){return y(S(e))}),O=Math.max;function I(e,t){var n=N(e)||function(e){return function(e){return j(e)&&M(e)}(e)&&w.call(e,"callee")&&(!k.call(e,"callee")||C.call(e)==s)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!w.call(e,o)||i&&("length"==o||E(o,r))||n.push(o);return n}function T(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||_;return e===n}(e))return x(e);var t=[];for(var n in Object(e))w.call(e,n)&&"constructor"!=n&&t.push(n);return t}function E(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||m.test(e))&&e>-1&&e%1==0&&e<t}var N=Array.isArray;function M(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=P(e)?C.call(e):"";return t==a||t==c}(e)}function P(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function j(e){return!!e&&"object"==typeof e}e.exports=function(e,t,r,s){var a;e=M(e)?e:(a=e)?v(a,function(e){return M(e)?I(e):T(e)}(a)):[],r=r&&!s?function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||j(e)&&C.call(e)==l}(e))return o;if(P(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=P(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(h,"");var n=p.test(e);return n||f.test(e)?g(e.slice(2),n?2:8):d.test(e)?o:+e}(e))===n||e===-n){var t=e<0?-1:1;return t*i}return e===e?e:0}(e),r=t%1;return t===t?r?t-r:t:0}(r):0;var c=e.length;return r<0&&(r=O(c+r,0)),function(e){return"string"==typeof e||!N(e)&&j(e)&&C.call(e)==u}(e)?r<=c&&e.indexOf(t,r)>-1:!!c&&function(e,t,n){if(t!==t)return function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,b,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,r)>-1}},function(e,t){var n="[object Boolean]",r=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||function(e){return!!e&&"object"==typeof e}(e)&&r.call(e)==n}},function(e,t){var n=1/0,r=1.7976931348623157e308,i=NaN,o="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,h=Object.prototype.toString;function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return"number"==typeof e&&e==function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==o}(e))return i;if(d(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=d(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?i:+e}(e))===n||e===-n){var t=e<0?-1:1;return t*r}return e===e?e:0}(e),p=t%1;return t===t?p?t-p:t:0}(e)}},function(e,t){var n="[object Number]",r=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&r.call(e)==n}},function(e,t){var n="[object Object]";var r,i,o=Function.prototype,s=Object.prototype,a=o.toString,c=s.hasOwnProperty,u=a.call(Object),l=s.toString,h=(r=Object.getPrototypeOf,i=Object,function(e){return r(i(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||l.call(e)!=n||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e))return!1;var t=h(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&a.call(r)==u}},function(e,t){var n="[object String]",r=Object.prototype.toString,i=Array.isArray;e.exports=function(e){return"string"==typeof e||!i(e)&&function(e){return!!e&&"object"==typeof e}(e)&&r.call(e)==n}},function(e,t){var n="Expected a function",r=1/0,i=1.7976931348623157e308,o=NaN,s="[object Symbol]",a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=parseInt,d=Object.prototype.toString;function p(e,t){var p;if("function"!=typeof t)throw new TypeError(n);return e=function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==s}(e))return o;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||l.test(e)?h(e.slice(2),n?2:8):c.test(e)?o:+e}(e))===r||e===-r){var t=e<0?-1:1;return t*i}return e===e?e:0}(e),n=t%1;return t===t?n?t-n:t:0}(e),function(){return--e>0&&(p=t.apply(this,arguments)),e<=1&&(t=void 0),p}}function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return p(2,e)}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(5034)),o=n(2001),s=n(3136);t.a=class{constructor(e){this.historian=e,this.blobCache=new Map,this.commitCache=new Map,this.treeCache=new Map,this.refCache=new Map}async getHeader(e,t){const n=await this.historian.getHeader(t);for(const r of n.blobs)this.blobCache.set(r.sha,r);return Object(i.a)(n.tree)}async getFullTree(e){return this.historian.getFullTree(e)}async getCommit(e){return this.commitCache.has(e)?(Object(s.a)(`Cache hit on ${e}`),this.commitCache.get(e)):this.historian.getCommit(e)}async getCommits(e,t){let n=e;if(this.refCache.has(e)&&(Object(s.a)(`Commit cache hit on ${e}`),n=this.refCache.get(e),this.refCache.delete(e),!n))return[];if(this.commitCache.has(n)){const e=this.commitCache.get(n);return[{commit:{author:e.author,committer:e.committer,message:e.message,tree:e.tree,url:e.url},parents:e.parents,sha:e.sha,url:e.url}]}return this.historian.getCommits(n,t)}async getTree(e,t=!0){return this.treeCache.has(e)?(Object(s.a)(`Tree cache hit on ${e}`),this.treeCache.get(e)):this.historian.getTree(e,t)}async getBlob(e){return this.blobCache.has(e)?(Object(s.a)(`Blob cache hit on ${e}`),this.blobCache.get(e)):this.historian.getBlob(e)}getRawUrl(e){return`${this.historian.endpoint}/git/blobs/raw/${e}`}getContent(e,t){return this.historian.getContent(t,e)}createBlob(e,t){const n={content:e,encoding:t};return this.historian.createBlob(n)}createGitTree(e){return this.historian.createTree(e)}createTree(e){return this.createTreeCore(e,0)}async createCommit(e){return this.historian.createCommit(e)}async getRef(e){return this.historian.getRef(`heads/${e}`).catch(e=>400===e||404===e?null:Promise.reject(e))}async createRef(e,t){const n={ref:`refs/heads/${e}`,sha:t};return this.historian.createRef(n)}async upsertRef(e,t){const n={force:!0,sha:t};return this.historian.updateRef(`heads/${e}`,n)}addRef(e,t){this.refCache.set(e,t)}addCommit(e){this.commitCache.set(e.sha,e)}addTree(e){this.treeCache.set(e.sha,e)}addBlob(e){this.blobCache.set(e.sha,e)}async write(e,t,n,r){const i=await this.createTree(t),o={author:{date:(new Date).toISOString(),email:"kurtb@microsoft.com",name:"Kurt Berglund"},message:r,parents:n,tree:i.sha},s=await this.historian.createCommit(o);return await this.getRef(e)?await this.upsertRef(e,s.sha):await this.createRef(e,s.sha),s}async createTreeCore(e,t){if(e.id)return this.getTree(e.id);const n=[];for(const r of e.entries)switch(o.TreeEntry[r.type]){case o.TreeEntry.Blob:const e=r.value;r.mode===o.FileMode.Symlink&&(e.contents=this.translateSymlink(e.contents,t));const i=this.createBlob(e.contents,e.encoding);n.push(i);break;case o.TreeEntry.Tree:const s=r.value,a=this.createTreeCore(s,t+1);n.push(a);break;case o.TreeEntry.Commit:n.push(Promise.resolve({sha:r.value,url:""}));break;default:return Promise.reject("Unknown entry type")}const i=await Promise.all(n),s=[];r(i.length===e.entries.length);for(let r=0;r<e.entries.length;r++){const t=e.entries[r].type===o.TreeEntry[o.TreeEntry.Tree]?"tree":e.entries[r].type===o.TreeEntry[o.TreeEntry.Blob]?"blob":"commit";s.push({mode:e.entries[r].mode,path:e.entries[r].path,sha:i[r].sha,type:t})}const a={tree:s};return this.historian.createTree(a)}translateSymlink(e,t){let n="";for(let r=0;r<=t;r++)n+="../";return`${n}${e}`}}},function(e,t,n){"use strict";var r=n(5035);n.d(t,"a",function(){return r.a});n(5053),n(3135),n(5054),n(5055)},function(e,t,n){"use strict";(function(e){t.a=i;var r=n(1994);n.n(r),n(2614),n(2001);function i(e,t=new Map){const n={},r={id:e.sha,blobs:{},commits:{},trees:{}};n[""]=r;for(const i of e.tree){const e=i.path.lastIndexOf("/"),r=i.path.slice(0,Math.max(0,e)),o=i.path.slice(e+1),s=n[r];if("tree"===i.type){const e={id:i.sha,blobs:{},commits:{},trees:{}};s.trees[decodeURIComponent(o)]=e,n[i.path]=e}else"blob"===i.type?(s.blobs[decodeURIComponent(o)]=i.sha,t.set(i.sha,`/${i.path}`)):"commit"===i.type&&(s.commits[decodeURIComponent(o)]=i.sha)}return r}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";n(5037)},function(e,t,n){"use strict"},function(e,t,n){"use strict";(function(e){t.a=(t=>e.from(t,"utf8").toString("base64"))}).call(t,n(22).Buffer)},function(e,t,n){"use strict"},function(e,t,n){"use strict";t.a=function(e,t){return(...n)=>{if(e.disposed)throw new Error("Already disposed");return t(...n)}}},function(e,t,n){"use strict";n(2615)},function(e,t,n){"use strict";var r=n(2615);class i extends r.a{constructor(e){if(super(),this.isDisposed=!1,this.forwardingEvents=new Map,void 0!==e){const t=t=>this.unforwardEvent(e,t),n=t=>this.forwardEvent(e,t);this.on(i.removeListenerEvent,t),this.on(i.newListenerEvent,n)}}static isEmitterEvent(e){return e===i.newListenerEvent||e===i.removeListenerEvent}get disposed(){return this.isDisposed}dispose(){this.isDisposed=!0;for(const t of this.forwardingEvents.values())for(const n of t.values())try{n()}catch(e){}this.removeAllListeners(),this.forwardingEvents.clear()}forwardEvent(e,...t){for(const n of t)if(void 0!==e&&void 0!==n&&!i.isEmitterEvent(n)){let t=this.forwardingEvents.get(n);if(void 0===t&&(t=new Map,this.forwardingEvents.set(n,t)),!t.has(e)){const r=(...e)=>this.emit(n,...e);t.set(e,()=>e.off(n,r)),e.on(n,r)}}}unforwardEvent(e,...t){var n;for(const r of t)if(void 0!==r&&!i.isEmitterEvent(r)){const t=this.forwardingEvents.get(r);if((null===(n=t)||void 0===n?void 0:n.has(e))&&0===this.listenerCount(r)){const n=t.get(e);void 0!==n&&n(),t.delete(e),0===t.size&&this.forwardingEvents.delete(r)}}}}t.a=i,i.newListenerEvent="newListener",i.removeListenerEvent="removeListener"},function(e,t,n){"use strict"},function(e,t,n){"use strict";(function(e){t.a=i;var r=n(2596);n.n(r);function i(e){const t=`blob ${e.byteLength.toString()}${String.fromCharCode(0)}`;return(new r).update(t).update(e).digest("hex")}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";Number.MIN_VALUE},function(e,t,n){"use strict";var r=n(2012);n.n(r);n(2085);class i{constructor(e,t,n){this.namespace=e,this.properties=t,this.propertyGetters=n}static formatTick(e){return Math.floor(e)}static numberFromString(e){if(void 0===e||null===e)return;const t=Number(e);return Number.isNaN(t)?e:t}static sanitizePkgName(e){return e.replace("@","").replace("/","-")}static prepareErrorObject(e,t,n){if(null===t||"object"!==typeof t)e.error=t;else{const n=t;if(e.stack=n.stack,e.error=n.message,t.containsPII)e.error="Error message was removed as it contained PII";else if(t.getCustomProperties){const n=t.getCustomProperties();for(const t of Object.keys(n))void 0===e[t]&&(e[t]=n[t])}}void 0===e.stack&&n&&(e.stack=i.getStack())}static getStack(){let e=(new Error).stack;if(!e)try{throw new Error}catch(t){e=t.stack}return e}sendTelemetryEvent(e,t){const n=Object.assign(Object.assign({},e),{category:e.category?e.category:"generic"});void 0!==t&&i.prepareErrorObject(n,t,!1),this.send(n)}sendErrorEvent(e,t){const n=Object.assign(Object.assign({},e),{category:"error"});i.prepareErrorObject(n,t,!0),this.send(n)}sendPerformanceEvent(e,t){const n=Object.assign(Object.assign({},e),{category:e.category?e.category:"performance"});void 0!==t&&i.prepareErrorObject(n,t,!1),e.duration&&(n.duration=i.formatTick(e.duration)),this.send(n)}logGenericError(e,t){this.sendErrorEvent({eventName:e},t)}logException(e,t){this.sendErrorEvent(Object.assign(Object.assign({},e),{isException:!0}),t)}debugAssert(e,t){this.shipAssert(e,t)}shipAssert(e,t){if(!e){const e=void 0===t?{eventName:"Assert"}:t;e.isAssert=!0,e.stack=i.getStack(),this.sendErrorEvent(e)}}prepareEvent(e){const t=Object.assign(Object.assign({},this.properties),e);if(void 0!==this.namespace&&(t.eventName=`${this.namespace}${i.eventNamespaceSeparator}${t.eventName}`),this.propertyGetters)for(const n of Object.keys(this.propertyGetters)){if(void 0!==e[n])continue;const r=(0,this.propertyGetters[n])();void 0!==r&&(t[n]=r)}return t}}i.eventNamespaceSeparator=":"},function(e,t,n){"use strict"},function(e,t,n){"use strict";var r=n(1994);n.n(r);n(2165)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(3134)},function(e,t,n){"use strict";n(2085)},function(e,t,n){"use strict";n(2001),n(3135)},function(e,t,n){"use strict";n(2001)},function(e,t,n){"use strict";n(2001)},function(e,t,n){"use strict";t.a="@microsoft/fluid-server-services-client";t.b="0.1005.1"},function(e,t,n){"use strict";var r=n(2614),i=n(3137);function o(e,t){for(const n of t)if(e.endsWith(n))return!0;return!1}t.a=class{constructor(e,t,n,o){this.endpoint=e,this.historianApi=t,this.disableCache=n;const s={};let a=!1;this.disableCache&&this.historianApi?s.disableCache=this.disableCache:this.disableCache&&(a=!0),o&&(s.token=Object(r.e)(`${o.user}`)),this.restWrapper=new i.a(e,{},s,a)}getHeader(e){return this.historianApi?this.restWrapper.get(`/headers/${encodeURIComponent(e)}`):this.getHeaderDirect(e)}getFullTree(e){return this.restWrapper.get(`/tree/${encodeURIComponent(e)}`)}getBlob(e){return this.restWrapper.get(`/git/blobs/${encodeURIComponent(e)}`)}createBlob(e){return this.restWrapper.post("/git/blobs",e)}getContent(e,t){return this.restWrapper.get(`/contents/${e}`,{ref:t})}getCommits(e,t){return this.restWrapper.get("/commits",{count:t,sha:e}).catch(e=>400===e||404===e?[]:Promise.reject(e))}getCommit(e){return this.restWrapper.get(`/git/commits/${encodeURIComponent(e)}`)}createCommit(e){return this.restWrapper.post("/git/commits",e)}getRefs(){return this.restWrapper.get("/git/refs")}getRef(e){return this.restWrapper.get(`/git/refs/${e}`)}createRef(e){return this.restWrapper.post("/git/refs",e)}updateRef(e,t){return this.restWrapper.patch(`/git/refs/${e}`,t)}async deleteRef(e){await this.restWrapper.delete(`/git/refs/${e}`)}createTag(e){return this.restWrapper.post("/git/tags",e)}getTag(e){return this.restWrapper.get(`/git/tags/${e}`)}createTree(e){return this.restWrapper.post("/git/trees",e)}getTree(e,t){return this.restWrapper.get(`/git/trees/${encodeURIComponent(e)}`,{recursive:t?1:0})}async getHeaderDirect(e){const t=await this.getTree(e,!0),n=[".attributes",".blobs",".messages","header"],r=[];for(const i of t.tree)if("blob"===i.type&&o(i.path,n)){const e=this.getBlob(i.sha);r.push(e)}return{blobs:await Promise.all(r),tree:t}}}},function(e,t,n){"use strict";t.a=async function(e,t,n){if(console.log(`Get Repo: ${e}/${t}/${n}`),!await i.a.get(`${e}/repos/${t}/${n}`).catch(e=>e.response&&400===e.response.status?null:Promise.reject(e))){console.log(`Create Repo: ${e}/${t}/${n}`);const r={name:n};await i.a.post(`${e}/${t}/repos`,r)}};var r=n(2273),i=n.n(r)},function(e,t,n){"use strict";t.a=function(e){const t=i(e);return void 0===t||t.read},t.c=function(e){const t=i(e);return void 0===t||t.write},t.b=function(e){const t=i(e);return void 0===t||t.summarize};var r=n(2001);function i(e){if(void 0===e||0===e.length)return;const t=e.includes(r.ScopeType.DocRead),n=e.includes(r.ScopeType.DocWrite);return{read:t,summarize:e.includes(r.ScopeType.SummaryWrite),write:n}}},function(e,t,n){"use strict";t.a=async function(e,t){const n=new Promise((t,n)=>{const r=setTimeout(()=>{clearTimeout(r),n(`Timed out in ${e} milliseconds.`)},e)});return Promise.race([t,n])}},function(e,t,n){var r=n(5062),i=n(2616),o=n(3140),s=n(2012)("socket.io-client");e.exports=t=c;var a=t.managers={};function c(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),c=i.source,u=i.id,l=i.path,h=a[u]&&l in a[u].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||h?(s("ignoring socket cache for %s",c),n=o(c,t)):(a[u]||(s("new io instance for %s",c),a[u]=o(c,t)),n=a[u]),i.query&&!t.query&&(t.query=i.query),n.socket(i.path,t)}t.protocol=i.protocol,t.connect=c,t.Manager=n(3140),t.Socket=n(3146)},function(e,t,n){var r=n(3138),i=n(2012)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!==typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!==typeof t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=r(e));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}},function(e,t,n){(function(r){function i(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"%CDN_BUNDLE_URL%",AZNB_PUB_COMPONENT_VERSION:"1.1.3",AZNB_PUB_DEFAULT_ENDPOINT:"%AZNB_BACKEND_ENDPOINT%",AZNB_PUB_AZNBCONTENT_ENDPOINT:"%AZNB_PUB_AZNBCONTENT_ENDPOINT%",AZNB_PUB_BUILDTAG:"notebooks-release-prod.3971045.20200812160335.a3c03bb2"}).DEBUG),e}(t=e.exports=n(5064)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=i,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(i())}).call(t,n(29))},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!==typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"===typeof i){var o=s[c];n=i.call(e,o),s.splice(c,1),c--}return n}),t.formatArgs.call(e,s),(r.log||t.log||console.log.bind(console)).apply(e,s)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"===typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(5065),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=365.25*o;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?a(c=e,o,"day")||a(c,i,"hour")||a(c,r,"minute")||a(c,n,"second")||c+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(2618),i=n(3139),o=Object.prototype.toString,s="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===o.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,o=e;return o.data=function e(t,n){if(!t)return t;if(i(t)){var o={_placeholder:!0,num:n.length};return n.push(t),o}if(r(t)){for(var s=new Array(t.length),a=0;a<t.length;a++)s[a]=e(t[a],n);return s}if("object"===typeof t&&!(t instanceof Date)){var s={};for(var c in t)s[c]=e(t[c],n);return s}return t}(n,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(r(t))for(var i=0;i<t.length;i++)t[i]=e(t[i],n);else if("object"===typeof t)for(var o in t)t[o]=e(t[o],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,o=e;!function e(c,u,l){if(!c)return c;if(s&&c instanceof Blob||a&&c instanceof File){n++;var h=new FileReader;h.onload=function(){l?l[u]=this.result:o=this.result,--n||t(o)},h.readAsArrayBuffer(c)}else if(r(c))for(var d=0;d<c.length;d++)e(c[d],d,c);else if("object"===typeof c&&!i(c))for(var p in c)e(c[p],p,c)}(o),n||t(o)}},function(e,t,n){e.exports=n(5068),e.exports.parser=n(2207)},function(e,t,n){var r=n(3141),i=n(2622),o=n(2012)("engine.io-client:socket"),s=n(3145),a=n(2207),c=n(3138),u=n(2383);function l(e,t){if(!(this instanceof l))return new l(e,t);t=t||{},e&&"object"===typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"===typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"===typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=l,l.priorWebsocketSuccess=!1,i(l.prototype),l.protocol=a.protocol,l.Socket=l,l.Transport=n(2621),l.transports=n(3141),l.parser=n(2207),l.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=a.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var e;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},l.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},l.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;l.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),d(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())})}else{o('probe transport "%s" failed',e);var s=new Error("probe error");s.transport=t.name,r.emit("upgradeError",s)}}))}function s(){n||(n=!0,d(),t.close(),t=null)}function a(n){var i=new Error("probe error: "+n);i.transport=t.name,s(),o('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function c(){a("transport closed")}function u(){a("socket closed")}function h(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),s())}function d(){t.removeListener("open",i),t.removeListener("error",a),t.removeListener("close",c),r.removeListener("close",u),r.removeListener("upgrading",h)}l.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",a),t.once("close",c),this.once("close",u),this.once("upgrading",h),t.open()},l.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},l.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},l.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},l.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},l.prototype.sendPacket=function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},l.prototype.onError=function(e){o("socket error %j",e),l.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},l.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},l.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},function(e,t,n){var r=n(2619),i=n(3142),o=n(2622),s=n(2384),a=n(2012)("engine.io-client:polling-xhr"),c=n(2620);function u(){}function l(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!==typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function h(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=l,e.exports.Request=h,s(l,i),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new h(e)},l.prototype.doWrite=function(e,t){var n="string"!==typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},l.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},o(h.prototype),h.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{a("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(o){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}try{t.setRequestHeader("Accept","*/*")}catch(o){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(o){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout(function(){n.onError("number"===typeof t.status?t.status:0)},0))},a("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout(function(){n.onError(o)},0)}"undefined"!==typeof document&&(this.index=h.requestsCount++,h.requests[this.index]=this)},h.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},h.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},h.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},h.prototype.cleanup=function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete h.requests[this.index],this.xhr=null}},h.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(n){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},h.prototype.hasXDR=function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR},h.prototype.abort=function(){this.cleanup()},h.requestsCount=0,h.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",d);else if("function"===typeof addEventListener){addEventListener("onpagehide"in c?"pagehide":"unload",d,!1)}function d(){for(var e in h.requests)h.requests.hasOwnProperty(e)&&h.requests[e].abort()}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},function(e,t){function n(){}e.exports=function(e,t,r){var i=!1;return r=r||n,o.count=e,0===e?t():o;function o(e,n){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=r):0!==o.count||i||t(null,n)}}},function(e,t){var n,r,i,o=String.fromCharCode;function s(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function a(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(e,t){return o(e>>t&63|128)}function u(e,t){if(0==(4294967168&e))return o(e);var n="";return 0==(4294965248&e)?n=o(e>>6&31|192):0==(4294901760&e)?(a(e,t)||(e=65533),n=o(e>>12&15|224),n+=c(e,6)):0==(4292870144&e)&&(n=o(e>>18&7|240),n+=c(e,12),n+=c(e,6)),n+=o(63&e|128)}function l(){if(i>=r)throw Error("Invalid byte index");var e=255&n[i];if(i++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function h(e){var t,o;if(i>r)throw Error("Invalid byte index");if(i==r)return!1;if(t=255&n[i],i++,0==(128&t))return t;if(192==(224&t)){if((o=(31&t)<<6|l())>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if((o=(15&t)<<12|l()<<6|l())>=2048)return a(o,e)?o:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(o=(7&t)<<18|l()<<12|l()<<6|l())>=65536&&o<=1114111)return o;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=s(e),i=r.length,o=-1,a="";++o<i;)a+=u(r[o],n);return a},decode:function(e,t){var a=!1!==(t=t||{}).strict;n=s(e),r=n.length,i=0;for(var c,u=[];!1!==(c=h(a));)u.push(c);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=o((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=o(t);return i}(u)}}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,s,a=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),h=new Uint8Array(l);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],h[u++]=r<<2|i>>4,h[u++]=(15&i)<<4|o>>2,h[u++]=(3&o)<<6|63&s;return l}}()},function(e,t){var n="undefined"!==typeof n?n:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function s(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function a(e,t){t=t||{};var r=new n;return s(e).forEach(function(e){r.append(e)}),t.type?r.getBlob(t.type):r.getBlob()}function c(e,t){return new Blob(s(e),t||{})}"undefined"!==typeof Blob&&(a.prototype=Blob.prototype,c.prototype=Blob.prototype),e.exports=r?i?Blob:c:o?a:void 0},function(e,t,n){var r=n(3142),i=n(2384),o=n(2620);e.exports=l;var s,a=/\n/g,c=/\\n/g;function u(){}function l(e){r.call(this,e),this.query=this.query||{},s||(s=o.___eio=o.___eio||[]),this.index=s.length;var t=this;s.push(function(e){t.onData(e)}),this.query.j=this.index,"function"===typeof addEventListener&&addEventListener("beforeunload",function(){t.script&&(t.script.onerror=u)},!1)}i(l,r),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},l.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=s,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function u(){l(),t()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),l(),e=e.replace(c,"\\\n"),this.area.value=e.replace(a,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&u()}:this.iframe.onload=u}},function(e,t,n){(function(t){var r,i,o=n(2621),s=n(2207),a=n(2383),c=n(2384),u=n(3144),l=n(2012)("engine.io-client:websocket");if("undefined"!==typeof WebSocket?r=WebSocket:"undefined"!==typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"===typeof window)try{i=n(5079)}catch(p){}var h=r||i;function d(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(h=i),o.call(this,e)}e.exports=d,c(d,o),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new h(e,t):new h(e):new h(e,t,n)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},d.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,i=0,o=r;i<o;i++)!function(e){s.encodePacket(e,n.supportsBinary,function(i){if(!n.usingBrowserWebSocket){var o={};if(e.options&&(o.compress=e.options.compress),n.perMessageDeflate)("string"===typeof i?t.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,o)}catch(p){l("websocket closed before onclose event")}--r||a()})}(e[i]);function a(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}},d.prototype.onClose=function(){o.prototype.onClose.call(this)},d.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()},d.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},d.prototype.check=function(){return!!h&&!("__initialize"in h&&this.name===d.prototype.name)}}).call(t,n(22).Buffer)},function(e,t){},function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";var r=n(5083),i=n(2031);const o=(e,t)=>Object(i.createNetworkError)(e.message,t,e.code,e.retryAfter);t.a=class extends r.a{static async create(e,t,n,i,s,a){try{return await r.a.create(e,t,n,i,s,a)}catch(c){if(null!==c&&"object"===typeof c&&c.canRetry){const e=c.socketError;if("object"===typeof e&&null!==e)throw o(e,!0)}throw c}}}},function(e,t,n){"use strict";n(3150);var r=n(5085);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";t.a="@microsoft/fluid-driver-base";t.b="0.18.4"},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(137)),o=(n.n(i),n(2006)),s=n(2031),a=n(3150);const c=["^0.4.0","^0.3.0","^0.2.0","^0.1.0"];function u(e,t,n=!0){const r=Object(s.createNetworkError)(`socket.io error: ${e}: ${t}`,n);return r.socketError=t,r}class l extends i.EventEmitter{constructor(e,t){super(),this.socket=e,this.documentId=t,this.queuedMessages=[],this.queuedContents=[],this.queuedSignals=[],this.trackedListeners=[],this.earlyOpHandler=((e,t)=>{Object(a.a)("Queued early ops",t.length),this.queuedMessages.push(...t)}),this.earlyContentHandler=(e=>{Object(a.a)("Queued early contents"),this.queuedContents.push(e)}),this.earlySignalHandler=(e=>{Object(a.a)("Queued early signals"),this.queuedSignals.push(e)}),this.submitManager=new o.BatchManager((e,t)=>{this.socket.emit(e,this.clientId,t)}),this.socket.on("op",this.earlyOpHandler),this.socket.on("op-content",this.earlyContentHandler),this.socket.on("signal",this.earlySignalHandler)}static async create(e,t,n,r,i,o,s=2e4){const a=r(o,{query:{documentId:t,tenantId:e},reconnection:!1,transports:["websocket"],timeout:s}),u={client:i,id:t,mode:i.mode,tenantId:e,token:n,versions:c},h=new l(a,t);return await h.initialize(u,s),h}get hasDetails(){return!!this._details}get details(){if(!this._details)throw new Error("Internal error: calling method before _details is initialized!");return this._details}get clientId(){return this.details.clientId}get mode(){return this.details.mode}get claims(){return this.details.claims}get existing(){return this.details.existing}get parentBranch(){return this.details.parentBranch}get maxMessageSize(){return this.details.maxMessageSize}get version(){return this.details.version}get serviceConfiguration(){return this.details.serviceConfiguration}get initialMessages(){return this.removeEarlyOpHandler(),r(0!==this.listeners("op").length,"No op handler is setup!"),this.queuedMessages.length>0&&(this.details.initialMessages.push(...this.queuedMessages),this.details.initialMessages.sort((e,t)=>e.sequenceNumber-t.sequenceNumber),this.queuedMessages.length=0),this.details.initialMessages}get initialContents(){return this.removeEarlyContentsHandler(),r(0!==this.listeners("op-content").length,"No op-content handler is setup!"),this.queuedContents.length>0&&(this.details.initialContents.push(...this.queuedContents),this.details.initialContents.sort((e,t)=>e.clientId===t.clientId?0:(e.clientId<t.clientId?-1:1)||e.clientSequenceNumber-t.clientSequenceNumber),this.queuedContents.length=0),this.details.initialContents}get initialSignals(){return this.removeEarlySignalHandler(),r(0!==this.listeners("signal").length,"No signal handler is setup!"),this.queuedSignals.length>0&&(this.details.initialSignals.push(...this.queuedSignals),this.queuedSignals.length=0),this.details.initialSignals}get initialClients(){return this.details.initialClients}on(e,t){return r(0===this.listeners(e).length,"re-registration of events is not implemented"),"error"!==e&&this.addTrackedListener(e,(...t)=>{this.emit(e,...t)}),super.on(e,t),this}submit(e){this.submitManager.add("submitOp",e)}async submitAsync(e){return new Promise((t,n)=>{this.socket.emit("submitContent",this.clientId,e,e=>{e?n():t()})})}submitSignal(e){this.submitManager.add("submitSignal",[e])}disconnect(e=!1){this.removeTrackedListeners(!1),this.socket.disconnect()}async initialize(e,t){this._details=await new Promise((n,r)=>{this.addConnectionListener("connect_error",t=>{void 0!==e.nonce&&void 0!==t.nonce&&t.nonce!==e.nonce||(Object(a.a)(`Socket connection error: [${t}]`),this.disconnect(!0),r(u("connect_error",t)))}),this.addConnectionListener("connect_timeout",()=>{this.disconnect(!0),r(u("connect_timeout","Socket connection timed out"))}),this.addConnectionListener("disconnect",e=>{this.disconnect(!0),r(u("disconnect",e))}),this.addConnectionListener("connect_document_success",t=>{void 0!==e.nonce&&void 0!==t.nonce&&t.nonce!==e.nonce||(void 0===t.initialMessages&&(t.initialMessages=[]),void 0===t.initialClients&&(t.initialClients=[]),void 0===t.initialContents&&(t.initialContents=[]),void 0===t.initialSignals&&(t.initialSignals=[]),this.removeTrackedListeners(!0),n(t))}),this.addTrackedListener("error",e=>{const t=u("error",e,"Invalid namespace"!==e);r(t),this.emit("error",t),this.disconnect(!0)}),this.addConnectionListener("connect_document_error",e=>{this.disconnect(!1),r(u("connect_document_error",e))}),this.socket.emit("connect_document",e),setTimeout(()=>{r(u("Timeout waiting for handshake from ordering service",void 0))},t+2e3)})}removeEarlyOpHandler(){this.earlyOpHandler&&(this.socket.removeListener("op",this.earlyOpHandler),this.earlyOpHandler=void 0)}removeEarlyContentsHandler(){this.earlyContentHandler&&(this.socket.removeListener("op-content",this.earlyContentHandler),this.earlyContentHandler=void 0)}removeEarlySignalHandler(){this.earlySignalHandler&&(this.socket.removeListener("signal",this.earlySignalHandler),this.earlySignalHandler=void 0)}addConnectionListener(e,t){this.socket.on(e,t),this.trackedListeners.push({event:e,connectionListener:!0,listener:t})}addTrackedListener(e,t){this.socket.on(e,t),this.trackedListeners.push({event:e,connectionListener:!1,listener:t})}removeTrackedListeners(e){const t=[];for(const{event:n,connectionListener:r,listener:i}of this.trackedListeners)!e||r?this.socket.off(n,i):t.push({event:n,connectionListener:r,listener:i});this.trackedListeners=t,e||(this.removeEarlyOpHandler(),this.removeEarlyContentsHandler(),this.removeEarlySignalHandler())}}t.a=l},function(e,t,n){"use strict";t.a=function(e,t,n,o,s,a,c,u=new i.a,l=!1,h=!0,d,p){return new r.a(e,t,n,o,u,l,h,d,p,s,a,c)};var r=n(2381),i=n(2380)},function(e,t,n){"use strict";var r=n(5088);function i(e){this.message=e}i.prototype=new Error,i.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!==typeof e)throw new i("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[n]))}catch(o){throw new i("Invalid token specified: "+o.message)}},e.exports.InvalidTokenError=i},function(e,t,n){var r=n(5089);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(t)}catch(n){return r(t)}}},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError",e.exports="undefined"!==typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,o,s=0,a=0,c="";o=t.charAt(a++);~o&&(i=s%4?64*i+o:o,s++%4)?c+=String.fromCharCode(255&i>>(-2*s&6)):0)o=n.indexOf(o);return c}},function(e,t,n){"use strict";var r=n(137),i=(n.n(r),n(2076)),o=(n.n(i),n(2006)),s=n(5091);n.n(s);const a="^0.1.0";class c extends r.EventEmitter{constructor(e,t,n,r,c){super(),this.documentId=t;const u=i.parse(c),l=`${"https:"===u.protocol?"wss":"ws"}://${u.host}${u.pathname}`;this.socket=new s(`${l}?documentId${encodeURIComponent(t)}&tenantId${encodeURIComponent(e)}`),this.socket.onopen=(()=>{const i={client:r,id:t,mode:r.mode,tenantId:e,token:n,versions:[a]};this.sendMessage(JSON.stringify(["connect",i]))}),this.socket.onmessage=(e=>{this.handleMessage(e.data)}),this.socket.onclose=(e=>{this.emit("disconnect",e.reason)}),this.socket.onerror=(e=>{this.emit("error",e),this.socket.readyState!==s.CONNECTING&&this.socket.readyState!==s.OPEN||this.socket.close(-1,e.toString())}),this.once("connect_document_success",e=>{void 0===e.initialMessages&&(e.initialMessages=[]),void 0===e.initialClients&&(e.initialClients=[]),void 0===e.initialContents&&(e.initialContents=[]),void 0===e.initialSignals&&(e.initialSignals=[]),this.details=e}),this.submitManager=new o.BatchManager((e,t)=>{this.sendMessage(JSON.stringify([e,this.details.clientId,t]))})}static async create(e,t,n,r,i){return new Promise((o,s)=>{const a=new c(e,t,n,r,i),u=()=>{o(a),a.removeListener("disconnected",l)},l=e=>{s(e),a.removeListener("connect_document_success",u)};a.once("disconnected",l),a.once("connect_document_success",u)})}get clientId(){return this.details.clientId}get mode(){return this.details.mode}get claims(){return this.details.claims}get existing(){return this.details.existing}get parentBranch(){return this.details.parentBranch}get maxMessageSize(){return this.details.maxMessageSize}get version(){return this.details.version}get initialMessages(){return this.details.initialMessages}get initialContents(){return this.details.initialContents}get initialSignals(){return this.details.initialSignals}get initialClients(){return this.details.initialClients}get serviceConfiguration(){return this.details.serviceConfiguration}submit(e){this.submitManager.add("submitOp",e)}submitSignal(e){this.submitManager.add("submitSignal",e)}async submitAsync(e){return new Promise((t,n)=>{this.socket.send(JSON.stringify(["submitContent",this.details.clientId,e]),e=>{e?(this.emit("error",e),n(e)):t()})})}disconnect(){this.socket.close()}handleMessage(e){const t=JSON.parse(e);this.emit(t[0],...t.slice(1))}sendMessage(e){this.socket.send(e,e=>{e&&this.emit("error",e)})}}t.a=c},function(e,t,n){(function(t){var n=null;"undefined"!==typeof WebSocket?n=WebSocket:"undefined"!==typeof MozWebSocket?n=MozWebSocket:"undefined"!==typeof t?n=t.WebSocket||t.MozWebSocket:"undefined"!==typeof window?n=window.WebSocket||window.MozWebSocket:"undefined"!==typeof self&&(n=self.WebSocket||self.MozWebSocket),e.exports=n}).call(t,n(19))},function(e,t,n){"use strict";var r=n(2623),i=n(2380);t.a=((e,t,n,o,s,a,c,u=new i.a,l=!1,h=!0,d)=>new r.a(e,t,n,o,u,l,h,d,s,a,c))},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2076)),o=(n.n(i),n(2031)),s=n(2273),a=n.n(s),c=n(2381),u=n(2623),l=n(2380),h=n(3152);t.a=class{constructor(e=!1,t=new l.a,n=!1,r=!0,i=null,o){this.useDocumentService2=e,this.errorTracking=t,this.disableCache=n,this.historianApi=r,this.gitCache=i,this.credentials=o,this.isExperimentalDocumentServiceFactory=!0,this.protocolName="fluid:"}async createContainer(e,t,n){Object(o.ensureFluidResolvedUrl)(t),r(t.endpoints.ordererUrl);const s=Object(i.parse)(t.url);if(!s.pathname)throw new Error("Parsed url should contain tenant and doc Id!!");const[,c,u]=s.pathname.split("/"),l=e.tree[".protocol"],h=e.tree[".app"];if(!l||!h)throw new Error("Protocol and App Summary required in the full summary");const d=Object(o.getDocAttributesFromProtocolSummary)(l),p=Object(o.getQuorumValuesFromProtocolSummary)(l);return await a.a.post(`${t.endpoints.ordererUrl}/documents/${c}`,{id:u,summary:h,sequenceNumber:d.sequenceNumber,values:p}),this.createDocumentService(t,n)}async createDocumentService(e,t){Object(o.ensureFluidResolvedUrl)(e);const n=e,r=n.endpoints.storageUrl,s=n.endpoints.ordererUrl,a=n.endpoints.deltaStorageUrl;if(!s||!a)throw new Error(`All endpoints urls must be provided. [ordererUrl:${s}][deltaStorageUrl:${a}]`);const l=Object(i.parse)(n.url),[,d,p]=l.pathname.split("/");if(!p||!d)throw new Error(`Couldn't parse documentId and/or tenantId. [documentId:${p}][tenantId:${d}]`);const f=n.tokens.jwt;if(!f)throw new Error("Token was not provided.");const m=new h.a(f);return this.useDocumentService2?new u.a(n,s,a,r,this.errorTracking,this.disableCache,this.historianApi,this.credentials,m,d,p):new c.a(n,s,a,r,this.errorTracking,this.disableCache,this.historianApi,this.credentials,this.gitCache,m,d,p)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(2385));var r=n(5114);t.fluidExport=r.fluidExport},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2274)),o=n(2169),s=n(2168);function a(e,t){let n=-1,r=0,i=e.length-1;for(;r<=i;){const o=r+Math.floor((i-r)/2);e[o].seq<=t?((n<0||e[n].seq<e[o].seq)&&(n=o),r=o+1):i=o-1}return n}class c{constructor(e){this.minSeq=e,this.minLength=0,this.segmentCount=0,this.partialLengths=[],this.clientSeqNumbers=[]}static combine(e,t,n,r=!1){const i=c.combineBranch(e,t,n,0,r);if(e.localBranchId>0){i.downstreamPartialLengths=[];for(let o=0;o<e.localBranchId;o++)i.downstreamPartialLengths[o]=c.combineBranch(e,t,n,o+1,r)}return i}static combineBranch(e,t,n,r,o=!1){let a,u=new c(n.minSeq);function l(e){if(!e)return;const t=new i.i(s.n);return e.map(e=>(t.put(e.data.clientId,Object.assign({},e.data)),!0)),t}function h(e){const t=e.seq;let n=0;if(a){if(a.seq===e.seq)return a.seglen+=e.seglen,a.len+=e.seglen,i=e,void((r=a).overlapRemoveClients?i.overlapRemoveClients&&i.overlapRemoveClients.map(e=>{const t=r.overlapRemoveClients.get(e.key);return t?t.data.seglen+=e.data.seglen:r.overlapRemoveClients.put(e.data.clientId,Object.assign({},e.data)),!0}):r.overlapRemoveClients=l(i.overlapRemoveClients));n=a.len,u.addClientSeqNumberFromPartial(a)}var r,i;a={clientId:e.clientId,len:n+e.seglen,overlapRemoveClients:l(e.overlapRemoveClients),seglen:e.seglen,seq:t},u.partialLengths.push(a)}c.fromLeaves(e,r,u,t,n);const d=[];for(let i=0;i<t.childCount;i++){const s=t.children[i];if(!s.isLeaf()){const t=s;o&&(t.partialLengths=c.combine(e,t,n,!0)),d.push(t.partialLengths.partialLengthsForBranch(r))}}let p=d.length;if(0!==p){u.partialLengths.length>0&&(d.push(u),p++,u=new c(n.minSeq));const e=new Array(p),t=new Array(p);for(let n=0;n<p;n++)e[n]=0,t[n]=d[n].partialLengths.length,u.minLength+=d[n].minLength,u.segmentCount+=d[n].segmentCount;let r,i=0;for(;i>=0;){i=-1;for(let n=0;n<p;n++)if(e[n]<t[n]){const t=d[n].partialLengths[e[n]];(i<0||t.seq<r.seq)&&(i=n,r=t)}i>=0&&(h(r),e[i]++)}a&&u.addClientSeqNumberFromPartial(a)}return c.options.zamboni&&u.zamboni(n),c.options.verify&&u.verify(),u}static fromLeaves(e,t,n,r,i){function s(e,t){return e!==o.d&&e<=t}n.minLength=0,n.segmentCount=r.childCount;for(let h=0;h<r.childCount;h++){const a=r.children[h];if(a.isLeaf()){const r=a,u=e.getBranchId(r.clientId);if(u<=t){s(r.seq,i.minSeq)?n.minLength+=r.cachedLength:r.seq!==o.d&&c.insertSegment(n,r);const a=e.getRemovalInfo(t,u,r);s(a.removedSeq,i.minSeq)?n.minLength-=r.cachedLength:void 0!==a.removedSeq&&a.removedSeq!==o.d&&c.insertSegment(n,r,!0,a)}}}const a=n.partialLengths,u=a.length;let l=0;for(let o=0;o<u;o++)a[o].len=l+a[o].seglen,l=a[o].len,n.addClientSeqNumberFromPartial(a[o]);c.options.verify&&n.verify()}static getOverlapClients(e,t){const n=new i.i(s.n);for(const r of e)n.put(r,{clientId:r,seglen:t});return n}static accumulateRemoveClientOverlap(e,t,n){if(e.overlapRemoveClients)for(const r of t){const t=e.overlapRemoveClients.get(r);t?t.data.seglen+=n:e.overlapRemoveClients.put(r,{clientId:r,seglen:n})}else e.overlapRemoveClients=c.getOverlapClients(t,n)}static insertSegment(e,t,n=!1,r){let i,o=t.seq,s=t.cachedLength,a=t.clientId;n&&(o=r.removedSeq,s=-s,a=r.removedClientId,r.removedClientOverlap&&(i=r.removedClientOverlap));const u=e.partialLengths,l=u.length;let h=0;for(;h<l&&!(u[h].seq>=o);h++);if(h<l&&u[h].seq===o)u[h].seglen+=s,i&&c.accumulateRemoveClientOverlap(u[h],i,s);else{let e;if(i){e={seq:o,clientId:a,len:0,seglen:s,overlapRemoveClients:c.getOverlapClients(i,s)}}else e={seq:o,clientId:a,len:0,seglen:s};if(h<l){for(let e=l;e>h;e--)u[e]=u[e-1];u[h]=e}else u.push(e)}}static addSeq(e,t,n,r){let i,o,s=a(e,t);if(s>=0){const n=e[s];n.seq===t?(i=n,(s=a(e,t-1))>=0&&(o=e[s])):o=n}void 0===i?(i={clientId:r,seglen:n,seq:t},e.push(i)):i.seglen=n,i.len=void 0!==o?i.seglen+o.len:i.seglen}update(e,t,n,r,i){const o=e.getBranchId(r);if(0===o&&this.updateBranch(e,0,t,n,r,i),e.localBranchId>0)for(let s=0;s<e.localBranchId;s++){const a=s+1;o<=a&&this.downstreamPartialLengths[s].updateBranch(e,a,t,n,r,i)}}getPartialLength(e,t,n){const r=e.getBranchId(n);return s.j.traceTraversal&&console.log(`plen branch ${r}`),r>0?this.downstreamPartialLengths[r-1].getBranchPartialLength(t,n):this.getBranchPartialLength(t,n)}toString(e,t=0){let n=this.branchToString(e);if(this.downstreamPartialLengths)for(let r=0,i=this.downstreamPartialLengths.length;r<i;r++)n+="\n",n+=Object(s.r)(t),n+=this.downstreamPartialLengths[r].branchToString(e,r+1);return n}getBranchPartialLength(e,t){let n=this.minLength;const r=a(this.partialLengths,e),i=this.cliLatest(t),o=this.clientSeqNumbers[t];if(r>=0){if(n+=this.partialLengths[r].len,i>=0){const r=o[i];if(r.seq>e){n+=r.len;const i=this.cliLatestLEQ(t,e);i>=0&&(n-=o[i].len)}}}else if(i>=0){n+=o[i].len}return n}zamboni(e){function t(t){const n=a(t,e.minSeq);let r=0;if(n>=0){r=t[n].len;const e=t.length;if(n<=e-1){const i=e-n-1;for(let e=0;e<i;e++)t[e]=t[e+n+1],t[e].len-=r;t.length=i}}return r}this.minLength+=t(this.partialLengths);for(const n in this.clientSeqNumbers){const e=this.clientSeqNumbers[n];e&&t(e)}}addClientSeqNumber(e,t,n){void 0===this.clientSeqNumbers[e]&&(this.clientSeqNumbers[e]=[]);const r=this.clientSeqNumbers[e];let i=n;r.length>0&&(i+=r[r.length-1].len),r.push({seq:t,len:i,seglen:n})}addClientSeqNumberFromPartial(e){this.addClientSeqNumber(e.clientId,e.seq,e.seglen),e.overlapRemoveClients&&e.overlapRemoveClients.map(t=>(this.addClientSeqNumber(t.data.clientId,e.seq,t.data.seglen),!0))}updateBranch(e,t,n,r,i,o){let s=0,u=0;for(let c=0;c<n.childCount;c++){const i=n.children[c];if(i.isLeaf()){const n=i,o=e.getBranchId(n.clientId),a=e.getRemovalInfo(t,o,n);n.seq===r?a.removedSeq!==r&&(s+=n.cachedLength):a.removedSeq===r&&(s-=n.cachedLength),u++}else{const e=i.partialLengths.partialLengthsForBranch(t),n=e.partialLengths,o=a(n,r);if(o>=0){const e=n[o];e.seq===r&&(s+=e.seglen)}u+=e.segmentCount}}this.segmentCount=u,c.addSeq(this.partialLengths,r,s,i),void 0===this.clientSeqNumbers[i]&&(this.clientSeqNumbers[i]=[]),c.addSeq(this.clientSeqNumbers[i],r,s),c.options.zamboni&&this.zamboni(o),c.options.verify&&this.verify()}partialLengthsForBranch(e){return e>0?this.downstreamPartialLengths[e-1]:this}cliLatestLEQ(e,t){const n=this.clientSeqNumbers[e];return n?a(n,t):-1}cliLatest(e){const t=this.clientSeqNumbers[e];return t&&t.length>0?t.length-1:-1}branchToString(e,t=0){let n="";for(const r of this.partialLengths)n+=`(${r.seq},${r.len}) `;for(const r in this.clientSeqNumbers)if(this.clientSeqNumbers[r].length>0){n+="Client ",n+=e?`${e(+r)}`:`${r}`,n+="[";for(const e of this.clientSeqNumbers[r])n+=`(${e.seq},${e.len})`;n+="]"}return n=`Br ${t}, min(seq ${this.minSeq}): ${this.minLength}; sc: ${this.segmentCount};${n}`}verifyPartialLengths(e,t){if(0===e.length)return 0;let n=0,i=0,o=0;for(const s of e)o++,r(this.minSeq<=s.seq),r(n<s.seq),n=s.seq,(i+=s.seglen)!==s.len&&r(!1),t||this.minLength+s.len<0&&r(!1),s.overlapRemoveClients&&(r(!t),o+=s.overlapRemoveClients.size());return o}verify(){if(this.clientSeqNumbers){let e=0;for(const n of this.clientSeqNumbers)n&&(e+=this.verifyPartialLengths(n,!0));r(this.partialLengths);const t=this.verifyPartialLengths(this.partialLengths,!1);r(t===e)}else r(!this.partialLengths)}}t.a=c,c.options={verify:!1,zamboni:!0}},function(e,t,n){"use strict";t.a=s;var r=n(2168),i=n(2387),o=n(2628);function s(e,t,n=!1,s=!0){const a=(e=e.replace(/^\uFEFF/,"")).split(/\r?\n/);for(let r=0,i=a.length;r<i;r++)a[r]=a[r].replace(/\r?\n/g," ").replace(/\u201c|\u201d/g,'"').replace(/\u2019/g,"'"),n||r===a.length-1||(a[r]+="\n");const c=[];for(const u of a){let e;if(n&&(e=r.f.make(i.b.Tile,{[r.C]:["pg"]})),s)if(u.includes("Chapter")||u.includes("PRIDE AND PREJ"))n?(e.addProperties({header:2}),c.push(new o.b(u))):c.push(o.b.make(u,{fontSize:"140%",lineHeight:"150%"}));else{const e=u.split("_");for(let t=0,n=e.length;t<n;t++)1&t?e[t].length>0&&c.push(o.b.make(e[t],{fontStyle:"italic"})):e[t].length>0&&c.push(new o.b(e[t]))}else c.push(new o.b(u));n&&c.push(e)}return t>0&&(c.length=t),c}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2001)),o=n(2274),s=n(2169),a=n(2386),c=n(2168),u=n(3157),l=n(2626),h=n(3158),d=n(2625),p=n(2628),f=n(3159);class m{constructor(e,t,n){this.specToSegment=e,this.logger=t,this.verboseOps=!1,this.noVerboseRemoteAnnote=!1,this.measureOps=!1,this.registerCollection=new c.k,this.accumTime=0,this.localTime=0,this.localOps=0,this.accumWindowTime=0,this.accumWindow=0,this.accumOps=0,this.maxWindowTime=0,this.clientNameToIds=new o.i(c.o),this.shortClientIdMap=[],this.shortClientBranchIdMap=[],this.pendingConsensus=new Map,this.mergeTree=new c.j(n),this.mergeTree.getLongClientId=(e=>this.getLongClientId(e)),this.mergeTree.clientIdToBranchId=this.shortClientBranchIdMap}get mergeTreeDeltaCallback(){return this.mergeTree.mergeTreeDeltaCallback}set mergeTreeDeltaCallback(e){this.mergeTree.mergeTreeDeltaCallback=e}get mergeTreeMaintenanceCallback(){return this.mergeTree.mergeTreeMaintenanceCallback}set mergeTreeMaintenanceCallback(e){this.mergeTree.mergeTreeMaintenanceCallback=e}annotateMarkerNotifyConsensus(e,t,n){const r=this.annotateMarker(e,t,{name:"consensus"});if(r){const t={callback:n,marker:e};return this.pendingConsensus.set(e.getId(),t),r}}annotateMarker(e,t,n){const r=u.a(e,t,n);return this.applyAnnotateRangeOp({op:r})?r:void 0}annotateRangeLocal(e,t,n,r){const i=u.b(e,t,n,r);if(this.applyAnnotateRangeOp({op:i}))return i}removeRangeLocal(e,t,n){const r=u.h(e,t,n);if(this.applyRemoveRangeOp({op:r}))return r}insertSegmentLocal(e,t){if(t.cachedLength<=0)return;const n=u.f(e,t);return this.applyInsertOp({op:n})?n:void 0}insertAtReferencePositionLocal(e,t){const n=this.mergeTree.referencePositionToLocalPosition(e,this.getCurrentSeq(),this.getClientId());if(n===a.a.DetachedPosition)return;const r=u.f(n,t),i={op:r};let o;return this.measureOps&&(o=Object(c.m)()),this.mergeTree.insertAtReferencePosition(e,t,i),this.completeAndLogOp(i,this.getClientSequenceArgs(i),{start:r.pos1,end:void 0},o),r}pasteLocal(e,t){const n=u.d(e,t);if(this.applyInsertOp({op:n}))return n}copyLocal(e,t,n){const r=u.g(e,t,n);if(this.applyInsertOp({op:r}))return r}walkSegments(e,t,n,r,i=!1){this.mergeTree.mapRange({leaf:e},this.getCurrentSeq(),this.getClientId(),r,t,n,i)}getCollabWindow(){return this.mergeTree.getCollabWindow()}getPosition(e){return this.mergeTree.getPosition(e,this.getCurrentSeq(),this.getClientId())}addLocalReference(e){return this.mergeTree.addLocalReference(e)}removeLocalReference(e){return this.mergeTree.removeLocalReference(e.segment,e)}posFromRelativePos(e){return this.mergeTree.posFromRelativePos(e)}getMarkerFromId(e){return this.mergeTree.getMarkerFromId(e)}applyRemoveRangeOp(e){r.strict.equal(e.op.type,1);const t=e.op,n=this.getClientSequenceArgs(e),i=this.getValidOpRange(t,n);if(!i)return!1;let o;return t.register&&this.copy(i,t.register,n),this.measureOps&&(o=Object(c.m)()),this.mergeTree.markRangeRemoved(i.start,i.end,n.referenceSequenceNumber,n.clientId,n.sequenceNumber,!1,e),this.completeAndLogOp(e,n,i,o),!0}applyAnnotateRangeOp(e){r.strict.equal(e.op.type,2);const t=e.op,n=this.getClientSequenceArgs(e),i=this.getValidOpRange(t,n);if(!i)return!1;let o;return this.measureOps&&(o=Object(c.m)()),this.mergeTree.annotateRange(i.start,i.end,t.props,t.combiningOp,n.referenceSequenceNumber,n.clientId,n.sequenceNumber,e),this.completeAndLogOp(e,n,i,o),!0}applyInsertOp(e){r.strict.equal(e.op.type,0);const t=e.op,n=this.getClientSequenceArgs(e),i=this.getValidOpRange(t,n);if(!i)return!1;let o,a;if(t.seg)o=[this.specToSegment(t.seg)];else if(t.register){if(i.end)return this.copy(i,t.register,n),n.sequenceNumber===s.d&&this.mergeTree.pendingSegments.enqueue({segments:[]}),!0;o=this.registerCollection.get(this.getLongClientId(n.clientId),t.register)}return!(!o||0===o.length)&&(this.measureOps&&(a=Object(c.m)()),this.mergeTree.insertSegments(i.start,o,n.referenceSequenceNumber,n.clientId,n.sequenceNumber,e),this.completeAndLogOp(e,n,i,a),!0)}completeAndLogOp(e,t,n,i){e.sequencedMessage?(Object(r.strict)(this.mergeTree.getCollabWindow().currentSeq<t.sequenceNumber,"Incoming remote op sequence# <= local collabWindow's currentSequence#"),Object(r.strict)(this.mergeTree.getCollabWindow().minSeq<=e.sequencedMessage.minimumSequenceNumber,"Incoming remote op minSequence# < local collabWindow's minSequence#"),i&&(this.accumTime+=Object(c.p)(i),this.accumOps++,this.accumWindow+=this.getCurrentSeq()-this.getCollabWindow().minSeq)):i&&(this.localTime+=Object(c.p)(i),this.localOps++),!this.verboseOps||e.sequencedMessage&&this.noVerboseRemoteAnnote||console.log(`@cli ${this.getLongClientId(this.getCollabWindow().clientId)} `+`seq ${t.sequenceNumber} ${e.op.type} local ${!e.sequencedMessage} `+`start ${n.start} end ${n.end} refseq ${t.referenceSequenceNumber} `+`cli ${t.clientId}`)}getValidOpRange(e,t){let n=e.pos1;void 0===n&&e.relativePos1&&(n=this.mergeTree.posFromRelativePos(e.relativePos1,t.referenceSequenceNumber,t.clientId));let r=e.pos2;if(void 0===r&&e.relativePos2&&(r=this.mergeTree.posFromRelativePos(e.relativePos2,t.referenceSequenceNumber,t.clientId)),t.clientId===this.getClientId()){const i=this.getLength(),o=[];if((void 0===n||n<0||n>i||n===i&&0!==e.type)&&o.push("start"),0===e.type&&void 0===r||(void 0===r||r<=n)&&o.push("end"),o.length>0)return void this.logger.sendErrorEvent({currentSeq:this.getCurrentSeq(),end:r,eventName:"InvalidOpRange",invalidPositions:o.toString(),length:i,opPos1:e.pos1,opPos1Relative:void 0!==e.relativePos1,opPos2:e.pos2,opPos2Relative:void 0!==e.relativePos2,opRefSeq:t.referenceSequenceNumber,opSeq:t.sequenceNumber,opType:e.type,start:n})}return{start:n,end:r}}getClientSequenceArgs(e){if(e.sequencedMessage)return{clientId:this.getShortClientId(e.sequencedMessage.clientId),referenceSequenceNumber:e.sequencedMessage.referenceSequenceNumber,sequenceNumber:e.sequencedMessage.sequenceNumber};{const e=this.getCollabWindow();return{clientId:e.clientId,referenceSequenceNumber:e.currentSeq,sequenceNumber:this.getLocalSequenceNumber()}}}copy(e,t,n){const r=this.mergeTree.cloneSegments(n.referenceSequenceNumber,n.clientId,e.start,e.end);this.registerCollection.set(this.getLongClientId(n.clientId),t,r)}ackPendingSegment(e){const t=e=>{let t;this.measureOps&&(t=Object(c.m)()),this.mergeTree.ackPendingSegment(e,this.verboseOps),2===e.op.type&&e.op.combiningOp&&"consensus"===e.op.combiningOp.name&&this.updateConsensusProperty(e.op,e.sequencedMessage),this.measureOps&&(this.accumTime+=Object(c.p)(t),this.accumOps++,this.accumWindow+=this.getCurrentSeq()-this.getCollabWindow().minSeq),this.verboseOps&&console.log(`@cli ${this.getLongClientId(this.getCollabWindow().clientId)} `+`ack seq # ${e.sequencedMessage.sequenceNumber}`)};if(3===e.op.type)for(const n of e.op.ops)t({groupOp:e.op,op:n,sequencedMessage:e.sequencedMessage});else t(e)}undoSingleSequenceNumber(e,t){let n=e.length-1;const r=e[n].seq;if(0===r)return 0;for(;n>=0;){const i=e[n];if(r!==i.seq)break;this.mergeTree.cherryPickedUndo(i),t.push(i),n--}return e.length=n+1,r}historyToPct(e){const t=this.undoSegments.length+this.redoSegments.length;let n=this.undoSegments.length/t,r=-1;if(n>=e)for(;n>e;)r=this.undoSingleSequenceNumber(this.undoSegments,this.redoSegments),n=this.undoSegments.length/t;else for(;n<e;)r=this.undoSingleSequenceNumber(this.redoSegments,this.undoSegments),n=this.undoSegments.length/t;return r}undo(){return this.undoSingleSequenceNumber(this.undoSegments,this.redoSegments)}redo(){return this.undoSingleSequenceNumber(this.redoSegments,this.undoSegments)}cloneFromSegments(){const e=new m(this.specToSegment,this.logger,this.mergeTree.options),t=[],n=this.mergeTree.blockClone(this.mergeTree.root,t);e.mergeTree.root=n;let r=[];for(const i of t)0!==i.seq&&r.push({seq:i.seq,seg:i,op:0}),void 0!==i.removedSeq&&r.push({seq:i.removedSeq,seg:i,op:1});return r=r.sort((e,t)=>t.seq===e.seq?0:t.seq===s.d?-1:e.seq===s.d?1:e.seq-t.seq),e.undoSegments=r,e.redoSegments=[],e}getOrAddShortClientId(e,t=0){return this.clientNameToIds.get(e)||this.addLongClientId(e,t),this.getShortClientId(e)}getShortClientId(e){return this.clientNameToIds.get(e).data.clientId}getLongClientId(e){return e>=0?this.shortClientIdMap[e]:"original"}addLongClientId(e,t=0){this.clientNameToIds.put(e,{branchId:t,clientId:this.shortClientIdMap.length}),this.shortClientIdMap.push(e),this.shortClientBranchIdMap.push(t)}getBranchId(e){return this.shortClientBranchIdMap[e]}resetPendingSegmentToOp(e){let t;if(!e.segmentGroups.empty){if(e.segmentGroups.clear(),e.seq===s.d&&e.removedSeq===s.d)return e.removedSeq=s.e,void(e.seq=s.e);const n=this.getPosition(e);if(e.removedSeq===s.d)t=u.h(n,n+e.cachedLength);else if(e.seq===s.d)t=u.f(n,e),e.propertyManager&&e.propertyManager.clearPendingProperties();else if(e.propertyManager&&e.propertyManager.hasPendingProperties()){const r=e.propertyManager.resetPendingPropertiesToOpDetails();t=u.b(n,n+e.cachedLength,r.props,r.combiningOp)}if(t){const t={segments:[]};e.segmentGroups.enqueue(t),this.mergeTree.pendingSegments.enqueue(t)}}return t}applyRemoteOp(e){const t=e.op,n=e.sequencedMessage;switch(this.getOrAddShortClientId(n.clientId),t.type){case 0:this.applyInsertOp(e);break;case 1:this.applyRemoveRangeOp(e);break;case 2:this.applyAnnotateRangeOp(e);break;case 3:for(const e of t.ops)this.applyRemoteOp({op:e,groupOp:t,sequencedMessage:n})}}applyMsg(e){const t=e.origin?0:this.mergeTree.localBranchId;if(this.getOrAddShortClientId(e.clientId,t),e.type===i.MessageType.Operation){const t={op:e.contents,sequencedMessage:e};t.sequencedMessage.clientId===this.longClientId?this.ackPendingSegment(t):this.applyRemoteOp(t)}this.updateSeqNumbers(e.minimumSequenceNumber,e.sequenceNumber)}updateSeqNumbers(e,t){const n=this.mergeTree.getCollabWindow();Object(r.strict)(n.currentSeq<=t,"Incoming op sequence# < local collabWindow's currentSequence#"),n.currentSeq=t,Object(r.strict)(e<=t,"Incoming op sequence# < minSequence#"),this.updateMinSeq(e)}resolveRemoteClientPosition(e,t,n){const r=this.getOrAddShortClientId(n);return this.mergeTree.resolveRemoteClientPosition(e,t,r)}resetPendingSegmentsToOp(){const e=new d.a;for(;!this.mergeTree.pendingSegments.empty();){const t=this.mergeTree.pendingSegments.dequeue();for(const n of t.segments)e.addOrUpdate(n)}const t=[];for(const n of e.items){const e=this.resetPendingSegmentToOp(n);e&&t.push(e)}if(t.length>0)return 1===t.length?t[0]:u.c(...t)}createTextHelper(){return new p.a(this.mergeTree)}snapshot(e,t,n){const i=e.deltaManager,o=i?i.minimumSequenceNumber:0;i&&(this.updateSeqNumbers(o,i.referenceSequenceNumber),r.strict.equal(this.getCollabWindow().minSeq,o));const s=this.mergeTree.options&&this.mergeTree.options.newMergeTreeSnapshotFormat?new f.a(this.mergeTree,this.logger):new l.a(this.mergeTree,this.logger);return s.extractSync(),s.emit(n,e.IComponentSerializer,e.IComponentHandleContext,t)}async load(e,t,n){const r=new h.a(e,this,this.mergeTree,this.logger);return await r.initialize(n,t)}getStackContext(e,t){return this.mergeTree.getStackContext(e,this.getCollabWindow().clientId,t)}getLocalSequenceNumber(){return this.getCollabWindow().collaborating?s.d:s.e}localTransaction(e){for(const t of e.ops){const n={op:t,groupOp:e};switch(t.type){case 0:this.applyInsertOp(n);break;case 2:this.applyAnnotateRangeOp(n);break;case 1:this.applyRemoveRangeOp(n)}}}updateConsensusProperty(e,t){const n=e.relativePos1.id,r=this.pendingConsensus.get(n);r&&r.marker.addProperties(e.props,e.combiningOp,t.sequenceNumber),this.mergeTree.addMinSeqListener(t.sequenceNumber,()=>r.callback(r.marker))}updateMinSeq(e){let t;if(this.measureOps&&(t=Object(c.m)()),this.mergeTree.setMinSeq(e),this.measureOps){const e=Object(c.p)(t);this.accumWindowTime+=e,e>this.maxWindowTime&&(this.maxWindowTime=e)}}getContainingSegment(e){const t=this.mergeTree.getCollabWindow();return this.mergeTree.getContainingSegment(e,t.currentSeq,t.clientId)}getPropertiesAtPosition(e){const t=this.getCollabWindow();let n;this.verboseOps&&console.log(`getPropertiesAtPosition cli ${this.getLongClientId(t.clientId)} ref seq ${t.currentSeq}`);const r=this.getContainingSegment(e).segment;return r&&(n=r.properties),n}getRangeExtentsOfPosition(e){const t=this.getCollabWindow();let n,r;this.verboseOps&&console.log(`getRangeExtentsOfPosition cli ${this.getLongClientId(t.clientId)} ref seq ${t.currentSeq}`);const i=this.getContainingSegment(e).segment;return i&&(r=(n=this.getPosition(i))+i.cachedLength),{posStart:n,posAfterEnd:r}}getCurrentSeq(){return this.getCollabWindow().currentSeq}getClientId(){return this.getCollabWindow().clientId}getLength(){return this.mergeTree.length}startOrUpdateCollaboration(e,t=0,n=0,r=0){if(void 0!==e)if(void 0===this.longClientId)this.longClientId=e,this.addLongClientId(this.longClientId,r),this.mergeTree.startCollaboration(this.getShortClientId(this.longClientId),t,n,r);else{const t=this.longClientId,n=this.clientNameToIds.get(t).data;this.longClientId=e,this.clientNameToIds.put(e,n),this.shortClientIdMap[n.clientId]=e}}findTile(e,t,n=!0){const r=this.getClientId();return this.mergeTree.findTile(e,r,t,n)}}t.a=m},function(e,t){},function(e,t,n){"use strict";var r=n(2006),i=n(2097),o=n(2001),s=n(2140),a=n(3162),c=n(2631),u=n(3163),l=n(2630);const h="header";class d{get type(){return d.Type}get attributes(){return d.Attributes}async load(e,t,n,r,i){const o=new p(t,e,i);return await o.load(r,n),o}create(e,t){const n=new p(t,e,d.Attributes);return n.initializeLocal(),n}}t.a=d,d.Type="https://graph.microsoft.com/types/map",d.Attributes={type:d.Type,snapshotFormatVersion:"0.2",packageVersion:l.b};class p extends s.a{constructor(e,t,n){super(e,t,n),this[Symbol.toStringTag]="SharedMap",this.kernel=new u.a(t,this.handle,e=>this.submitLocalMessage(e),c.c,this)}static create(e,t){return e.createChannel(t,d.Type)}static getFactory(){return new d}keys(){return this.kernel.keys()}entries(){return this.kernel.entries()}values(){return this.kernel.values()}[Symbol.iterator](){return this.kernel.entries()}get size(){return this.kernel.size}forEach(e){this.kernel.forEach(e)}get(e){return this.kernel.get(e)}async wait(e){return this.kernel.wait(e)}has(e){return this.kernel.has(e)}set(e,t){return this.kernel.set(e,t),this}createValueType(e,t,n){return this.kernel.createValueType(e,t,n),this}delete(e){return this.kernel.delete(e)}clear(){this.kernel.clear()}snapshot(){let e=0,t=0,n={};const r=[],o={entries:[],id:null},s=this.kernel.getSerializedStorage();for(const c of Object.keys(s)){const a=s[c];if(a.value&&a.value.length>=8192){const e=`blob${t}`;t++,r.push(e);const n={[c]:{type:a.type,value:JSON.parse(a.value)}};Object(i.addBlobToTree)(o,e,n)}else{if(e+=a.type.length+21,a.value&&(e+=a.value.length),e>16384){const s=`blob${t}`;t++,r.push(s),Object(i.addBlobToTree)(o,s,n),n={},e=0}n[c]={type:a.type,value:void 0===a.value?void 0:JSON.parse(a.value)}}}const a={blobs:r,content:n};return Object(i.addBlobToTree)(o,h,a),o}getSerializableStorage(){return this.kernel.getSerializableStorage()}async loadCore(e,t){const n=await t.read(h),i=Object(r.fromBase64ToUtf8)(n),o=JSON.parse(i),s=o;Array.isArray(s.blobs)?(this.kernel.populateFromSerializable(s.content),await Promise.all(s.blobs.map(async e=>{const n=await t.read(e),i=Object(r.fromBase64ToUtf8)(n);this.kernel.populateFromSerializable(JSON.parse(i))}))):this.kernel.populateFromSerializable(o)}onDisconnect(){Object(a.a)(`Map ${this.id} is now disconnected`)}onConnect(e){Object(a.a)(`Map ${this.id} is now connected`);for(const t of e)this.kernel.trySubmitMessage(t)}processCore(e,t){e.type===o.MessageType.Operation&&this.kernel.tryProcessMessage(e,t)}registerCore(){for(const e of this.values())s.a.is(e)&&e.register()}}t.b=p},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2006)),o=n(2001),s=n(2379),a=(n.n(s),n(5101)),c=n(5103);t.a=class extends i.EventEmitterWithErrorHandling{constructor(e,t,n){super(),this.id=e,this.runtime=t,this.attributes=n,this._connected=!1,this.pendingOps=new s,this.registered=!1,this.handle=new c.a(this,e,t.IComponentHandleContext),this.logger=i.ChildLogger.create(null!==t?t.logger:void 0,this.attributes.type,{SharedObjectId:e}),this.on("error",e=>{t.emit("error",e)})}static is(e){var t;return void 0!==(null===(t=e)||void 0===t?void 0:t.ISharedObject)}get ISharedObject(){return this}get IChannel(){return this}get IComponentLoadable(){return this}get connected(){return this._connected}get url(){return this.handle.path}toJSON(){throw new Error("Only the handle can be converted to JSON")}async load(e,t){this.services=t,await this.loadCore(e,t.objectStorage),this.attachDeltaHandler()}initializeLocal(){this.initializeLocalCore()}register(){this.isRegistered()||(this.registered=!0,this.setOwner(),this.registerCore(),this.runtime.registerChannel(this))}connect(e){this.services=e,this.attachDeltaHandler()}isLocal(){return void 0===this.services||this.runtime.isLocal()}isRegistered(){const e=!!this.services||this.registered;return r(!!e||this.isLocal()),e}isAttached(){const e=void 0!==this.services;return r(e?this.isRegistered():this.isLocal()),e}setOwner(){}initializeLocalCore(){}didAttach(){}submitLocalMessage(e){if(this.isLocal())return-1;let t=-1;return this.connected?t=this.services.deltaConnection.submit(e):(Object(a.a)(`${this.id} Not fully connected - adding to pending list`,e),this.runtime.notifyPendingMessages()),this.pendingOps.push({clientSequenceNumber:t,content:e}),t}dirty(){this.isLocal()||this.services.deltaConnection.dirty()}onConnect(e){for(const t of e)this.submitLocalMessage(t)}async newAckBasedPromise(e){let t;return new Promise((n,r)=>{t=(()=>r(new Error("ComponentRuntime disposed while this ack-based Promise was pending"))),this.runtime.on("dispose",t),this.runtime.disposed&&r("Preparing to wait for an op to be acked but ComponentRuntime has been disposed"),e(n,r)}).finally(()=>{this.runtime.off("dispose",t)})}debugAssert(e,t){this.logger.debugAssert(e,t)}attachDeltaHandler(){this.didAttach(),this.services.deltaConnection.attach({process:(e,t)=>{this.process(e,t)},setConnectionState:e=>{this.setConnectionState(e)}}),this.setConnectionState(this.services.deltaConnection.connected)}setConnectionState(e){if(this._connected!==e)if(this._connected=e,e){const e=this.pendingOps.toArray().map(e=>e.content);this.pendingOps.clear(),this.onConnect(e)}else this.onDisconnect()}process(e,t){e.type===o.MessageType.Operation&&t&&this.processPendingOp(e),this.emit("pre-op",e,t,this),this.processCore(e,t),this.emit("op",e,t,this)}processPendingOp(e){const t=this.pendingOps.peekFront();void 0!==t?(r(-1!==t.clientSequenceNumber,`processing disconnected op ${t.clientSequenceNumber}`),t.clientSequenceNumber===e.clientSequenceNumber?this.pendingOps.shift():this.logger.sendErrorEvent({eventName:"WrongAckReceived"})):this.logger.sendErrorEvent({eventName:"UnexpectedAckReceived"})}}},function(e,t,n){"use strict";var r=n(2012),i=(n.n(r),n(5102));const o=r("fluid:shared-object-common");t.a=o,o(`Package: ${i.a} - Version: ${i.b}`)},function(e,t,n){"use strict";t.a="@microsoft/fluid-shared-object-base";t.b="0.18.4"},function(e,t,n){"use strict";t.a=class{constructor(e,t,n){this.value=e,this.path=t,this.routeContext=n,this.isHandleAttached=!1}get IComponentHandle(){return this}get IComponentRouter(){return this}get IComponentHandleContext(){return this}get isAttached(){return this.value.isAttached()}async get(){return this.value}attach(){if(!this.isHandleAttached){if(this.isHandleAttached=!0,void 0!==this.bound){for(const e of this.bound)e.attach();this.bound=void 0}this.routeContext.attach(),this.value.register()}}bind(e){this.isAttached?e.attach():(void 0===this.bound&&(this.bound=new Set),this.bound.add(e))}async request(e){return{status:404,mimeType:"text/plain",value:`${e.url} not found`}}}},function(e,t,n){"use strict"},function(e,t,n){"use strict";t.c=function(e,t,n,r){return void 0!==e?t.stringify(e,n,r):e},t.a=function(e,t,n,r){return t.replaceHandles(e,n,r)},t.b=function(e,t,n){return void 0!==e?t.parse(JSON.stringify(e),n):e}},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.Shared=0]="Shared",e[e.Plain=1]="Plain"}(r||(r={}))},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(391)),o=(n.n(i),n(2006)),s=n(2097),a=n(2001),c=n(2140),u=n(3162),l=n(2631),h=n(2630);const d=i.posix||i;r("/"===d.sep);const p="header";class f{get type(){return f.Type}get attributes(){return f.Attributes}async load(e,t,n,r,i){const o=new m(t,e,i);return await o.load(r,n),o}create(e,t){const n=new m(t,e,f.Attributes);return n.initializeLocal(),n}}t.a=f,f.Type="https://graph.microsoft.com/types/directory",f.Attributes={type:f.Type,snapshotFormatVersion:"0.1",packageVersion:h.b};class m extends c.a{constructor(e,t,n){super(e,t,n),this[Symbol.toStringTag]="SharedDirectory",this.root=new g(this,this.runtime,d.sep),this.messageHandlers=new Map,this.localValueMaker=new l.a(t),this.setMessageHandlers();for(const r of l.c)this.localValueMaker.registerValueType(r)}static create(e,t){return e.createChannel(t,f.Type)}static getFactory(){return new f}get absolutePath(){return this.root.absolutePath}get(e){return this.root.get(e)}async wait(e){return this.root.wait(e)}set(e,t){return this.root.set(e,t),this}createValueType(e,t,n){return this.root.createValueType(e,t,n),this}delete(e){return this.root.delete(e)}clear(){this.root.clear()}has(e){return this.root.has(e)}get size(){return this.root.size}forEach(e){this.root.forEach(e)}[Symbol.iterator](){return this.root[Symbol.iterator]()}entries(){return this.root.entries()}keys(){return this.root.keys()}values(){return this.root.values()}createSubDirectory(e){return this.root.createSubDirectory(e)}getSubDirectory(e){return this.root.getSubDirectory(e)}hasSubDirectory(e){return this.root.hasSubDirectory(e)}deleteSubDirectory(e){return this.root.deleteSubDirectory(e)}subdirectories(){return this.root.subdirectories()}getWorkingDirectory(e){const t=this.makeAbsolute(e);if(t===d.sep)return this.root;let n=this.root;const r=t.substr(1).split(d.sep);for(const i of r)if(!(n=n.getSubDirectory(i)))return;return n}snapshot(){return function(e){const t={entries:[],id:null};let n=0;const r=[],i=[],o={};for(i.push([e,o]);i.length>0;){const[e,o]=i.pop();for(const[i,a]of e.getSerializedStorage()){o.storage||(o.storage={});const c={type:a.type,value:a.value&&JSON.parse(a.value)};if(a.value&&a.value.length>=8192){const o={};let a=o;if(e.absolutePath!==d.sep)for(const t of e.absolutePath.substr(1).split(d.sep)){const e={};a.subdirectories={[t]:e},a=e}a.storage={[i]:c};const u=`blob${n}`;n++,r.push(u),Object(s.addBlobToTree)(t,u,o)}else o.storage[i]=c}for(const[t,n]of e.subdirectories()){o.subdirectories||(o.subdirectories={});const e={};o.subdirectories[t]=e,i.push([n,e])}}const a={blobs:r,content:o};return Object(s.addBlobToTree)(t,p,a),t}(this.root)}submitDirectoryMessage(e){return this.submitLocalMessage(e)}makeDirectoryValueOpEmitter(e,t){return{emit:(n,r,i)=>{const o={key:e,path:t,type:"act",value:{opName:n,value:i}};this.submitDirectoryMessage(o);const s={key:e,path:t,previousValue:r};this.emit("valueChanged",s,!0,null)}}}onDisconnect(){Object(u.a)(`Directory ${this.id} is now disconnected`)}onConnect(e){Object(u.a)(`Directory ${this.id} is now connected`);for(const t of e){this.messageHandlers.get(t.type).submit(t)}}async loadCore(e,t){const n=await t.read(p),r=JSON.parse(Object(o.fromBase64ToUtf8)(n)),i=r;Array.isArray(i.blobs)?(this.populate(i.content),await Promise.all(i.blobs.map(async e=>{const n=await t.read(e),r=JSON.parse(Object(o.fromBase64ToUtf8)(n));this.populate(r)}))):this.populate(r)}populate(e){const t=[];for(t.push([this.root,e]);t.length>0;){const[e,n]=t.pop();if(n.subdirectories)for(const[r,i]of Object.entries(n.subdirectories)){let n=e.getSubDirectory(r);n||(n=new g(this,this.runtime,d.join(e.absolutePath,r)),e.populateSubDirectory(r,n)),t.push([n,i])}if(n.storage)for(const[t,r]of Object.entries(n.storage)){const n=this.makeLocal(t,e.absolutePath,r);e.populateStorage(t,n)}}}registerCore(){const e=new Array;e.push(this.root);for(const t of e){for(const e of t.values())c.a.is(e)&&e.register();for(const[,n]of t.subdirectories())e.push(n)}}processCore(e,t){if(e.type===a.MessageType.Operation){const n=e.contents;this.messageHandlers.has(n.type)&&this.messageHandlers.get(n.type).process(n,t,e)}}makeAbsolute(e){return d.resolve(d.sep,e)}makeLocal(e,t,n){return n.type===c.b[c.b.Plain]||n.type===c.b[c.b.Shared]?this.localValueMaker.fromSerializable(n):this.localValueMaker.fromSerializable(n,this.makeDirectoryValueOpEmitter(e,t))}setMessageHandlers(){this.messageHandlers.set("clear",{process:(e,t,n)=>{const r=this.getWorkingDirectory(e.path);r&&r.processClearMessage(e,t,n)},submit:e=>{const t=this.getWorkingDirectory(e.path);t&&t.submitClearMessage(e)}}),this.messageHandlers.set("delete",{process:(e,t,n)=>{const r=this.getWorkingDirectory(e.path);r&&r.processDeleteMessage(e,t,n)},submit:e=>{const t=this.getWorkingDirectory(e.path);t&&t.submitKeyMessage(e)}}),this.messageHandlers.set("set",{process:(e,t,n)=>{const r=this.getWorkingDirectory(e.path);if(r){const i=t?void 0:this.makeLocal(e.key,e.path,e.value);r.processSetMessage(e,i,t,n)}},submit:e=>{const t=this.getWorkingDirectory(e.path);t&&t.submitKeyMessage(e)}}),this.messageHandlers.set("createSubDirectory",{process:(e,t,n)=>{const r=this.getWorkingDirectory(e.path);r&&r.processCreateSubDirectoryMessage(e,t,n)},submit:e=>{const t=this.getWorkingDirectory(e.path);t&&t.submitSubDirectoryMessage(e)}}),this.messageHandlers.set("deleteSubDirectory",{process:(e,t,n)=>{const r=this.getWorkingDirectory(e.path);r&&r.processDeleteSubDirectoryMessage(e,t,n)},submit:e=>{const t=this.getWorkingDirectory(e.path);t&&t.submitSubDirectoryMessage(e)}}),this.messageHandlers.set("act",{process:(e,t,n)=>{const r=this.getWorkingDirectory(e.path);if(!r)return;const i=r.getLocalValue(e.key);if(!i)return;const o=i.getOpHandler(e.value.opName),s=i.value,a=this.runtime.IComponentSerializer.parse(JSON.stringify(e.value.value),this.runtime.IComponentHandleContext);o.process(s,a,t,n);const c={key:e.key,path:e.path,previousValue:s};this.emit("valueChanged",c,t,n)},submit:e=>{this.submitDirectoryMessage(e)}})}}t.b=m;class g{constructor(e,t,n){this.directory=e,this.runtime=t,this.absolutePath=n,this[Symbol.toStringTag]="SubDirectory",this._storage=new Map,this._subdirectories=new Map,this.pendingKeys=new Map,this.pendingSubDirectories=new Map,this.pendingClearClientSequenceNumber=-1}has(e){return this._storage.has(e)}get(e){if(this._storage.has(e))return this._storage.get(e).value}async wait(e){return this._storage.has(e)?this._storage.get(e).value:new Promise((t,n)=>{const r=n=>{this.absolutePath===n.path&&e===n.key&&(t(this.get(n.key)),this.directory.removeListener("valueChanged",r))};this.directory.on("valueChanged",r)})}set(e,t){if(void 0===e||null===e)throw new Error("Undefined and null keys are not supported");const n=this.directory.localValueMaker.fromInMemory(t),r=Object(l.b)(n,this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext,this.directory.handle);this.setCore(e,n,!0,null);const i={key:e,path:this.absolutePath,type:"set",value:r};return this.submitKeyMessage(i),this}createValueType(e,t,n){const r=this.directory.localValueMaker.makeValueType(t,this.directory.makeDirectoryValueOpEmitter(e,this.absolutePath),n),i={type:t,value:n?JSON.parse(this.runtime.IComponentSerializer.stringify(n,this.runtime.IComponentHandleContext,this.directory.handle)):n};this.setCore(e,r,!0,null);const o={key:e,path:this.absolutePath,type:"set",value:i};return this.submitKeyMessage(o),this}createSubDirectory(e){if(void 0===e||null===e)throw new Error("SubDirectory name may not be undefined or null");if(e.includes(d.sep))throw new Error(`SubDirectory name may not contain ${d.sep}`);this.createSubDirectoryCore(e,!0,null);const t={path:this.absolutePath,subdirName:e,type:"createSubDirectory"};return this.submitSubDirectoryMessage(t),this._subdirectories.get(e)}getSubDirectory(e){return this._subdirectories.get(e)}hasSubDirectory(e){return this._subdirectories.has(e)}deleteSubDirectory(e){const t={path:this.absolutePath,subdirName:e,type:"deleteSubDirectory"},n=this.deleteSubDirectoryCore(e,!0,null);return this.submitSubDirectoryMessage(t),n}subdirectories(){return this._subdirectories.entries()}getWorkingDirectory(e){return this.directory.getWorkingDirectory(this.makeAbsolute(e))}delete(e){const t={key:e,path:this.absolutePath,type:"delete"},n=this.deleteCore(t.key,!0,null);return this.submitKeyMessage(t),n}clear(){const e={path:this.absolutePath,type:"clear"};this.clearCore(!0,null),this.submitClearMessage(e)}forEach(e){this._storage.forEach((t,n,r)=>{e(t.value,n,r)})}get size(){return this._storage.size}entries(){const e=this._storage.entries();return{next(){const t=e.next();return t.done?{value:void 0,done:!0}:{value:[t.value[0],t.value[1].value],done:!1}},[Symbol.iterator](){return this}}}keys(){return this._storage.keys()}values(){const e=this._storage.values();return{next(){const t=e.next();return t.done?{value:void 0,done:!0}:{value:t.value.value,done:!1}},[Symbol.iterator](){return this}}}[Symbol.iterator](){return this.entries()}processClearMessage(e,t,n){t?this.pendingClearClientSequenceNumber===n.clientSequenceNumber&&(this.pendingClearClientSequenceNumber=-1):(this.clearExceptPendingKeys(),this.directory.emit("clear",t,e))}processDeleteMessage(e,t,n){this.needProcessStorageOperation(e,t,n)&&this.deleteCore(e.key,t,n)}processSetMessage(e,t,n,r){this.needProcessStorageOperation(e,n,r)&&this.setCore(e.key,t,n,r)}processCreateSubDirectoryMessage(e,t,n){this.needProcessSubDirectoryOperations(e,t,n)&&this.createSubDirectoryCore(e.subdirName,t,n)}processDeleteSubDirectoryMessage(e,t,n){this.needProcessSubDirectoryOperations(e,t,n)&&this.deleteSubDirectoryCore(e.subdirName,t,n)}submitClearMessage(e){const t=this.directory.submitDirectoryMessage(e);-1!==t&&(this.pendingClearClientSequenceNumber=t)}submitKeyMessage(e){const t=this.directory.submitDirectoryMessage(e);-1!==t&&this.pendingKeys.set(e.key,t)}submitSubDirectoryMessage(e){const t=this.directory.submitDirectoryMessage(e);-1!==t&&this.pendingSubDirectories.set(e.subdirName,t)}*getSerializedStorage(){for(const[e,t]of this._storage){const n=[e,t.makeSerialized(this.runtime.IComponentSerializer,this.runtime.IComponentHandleContext,this.directory.handle)];yield n}}populateStorage(e,t){this._storage.set(e,t)}populateSubDirectory(e,t){this._subdirectories.set(e,t)}getLocalValue(e){return this._storage.get(e)}makeAbsolute(e){return d.resolve(this.absolutePath,e)}needProcessStorageOperation(e,t,n){if(-1!==this.pendingClearClientSequenceNumber)return!1;if(this.pendingKeys.has(e.key)){if(t){this.pendingKeys.get(e.key)===n.clientSequenceNumber&&this.pendingKeys.delete(e.key)}return!1}return!t}needProcessSubDirectoryOperations(e,t,n){if(this.pendingSubDirectories.has(e.subdirName)){if(t){this.pendingSubDirectories.get(e.subdirName)===n.clientSequenceNumber&&this.pendingSubDirectories.delete(e.subdirName)}return!1}return!t}clearExceptPendingKeys(){const e=new Map;this.pendingKeys.forEach((t,n,r)=>{e.set(n,this._storage.get(n))}),this._storage.clear(),e.forEach((e,t,n)=>{this._storage.set(t,e)})}clearCore(e,t){this._storage.clear(),this.directory.emit("clear",e,t)}deleteCore(e,t,n){const r=this.get(e),i=this._storage.delete(e);if(i){const i={key:e,path:this.absolutePath,previousValue:r};this.directory.emit("valueChanged",i,t,n)}return i}setCore(e,t,n,r){const i=this.get(e);this._storage.set(e,t);const o={key:e,path:this.absolutePath,previousValue:i};this.directory.emit("valueChanged",o,n,r)}createSubDirectoryCore(e,t,n){this._subdirectories.has(e)||this._subdirectories.set(e,new g(this.directory,this.runtime,d.join(this.absolutePath,e)))}deleteSubDirectoryCore(e,t,n){return this._subdirectories.delete(e)}}},function(e,t,n){"use strict";var r=n(5109),i=n(3164);t.a=class{get IComponentSerializer(){return this}replaceHandles(e,t,n){return e&&"object"===typeof e?this.recursivelyReplaceHandles(e,t,n):e}stringify(e,t,n){return JSON.stringify(e,(e,r)=>{const i=!!r&&r.IComponentHandle;return i?this.serializeHandle(i,t,n):r})}parse(e,t){let n;return JSON.parse(e,(e,o)=>{if(!Object(i.a)(o))return o;const s=o.url.startsWith("/");if(s&&void 0===n)for(n=t;void 0!==n.routeContext;)n=n.routeContext;return new r.a(s?o.url.substr(1):o.url,s?n:t)})}recursivelyReplaceHandles(e,t,n){const r=e.IComponentHandle;if(void 0!==r)return this.serializeHandle(r,t,n);let i;for(const o of Object.keys(e)){const r=e[o];if(r&&"object"===typeof r){const s=this.recursivelyReplaceHandles(r,t,n);s!==r&&((i=null!==i&&void 0!==i?i:Array.isArray(e)?[...e]:Object.assign({},e))[o]=s)}}return null!==i&&void 0!==i?i:e}serializeHandle(e,t,n){return n.bind(e),{type:"__fluid_handle__",url:t===e.routeContext?e.path:function(e){let t="",n=e;for(;void 0!==n;)""!==n.path&&(t=`/${n.path}${t}`),n=n.routeContext;return t}(e)}}}},function(e,t,n){"use strict";t.a=class{constructor(e,t){this.path=e,this.routeContext=t,this.isAttached=!0}get IComponentRouter(){return this}get IComponentHandleContext(){return this}get IComponentHandle(){return this}async get(){return void 0===this.componentP&&(this.componentP=this.routeContext.request({url:this.path}).then(e=>"fluid/component"===e.mimeType?e.value:Promise.reject("Not found"))),this.componentP}attach(){}bind(e){if(!this.isAttached)throw new Error("Cannot bind to an attached handle");e.attach()}async request(e){const t=(await this.get()).IComponentRouter;return void 0!==t?t.request(e):{status:404,mimeType:"text/plain",value:`${e.url} not found`}}}},function(e,t,n){"use strict";class r{constructor(e,t,n,r,i){this.useContext=e,this._fullPath=t,this._referenceSequenceNumber=n,this._latestSequenceNumber=r,this._getSnapshotTree=i,this.children=new Map}get referenceSequenceNumber(){return this._referenceSequenceNumber}get latestSequenceNumber(){return this._latestSequenceNumber}async getSnapshotTree(){return this._getSnapshotTree()}async getId(){var e,t;if(!(this._latestSequenceNumber>this._referenceSequenceNumber)){if(!0===this.useContext)return this._fullPath;{const n=null!==(t=null===(e=await this.getSnapshotTree())||void 0===e?void 0:e.id)&&void 0!==t?t:void 0;if(void 0===n)throw Error("Expected to find parent snapshot tree with id.");return n}}}async refreshLatestSummary(e,t){this._referenceSequenceNumber=e,this._getSnapshotTree=t;for(const[n,r]of this.children.entries())await r.refreshLatestSummary(e,this.formChildGetSnapshotTree(n))}updateLatestSequenceNumber(e){this._latestSequenceNumber=e}createOrGetChild(e,t){const n=this.children.get(e);if(void 0!==n)return n;const i=new r(this.useContext,`${this._fullPath}/${encodeURIComponent(e)}`,this._referenceSequenceNumber,t,this.formChildGetSnapshotTree(e));return this.children.set(e,i),i}getChild(e){return this.children.get(e)}formChildGetSnapshotTree(e){return async()=>{var t;return null===(t=await this._getSnapshotTree())||void 0===t?void 0:t.trees[e]}}}t.a=r},function(e,t,n){"use strict";var r=n(1994);n.n(r);t.a=class{constructor(e,t){this.storage=e,this.path=t,Object(r.strict)(!t.endsWith("/"))}async read(e){return this.storage.read(`${this.path}/${e}`)}}},function(e,t,n){"use strict";t.j=d;var r=n(2099),i=n(2388),o=n(2208);class s extends r.BaseSegment{constructor(e){super(),this.type=s.typeString,this.cachedLength=e}static is(e){return e.type===s.typeString}static fromJSONObject(e){if(e&&"object"===typeof e&&"pad"in e){const t=new s(e.pad);return e.props&&t.addProperties(e.props),t}}toJSONObject(){return{pad:this.cachedLength,props:this.properties}}clone(e=0,t){const n=new s(this.cachedLength);return this.cloneInto(n),n}canAppend(e){return s.is(e)}toString(){return`[padding: ${this.cachedLength}]`}append(e){if(!s.is(e))throw new Error("can only append padding segment");r.LocalReferenceCollection.append(this,e),this.cachedLength+=e.cachedLength}removeRange(e,t){return this.cachedLength-=t-e,0===this.cachedLength}createSplitSegmentAt(e){const t=e,n=this.cachedLength-e;return this.cachedLength=t,new s(n)}}t.a=s,s.typeString="PaddingSegment";class a extends o.SubSequence{constructor(e){super(e),this.items=e,this.type=a.typeString,this.tags=new Array(e.length).fill(void 0)}static is(e){return e.type===a.typeString}static fromJSONObject(e){if(e&&"object"===typeof e&&"items"in e){const t=new a(e.items);return e.props&&t.addProperties(e.props),t}}clone(e=0,t){const n=new a(this.items.slice(e,t));return this.tags&&(n.tags=this.tags.slice(e,t)),this.cloneInto(n),n}append(e){super.append(e);const t=e;return t.tags&&this.tags&&this.tags.splice(this.items.length,0,...t.tags),this}removeRange(e,t){return this.tags.splice(e,t-e),super.removeRange(e,t)}getTag(e){return this.tags[e]}setTag(e,t){this.tags[e]=t}createSplitSegmentAt(e){if(e>0){const t=this.items.slice(e);this.items=this.items.slice(0,e),this.cachedLength=this.items.length;const n=new a(t);return n.tags=this.tags.slice(e),this.tags.length=e,n}}}t.b=a,a.typeString="RunSegment";const c=2097152;t.f=c;const u=c+1;t.g=u;t.h=4294967295;t.i=4294967296;const l=4294967295*c;t.e=l;const h=(e,t)=>e*u+t;function d(e){const t=Math.floor(e/u);return{row:t,col:e-t*u}}t.k=h;class p extends o.SharedSegmentSequence{constructor(e,t,n){super(e,t,n,f.segmentFromSpec),this.id=t}static create(e,t){return e.createChannel(t,f.Type)}static getFactory(){return new f}get numRows(){return d(this.getLength()).row}setItems(e,t,n,r){const i=h(e,t),o=i+n.length,s=new a(n);r&&s.addProperties(r),this.replaceRange(i,o,s)}getItem(e,t){const n=h(e,t),{segment:r,offset:i}=this.getContainingSegment(n);if(a.is(r))return r.items[i];if(!s.is(r))throw new Error("Unrecognized Segment type")}getTag(e,t){const{segment:n,offset:r}=this.getSegment(e,t);if(a.is(n))return n.getTag(r)}setTag(e,t,n){const{segment:r,offset:i}=this.getSegment(e,t);if(a.is(r))r.setTag(i,n);else if(void 0!==n)throw new Error(`Must not attempt to set tags on '${r.constructor.name}'.`)}insertRows(e,t){const n=h(e,0),r=new s(u*t),i=this.client.insertSegmentLocal(n,r);i&&this.submitSequenceMessage(i)}removeRows(e,t){const n=h(e,0),r=u*t;this.removeRange(n,n+r)}insertCols(e,t){this.moveAsPadding(c-t,e,t)}removeCols(e,t){this.moveAsPadding(e,c-t,t)}annotatePosition(e,t,n){const r=h(e,t);this.annotateRange(r,r+1,n)}getPositionProperties(e,t){const n=h(e,t);return this.getPropertiesAtPosition(n)}moveAsPadding(e,t,n){const i=e,o=e+n,a=[];for(let r=0,c=0;r<this.numRows;r++,c+=u){a.push(this.client.removeRangeLocal(c+i,c+o));const e=c+t,r=new s(n);a.push(this.client.insertSegmentLocal(e,r))}this.submitSequenceMessage(Object(r.createGroupOp)(...a))}getSegment(e,t){const n=h(e,t);return this.getContainingSegment(n)}}t.c=p;class f{static segmentFromSpec(e){const t=s.fromJSONObject(e);if(t)return t;const n=a.fromJSONObject(e);if(n)return n;throw new Error(`Unrecognized IJSONObject: '${JSON.stringify(e)}'`)}get type(){return f.Type}get attributes(){return f.Attributes}async load(e,t,n,r,i){const o=new p(e,t,i);return await o.load(r,n),o}create(e,t){const n=new p(e,t,this.attributes);return n.initializeLocal(),n}}t.d=f,f.Type="https://graph.microsoft.com/types/mergeTree/sparse-matrix",f.Attributes={type:f.Type,snapshotFormatVersion:"0.1",packageVersion:i.b}},function(e,t,n){"use strict";var r=n(2006),i=n(2116),o=n(2001),s=n(2140),a=n(3165),c=n(2624),u=n(2388);const l="header";class h{get type(){return h.Type}get attributes(){return h.Attributes}async load(e,t,n,r,i){const o=new d(t,e,i);return await o.load(r,n),o}create(e,t){const n=new d(t,e,this.attributes);return n.initializeLocal(),n}}t.b=h,h.Type="https://graph.microsoft.com/types/sharedIntervalCollection",h.Attributes={type:h.Type,snapshotFormatVersion:"0.1",packageVersion:u.b};class d extends s.a{constructor(e,t,n){super(e,t,n),this[Symbol.toStringTag]="SharedIntervalCollection",this.intervalMapKernel=new i.MapKernel(t,this.handle,e=>this.submitLocalMessage(e),[new c.c])}static create(e,t){return e.createChannel(t,h.Type)}static getFactory(){return new h}async waitIntervalCollection(e){return this.intervalMapKernel.wait(this.getIntervalCollectionPath(e))}getIntervalCollection(e){const t=this.getIntervalCollectionPath(e);return this.intervalMapKernel.has(t)||this.intervalMapKernel.createValueType(e,c.c.Name,void 0),this.intervalMapKernel.get(t)}snapshot(){return{entries:[{mode:o.FileMode.File,path:l,type:o.TreeEntry[o.TreeEntry.Blob],value:{contents:this.intervalMapKernel.serialize(),encoding:"utf-8"}}],id:null}}onConnect(e){Object(a.a)(`${this.id} is now connected`);for(const t of e)this.intervalMapKernel.trySubmitMessage(t)}onDisconnect(){Object(a.a)(`${this.id} is now disconnected`)}async loadCore(e,t){const n=await t.read(l),i=n?Object(r.fromBase64ToUtf8)(n):void 0;this.intervalMapKernel.populate(i)}processCore(e,t){e.type===o.MessageType.Operation&&this.intervalMapKernel.tryProcessMessage(e,t)}registerCore(){for(const e of this.intervalMapKernel.values())s.a.is(e)&&e.register()}getIntervalCollectionPath(e){return e}}t.a=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2275),i=n(2391),o=n(2116),s=n(2208),a=n(5154),c=n(5276),u=n(5277),l=n(2385),h=new r.PrimedComponentFactory(l.CodeCellDdsName,a.CodeCellDDS,[i.SharedCell.getFactory(),o.SharedMap.getFactory(),s.SharedObjectSequence.getFactory(),s.SharedString.getFactory()],{}),d=new r.PrimedComponentFactory(l.TextCellDdsName,c.TextCellDDS,[i.SharedCell.getFactory(),o.SharedMap.getFactory(),s.SharedObjectSequence.getFactory(),s.SharedString.getFactory()],{}),p=new r.PrimedComponentFactory(l.NotebookDdsName,u.NotebookDDS,[i.SharedCell.getFactory(),o.SharedMap.getFactory(),s.SharedObjectSequence.getFactory(),s.SharedString.getFactory()],{},[[l.CodeCellDdsName,Promise.resolve(h)],[l.TextCellDdsName,Promise.resolve(d)]]);t.fluidExport=new r.ContainerRuntimeFactoryWithDefaultComponent(l.NotebookDdsName,new Map([[l.NotebookDdsName,Promise.resolve(p)]]))},function(e,t,n){"use strict";var r=n(5116);n.d(t,"a",function(){return r.a});var i=n(3169);n.d(t,"b",function(){return i.a})},function(e,t,n){"use strict";var r=n(2116),i=n(3169);t.a=class extends i.a{constructor(e,t,n=[],i,o,s=!0){const a=[...n];n.find(e=>e.type===r.DirectoryFactory.Type)||a.push(r.SharedDirectory.getFactory()),n.find(e=>e.type===r.MapFactory.Type)||a.push(r.SharedMap.getFactory()),super(e,t,a,i,o,s)}}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(137)),o=(n.n(i),n(2006)),s=n(2097),a=n(2001),c=n(2048),u=(n.n(c),n(2634)),l=n(5120),h=n(5121);class d extends i.EventEmitter{constructor(e,t,n,r,i,s,a,c,u,l,d,p,f,m){var g;super(),this.componentContext=e,this.documentId=t,this.id=n,this.parentBranch=r,this.existing=i,this.options=s,this.blobManager=a,this.deltaManager=c,this.quorum=u,this.audience=l,this.snapshotFn=d,this.sharedObjectRegistry=p,this.componentRegistry=f,this.logger=m,this.isExperimentalComponentRuntime=!0,this._disposed=!1,this.contexts=new Map,this.contextsDeferred=new Map,this.pendingAttach=new Map,this.deferredAttached=new o.Deferred,this.attachChannelQueue=new Map;const b=e.baseSnapshot;void 0!==(null===(g=b)||void 0===g?void 0:g.trees)&&Object.keys(b.trees).forEach(t=>{const n=new h.a(this,e,e.storage,(e,t)=>this.submit(e,t),e=>this.setChannelDirty(e),t,b.trees[t],this.sharedObjectRegistry,new Map,e.branch,this.componentContext.summaryTracker.createOrGetChild(t,this.deltaManager.referenceSequenceNumber)),r=new o.Deferred;r.resolve(n),this.contexts.set(t,n),this.contextsDeferred.set(t,r)}),this.attachListener(),this._isAttached=i,i&&this.deferredAttached.resolve()}static load(e,t,n){const r=o.ChildLogger.create(e.containerRuntime.logger,void 0,{componentId:e.id}),i=new d(e,e.documentId,e.id,e.parentBranch,e.existing,e.options,e.blobManager,e.deltaManager,e.getQuorum(),e.getAudience(),e.snapshotFn,t,n,r);return e.bindRuntime(i),i}get IComponentRouter(){return this}get connected(){return this.componentContext.connected}get leader(){return this.componentContext.leader}get clientId(){return this.componentContext.clientId}get clientDetails(){return this.componentContext.containerRuntime.clientDetails}get loader(){return this.componentContext.loader}get isAttached(){return this._isAttached}get path(){return this.id}get routeContext(){return this.componentContext.containerRuntime.IComponentHandleContext}get IComponentSerializer(){return this.componentContext.containerRuntime.IComponentSerializer}get IComponentHandleContext(){return this}get IComponentRegistry(){return this.componentRegistry}get disposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this.emit("dispose"))}async request(e){if("/_scheduler"===e.url)return this.componentContext.containerRuntime.request(e);const t=e.url.startsWith("/")?e.url.substr(1):e.url;if(this.contextsDeferred.has(t)){const e=await this.contextsDeferred.get(t).promise;return{mimeType:"fluid/component",status:200,value:await e.getChannel()}}return void 0===this.requestHandler?{status:404,mimeType:"text/plain",value:`${e.url} not found`}:this.requestHandler(e)}registerRequestHandler(e){this.requestHandler=e}async getChannel(e){this.verifyNotClosed(),this.contextsDeferred.has(e)||this.contextsDeferred.set(e,new o.Deferred);const t=await this.contextsDeferred.get(e).promise;return await t.getChannel()}createChannel(e=Object(c.v4)(),t){this.verifyNotClosed(),r(!this.contexts.has(e),"createChannel() with existing ID");const n=new l.a(e,this.sharedObjectRegistry,t,this,this.componentContext,this.componentContext.storage,(e,t)=>this.submit(e,t),e=>this.setChannelDirty(e));if(this.contexts.set(e,n),this.contextsDeferred.has(e))this.contextsDeferred.get(e).resolve(n);else{const t=new o.Deferred;t.resolve(n),this.contextsDeferred.set(e,t)}return n.channel}registerChannel(e){this._isAttached?this.attachChannel(e):(this.bind(e.handle),this.attachChannelQueue.has(e.id)||this.attachChannelQueue.set(e.id,this.contexts.get(e.id)))}isLocal(){return this.componentContext.isLocal()}attach(){this._isAttached||(void 0!==this.boundhandles&&(this.boundhandles.forEach(e=>{e.attach()}),this.boundhandles=void 0),this.componentContext.attach(this),this.attachChannelQueue.forEach(e=>{e.attach()}),this._isAttached=!0,this.deferredAttached.resolve(),this.attachChannelQueue.clear())}bind(e){this.isAttached?e.attach():(void 0===this.boundhandles&&(this.boundhandles=new Set),this.boundhandles.add(e))}setConnectionState(e,t){if(this.verifyNotClosed(),e)for(const[,n]of this.pendingAttach)this.submit(a.MessageType.Attach,n);for(const[,n]of this.contexts)n.setConnectionState(e,t);Object(o.raiseConnectedEvent)(this.logger,this,e,t)}getQuorum(){return this.quorum}getAudience(){return this.audience}snapshot(e){return this.verifyNotClosed(),this.snapshotFn(e)}save(e){this.verifyNotClosed(),this.submit(a.MessageType.Save,e)}async uploadBlob(e){this.verifyNotClosed();const t=await this.blobManager.createBlob(e);return e.id=t.id,e.url=t.url,this.submit(a.MessageType.BlobUploaded,t),e}getBlob(e){return this.verifyNotClosed(),this.blobManager.getBlob(e)}async getBlobMetadata(){return this.blobManager.getBlobMetadata()}process(e,t){var n,i;switch(this.verifyNotClosed(),e.type){case a.MessageType.Attach:{const a=e.contents;if(t)r(this.pendingAttach.has(a.id),"Unexpected attach (local) channel OP"),this.pendingAttach.delete(a.id);else{r(!this.contexts.has(a.id),"Unexpected attach channel OP");const t=null!==(i=null===(n=e.origin)||void 0===n?void 0:n.id)&&void 0!==i?i:this.documentId,c=new Map,u=Object(s.buildSnapshotTree)(a.snapshot.entries,c),l=new h.a(this,this.componentContext,this.componentContext.storage,(e,t)=>this.submit(e,t),e=>this.setChannelDirty(e),a.id,u,this.sharedObjectRegistry,c,t,this.componentContext.summaryTracker.createOrGetChild(a.id,e.sequenceNumber),a.type);if(this.contexts.set(a.id,l),this.contextsDeferred.has(a.id))this.contextsDeferred.get(a.id).resolve(l);else{const e=new o.Deferred;e.resolve(l),this.contextsDeferred.set(a.id,e)}}break}case a.MessageType.Operation:this.processOp(e,t)}this.emit("op",e)}processSignal(e,t){this.emit("signal",e,t)}async snapshotInternal(e=!1){return await Promise.all(Array.from(this.contexts).filter(([e,t])=>t.isRegistered()).map(async([t,n])=>{const r=await n.snapshot(e);return new s.TreeTreeEntry(t,r)}))}getAttachSnapshot(){const e=[];for(const[t,n]of this.contexts){if(!(n instanceof l.a))throw new Error("Should only be called with local channel handles");if(n.isRegistered()){const r=n.getAttachSnapshot();e.push(new s.TreeTreeEntry(t,r))}}return e}submitMessage(e,t){this.submit(e,t)}submitSignal(e,t){return this.verifyNotClosed(),this.componentContext.submitSignal(e,t)}notifyPendingMessages(){r(!this.connected),this.componentContext.containerRuntime.notifyPendingMessages()}async waitAttached(){return this.deferredAttached.promise}error(e){this.componentContext.error(e)}attachChannel(e){var t;if(this.verifyNotClosed(),null===(t=e.handle)||void 0===t?void 0:t.isAttached)return;if(e.handle.attach(),r(this.isAttached,"Component should be attached to attach the channel."),!this.isLocal()){const t=Object(u.b)(e),n={id:e.id,snapshot:t,type:e.attributes.type};this.pendingAttach.set(e.id,n),this.connected&&this.submit(a.MessageType.Attach,n)}this.contexts.get(e.id).attach()}submit(e,t){return this.verifyNotClosed(),this.componentContext.submitMessage(e,t)}setChannelDirty(e){this.verifyNotClosed(),this.componentContext.setChannelDirty(e)}processOp(e,t){var n;this.verifyNotClosed();const i=e.contents,o=this.contexts.get(i.address);r(o);const s={clientId:e.clientId,clientSequenceNumber:e.clientSequenceNumber,contents:i.contents,metadata:e.metadata,minimumSequenceNumber:e.minimumSequenceNumber,origin:e.origin,referenceSequenceNumber:e.referenceSequenceNumber,sequenceNumber:e.sequenceNumber,timestamp:e.timestamp,term:(n=e.term,null!==n&&void 0!==n?n:1),traces:e.traces,type:e.type};return o.processOp(s,t),o}attachListener(){this.componentContext.on("leader",()=>{this.emit("leader")}),this.componentContext.on("notleader",()=>{this.emit("notleader")})}verifyNotClosed(){if(this._disposed)throw new Error("Runtime is closed")}}t.a=d},function(e,t,n){"use strict";var r=n(1994);n.n(r);t.a=class{constructor(e,t,n,r){this.objectId=e,this._connected=t,this.submitFn=n,this.dirtyFn=r}get handler(){return r(this._handler),this._handler}get connected(){return this._connected}attach(e){r(void 0===this._handler),this._handler=e}setConnectionState(e){this._connected=e,this.handler.setConnectionState(e)}process(e,t){this.handler.process(e,t)}submit(e){return this.submitFn(e)}dirty(){this.dirtyFn()}}},function(e,t,n){"use strict";class r{constructor(e,t,n){this.storage=t,this.extraBlobs=n,this.flattenedTree={},void 0!==e&&r.flattenTree("",e,this.flattenedTree)}static flattenTree(e,t,n){for(const i in t.trees)r.flattenTree(`${e}${i}/`,t.trees[i],n);for(const r in t.blobs)n[`${e}${r}`]=t.blobs[r]}contains(e){return void 0!==this.flattenedTree[e]}async read(e){var t,n;const r=this.getIdForPath(e);return null!==(n=null===(t=this.extraBlobs)||void 0===t?void 0:t.get(r))&&void 0!==n?n:this.storage.read(r)}getIdForPath(e){return this.flattenedTree[e]}}t.a=r},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2634));t.a=class{constructor(e,t,n,r,i,o,s,a){this.componentContext=i,this.storageService=o,this.submitFn=s,this.attached=!1;const c=t.get(n);if(void 0===c)throw new Error(`Channel Factory ${n} not registered`);this.channel=c.create(r,e),this.dirtyFn=(()=>{a(e)})}async getChannel(){return this.channel}isRegistered(){return this.channel.isRegistered()}setConnectionState(e,t){this.attached&&this.connection.setConnectionState(e)}processOp(e,t){r(this.attached),this.connection.process(e,t)}async snapshot(e=!1){return this.getAttachSnapshot()}getAttachSnapshot(){return Object(i.b)(this.channel)}attach(){if(this.attached)throw new Error("Channel is already attached");const e=Object(i.a)(this.channel.id,this.componentContext.connected,this.submitFn,this.dirtyFn,this.storageService);this.connection=e.deltaConnection,this.channel.connect(e),this.attached=!0}}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(2031)),o=n(2634),s=n(5122);t.a=class{constructor(e,t,n,r,i,s,a,c,u,l,h,d){this.runtime=e,this.componentContext=t,this.id=s,this.registry=c,this.branch=l,this.summaryTracker=h,this.attachMessageType=d,this.isLoaded=!1,this.pending=[],this.services=Object(o.a)(this.id,this.componentContext.connected,r,()=>i(this.id),n,a,u)}getChannel(){return void 0===this.channelP&&(this.channelP=this.loadChannel()),this.channelP}isRegistered(){return!0}setConnectionState(e,t){this.isLoaded&&this.services.deltaConnection.setConnectionState(e)}processOp(e,t){this.summaryTracker.updateLatestSequenceNumber(e.sequenceNumber),this.isLoaded?this.services.deltaConnection.process(e,t):(r(!t),this.pending.push(e))}async snapshot(e=!1){if(!e){const e=await this.summaryTracker.getId();if(void 0!==e)return{id:e,entries:[]}}const t=await this.getChannel();return Object(o.b)(t)}async loadChannel(){let e,t;if(r(!this.isLoaded),this.services.objectStorage.contains(".attributes")&&(e=await Object(i.readAndParse)(this.services.objectStorage,".attributes")),void 0===e){if(void 0===this.attachMessageType)throw new Error("Channel type not available");if(void 0===(t=this.registry.get(this.attachMessageType)))throw new Error(`Channel Factory ${this.attachMessageType} for attach not registered`);e=t.attributes}else if(void 0===(t=this.registry.get(e.type)))throw new Error(`Channel Factory ${e.type} not registered`);void 0!==e.snapshotFormatVersion&&e.snapshotFormatVersion!==t.attributes.snapshotFormatVersion&&Object(s.a)(`Snapshot version mismatch. Type: ${e.type}, `+`Snapshot format@pkg version: ${e.snapshotFormatVersion}@${e.packageVersion}, `+`client format@pkg version: ${t.attributes.snapshotFormatVersion}@${t.attributes.packageVersion}`),Object(s.a)(`Loading channel ${e.type}@${t.attributes.packageVersion}, snapshot format version: ${e.snapshotFormatVersion}`),this.channel=await t.load(this.runtime,this.id,this.services,this.branch,e);for(const n of this.pending)this.services.deltaConnection.process(n,!1);return this.pending=void 0,this.isLoaded=!0,this.services.deltaConnection.setConnectionState(this.componentContext.connected),this.channel}}},function(e,t,n){"use strict";var r=n(2012),i=(n.n(r),n(5123));const o=r("fluid:process-loader");t.a=o,o(`Package: ${i.a} - Version: ${i.b}`)},function(e,t,n){"use strict";t.a="@microsoft/fluid-component-runtime";t.b="0.18.4"},function(e,t,n){"use strict";t.a=class{constructor(e,t,n){this.value=e,this.path=t,this.routeContext=n,this.isHandleAttached=!1}get IComponentRouter(){return this}get IComponentHandleContext(){return this}get IComponentHandle(){return this}get isAttached(){return this.routeContext.isAttached}async get(){return this.value}attach(){if(!this.isHandleAttached){if(this.isHandleAttached=!0,void 0!==this.bound){for(const e of this.bound)e.attach();this.bound=void 0}this.routeContext.attach()}}bind(e){this.isAttached?e.attach():(void 0===this.bound&&(this.bound=new Set),this.bound.add(e))}async request(e){return void 0!==this.value.IComponentRouter?this.value.IComponentRouter.request(e):{status:404,mimeType:"text/plain",value:`${e.url} not found`}}}},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(137)),o=(n.n(i),n(5126)),s=n(2006),a=n(2031),c=n(2097),u=n(2001),l=n(5130),h=(n.n(l),n(2632)),d=n(2048),p=(n.n(d),n(5135)),f=n(5136),m=n(3174),g=n(5137),b=n(5138),v=n(3176),y=n(5139),S=n(3177),_=n(5140),w=n(3180),C=n(5141),k=n(3181),x=n(5142),O=n(3175);const I={idleTime:5e3,maxTime:6e4,maxOps:1e3,maxAckWaitTime:6e5};class T{constructor(e,t,n){this.deltaManager=e,this.emitter=t,this.logger=n,this.paused=!1,this.localPaused=!1,this.deltaScheduler=new k.a(this.deltaManager,s.ChildLogger.create(this.logger,"DeltaScheduler")),this.deltaManager.on("prepareSend",e=>{if(0===e.length)return;const t=e[0].metadata;if(!t||!t.batch)return;if(1===e.length)return void delete e[0].metadata;const n=e[e.length-1];n.metadata=Object.assign(Object.assign({},n.metadata),{batch:!1})}),this.deltaManager.inbound.on("push",e=>{this.trackPending(e),this.updatePauseState(e.sequenceNumber)});const r=this.deltaManager.inbound.toArray();for(const i of r)this.trackPending(i);this.updatePauseState(this.deltaManager.referenceSequenceNumber)}beginOperation(e){var t,n;if(this.batchClientId!==e.clientId){this.batchClientId&&(this.emitter.emit("batchEnd","Did not receive real batchEnd message",void 0),this.deltaScheduler.batchEnd(),this.logger.sendTelemetryEvent({eventName:"BatchEndNotReceived",clientId:this.batchClientId,sequenceNumber:e.sequenceNumber})),this.emitter.emit("batchBegin",e),this.deltaScheduler.batchBegin();const r=null===(n=null===(t=e)||void 0===t?void 0:t.metadata)||void 0===n?void 0:n.batch;this.batchClientId=r?e.clientId:void 0}}endOperation(e,t){var n,r;if(e)return this.batchClientId=void 0,this.emitter.emit("batchEnd",e,t),void this.deltaScheduler.batchEnd();this.updatePauseState(t.sequenceNumber);const i=null===(r=null===(n=t)||void 0===n?void 0:n.metadata)||void 0===r?void 0:r.batch;return this.batchClientId&&!1!==i?void 0:(this.batchClientId=void 0,this.emitter.emit("batchEnd",void 0,t),void this.deltaScheduler.batchEnd())}pause(){return this.paused=!0,this.deltaManager.inbound.systemPause()}resume(){this.paused=!1,this.localPaused||this.deltaManager.inbound.systemResume()}setPaused(e){this.localPaused!==e&&(this.localPaused=e,e||this.paused?this.deltaManager.inbound.systemPause():this.deltaManager.inbound.systemResume())}updatePauseState(e){0!==this.deltaManager.inbound.length&&(!this.pauseSequenceNumber||e+1<this.pauseSequenceNumber)?this.setPaused(!1):this.setPaused(!0)}trackPending(e){const t=e.metadata;if(!function(e){switch(e.type){case u.MessageType.ChunkedOp:case u.MessageType.Attach:case u.MessageType.Operation:return!0;default:return!1}}(e))return this.pauseSequenceNumber=void 0,void(this.pauseClientId=void 0);const n=t?t.batch:void 0;this.pauseClientId===e.clientId?void 0!==n&&(this.pauseSequenceNumber=n?e.sequenceNumber:void 0,this.pauseClientId=n?this.pauseClientId:void 0):(this.pauseSequenceNumber=n?e.sequenceNumber:void 0,this.pauseClientId=n?e.clientId:void 0)}}const E="_scheduler",N=async(e,t)=>{if(e.pathParts.length>0&&e.pathParts[0]===E)return Object(v.a)(e,t)};class M extends m.a{constructor(e){super([...e,[E,Promise.resolve(new o.a)]])}}class P extends i.EventEmitter{constructor(e,t,n,r={generateSummaries:!0,enableWorker:!1},i){var o;super(),this.context=e,this.registry=t,this.chunks=n,this.runtimeOptions=r,this.containerScope=i,this.isExperimentalRuntime=!0,this.isExperimentalContainerRuntime=!0,this.IComponentSerializer=new h.a,this.tasks=[],this._flushMode=l.FlushMode.Automatic,this.needsFlush=!1,this.flushTrigger=!1,this._leader=!1,this._disposed=!1,this.pendingAttach=new Map,this.dirtyDocument=!1,this.requestHandler=new y.a,this.contexts=new Map,this.contextsDeferred=new Map,this.chunkMap=new Map(n),this.IComponentHandleContext=new f.a("",this);const a=!!this.isLocal()||void 0!==this.storage.uploadSummaryWithContext;this.latestSummaryAck={proposalHandle:void 0,ackHandle:null===(o=this.context.getLoadedFromVersion())||void 0===o?void 0:o.id},this.summaryTracker=new h.c(a,"",this.deltaManager.initialSequenceNumber,this.deltaManager.initialSequenceNumber,async()=>void 0),this.summaryTreeConverter=new w.a(a);const d=new Map;if(e.baseSnapshot){const t=e.baseSnapshot;Object.keys(t.trees).forEach(e=>{if(".protocol"!==e){const n=t.trees[e];d.set(e,n)}})}for(const[c,u]of d){const e=new p.b(c,u,this,this.storage,this.containerScope,this.summaryTracker.createOrGetChild(c,this.summaryTracker.referenceSequenceNumber)),t=new s.Deferred;t.resolve(e),this.contexts.set(c,e),this.contextsDeferred.set(c,t)}this.logger=s.ChildLogger.create(e.logger,void 0,{runtimeVersion:O.b}),this.scheduleManager=new T(e.deltaManager,this,s.ChildLogger.create(this.logger,"ScheduleManager")),this.deltaSender=this.deltaManager,this.deltaManager.on("allSentOpsAckd",()=>{this.connected&&this.updateDocumentDirtyState(!1)}),this.deltaManager.on("submitOp",e=>{Object(c.isSystemType)(e.type)||e.type===u.MessageType.NoOp||(this.logger.debugAssert(this.connected,{eventName:"submitOp in disconnected state"}),this.updateDocumentDirtyState(!0))}),this.context.quorum.on("removeMember",e=>{this.clearPartialChunks(e)}),void 0===this.context.previousRuntimeState||void 0===this.context.previousRuntimeState.state?this.previousState={}:this.previousState=this.context.previousRuntimeState.state,this.summarizer=new S.a("/_summarizer",this,()=>this.summaryConfiguration,async(e,t)=>this.generateSummary(e,t),async(e,t)=>this.refreshLatestSummaryAck(e,t),this.previousState.summaryCollection),this.summaryManager=new _.a(e,!1!==this.runtimeOptions.generateSummaries,!!this.runtimeOptions.enableWorker,this.logger,e=>{this.nextSummarizerP=e},this.previousState.nextSummarizerP,!!this.previousState.reload),this.context.connected&&this.summaryManager.setConnected(this.context.clientId),Object(x.a)(this.context.clientId,this.deltaManager,this.logger)}get IContainerRuntime(){return this}static async load(e,t,n=[],r,i=e.scope){var o;const s=new M(t),c=null===(o=e.baseSnapshot)||void 0===o?void 0:o.blobs[".chunks"],u=c?await Object(a.readAndParse)(e.storage,c):[],l=new P(e,s,u,r,i);return l.requestHandler.pushHandler(Object(v.b)(l.summarizer),N,...n),e.existing||await l.createComponent(E,E).then(e=>{e.attach()}),l.subscribeToLeadership(),l}get id(){return this.context.id}get parentBranch(){return this.context.parentBranch}get existing(){return this.context.existing}get options(){return this.context.options}get clientId(){return this.context.clientId}get clientDetails(){return this.context.clientDetails}get blobManager(){return this.context.blobManager}get deltaManager(){return this.context.deltaManager}get storage(){return this.context.storage}get branch(){return this.context.branch}get submitFn(){return this.submit}get submitSignalFn(){return this.context.submitSignalFn}get snapshotFn(){return this.context.snapshotFn}get closeFn(){return this.context.closeFn}get loader(){return this.context.loader}get flushMode(){return this._flushMode}get scope(){return this.containerScope}get IComponentRegistry(){return this.registry}isLocal(){return this.context.isLocal()}get connected(){return this.context.connected}get leader(){return this._leader}get summarizerClientId(){return this.summaryManager.summarizer}get summaryConfiguration(){return this.context.serviceConfiguration?Object.assign(Object.assign({},I),this.context.serviceConfiguration.summary):I}get disposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0,this.summaryManager.dispose(),this.summarizer.dispose();for(const[e,t]of this.contextsDeferred)t.promise.then(e=>{e.dispose()}).catch(t=>{this.logger.sendErrorEvent({eventName:"ComponentContextDisposeError",componentId:e},t)});this.emit("dispose"),this.removeAllListeners()}}get IComponentTokenProvider(){if(this.options&&this.options.intelligence)return{intelligence:this.options.intelligence}}get IComponentConfiguration(){return this.context.configuration}async request(e){return this.requestHandler.handleRequest(e,this)}async snapshot(e,t=!1){const n=Array.from(this.contexts).map(async([e,n])=>{return{componentId:e,snapshot:await n.snapshot(t)}}),r={entries:[],id:null},i=await Promise.all(n);t&&i.sort((e,t)=>e.componentId.localeCompare(t.componentId));for(const o of i)r.entries.push(new c.TreeTreeEntry(o.componentId,o.snapshot));return this.chunkMap.size>0&&r.entries.push(new c.BlobTreeEntry(".chunks",JSON.stringify([...this.chunkMap]))),r}async requestSnapshot(e){return this.context.requestSnapshot(e)}async stop(){this.verifyNotClosed();const e=await this.snapshot("",!0),t={reload:!0,summaryCollection:this.summarizer.summaryCollection,nextSummarizerP:this.nextSummarizerP,nextSummarizerD:this.nextSummarizerD};return this.dispose(),{snapshot:e,state:t}}changeConnectionState(e,t){e!==u.ConnectionState.Connecting&&this.setConnectionState(e===u.ConnectionState.Connected,t)}setConnectionState(e,t){if(this.verifyNotClosed(),r(this.connected===e),e){this.updateDocumentDirtyState(!1);for(const[,e]of this.pendingAttach)this.submit(u.MessageType.Attach,e)}for(const[r,i]of this.contexts)try{i.setConnectionState(e,t)}catch(n){this.logger.sendErrorEvent({eventName:"ChangeConnectionStateError",clientId:t,component:r},n)}Object(s.raiseConnectedEvent)(this.logger,this,e,t),e?(r(t),this.summaryManager.setConnected(t)):(r(!this._leader),this.summaryManager.setDisconnected())}process(e,t){let n;this.verifyNotClosed(),this.scheduleManager.beginOperation(e);try{this.processCore(e,t)}catch(r){throw n=r,r}finally{this.scheduleManager.endOperation(n,e)}}processSignal(e,t){const n=e.content,i=n.contents,o={clientId:e.clientId,content:i.content,type:i.type};if(void 0===n.address)return void this.emit("signal",o,t);const s=this.contexts.get(n.address);if(!s)return r(!t),void this.logger.sendTelemetryEvent({eventName:"SignalComponentNotFound",componentId:n.address});s.processSignal(o,t)}async getComponentRuntime(e,t=!0){const n=this.ensureContextDeferred(e);return t||n.isCompleted?(await n.promise).realize():Promise.reject(`Process ${e} does not exist`)}notifyComponentInstantiated(e){const t=e.packagePath[e.packagePath.length-1],n=`/${e.packagePath.slice(0,e.packagePath.length-1).join("/")}`;this.emit("componentInstantiated",t,n,!e.existing)}setFlushMode(e){e!==this._flushMode&&(this.deltaSender||e!==l.FlushMode.Manual?(e===l.FlushMode.Automatic&&this.flush(),this._flushMode=e):Object(g.a)("DeltaManager does not yet support flush modes"))}flush(){if(this.deltaSender){if(this.needsFlush)return this.needsFlush=!1,this.deltaSender.flush()}else Object(g.a)("DeltaManager does not yet support flush modes")}orderSequentially(e){if(this.flushMode===l.FlushMode.Manual)e();else{const t=this.flushMode;this.setFlushMode(l.FlushMode.Manual);try{e()}finally{this.flush(),this.setFlushMode(t)}}}async createComponent(e,t){const n=void 0===t?Object(d.v4)():e,r=void 0===t?e:t;return this._createComponentWithProps(r,void 0,n)}async _createComponentWithProps(e,t,n){return this._createComponentContext(Array.isArray(e)?e:[e],t,n).realize()}createComponentContext(e,t){return this._createComponentContext(e,t)}_createComponentContext(e,t,n=Object(d.v4)()){this.verifyNotClosed(),r(!this.contexts.has(n),"Creating component with existing ID");const i=new p.a(n,e,this,this.storage,this.containerScope,this.summaryTracker.createOrGetChild(n,this.deltaManager.referenceSequenceNumber),e=>this.attachComponent(e),t),o=new s.Deferred;return this.contextsDeferred.set(n,o),this.contexts.set(n,i),i}async createComponentWithRealizationFn(e,t){this.verifyNotClosed();const n=Object(d.v4)(),r=new p.a(n,e,this,this.storage,this.containerScope,this.summaryTracker.createOrGetChild(n,this.deltaManager.referenceSequenceNumber),e=>this.attachComponent(e),void 0),i=new s.Deferred;return this.contextsDeferred.set(n,i),this.contexts.set(n,r),t?r.realizeWithFn(t):r.realize()}getQuorum(){return this.context.quorum}getAudience(){return this.context.audience}error(e){this.context.error(Object(a.createIError)(e))}registerTasks(e,t){this.verifyNotClosed(),this.tasks=e,this.version=t,this.leader&&this.runTaskAnalyzer()}on(e,t){return super.on(e,t)}notifyPendingMessages(){r(!this.connected),this.updateDocumentDirtyState(!0)}isDocumentDirty(){return this.dirtyDocument}submitSignal(e,t){this.verifyNotClosed();const n={address:void 0,contents:{type:e,content:t}};return this.context.submitSignalFn(n)}async summarize(e=!1){const t={tree:{},type:1};let n=w.a.mergeStats();return await Promise.all(Array.from(this.contexts).filter(([e,t])=>t.isAttached).map(async([r,i])=>{const o=await i.snapshot(e),s=this.summaryTreeConverter.convertToSummaryTree(o,`/${encodeURIComponent(r)}`,e);t.tree[r]=s.summaryTree,n=w.a.mergeStats(n,s.summaryStats)})),this.chunkMap.size>0&&(t.tree[".chunks"]={content:JSON.stringify([...this.chunkMap]),type:2}),n.treeNodeCount++,{summaryStats:n,summaryTree:t}}processCore(e,t){let n,i=e;switch(e.type===u.MessageType.ChunkedOp&&(i=this.processRemoteChunkedMessage(e)),i.type){case u.MessageType.Attach:{if(t)break;const e=i.contents,r=new Map;let o=null;e.snapshot&&(o=Object(c.buildSnapshotTree)(e.snapshot.entries,r)),n=new p.b(e.id,o,this,new b.a(this.storage,r),this.containerScope,this.summaryTracker.createOrGetChild(e.id,i.sequenceNumber),[e.type]);break}}switch(i.type){case u.MessageType.Operation:this.processOperation(i,t)}switch(this.emit("op",i),i.type){case u.MessageType.Attach:{const e=i.contents;if(t)r(this.pendingAttach.has(e.id)),this.pendingAttach.delete(e.id);else{r(!this.contexts.has(e.id),"Component attached with existing ID"),this.ensureContextDeferred(e.id).resolve(n),this.contexts.set(e.id,n),Promise.resolve().then(()=>n.realize())}break}}}attachComponent(e){this.verifyNotClosed();const t=this.getContext(e.id);if(!t.isAttached){if(!this.isLocal()){const n=t.generateAttachMessage();this.pendingAttach.set(e.id,n),this.connected&&this.submit(u.MessageType.Attach,n)}this.getContextDeferred(e.id).resolve(t)}}ensureContextDeferred(e){const t=this.contextsDeferred.get(e);if(t)return t;const n=new s.Deferred;return this.contextsDeferred.set(e,n),n}getContextDeferred(e){const t=this.contextsDeferred.get(e);return r(t),t}getContext(e){const t=this.contexts.get(e);return r(t),t}createSummary(){const e={tree:{},type:1};return Array.from(this.contexts).filter(([e,t])=>t.isAttached).map(async([t,n])=>{const r=n.generateAttachMessage().snapshot,i=this.summaryTreeConverter.convertToSummaryTree(r,`/${encodeURIComponent(t)}`,!0);e.tree[t]=i.summaryTree}),this.chunkMap.size>0&&(e.tree[".chunks"]={content:JSON.stringify([...this.chunkMap]),type:2}),e}async generateSummary(e=!1,t=!1){const n=`Summary @${this.deltaManager.referenceSequenceNumber}:${this.deltaManager.minimumSequenceNumber}`;if(this.parentBranch)this.logger.sendTelemetryEvent({eventName:"SkipGenerateSummaryParentBranch",parentBranch:this.parentBranch});else try{await this.scheduleManager.pause();const r={referenceSequenceNumber:this.deltaManager.referenceSequenceNumber,submitted:!1};if(!this.connected)return r;const i=s.Trace.start(),o=await this.summarize(e||t),a={summaryStats:o.summaryStats,generateDuration:i.trace().duration};if(!this.connected)return Object.assign(Object.assign({},r),a);let c;if(!0===this.summaryTracker.useContext)c=await this.storage.uploadSummaryWithContext(o.summaryTree,this.latestSummaryAck);else{c=(await this.storage.uploadSummary(o.summaryTree)).handle}if(t){const e=(await this.storage.getVersions(this.id,1)).map(e=>e.id);await this.refreshLatestSummaryAck({proposalHandle:void 0,ackHandle:e[0]},this.summaryTracker.referenceSequenceNumber)}const l=this.latestSummaryAck.ackHandle,h={handle:c,head:l,message:n,parents:l?[l]:[]},d={handle:c,uploadDuration:i.trace().duration};if(!this.connected)return Object.assign(Object.assign(Object.assign({},r),a),d);const p=this.submit(u.MessageType.Summarize,h);return Object.assign(Object.assign(Object.assign(Object.assign({},r),a),d),{submitted:!0,clientSequenceNumber:p,submitOpDuration:i.trace().duration})}finally{this.scheduleManager.resume()}}processRemoteChunkedMessage(e){const t=e.clientId,n=e.contents;if(this.addChunk(t,n),n.chunkId===n.totalChunks){const r=Object.assign({},e),i=this.chunkMap.get(t).join("");return r.contents=JSON.parse(i),r.type=n.originalType,this.clearPartialChunks(t),r}return e}addChunk(e,t){let n=this.chunkMap.get(e);void 0===n&&(n=[],this.chunkMap.set(e,n)),r(t.chunkId===n.length+1),n.push(t.contents)}clearPartialChunks(e){this.chunkMap.has(e)&&this.chunkMap.delete(e)}updateDocumentDirtyState(e){this.dirtyDocument!==e&&(this.dirtyDocument=e,this.emit(e?"dirtyDocument":"savedDocument"))}submit(e,t){this.verifyNotClosed(),this.connected||this.logger.sendErrorEvent({eventName:"submitInDisconnectedState",type:e});const n=JSON.stringify(t),r=this.context.deltaManager.maxMessageSize;let i,o=!1;return this.flushMode!==l.FlushMode.Manual||this.needsFlush||(o=!0,this.needsFlush=!0,this.flushTrigger||Promise.resolve().then(()=>{this.flushTrigger=!1,this.flush()})),i=n.length<=r?this.context.submitFn(e,t,this._flushMode===l.FlushMode.Manual,o?{batch:!0}:void 0):this.submitChunkedMessage(e,n,r)}submitChunkedMessage(e,t,n){const r=t.length,i=Math.floor((r-1)/n)+1;let o=0,s=0;for(let a=1;a<=i;a+=1){const r={chunkId:a,contents:t.substr(o,n),originalType:e,totalChunks:i};o+=n,s=this.context.submitFn(u.MessageType.ChunkedOp,r,!1)}return s}verifyNotClosed(){if(this._disposed)throw new Error("Runtime is closed")}processOperation(e,t){var n;const r=e.contents,i=this.getContext(r.address),o=r.contents,s={clientId:e.clientId,clientSequenceNumber:e.clientSequenceNumber,contents:o.content,metadata:e.metadata,minimumSequenceNumber:e.minimumSequenceNumber,origin:e.origin,referenceSequenceNumber:e.referenceSequenceNumber,sequenceNumber:e.sequenceNumber,timestamp:e.timestamp,term:(n=e.term,null!==n&&void 0!==n?n:1),traces:e.traces,type:o.type};i.process(s,t)}subscribeToLeadership(){this.context.clientDetails.capabilities.interactive&&(this.getScheduler().then(e=>{e.pick("leader",async()=>{r(!this._leader),this.updateLeader(!0)}),e.on("lost",e=>{"leader"===e&&(r(this._leader),this._leader=!1,this.updateLeader(!1))})}).catch(e=>{this.logger.sendErrorEvent({eventName:"ContainerRuntime_getScheduler"},e)}),this.context.quorum.on("removeMember",e=>{this.leader&&this.runTaskAnalyzer()}))}async getScheduler(){const e=await this.getComponentRuntime(E,!0);return(await e.request({url:""})).value.IAgentScheduler}updateLeader(e){this._leader=e,r(this.clientId),this.leader?(r(this.connected&&this.deltaManager&&this.deltaManager.active),this.emit("leader")):this.emit("notleader");for(const[,t]of this.contexts)t.updateLeader(this.leader);this.leader&&this.runTaskAnalyzer()}runTaskAnalyzer(){if(void 0===this.clientId)return void this.logger.sendErrorEvent({eventName:"runTasksAnalyzerWithoutClientId"});const e=Object(C.a)(this.clientId,this.getQuorum().getMembers(),this.tasks);if(e&&(e.browser.length>0||e.robot.length>0)){if(e.browser.length>0){const t={tasks:e.browser,version:this.version};Object(g.a)(`Requesting local help for ${e.browser}`),this.emit("localHelp",t)}if(e.robot.length>0){const t={tasks:e.robot,version:this.version};Object(g.a)(`Requesting remote help for ${e.robot}`),this.submit(u.MessageType.RemoteHelp,t)}}}async refreshLatestSummaryAck(e,t){if(t<this.summaryTracker.referenceSequenceNumber)return;const n=new s.LazyPromise(async()=>{var t;const n=await this.setOrLogError("FailedToGetVersion",async()=>this.storage.getVersions(e.ackHandle,1),e=>!(!e||!e.length));if(n.success){const e=await this.setOrLogError("FailedToGetSnapshot",async()=>this.storage.getSnapshotTree(n.result[0]),e=>!!e);if(e.success)return null!==(t=e.result)&&void 0!==t?t:void 0}});this.latestSummaryAck=e,await this.summaryTracker.refreshLatestSummary(t,async()=>n)}async setOrLogError(e,t,n){let r;try{r=await t()}catch(o){return this.logger.sendErrorEvent({eventName:e},o),{result:void 0,success:!1}}const i=n(r);return i||this.logger.sendErrorEvent({eventName:e}),{result:r,success:i}}}t.a=P},function(e,t,n){"use strict";var r=n(5127);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(137)),o=(n.n(i),n(2633)),s=n(2370),a=n(2116),c=n(5128),u=n(2012),l=(n.n(u),n(2048));n.n(l);const h=`${Object(l.v4)()}_unattached`;class d extends i.EventEmitter{constructor(e,t,n){super(),this.runtime=e,this.context=t,this.scheduler=n,this.url="_tasks",this.registeredTasks=new Set,this.locallyRunnableTasks=new Map,this.runningTasks=new Set}static async load(e,t){let n,r;if(e.existing){n=await e.getChannel("root");const t=await n.wait("scheduler");r=await t.get()}else(n=a.SharedMap.create(e,"root")).register(),(r=c.a.create(e)).register(),n.set("scheduler",r.handle);const i=new d(e,t,r);return i.initialize(),i}get IComponentLoadable(){return this}get IAgentScheduler(){return this}get IComponentRouter(){return this}get clientId(){if(!this.runtime.isAttached)return h;const e=this.runtime.clientId;return r(e),e}async request(e){return{mimeType:"fluid/component",status:200,value:this}}async register(...e){for(const n of e)if(this.registeredTasks.has(n))return Promise.reject(`${n} is already registered`);const t=[];for(const n of e){this.registeredTasks.add(n),void 0===this.getTaskClientId(n)&&t.push(n)}return this.registerCore(t)}async pick(e,t){if(this.locallyRunnableTasks.has(e))return Promise.reject(`${e} is already attempted`);if(this.locallyRunnableTasks.set(e,t),r(this.context.deltaManager.clientDetails.capabilities.interactive),this.isActive()){const t=this.getTaskClientId(e);void 0!==t&&null!==t||(u(`Requesting ${e}`),await this.writeCore(e,this.clientId))}}async release(...e){const t=this.isActive();for(const n of e){if(!this.locallyRunnableTasks.has(n))return Promise.reject(`${n} was never registered`);if(r(t),this.getTaskClientId(n)!==this.clientId)return Promise.reject(`${n} was never picked`)}return this.releaseCore([...e])}pickedTasks(){return Array.from(this.runningTasks.values())}async registerCore(e){if(e.length>0){const t=[];for(const n of e)u(`Registering ${n}`),t.push(this.writeCore(n,null));await Promise.all(t);for(const n of e){const e=this.getTaskClientId(n);r(void 0!==e,"Unsuccessful registration"),u(null===e?`Registered ${n}`:`${e} is running ${n}`)}}}async releaseCore(e){if(e.length>0){const t=[];for(const n of e)u(`Releasing ${n}`),this.locallyRunnableTasks.delete(n),t.push(this.writeCore(n,null));await Promise.all(t)}}async clearTasks(e){r(this.isActive());const t=[];for(const n of e)u(`Clearing ${n}`),t.push(this.writeCore(n,null));await Promise.all(t)}getTaskClientId(e){return this.scheduler.read(e)}async writeCore(e,t){return this.scheduler.write(e,t)}initialize(){this.runtime.getQuorum().on("removeMember",async e=>{if(r(this.runtime.isAttached),this.isActive()){const t=[];for(const n of this.scheduler.keys())this.getTaskClientId(n)===e&&t.push(n);await this.clearTasks(t)}}),this.scheduler.on("atomicChanged",async(e,t)=>{this.isActive()&&t===this.clientId?this.onNewTaskAssigned(e):await this.onTaskReasigned(e,t)}),this.isActive()&&this.initializeCore(),this.runtime.on("connected",()=>{this.isActive()&&this.initializeCore()}),this.runtime.isAttached||this.runtime.waitAttached().then(()=>{this.clearRunningTasks()}).catch(e=>{this.sendErrorEvent("AgentScheduler_clearRunningTasks",e)}),this.runtime.on("disconnected",()=>{this.runtime.isAttached&&this.clearRunningTasks()})}onNewTaskAssigned(e){r(!this.runningTasks.has(e),"task is already running"),this.runningTasks.add(e);const t=this.locallyRunnableTasks.get(e);void 0===t?this.sendErrorEvent("AgentScheduler_UnwantedChange",void 0,e):(this.emit("picked",e),t().catch(t=>{this.sendErrorEvent("AgentScheduler_FailedWork",t,e)}))}async onTaskReasigned(e,t){this.runningTasks.has(e)&&(this.runningTasks.delete(e),this.emit("released",e)),r(void 0!==t,"client is undefined"),this.isActive()&&(null===t?this.locallyRunnableTasks.has(e)&&(u(`Requesting ${e}`),await this.writeCore(e,this.clientId)):void 0===this.runtime.getQuorum().getMember(t)&&await this.writeCore(e,null))}isActive(){return!this.runtime.isAttached||!!this.runtime.connected&&this.context.deltaManager.active}initializeCore(){const e=[],t=[];for(const[n]of this.locallyRunnableTasks)this.getTaskClientId(n)||(u(`Requesting ${n}`),t.push(this.writeCore(n,this.clientId)));for(const n of this.scheduler.keys()){const t=this.getTaskClientId(n);t&&void 0===this.runtime.getQuorum().getMember(t)&&e.push(n)}t.push(this.clearTasks(e)),Promise.all(t).catch(e=>{this.sendErrorEvent("AgentScheduler_InitError",e)})}clearRunningTasks(){const e=this.runningTasks;this.runningTasks=new Set,this.isActive()&&this.initializeCore();for(const t of e)this.emit("lost",t)}sendErrorEvent(e,t,n){this.runtime.logger.sendErrorEvent({eventName:e,key:n},t)}}class p{constructor(e,t,n){this.scheduler=e,this.runtime=t,this.context=n,this.taskMap=new Map}static async load(e,t){const n=await d.load(e,t);return new p(n,e,t)}get IAgentScheduler(){return this.scheduler}get IComponentLoadable(){return this}get IComponentRouter(){return this}get ITaskManager(){return this}get url(){return this.scheduler.url}async request(e){if(""===e.url||"/"===e.url)return{status:200,mimeType:"fluid/component",value:this};if(e.url.startsWith(this.url)){const t=e.url.substr(this.url.length),n=t.length>0&&t.startsWith("/")?t.substr(1):"";return""!==n&&this.taskMap.has(n)?{status:200,mimeType:"fluid/component",value:this.taskMap.get(n)}:{status:404,mimeType:"text/plain",value:`${e.url} not found`}}return{status:404,mimeType:"text/plain",value:`${e.url} not found`}}register(...e){for(const t of e)this.taskMap.set(t.id,t.instance)}async pick(e,t,n){if(this.context.deltaManager.clientDetails.capabilities.interactive){const r=`${e.startsWith("/")?e:`/${e}`}/${this.url}/${t}`;return this.scheduler.pick(r,async()=>this.runTask(r,void 0!==n&&n))}return Promise.reject("Picking not allowed on secondary copy")}async runTask(e,t){const n={headers:{[s.a.cache]:!1,[s.a.clientDetails]:{capabilities:{interactive:!1},type:"agent"},[s.a.reconnect]:!1,[s.a.sequenceNumber]:this.context.deltaManager.referenceSequenceNumber,[s.a.executionContext]:t?"worker":void 0},url:e},r=await this.runtime.loader.request(n);if(200!==r.status||"fluid/component"!==r.mimeType)return Promise.reject(`Invalid agent route: ${e}`);const i=r.value.IComponentRunnable;return void 0===i?Promise.reject("Component does not implement IComponentRunnable"):i.run()}}class f{constructor(){this.type=f.type}get IComponentFactory(){return this}instantiateComponent(e){const t=a.SharedMap.getFactory(),n=c.a.getFactory(),r=new Map;r.set(t.type,t),r.set(n.type,n);const i=o.b.load(e,r),s=p.load(i,e);i.registerRequestHandler(async e=>{return(await s).request(e)})}}t.a=f,f.type="_scheduler"},function(e,t,n){"use strict";var r=n(3170);n.d(t,"a",function(){return r.a});n(3171),n(3173)},function(e,t,n){"use strict";var r=n(2012),i=(n.n(r),n(3172));const o=r("fluid:consensus-register-collection");t.a=o,o(`Package: ${i.a} - Version: ${i.b}`)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(5131)),r(n(5132)),r(n(5133)),r(n(5134))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITaskManager="ITaskManager",t.IAgentScheduler="IAgentScheduler"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IComponentFactory="IComponentFactory"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IComponentRegistry="IComponentRegistry"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Automatic=0]="Automatic",e[e.Manual=1]="Manual"}(t.FlushMode||(t.FlushMode={}))},function(e,t,n){"use strict";var r=n(1994),i=(n.n(r),n(137)),o=(n.n(i),n(2006)),s=n(2031),a=n(2097),c=n(2001),u=n(2048);n.n(u);const l="0.1";class h extends i{constructor(e,t,n,r,i,o,s,a,c){super(),this._containerRuntime=e,this.id=t,this.existing=n,this.storage=r,this.scope=i,this.summaryTracker=o,this._isAttached=s,this.pkg=c,this.isExperimentalComponentContext=!0,this._disposed=!1,this.loaded=!1,this.pending=[],this.attach=(e=>{a(e),this._isAttached=!0})}isLocal(){return this.containerRuntime.isLocal()||!this.isAttached}get documentId(){return this._containerRuntime.id}get packagePath(){return r(this.loaded),this.pkg}get parentBranch(){return this._containerRuntime.parentBranch}get options(){return this._containerRuntime.options}get clientId(){return this._containerRuntime.clientId}get blobManager(){return this._containerRuntime.blobManager}get deltaManager(){return this._containerRuntime.deltaManager}get connected(){return this._containerRuntime.connected}get leader(){return this._containerRuntime.leader}get connectionState(){return this.connected?c.ConnectionState.Connected:c.ConnectionState.Disconnected}get submitFn(){return this._containerRuntime.submitFn}get submitSignalFn(){return this._containerRuntime.submitSignalFn}get snapshotFn(){return this._containerRuntime.snapshotFn}get branch(){return this._containerRuntime.branch}get loader(){return this._containerRuntime.loader}get containerRuntime(){return this._containerRuntime}get hostRuntime(){return this._containerRuntime}get baseSnapshot(){return this._baseSnapshot}get disposed(){return this._disposed}get isAttached(){return this._isAttached}dispose(){this._disposed||(this._disposed=!0,this.componentRuntimeDeferred&&this.componentRuntimeDeferred.promise.then(e=>{e.dispose()}).catch(e=>{this._containerRuntime.logger.sendErrorEvent({eventName:"ComponentRuntimeDisposeError",componentId:this.id},e)}))}async createComponent(e,t,n){const i=null!==t&&void 0!==t?t:e;r(i);const o=t&&null!==e&&void 0!==e?e:Object(u.v4)(),s=await this.composeSubpackagePath(i);return this.containerRuntime._createComponentWithProps(s,n,o)}async createComponentWithRealizationFn(e,t){const n=await this.composeSubpackagePath(e),r=await this.containerRuntime.createComponentWithRealizationFn(n,t),i=await r.request({url:"/"});if(200!==i.status||"fluid/component"!==i.mimeType)throw new Error("Failed to create component");return i.value}async rejectDeferredRealize(e){const t=new Error(e);t.containsPII=!0;const n=this.componentRuntimeDeferred;return n.reject(t),n.promise}async realize(){if(!this.componentRuntimeDeferred){this.componentRuntimeDeferred=new o.Deferred;const e=await this.getInitialSnapshotDetails();this._baseSnapshot=e.snapshot;const t=e.pkg;let n,r,i,s=this._containerRuntime.IComponentRegistry;for(const o of t){if(!s)return this.rejectDeferredRealize(`No registry for ${i} package`);if(i=o,!(n=await s.get(o)))return this.rejectDeferredRealize(`Registry does not contain entry for the package ${o}`);r=n.IComponentFactory,s=n.IComponentRegistry}if(void 0===r)return this.rejectDeferredRealize(`Can't find factory for ${i} package`);r.instantiateComponent(this)}return this.componentRuntimeDeferred.promise}async realizeWithFn(e){return this.componentRuntimeDeferred||(this.componentRuntimeDeferred=new o.Deferred,e(this)),this.componentRuntimeDeferred.promise}setConnectionState(e,t){if(this.verifyNotClosed(),!this.loaded)return;r(this.connected===e);const n=this.componentRuntime;n.setConnectionState?n.setConnectionState(e,t):n.changeConnectionState?n.changeConnectionState(this.connectionState,t):r(!1)}process(e,t){if(this.verifyNotClosed(),this.summaryTracker.updateLatestSequenceNumber(e.sequenceNumber),this.loaded)return this.componentRuntime.process(e,t);r(!t,"local component is not loaded"),this.pending.push(e)}processSignal(e,t){this.verifyNotClosed(),this.loaded&&this.componentRuntime.processSignal(e,t)}getQuorum(){return this._containerRuntime.getQuorum()}getAudience(){return this._containerRuntime.getAudience()}async getBlobMetadata(){return this.blobManager.getBlobMetadata()}async snapshot(e=!1){if(!e){const e=await this.summaryTracker.getId();if(void 0!==e)return{id:e,entries:[]}}const{pkg:t}=await this.getInitialSnapshotDetails(),n={pkg:JSON.stringify(t),snapshotFormatVersion:l};await this.realize();const r=await this.componentRuntime.snapshotInternal(e);return r.push(new a.BlobTreeEntry(".component",JSON.stringify(n))),{entries:r,id:null}}async request(e){return(await this.realize()).request(e)}submitMessage(e,t){return this.verifyNotClosed(),r(this.componentRuntime),this.submitOp(e,t)}setChannelDirty(e){this.verifyNotClosed();const t=this.deltaManager.referenceSequenceNumber;this.summaryTracker.updateLatestSequenceNumber(t);const n=this.summaryTracker.getChild(e);n&&n.updateLatestSequenceNumber(t)}submitSignal(e,t){this.verifyNotClosed(),r(this.componentRuntime);const n={address:this.id,contents:{content:t,type:e}};return this._containerRuntime.submitSignalFn(n)}error(e){this.containerRuntime.error(e)}updateLeader(e){this.loaded&&(e?this.emit("leader"):this.emit("notleader"))}bindRuntime(e){if(this.componentRuntime)throw new Error("runtime already bound");this.componentRuntimeDeferred||(this.componentRuntimeDeferred=new o.Deferred);const t=this.pending;if(t.length>0)for(const n of t)e.process(n,!1);this.pending=void 0,this.loaded=!0,this.componentRuntime=e,Object.freeze(this.pkg),this.componentRuntimeDeferred.resolve(this.componentRuntime),this.containerRuntime.notifyComponentInstantiated(this)}async composeSubpackagePath(e){var t,n;let r=[...(await this.getInitialSnapshotDetails()).pkg];if(r.length>0&&e===r[r.length-1])return r;if(await(null===(n=null===(t=this.componentRuntime)||void 0===t?void 0:t.IComponentRegistry)||void 0===n?void 0:n.get(e)))r.push(e);else{if(!await this._containerRuntime.IComponentRegistry.get(e))throw new Error(`Registry does not contain entry for package '${e}'`);r=[e]}return r}submitOp(e,t){this.verifyNotClosed();const n={address:this.id,contents:{content:t,type:e}};return this._containerRuntime.submitFn(c.MessageType.Operation,n)}verifyNotClosed(){if(this._disposed)throw new Error("Context is closed")}}t.b=class extends h{constructor(e,t,n,r,i,o,s){super(n,e,!0,r,i,o,!0,()=>{throw new Error("Already attached")},s),this.initSnapshotValue=t}generateAttachMessage(){throw new Error("Cannot attach remote component")}async getInitialSnapshotDetails(){if(!this.details){let e;if("string"===typeof this.initSnapshotValue){const t=(await this.storage.getVersions(this.initSnapshotValue,1))[0];e=await this.storage.getSnapshotTree(t)}else e=this.initSnapshotValue;if(null!==e&&void 0!==e.blobs[".component"]){const{pkg:t,snapshotFormatVersion:n}=await Object(s.readAndParse)(this.storage,e.blobs[".component"]);let r;if(void 0===n)r=t.startsWith('["')&&t.endsWith('"]')?JSON.parse(t):[t];else{if(n!==l)throw new Error(`Invalid snapshot format version ${n}`);r=JSON.parse(t)}this.pkg=r}this.details={pkg:this.pkg,snapshot:null!==e&&void 0!==e?e:void 0}}return this.details}};t.a=class extends h{constructor(e,t,n,r,i,o,s,a){super(n,e,!1,r,i,o,!1,s,t),this.createProps=a}generateAttachMessage(){const e={pkg:JSON.stringify(this.pkg),snapshotFormatVersion:l},t={entries:this.componentRuntime.getAttachSnapshot(),id:null};return t.entries.push(new a.BlobTreeEntry(".component",JSON.stringify(e))),{id:this.id,snapshot:t,type:this.pkg[this.pkg.length-1]}}async getInitialSnapshotDetails(){return{pkg:this.pkg,snapshot:void 0}}}},function(e,t,n){"use strict";t.a=class{constructor(e,t,n){this.path=e,this.runtime=t,this.routeContext=n,this.isAttached=!0}get IComponentRouter(){return this}get IComponentHandleContext(){return this}attach(){}bind(e){if(!this.isAttached)throw new Error("Cannot bind to an attached handle");e.attach()}async request(e){return this.runtime.request(e)}}},function(e,t,n){"use strict";var r=n(2012),i=(n.n(r),n(3175));const o=r("fluid:process-loader");t.a=o,o(`Package: ${i.a} - Version: ${i.b}`)},function(e,t,n){"use strict";var r=n(2031);t.a=class extends r.DocumentStorageServiceProxy{constructor(e,t){super(e),this.blobs=t}async read(e){const t=this.blobs.get(e);return void 0!==t?t:this.internalStorageService.read(e)}}},function(e,t,n){"use strict";var r=n(2636);t.a=class{constructor(){this.handlers=[]}pushHandler(...e){void 0!==e&&this.handlers.push(...e)}async handleRequest(e,t){const n=new r.a(e);for(const r of this.handlers){const e=await r(n,t);if(void 0!==e)return e}return{status:404,mimeType:"text/plain",value:`${e.url} not found`}}}},function(e,t,n){"use strict";var r,i=n(137),o=(n.n(i),n(2006)),s=n(2370),a=n(2031);class c{constructor(){this.min={clientId:"",sequenceNumber:-1,isSummarizer:!1}}compare(e,t){return e.sequenceNumber-t.sequenceNumber}}class u{constructor(){this.heap=new o.Heap(new c),this.heapMembers=new Map,this.summarizerCount=0}addClient(e,t){var n;const r="summarizer"===(null===(n=t.client.details)||void 0===n?void 0:n.type),i=this.heap.add({clientId:e,sequenceNumber:t.sequenceNumber,isSummarizer:r});this.heapMembers.set(e,i),r&&this.summarizerCount++}removeClient(e){const t=this.heapMembers.get(e);t&&(this.heap.remove(t),this.heapMembers.delete(e),t.value.isSummarizer&&this.summarizerCount--)}getFirstClientId(){return this.heap.count()>0?this.heap.peek().value.clientId:void 0}getSummarizerCount(){return this.summarizerCount}}!function(e){e[e.Off=0]="Off",e[e.Starting=1]="Starting",e[e.Running=2]="Running",e[e.Stopping=3]="Stopping",e[e.Disabled=-1]="Disabled"}(r||(r={}));const l=5e3,h=4e3,d=6e4,p=3e4,f=e=>20*(Math.pow(2,e)-1);class m{constructor(e,t,n){this.delayWindowMs=e,this.maxDelayMs=t,this.delayFunction=n,this.startTimes=[]}get attempts(){return this.startTimes.length}getDelay(){const e=Date.now();this.startTimes=this.startTimes.filter(t=>e-t<this.delayWindowMs);const t=Math.min(this.delayFunction(this.startTimes.length),this.maxDelayMs);return this.startTimes.push(e),this.startTimes=this.startTimes.map(e=>e+t),t===this.maxDelayMs&&this.startTimes.shift(),t}}t.a=class extends i.EventEmitter{constructor(e,t,n,i,s,a,c=!1,h=l){var g,b;super(),this.context=e,this.summariesEnabled=t,this.enableWorker=n,this.setNextSummarizer=s,this.nextSummarizerP=a,this.quorumHeap=new u,this.connected=!1,this.state=r.Off,this._disposed=!1,this.startThrottler=new m(d,p,f),this.opsUntilFirstConnect=-1,this.logger=o.ChildLogger.create(i,"SummaryManager",void 0,{clientId:()=>this.latestClientId}),this.connected=e.connected,this.connected&&this.setClientId(e.clientId);const v=e.quorum.getMembers();for(const[r,o]of v)this.quorumHeap.addClient(r,o);e.quorum.on("addMember",(e,t)=>{-1===this.opsUntilFirstConnect&&e===this.clientId&&(this.opsUntilFirstConnect=t.sequenceNumber-this.context.deltaManager.initialSequenceNumber),this.quorumHeap.addClient(e,t),this.refreshSummarizer()}),e.quorum.on("removeMember",e=>{this.quorumHeap.removeClient(e),this.refreshSummarizer()}),this.initialDelayTimer=c?void 0:new o.PromiseTimer(h,()=>{}),this.initialDelayP=null!==(b=null===(g=this.initialDelayTimer)||void 0===g?void 0:g.start().catch(()=>{}))&&void 0!==b?b:Promise.resolve(),this.refreshSummarizer()}get summarizer(){return this.summarizerClientId}get disposed(){return this._disposed}setConnected(e){this.updateConnected(!0,e)}setDisconnected(){this.updateConnected(!1)}setClientId(e){this.clientId=e,void 0!==e&&(this.latestClientId=e,void 0!==this.runningSummarizer&&this.runningSummarizer.updateOnBehalfOf(e))}on(e,t){return super.on(e,t)}updateConnected(e,t){this.connected!==e&&(this.connected=e,this.setClientId(t),this.refreshSummarizer())}getShouldSummarizeState(){return this.connected?this.clientId!==this.summarizer?{shouldSummarize:!1,stopReason:"parentShouldNotSummarize"}:this.disposed?{shouldSummarize:!1,stopReason:"disposed"}:void 0!==this.nextSummarizerP?{shouldSummarize:!0,shouldStart:!0}:this.quorumHeap.getSummarizerCount()>0?{shouldSummarize:!0,shouldStart:!1}:{shouldSummarize:!0,shouldStart:!0}:{shouldSummarize:!1,stopReason:"parentNotConnected"}}refreshSummarizer(){const e=this.quorumHeap.getFirstClientId();e!==this.summarizerClientId&&(this.summarizerClientId=e,this.emit("summarizer",e));const t=this.getShouldSummarizeState();switch(this.state){case r.Off:return void(t.shouldSummarize&&t.shouldStart&&this.start());case r.Starting:return;case r.Running:return void(!1===t.shouldSummarize&&this.stop(t.stopReason));case r.Stopping:case r.Disabled:default:return}}start(){if(!this.summariesEnabled)return this.logger.sendTelemetryEvent({eventName:"SummariesDisabled"}),void(this.state=r.Disabled);if("summarizer"===this.context.clientDetails.type)return void(this.state=r.Disabled);this.state=r.Starting;const e=this.startThrottler.getDelay();e>=p&&this.context.error(Object(a.createSummarizingError)("SummaryManager: CreateSummarizer Max Throttle Delay")),this.createSummarizer(e).then(e=>{this.setNextSummarizer(e.setSummarizer()),e.on("summarizingError",e=>this.context.error(e)),this.run(e)},e=>{this.logger.sendErrorEvent({eventName:"CreateSummarizerError",attempt:this.startThrottler.attempts},e),this.tryRestart()})}run(e){this.state=r.Running;const t=o.PerformanceEvent.start(this.logger,{eventName:"RunningSummarizer",attempt:this.startThrottler.attempts});this.runningSummarizer=e;const n=this.latestClientId;this.runningSummarizer.run(n).then(()=>{t.end()},e=>{t.cancel({},e)}).finally(()=>{this.runningSummarizer=void 0,this.nextSummarizerP=void 0,this.tryRestart()});const i=this.getShouldSummarizeState();!1===i.shouldSummarize&&this.stop(i.stopReason)}tryRestart(){const e=this.getShouldSummarizeState();e.shouldSummarize&&e.shouldStart?this.start():this.state=r.Off}stop(e){this.state=r.Stopping,this.runningSummarizer?this.runningSummarizer.stop(e):(this.logger.sendErrorEvent({eventName:"StopCalledWithoutRunningSummarizer",reason:e}),this.state=r.Off)}async createSummarizer(e){this.logger.sendTelemetryEvent({eventName:"CreatingSummarizer",delayMs:e,opsUntilFirstConnect:this.opsUntilFirstConnect});const t=e>0,n=this.opsUntilFirstConnect<h;if((t||n)&&await Promise.all([n?this.initialDelayP:Promise.resolve(),t?new Promise(t=>setTimeout(t,e)):Promise.resolve()]),this.nextSummarizerP)return this.nextSummarizerP;const r=this.context.loader,i={headers:{[s.a.cache]:!1,[s.a.clientDetails]:{capabilities:{interactive:!1},type:"summarizer"},[s.a.reconnect]:!1,[s.a.sequenceNumber]:this.context.deltaManager.referenceSequenceNumber,[s.a.executionContext]:this.enableWorker?"worker":void 0},url:"/_summarizer"},o=await r.request(i);if(200!==o.status||"fluid/component"!==o.mimeType)return Promise.reject("Invalid summarizer route");const a=o.value.ISummarizer;return a||Promise.reject("Component does not implement ISummarizer")}dispose(){var e;null===(e=this.initialDelayTimer)||void 0===e||e.clear(),this._disposed=!0}}},function(e,t,n){"use strict";t.a=function(e,t,n){const o=[...t].filter(e=>i(e[1])).map(e=>e[1].client.details.type),s=n.filter(e=>!o.includes(e));if(s.length>0){const n=t.get(e);Object(r.strict)(n);const i=n.client&&n.client.permission?n.client.permission:[],o=s.filter(e=>i&&i.includes(e)),a=s.filter(e=>i&&!i.includes(e));return{browser:o,robot:a}}};var r=n(1994);n.n(r);const i=e=>{var t,n,r,i;return!(null===(i=null===(r=null===(n=null===(t=e.client)||void 0===t?void 0:t.details)||void 0===n?void 0:n.capabilities)||void 0===r?void 0:r.interactive)||void 0===i||i)}},function(e,t,n){"use strict";t.a=function(e,t,n){new i(e,t,n)};var r=n(1994);n.n(r);class i{constructor(e,t,n){this.clientId=e,this.deltaManager=t,this.logger=n,this.pongCount=0,this.socketLatency=0,this.deltaManager.on("pong",e=>this.recordPingTime(e)),this.deltaManager.on("submitOp",e=>this.beforeOpSubmit(e)),this.deltaManager.on("beforeOpProcessing",e=>this.beforeProcessingOp(e)),this.deltaManager.on("connect",e=>{this.clientId=e.clientId,this.clientSequenceNumberForLatencyStatistics=void 0}),this.deltaManager.on("disconnect",e=>this.clientId=void 0)}recordPingTime(e){this.pongCount++,this.socketLatency+=e;100===this.pongCount&&(this.logger.sendTelemetryEvent({eventName:"DeltaLatency",value:this.socketLatency/100}),this.pongCount=0,this.socketLatency=0)}beforeOpSubmit(e){void 0===this.clientSequenceNumberForLatencyStatistics&&e.clientSequenceNumber%500===1&&(this.opSendTimeForLatencyStatistics=Date.now(),this.clientSequenceNumberForLatencyStatistics=e.clientSequenceNumber)}beforeProcessingOp(e){e.sequenceNumber%1e3===0&&(void 0!==this.opSendTimeForLatencyStatisticsForMsnStatistics&&this.logger.sendTelemetryEvent({eventName:"MsnStatistics",sequenceNumber:e.sequenceNumber,msnDistance:this.deltaManager.referenceSequenceNumber-this.deltaManager.minimumSequenceNumber,timeDelta:e.timestamp-this.opSendTimeForLatencyStatisticsForMsnStatistics}),this.opSendTimeForLatencyStatisticsForMsnStatistics=e.timestamp),this.clientId===e.clientId&&this.clientSequenceNumberForLatencyStatistics===e.clientSequenceNumber&&(r(this.opSendTimeForLatencyStatistics),this.logger.sendTelemetryEvent({eventName:"OpRoundtripTime",seqNumber:e.sequenceNumber,clientSequenceNumber:e.clientSequenceNumber,value:Date.now()-this.opSendTimeForLatencyStatistics}),this.clientSequenceNumberForLatencyStatistics=void 0)}}},function(e,t,n){"use strict";t.a=class{constructor(e){this.parent=e,this.providers=new Map}get IComponentDependencySynthesizer(){return this}get registeredTypes(){return this.providers.keys()}register(e,t){if(this.has(e))throw new Error(`Attempting to register a provider of type ${e} that already exists`);this.providers.set(e,t)}unregister(e){this.providers.has(e)&&this.providers.delete(e)}synthesize(e,t){const n=Object.values(e),r=Object.values(t);if(n===[]&&r===[])return{};const i=this.generateRequired(t),o=this.generateOptional(e);return Object.assign(Object.assign({},i),o)}has(...e){return e.every(e=>this.providers.has(e))}getProvider(e){const t=this.providers.get(e);return t||(this.parent?this.parent.getProvider(e):void 0)}generateRequired(e){const t=Object.values(e);return Object.assign({},...Array.from(t,e=>{const t=this.getProvider(e);if(!t)throw new Error(`Object attempted to be created without registered required provider ${e}`);return this.resolveProvider(t,e)}))}generateOptional(e){const t=Object.values(e);return Object.assign({},...Array.from(t,e=>{const t=this.getProvider(e);return t?this.resolveProvider(t,e):{get[e](){return Promise.resolve(void 0)}}}))}resolveProvider(e,t){if("function"===typeof e){const n=this;return{get[t](){if(e&&"function"===typeof e)return Promise.resolve(e(n)).then(e=>{if(e)return e[t]})}}}return{get[t](){if(e)return Promise.resolve(e).then(e=>{if(e)return e[t]})}}}}},function(e,t,n){"use strict"},function(e,t,n){"use strict";var r=n(3183);n.d(t,"a",function(){return r.a});var i=n(5146);n.d(t,"b",function(){return i.a});var o=n(3184);n.d(t,"c",function(){return o.a})},function(e,t,n){"use strict";var r=n(2116),i=n(2048),o=(n.n(i),n(3183)),s=n(3184);t.a=class extends s.a{constructor(){super(...arguments),this.rootDirectoryId="root",this.bigBlobs="bigBlobs/"}async request(e){const t=e.url;if(this.internalTaskManager&&t.startsWith(this.taskManager.url))return this.internalTaskManager.request(e);if(t.startsWith(this.bigBlobs)){const e=this.root.get(t);return void 0===e?{mimeType:"fluid/component",status:404,value:`request ${t} not found`}:{mimeType:"fluid/component",status:200,value:e}}return super.request(e)}get root(){if(!this.internalRoot)throw new Error(this.getUninitializedErrorString("root"));return this.internalRoot}get taskManager(){if(!this.internalTaskManager)throw new Error(this.getUninitializedErrorString("taskManager"));return this.internalTaskManager}async writeBlob(e){this.runtime.logger.sendTelemetryEvent({eventName:"WriteBlob",size:e.length});const t=`${this.bigBlobs}${Object(i.v4)()}`;return this.root.set(t,e),new o.a(t,this.root,this.runtime.IComponentHandleContext)}async initializeInternal(e){const t={headers:[[!0]],url:"/_scheduler"};this.internalTaskManager=await this.asComponent(this.context.containerRuntime.request(t)),this.runtime.existing?(this.internalRoot=await this.runtime.getChannel(this.rootDirectoryId),this.internalRoot.attributes.type===r.MapFactory.Type&&this.runtime.logger.send({category:"generic",eventName:"MapPrimedComponent",message:"Legacy document, SharedMap is masquerading as SharedDirectory in PrimedComponent"}),await this.componentInitializingFromExisting()):(this.internalRoot=r.SharedDirectory.create(this.runtime,this.rootDirectoryId),this.internalRoot.register(),await this.componentInitializingFirstTime(e)),await this.componentHasInitialized()}getUninitializedErrorString(e){return`${e} must be initialized before being accessed.`}}},function(e,t,n){"use strict";t.c="_services";t.a=class{constructor(e){this.runtime=e}get IComponentRouter(){return this}async request(e){return{status:200,mimeType:"fluid/component",value:this}}};class r{constructor(e){this.serviceFn=e}async getService(e){return this.service||(this.service=this.serviceFn(e)),this.service}}t.b=(e=>{const t=new Map;return new Map(e).forEach((e,n)=>{t.set(n,new r(e))}),async(e,n)=>{if("_services"!==e.pathParts[0])return;if(e.pathParts.length<2)return{status:400,mimeType:"text/plain",value:`request url: [${e.url}] did not specify a service to route to`};const r=t.get(e.pathParts[1]);if(!r)return Promise.resolve({status:404,mimeType:"text/plain",value:`Could not find a valid service for request url: [${e.url}]`});const i=await r.getService(n),o=i.IComponentRouter;let s=e.createSubRequest(2);return o?(s||(s={url:""}),o.request(s)):!o&&s?{status:400,mimeType:"text/plain",value:`request sub-url: [${s}] for service that doesn't support routing`}:{status:200,mimeType:"fluid/component",value:i}}})},function(e,t,n){"use strict";var r=n(3186);n.d(t,"a",function(){return r.a});var i=n(5151);n.d(t,"b",function(){return i.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(5150))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IContainerRuntime="IContainerRuntime"},function(e,t,n){"use strict";var r=n(2635),i=n(3186);const o=async(e,t)=>{if(0===e.pathParts.length)return Object(r.d)(new r.c({url:"default",headers:e.headers}),t)};class s extends i.a{constructor(e,t,n=[],r=[]){super(t,n,[o,...r]),this.defaultComponentName=e}get IComponentDefaultFactoryName(){return this}getDefaultFactoryName(){return this.defaultComponentName}async containerInitializingFirstTime(e){const t=await e.createComponent(s.defaultComponentId,this.defaultComponentName);await t.request({url:"/"}),t.attach()}}t.a=s,s.defaultComponentId="default"},function(e,t,n){"use strict";var r=n(3187),i=n(3188);class o{get type(){return o.Type}get attributes(){return o.Attributes}async load(e,t,n,i,o){const s=new r.a(t,e,o);return await s.load(i,n),s}create(e,t){const n=new r.a(t,e,this.attributes);return n.initializeLocal(),n}}t.a=o,o.Type="https://graph.microsoft.com/types/cell",o.Attributes={type:o.Type,snapshotFormatVersion:"0.1",packageVersion:i.b}},function(e,t,n){"use strict";var r=n(2012),i=(n.n(r),n(3188));const o=r("fluid:cell");t.a=o,o(`Package: ${i.a} - Version: ${i.b}`)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2117),o=n(2637),s=n(2651),a=n(2275),c=n(2208),u=n(2116),l=n(2391),h=n(2656);t.CodeCellDDS=class extends a.PrimedComponent{get model(){return this}componentInitializingFirstTime(e){return r(this,void 0,void 0,function*(){const t=c.SharedString.create(this.runtime),n=u.SharedMap.create(this.runtime),r=l.SharedCell.create(this.runtime),i=c.SharedObjectSequence.create(this.runtime);let o;if(e){o=e.id;const{cell:s}=e;if(s.has("cell_type")&&"code"===s.cell_type){t.insertText(0,s.source),s.metadata.forEach((e,t)=>{n.set(t,e)}),r.set(s.execution_count);const e=s.outputs.map(e=>({value:e.toJS()})).toArray();i.insert(0,e)}}this.root.set("cellId",o).set("source",t.handle).set("metadata",n.handle).set("executionCount",r.handle).set("outputs",i.handle)})}componentHasInitialized(){return r(this,void 0,void 0,function*(){this.source=yield this.root.get("source").get(),this.metadata=yield this.root.get("metadata").get(),this.executionCount=yield this.root.get("executionCount").get(),this.outputs=yield this.root.get("outputs").get(),this.outputsObservable=o.fromEvent(this.outputs,"op").pipe(s.filter(([,e])=>!e),s.mergeMap(([e])=>{const t=e.contents;switch(t.type){case 0:if("number"===typeof t.pos1&&t.seg&&t.seg.items instanceof Array)return o.of({event:"append",cellId:this.id,output:t.seg.items[0]});break;case 1:if("number"===typeof t.pos1&&"number"===typeof t.pos2)return o.of({event:"clear",cellId:this.id})}return o.EMPTY})),this.sourceObservable=o.fromEvent(this.source,"sequenceDelta").pipe(s.filter(([e])=>!e.isLocal),s.map(([,e])=>e.getText()))})}get id(){return this.root.get("cellId")}get outputs$(){return this.outputsObservable}get source$(){return this.sourceObservable}asImmutable(){const e=new Map;this.metadata.forEach((t,n)=>e.set(n,t));const t=this.outputs.getItems(0).map(e=>h.createImmutableOutput(e.value));return h.createCodeCell({source:this.source.getText(),metadata:i.Map(e),execution_count:this.executionCount.get(),outputs:i.List(t)})}getSource(){return this.source}lastOutputCreatedBy(){const e=this.outputs.getItemCount();if(0!==e)return this.outputs.getItems(e-1)[0].createdBy}appendOutput(e){this.outputs.insert(this.outputs.getItemCount(),[e])}clearOutputs(){const e=this.outputs.getItemCount();0!==e&&this.outputs.remove(0,e)}}},function(e,t,n){"use strict";t.a=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[i.a])return e[i.a]()}if(!e&&!t&&!n)return new r.a(o.a);return new r.a(e,t,n)};var r=n(2002),i=n(2640),o=n(3189)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1987),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.a(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(2277).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1987),i=function(e){function t(t,n){return e.call(this)||this}return r.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(2032).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1987),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t}(n(2278).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1987),i=n(5160),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.a(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=i.a.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(i.a.clearImmediate(n),t.scheduled=void 0)},t}(n(2277).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=1,i={};var o={setImmediate:function(e){var t=r++;return i[t]=e,Promise.resolve().then(function(){return function(e){var t=i[e];t&&t()}(t)}),t},clearImmediate:function(e){delete i[e]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1987),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(2278).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(5163),i=new(n(5164).a)(r.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1987),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.a(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(n(2277).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1987),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(2278).a)},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n(1987),i=n(2277),o=function(e){function t(t,n){void 0===t&&(t=s),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return r.a(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(n(2278).a),s=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return r.a(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){return!!e&&(e instanceof r.a||"function"===typeof e.lift&&"function"===typeof e.subscribe)};var r=n(2010)},function(e,t,n){"use strict";t.a=function e(t,n,l){if(n){if(!Object(c.a)(n))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e(t,l).apply(void 0,r).pipe(Object(o.a)(function(e){return Object(a.a)(e)?n.apply(void 0,e):n(e)}))};l=n}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o,a=this,c={context:a,subject:o,callbackFunc:t,scheduler:l};return new r.a(function(n){if(l){var r={args:e,subscriber:n,params:c};return l.schedule(u,0,r)}if(!o){o=new i.a;try{t.apply(a,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(h){Object(s.a)(o)?o.error(h):console.warn(h)}}return o.subscribe(n)})}};var r=n(2010),i=n(2396),o=n(2078),s=n(2638),a=n(2057),c=n(2086);function u(e){var t=this,n=e.args,r=e.subscriber,o=e.params,s=o.callbackFunc,a=o.context,c=o.scheduler,u=o.subject;if(!u){u=o.subject=new i.a;try{s.apply(a,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(c.schedule(l,0,{value:r,subject:u}))}]))}catch(h){u.error(h)}}this.add(u.subscribe(r))}function l(e){var t=e.value,n=e.subject;n.next(t),n.complete()}},function(e,t,n){"use strict";t.a=function e(t,n,l){if(n){if(!Object(a.a)(n))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e(t,l).apply(void 0,r).pipe(Object(o.a)(function(e){return Object(c.a)(e)?n.apply(void 0,e):n(e)}))};l=n}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o={subject:void 0,args:e,callbackFunc:t,scheduler:l,context:this};return new r.a(function(n){var r=o.context,a=o.subject;if(l)return l.schedule(u,0,{params:o,subscriber:n,context:r});if(!a){a=o.subject=new i.a;try{t.apply(r,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();if(n)return void a.error(n);a.next(e.length<=1?e[0]:e),a.complete()}]))}catch(c){Object(s.a)(a)?a.error(c):console.warn(c)}}return a.subscribe(n)})}};var r=n(2010),i=n(2396),o=n(2078),s=n(2638),a=n(2086),c=n(2057);function u(e){var t=this,n=e.params,r=e.subscriber,o=e.context,s=n.callbackFunc,a=n.args,c=n.scheduler,u=n.subject;if(!u){u=n.subject=new i.a;try{s.apply(o,a.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(c.schedule(h,0,{err:r,subject:u}));else{var i=e.length<=1?e[0]:e;t.add(c.schedule(l,0,{value:i,subject:u}))}}]))}catch(d){this.add(c.schedule(h,0,{err:d,subject:u}))}}this.add(u.subscribe(r))}function l(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function h(e){var t=e.err;e.subject.error(t)}},function(e,t,n){"use strict";t.a=function(e){return e&&"function"===typeof e[r.a]};var r=n(2210)},function(e,t,n){"use strict";t.a=function(e){return e&&"function"===typeof e[r.a]};var r=n(2281)},function(e,t,n){"use strict";t.a=function(e,t){return t?new r.a(function(n){var r=new i.a;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r}):new r.a(Object(o.a)(e))};var r=n(2010),i=n(2032),o=n(3203)},function(e,t,n){"use strict";t.a=function(e,t){if(!e)throw new Error("Iterable cannot be null");return t?new r.a(function(n){var r,s=new i.a;return s.add(function(){r&&"function"===typeof r.return&&r.return()}),s.add(t.schedule(function(){r=e[o.a](),s.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}}))})),s}):new r.a(Object(s.a)(e))};var r=n(2010),i=n(2032),o=n(2281),s=n(3204)},function(e,t,n){"use strict";t.a=function(e,t){return t?new r.a(function(n){var r=new i.a;return r.add(t.schedule(function(){var i=e[o.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r}):new r.a(Object(s.a)(e))};var r=n(2010),i=n(2032),o=n(2210),s=n(3205)},function(e,t,n){"use strict";t.a=function e(){var t=[];for(var n=0;n<arguments.length;n++)t[n]=arguments[n];var r;"function"===typeof t[t.length-1]&&(r=t.pop());1===t.length&&Object(o.a)(t[0])&&(t=t[0]);if(0===t.length)return s.a;if(r)return e(t).pipe(Object(u.a)(function(e){return r.apply(void 0,e)}));return new i.a(function(e){return new l(e,t)})};var r=n(1987),i=n(2010),o=n(2057),s=n(2058),a=n(2014),c=n(2013),u=n(2078);var l=function(e){function t(t,n){var r=e.call(this,t)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var s=n[o],c=Object(a.a)(r,s,null,o);c&&r.add(c)}return r}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,n=this.haveValues,r=this.values,i=r.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(r),t.complete())):t.complete()},t}(c.a)},function(e,t,n){"use strict";t.a=function e(t,n,a,c){Object(o.a)(a)&&(c=a,a=void 0);if(c)return e(t,n,a).pipe(Object(s.a)(function(e){return Object(i.a)(e)?c.apply(void 0,e):c(e)}));return new r.a(function(e){!function e(t,n,r,i,o){var s;if(function(e){return e&&"function"===typeof e.addEventListener&&"function"===typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"===typeof e.on&&"function"===typeof e.off}(t)){var c=t;t.on(n,r),s=function(){return c.off(n,r)}}else if(function(e){return e&&"function"===typeof e.addListener&&"function"===typeof e.removeListener}(t)){var u=t;t.addListener(n,r),s=function(){return u.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,h=t.length;l<h;l++)e(t[l],n,r,i,o)}i.add(s)}(t,n,function(t){arguments.length>1?e.next(Array.prototype.slice.call(arguments)):e.next(t)},e,a)})};var r=n(2010),i=n(2057),o=n(2276),s=n(2078);Object.prototype.toString},function(e,t,n){"use strict";t.a=function e(t,n,a){if(a)return e(t,n).pipe(Object(s.a)(function(e){return Object(i.a)(e)?a.apply(void 0,e):a(e)}));return new r.a(function(e){var r,i=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1===t.length?t[0]:t)};try{r=t(i)}catch(s){return void e.error(s)}if(Object(o.a)(n))return function(){return n(i,r)}})};var r=n(2010),i=n(2057),o=n(2276),s=n(2078)},function(e,t,n){"use strict";t.a=function(e,t,n,a,c){var u,l;if(1==arguments.length){var h=e;l=h.initialState,t=h.condition,n=h.iterate,u=h.resultSelector||i.a,c=h.scheduler}else void 0===a||Object(o.a)(a)?(l=e,u=i.a,c=a):(l=e,u=a);return new r.a(function(e){var r=l;if(c)return c.schedule(s,0,{subscriber:e,iterate:n,condition:t,resultSelector:u,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(a){return void e.error(a)}if(!i){e.complete();break}}var o=void 0;try{o=u(r)}catch(a){return void e.error(a)}if(e.next(o),e.closed)break;try{r=n(r)}catch(a){return void e.error(a)}}})};var r=n(2010),i=n(2211),o=n(2086);function s(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(o){return void t.error(o)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(o){return void t.error(o)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(o){return void t.error(o)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===t&&(t=i.a);void 0===n&&(n=i.a);return Object(r.a)(function(){return e()?t:n})};var r=n(2649),i=n(2058)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e=0);void 0===t&&(t=i.a);(!Object(o.a)(e)||e<0)&&(e=0);t&&"function"===typeof t.schedule||(t=i.a);return new r.a(function(n){return n.add(t.schedule(s,e,{subscriber:n,counter:0,period:e})),n})};var r=n(2010),i=n(2059),o=n(2398);function s(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}},function(e,t,n){"use strict";t.a=function e(){var t=[];for(var n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return s.a;var a=t[0],c=t.slice(1);if(1===t.length&&Object(o.a)(a))return e.apply(void 0,a);return new r.a(function(t){var n=function(){return t.add(e.apply(void 0,c).subscribe(t))};return Object(i.a)(a).subscribe({next:function(e){t.next(e)},error:n,complete:n})})};var r=n(2010),i=n(2118),o=n(2057),s=n(2058)},function(e,t,n){"use strict";t.a=function(e,t){return t?new r.a(function(n){var r=Object.keys(e),s=new i.a;return s.add(t.schedule(o,0,{keys:r,index:0,subscriber:n,subscription:s,obj:e})),s}):new r.a(function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()})};var r=n(2010),i=n(2032);function o(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var s=t[n];r.next([s,o[s]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===e&&(e=0);return new r.a(function(r){void 0===t&&(t=e,e=0);var o=0,s=e;if(n)return n.schedule(i,0,{index:o,count:t,start:e,subscriber:r});for(;;){if(o++>=t){r.complete();break}if(r.next(s++),r.closed)break}})};var r=n(2010);function i(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}},function(e,t,n){"use strict";t.a=function(e,t){return new r.a(function(n){var r,s;try{r=e()}catch(u){return void n.error(u)}try{s=t(r)}catch(u){return void n.error(u)}var a=s?Object(i.a)(s):o.a,c=a.subscribe(n);return function(){c.unsubscribe(),r&&r.unsubscribe()}})};var r=n(2010),i=n(2118),o=n(2058)},function(e,t,n){"use strict";t.a=function(e,t){void 0===t&&(t=r.a);return Object(i.a)(function(){return Object(o.a)(e,t)})};var r=n(2059),i=n(3213),o=n(3212)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new s(e))}};var r=n(1987),i=n(2013),o=n(2014);var s=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.closingNotifier))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add(Object(o.a)(r,n)),r}return r.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t){void 0===t&&(t=null);return function(n){return n.lift(new o(e,t))}};var r=n(1987),i=n(2002);var o=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?a:s}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return r.a(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(i.a),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.a(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n===0&&r.push([]);for(var o=r.length;o--;){var s=r[o];s.push(e),s.length===t&&(r.splice(o,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){var t=arguments.length,n=i.a;Object(s.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;t>=3&&(o=arguments[2]);return function(t){return t.lift(new a(e,r,o,n))}};var r=n(1987),i=n(2059),o=n(2002),s=n(2086);var a=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),c=function(){return function(){this.buffer=[]}}(),u=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=r,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==r||r<0,s.timespanOnly){var c={subscriber:s,context:a,bufferTimeSpan:n};s.add(a.closeAction=o.schedule(l,n,c))}else{var u={subscriber:s,context:a},p={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(d,n,u)),s.add(o.schedule(h,r,p))}return s}return r.a(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(l,n,r))}},t.prototype.openContext=function(){var e=new c;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(o.a);function l(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function h(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(d,n,{subscriber:r,context:o})),this.schedule(e,t))}function d(e){var t=e.subscriber,n=e.context;t.closeContext(n)}},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return n.lift(new a(e,t))}};var r=n(1987),i=n(2032),o=n(2014),s=n(2013);var a=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.openings,this.closingSelector))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(Object(o.a)(i,n)),i}return r.a(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(n){this._error(n)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new i.a,r={buffer:[],subscription:n};t.push(r);var s=Object(o.a)(this,e,r);!s||s.closed?this.closeBuffer(r):(s.context=r,this.add(s),n.add(s))},t}(s.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new a(e))}};var r=n(1987),i=n(2032),o=n(2013),s=n(2014);var a=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingSelector))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,n,r,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(r){return this.error(r)}e=new i.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(s.a)(this,t)),this.subscribing=!1},t}(o.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){var n=new a(e),r=t.lift(n);return n.caught=r}};var r=n(1987),i=n(2013),o=n(2142),s=n(2014);var a=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.selector,this.caught))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(i){return void e.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new o.a(this,void 0,void 0);this.add(r),Object(s.a)(this,n,void 0,void 0,r)}},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new r.a(e))}};var r=n(2647)},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;"function"===typeof e[e.length-1]&&(n=e.pop());1===e.length&&Object(r.a)(e[0])&&(e=e[0].slice());return function(t){return t.lift.call(Object(o.a)([t].concat(e)),new i.a(n))}};var r=n(2057),i=n(2647),o=n(2118)},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r.a.apply(void 0,[t].concat(e)))}};var r=n(2397)},function(e,t,n){"use strict";t.a=function(e,t){return Object(r.a)(function(){return e},t)};var r=n(3214)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new o(e,t))}};var r=n(1987),i=n(2002);var o=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new s(e))}};var r=n(1987),i=n(2013),o=n(2014);var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r.durationSubscription=null,r}return r.a(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(o.a)(this,t))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t){void 0===t&&(t=o.a);return function(n){return n.lift(new s(e,t))}};var r=n(1987),i=n(2002),o=n(2059);var s=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(i.a);function c(e){e.debouncedNext()}},function(e,t,n){"use strict";t.a=function(e,t){void 0===t&&(t=i.a);var n=Object(o.a)(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(n,t))}};var r=n(1987),i=n(2059),o=n(3215),s=n(2002),a=n(2395);var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.delay,this.scheduler))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.a(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new l(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(a.a.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(a.a.createComplete()),this.unsubscribe()},t}(s.a),l=function(){return function(e,t){this.time=e,this.notification=t}}()},function(e,t,n){"use strict";t.a=function(e,t){if(t)return function(n){return new l(n,t).lift(new c(e))};return function(t){return t.lift(new c(e))}};var r=n(1987),i=n(2002),o=n(2010),s=n(2013),a=n(2014);var c=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.delayDurationSelector))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=Object(a.a)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s.a),l=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r.a(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new h(e,this.source))},t}(o.a),h=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r.a(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(i.a)},function(e,t,n){"use strict";t.a=function(){return function(e){return e.lift(new o)}};var r=n(1987),i=n(2002);var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return n.lift(new s(e,t))}};var r=n(1987),i=n(2013),o=n(2014);var s=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.keySelector,this.flushes))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=n,i.values=new Set,r&&i.add(Object(o.a)(i,r)),i}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(r){return void n.error(r)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t){return Object(r.a)(function(n,r){return t?t(n[e],r[e]):n[e]===r[e]})};var r=n(3216)},function(e,t,n){"use strict";t.a=function(e,t){if(e<0)throw new r.a;var n=arguments.length>=2;return function(c){return c.pipe(Object(i.a)(function(t,n){return n===e}),Object(a.a)(1),n?Object(s.a)(t):Object(o.a)(function(){return new r.a}))}};var r=n(2279),i=n(2284),o=n(2399),s=n(2283),a=n(2652)},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=e[e.length-1];Object(a.a)(n)?e.pop():n=null;var c=e.length;return 1!==c||n?c>0?Object(s.a)(t,Object(r.a)(e,n)):Object(s.a)(t,Object(o.b)(n)):Object(s.a)(t,Object(i.a)(e[0]))}};var r=n(2141),i=n(2645),o=n(2058),s=n(2397),a=n(2086)},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return n.lift(new o(e,t,n))}};var r=n(1987),i=n(2002);var o=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg,this.source))},e}(),s=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.a(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.a)},function(e,t,n){"use strict";t.a=function(){return function(e){return e.lift(new s)}};var r=n(1987),i=n(2013),o=n(2014);var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.a(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(o.a)(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.a)},function(e,t,n){"use strict";t.a=function e(t,n){if(n)return function(r){return r.pipe(e(function(e,r){return Object(c.a)(t(e,r)).pipe(Object(a.a)(function(t,i){return n(e,t,r,i)}))}))};return function(e){return e.lift(new u(t))}};var r=n(1987),i=n(2013),o=n(2142),s=n(2014),a=n(2078),c=n(2118);var u=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project))},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new o.a(this,void 0,void 0);this.destination.add(r),Object(s.a)(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===t&&(t=Number.POSITIVE_INFINITY);void 0===n&&(n=void 0);return t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new s(e,t,n))}};var r=n(1987),i=n(2013),o=n(2014);var s=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.concurrent,this.scheduler))},e}(),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.a(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var i=(0,this.project)(e,r);if(this.scheduler){var o={subscriber:this,result:i,value:e,index:r};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,r)}catch(s){n.error(s)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add(Object(o.a)(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new s(e))}};var r=n(1987),i=n(2002),o=n(2032);var s=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.callback))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new o.a(n)),r}return r.a(t,e),t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return n.lift(new r.a(e,n,!0,t))}};var r=n(3218)},function(e,t,n){"use strict";t.a=function(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?Object(i.a)(function(t,n){return e(t,n,u)}):c.a,Object(o.a)(1),n?Object(s.a)(t):Object(a.a)(function(){return new r.a}))}};var r=n(2280),i=n(2284),o=n(2652),s=n(2283),a=n(2399),c=n(2211)},function(e,t,n){"use strict";t.a=function(){return function(e){return e.lift(new o)}};var r=n(1987),i=n(2002);var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype._next=function(e){},t}(i.a)},function(e,t,n){"use strict";t.a=function(){return function(e){return e.lift(new o)}};var r=n(1987),i=n(2002);var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?Object(i.a)(function(t,n){return e(t,n,u)}):c.a,Object(o.a)(1),n?Object(a.a)(t):Object(s.a)(function(){return new r.a}))}};var r=n(2280),i=n(2284),o=n(2653),s=n(2399),a=n(2283),c=n(2211)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new o(e))}};var r=n(1987),i=n(2002);var o=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.value))},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return r.a(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(i.a)},function(e,t,n){"use strict";t.a=function(){return function(e){return e.lift(new s)}};var r=n(1987),i=n(2002),o=n(2395);var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype._next=function(e){this.destination.next(o.a.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(o.a.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(o.a.createComplete()),e.complete()},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){var t="function"===typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return Object(r.a)(t)};var r=n(2400)},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r.a.apply(void 0,[t].concat(e)))}};var r=n(3209)},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY);if("function"===typeof t)return Object(r.a)(function(){return e},t,n);"number"===typeof t&&(n=t);return Object(r.a)(function(){return e},n)};var r=n(2282)},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY);return function(r){return r.lift(new a(e,t,n))}};var r=n(1987),i=n(2014),o=n(2013),s=n(2142);var a=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.accumulator,this.seed,this.concurrent))},e}(),c=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.a(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,e,t)}catch(i){return n.error(i)}this.active++,this._innerSub(r,e,t)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,n){var r=new s.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(o.a)},function(e,t,n){"use strict";t.a=function(e){var t="function"===typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return Object(r.a)(t)};var r=n(2400)},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];1===e.length&&Object(i.a)(e[0])&&(e=e[0]);return function(t){return t.lift(new c(e))}};var r=n(1987),i=(n(2118),n(2057)),o=n(2013),s=n(2142),a=n(2014);var c=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextSources))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return r.a(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new s.a(this,void 0,void 0);this.destination.add(t),Object(a.a)(this,e,void 0,void 0,t)}else this.destination.complete()},t}(o.a)},function(e,t,n){"use strict";t.a=function(){return function(e){return e.lift(new o)}};var r=n(1987),i=n(2002);var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return r.a(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return[Object(i.a)(e,t)(n),Object(i.a)(Object(r.a)(e,t))(n)]}};var r=n(5225),i=n(2284)},function(e,t,n){"use strict";t.a=function(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return Object(r.a)(function(e,t){return function(n){for(var r=n,i=0;i<t;i++){var o=r[e[i]];if("undefined"===typeof o)return;r=o}return r}}(e,n))(t)}};var r=n(2078)},function(e,t,n){"use strict";t.a=function(e){return e?Object(i.a)(function(){return new r.a},e):Object(i.a)(new r.a)};var r=n(2049),i=n(2212)},function(e,t,n){"use strict";t.a=function(e){return function(t){return Object(i.a)(new r.a(e))(t)}};var r=n(3195),i=n(2212)},function(e,t,n){"use strict";t.a=function(){return function(e){return Object(i.a)(new r.a)(e)}};var r=n(2396),i=n(2212)},function(e,t,n){"use strict";t.a=function(e,t,n,o){n&&"function"!==typeof n&&(o=n);var s="function"===typeof n?n:void 0,a=new r.a(e,t,o);return function(e){return Object(i.a)(function(){return a},s)(e)}};var r=n(2643),i=n(2212)},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&Object(r.a)(e[0])&&(e=e[0]),t.lift.call(i.a.apply(void 0,[t].concat(e)))}};var r=n(2057),i=n(3211)},function(e,t,n){"use strict";t.a=function(e){void 0===e&&(e=-1);return function(t){return 0===e?Object(o.b)():e<0?t.lift(new s(-1,t)):t.lift(new s(e-1,t))}};var r=n(1987),i=n(2002),o=n(2058);var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.a(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new a(e))}};var r=n(1987),i=n(2049),o=n(2013),s=n(2014);var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier,t))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new i.a;try{t=(0,this.notifier)(this.notifications)}catch(n){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=Object(s.a)(this,t)},t}(o.a)},function(e,t,n){"use strict";t.a=function(e){void 0===e&&(e=-1);return function(t){return t.lift(new o(e,t))}};var r=n(1987),i=n(2002);var o=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.count,this.source))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e.prototype.error.call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new a(e,t))}};var r=n(1987),i=n(2049),o=n(2013),s=n(2014);var a=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier,this.source))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new i.a;try{r=(0,this.notifier)(n)}catch(a){return e.prototype.error.call(this,a)}o=Object(s.a)(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},t}(o.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new s(e))}};var r=n(1987),i=n(2013),o=n(2014);var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new a(e),r=t.subscribe(n);return r.add(Object(o.a)(n,this.notifier)),r},e}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return r.a(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t){void 0===t&&(t=o.a);return function(n){return n.lift(new s(e,t))}};var r=n(1987),i=n(2002),o=n(2059);var s=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.period,this.scheduler))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(c,n,{subscriber:i,period:n})),i}return r.a(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(i.a);function c(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return n.lift(new o(e,t))}};var r=n(1987),i=n(2002);var o=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.compareTo,this.comparator))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new a(t,i))),i}return r.a(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,n=this.comparator;e.length>0&&t.length>0;){var r=e.shift(),i=t.shift(),o=!1;try{o=n?n(r,i):r===i}catch(s){this.destination.error(s)}o||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(i.a),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return r.a(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(i.a)},function(e,t,n){"use strict";t.a=function(){return function(e){return Object(i.a)()(Object(r.a)(s)(e))}};var r=n(2212),i=n(2642),o=n(2049);function s(){return new o.a}},function(e,t,n){"use strict";t.a=function(e,t,n){var i;i=e&&"object"===typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n};return function(e){return e.lift(function(e){var t,n,i=e.bufferSize,o=void 0===i?Number.POSITIVE_INFINITY:i,s=e.windowTime,a=void 0===s?Number.POSITIVE_INFINITY:s,c=e.refCount,u=e.scheduler,l=0,h=!1,d=!1;return function(e){l++,t&&!h||(h=!1,t=new r.a(o,a,u),n=e.subscribe({next:function(e){t.next(e)},error:function(e){h=!0,t.error(e)},complete:function(){d=!0,t.complete()}}));var i=t.subscribe(this);this.add(function(){l--,i.unsubscribe(),n&&!d&&c&&0===l&&(n.unsubscribe(),n=void 0,t=void 0)})}}(i))}};var r=n(2643)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new s(e,t))}};var r=n(1987),i=n(2002),o=n(2280);var s=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r.a(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(n){this.destination.error(n)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new o.a)},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new o(e))}};var r=n(1987),i=n(2002);var o=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.total))},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new s(e))}};var r=n(1987),i=n(2002),o=n(2279);var s=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new o.a}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new i.a(e)):t.subscribe(new a(e,this._skipCount))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.a(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new a(e))}};var r=n(1987),i=n(2013),o=n(2142),s=n(2014);var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var i=new o.a(r,void 0,void 0);return r.add(i),r.innerSubscription=i,Object(s.a)(r,n,void 0,void 0,i),r}return r.a(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(e,t,n,r,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new o(e))}};var r=n(1987),i=n(2002);var o=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate))},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}},t}(i.a)},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=e[e.length-1];Object(a.a)(n)?e.pop():n=null;var c=e.length;return 1!==c||n?c>0?Object(s.a)(Object(r.a)(e,n),t):Object(s.a)(Object(o.b)(n),t):Object(s.a)(Object(i.a)(e[0]),t)}};var r=n(2141),i=n(2645),o=n(2058),s=n(2397),a=n(2086)},function(e,t,n){"use strict";t.a=function(e,t){void 0===t&&(t=0);return function(n){return n.lift(new i(e,t))}};var r=n(5248);var i=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new r.a(t,this.delay,this.scheduler).subscribe(e)},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1987),i=n(2010),o=n(3200),s=n(2398),a=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=o.a);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!Object(s.a)(n)||n<0)&&(i.delayTime=0),r&&"function"===typeof r.schedule||(i.scheduler=o.a),i}return r.a(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.a),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(i.a)},function(e,t,n){"use strict";t.a=function(){return Object(r.a)(i.a)};var r=n(2655),i=n(2211)},function(e,t,n){"use strict";t.a=function(e,t){return t?Object(r.a)(function(){return e},t):Object(r.a)(function(){return e})};var r=n(2655)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new s(e))}};var r=n(1987),i=n(2013),o=n(2014);var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new a(e),r=Object(o.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t){void 0===t&&(t=!1);return function(n){return n.lift(new o(e,t))}};var r=n(1987),i=n(2002);var o=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.inclusive))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(i.a)},function(e,t,n){"use strict";t.a=function(e,t,n){void 0===t&&(t=o.a);void 0===n&&(n=s.a);return function(r){return r.lift(new a(e,t,n.leading,n.trailing))}};var r=n(1987),i=n(2002),o=n(2059),s=n(3219);var a=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),c=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.duration=n,s.scheduler=r,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return r.a(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(u,this.duration,{subscriber:this})),this.leading&&this.destination.next(e))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(i.a);function u(e){e.subscriber.clearThrottle()}},function(e,t,n){"use strict";t.a=function(e){void 0===e&&(e=r.a);return function(t){return Object(o.a)(function(){return t.pipe(Object(i.a)(function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}},{current:e.now(),value:void 0,last:void 0}),Object(s.a)(function(e){var t=e.current,n=e.last,r=e.value;return new a(r,t-n)}))})}};var r=n(2059),i=n(2654),o=n(2649),s=n(2078);var a=function(){return function(e,t){this.value=e,this.interval=t}}()},function(e,t,n){"use strict";t.a=function(e,t){void 0===t&&(t=r.a);return Object(o.a)(e,Object(s.a)(new i.a),t)};var r=n(2059),i=n(3201),o=n(3220),s=n(2646)},function(e,t,n){"use strict";t.a=function(e){void 0===e&&(e=r.a);return Object(i.a)(function(t){return new o(t,e.now())})};var r=n(2059),i=n(2078);var o=function(){return function(e,t){this.value=e,this.timestamp=t}}()},function(e,t,n){"use strict";t.a=function(){return Object(r.a)(i,[])};var r=n(2400);function i(e,t,n){return 0===n?[t]:(e.push(t),e)}},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new a(e))}};var r=n(1987),i=n(2049),o=n(2013),s=n(2014);var a=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new c(e),r=t.subscribe(n);return r.closed||n.add(Object(s.a)(n,this.windowBoundaries)),r},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new i.a,t.next(n.window),n}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new i.a;t.next(n)},t}(o.a)},function(e,t,n){"use strict";t.a=function(e,t){void 0===t&&(t=0);return function(n){return n.lift(new s(e,t))}};var r=n(1987),i=n(2002),o=n(2049);var s=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.windowSize,this.startWindowEvery))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=n,i.startWindowEvery=r,i.windows=[new o.a],i.count=0,t.next(i.windows[0]),i}return r.a(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,s=i.length,a=0;a<s&&!this.closed;a++)i[a].next(e);var c=this.count-r+1;if(c>=0&&c%t===0&&!this.closed&&i.shift().complete(),++this.count%t===0&&!this.closed){var u=new o.a;i.push(u),n.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(i.a)},function(e,t,n){"use strict";t.a=function(e){var t=o.a,n=null,r=Number.POSITIVE_INFINITY;Object(c.a)(arguments[3])&&(t=arguments[3]);Object(c.a)(arguments[2])?t=arguments[2]:Object(a.a)(arguments[2])&&(r=arguments[2]);Object(c.a)(arguments[1])?t=arguments[1]:Object(a.a)(arguments[1])&&(n=arguments[1]);return function(i){return i.lift(new u(e,n,r,t))}};var r=n(1987),i=n(2049),o=n(2059),s=n(2002),a=n(2398),c=n(2086);var u=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return r.a(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(i.a),h=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;s.destination=t,s.windowTimeSpan=n,s.windowCreationInterval=r,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var a=s.openWindow();if(null!==r&&r>=0){var c={subscriber:s,window:a,context:null},u={windowTimeSpan:n,windowCreationInterval:r,subscriber:s,scheduler:o};s.add(o.schedule(f,n,c)),s.add(o.schedule(p,r,u))}else{var l={subscriber:s,window:a,windowTimeSpan:n};s.add(o.schedule(d,n,l))}return s}return r.a(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new l;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(s.a);function d(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function p(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),s={action:this,subscription:null},a={subscriber:n,window:o,context:s};s.subscription=r.schedule(f,t,a),this.add(s.subscription),this.schedule(e,i)}function f(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return n.lift(new c(e,t))}};var r=n(1987),i=n(2049),o=n(2032),s=n(2013),a=n(2014);var c=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.openings,this.closingSelector))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=Object(a.a)(i,n,n)),i}return r.a(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,s){if(e===this.openings){var c=void 0;try{c=(0,this.closingSelector)(t)}catch(p){return this.error(p)}var u=new i.a,l=new o.a,h={window:u,subscription:l};this.contexts.push(h);var d=Object(a.a)(this,c,h);d.closed?this.closeWindow(this.contexts.length-1):(d.context=h,l.add(d)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(s.a)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new a(e))}};var r=n(1987),i=n(2049),o=n(2013),s=n(2014);var a=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingSelector))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new i.a;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(o){return this.destination.error(o),void this.window.error(o)}this.add(this.closingNotification=Object(s.a)(this,n))},t}(o.a)},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"===typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new s(r,n))}};var r=n(1987),i=n(2013),o=n(2014);var s=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.observables,this.project))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.observables=n,i.project=r,i.toRespond=[];var s=n.length;i.values=new Array(s);for(var a=0;a<s;a++)i.toRespond.push(a);for(a=0;a<s;a++){var c=n[a];i.add(Object(o.a)(i,c,c,a))}return i}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i.a)},function(e,t,n){"use strict";t.a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r.b.apply(void 0,[t].concat(e)))}};var r=n(2650)},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.lift(new r.a(e))}};var r=n(2650)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5267);n.d(t,"v1",function(){return r.a});var i=n(5268);n.d(t,"v3",function(){return i.a});var o=n(5270);n.d(t,"v4",function(){return o.a});var s=n(5271);n.d(t,"v5",function(){return s.a})},function(e,t,n){"use strict";var r,i,o=n(3221),s=n(2657),a=0,c=0;t.a=function(e,t,n){var u=t&&n||0,l=t||new Array(16),h=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==h||null==d){var p=e.random||(e.rng||o.a)();null==h&&(h=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:c+1,g=f-a+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||f>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,c=m,i=d;var b=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;l[u++]=b>>>24&255,l[u++]=b>>>16&255,l[u++]=b>>>8&255,l[u++]=255&b;var v=f/4294967296*1e4&268435455;l[u++]=v>>>8&255,l[u++]=255&v,l[u++]=v>>>24&15|16,l[u++]=v>>>16&255,l[u++]=d>>>8|128,l[u++]=255&d;for(var y=0;y<6;++y)l[u+y]=h[y];return t||Object(s.a)(l)}},function(e,t,n){"use strict";var r=n(3222),i=n(5269),o=Object(r.a)("v3",48,i.a);t.a=o},function(e,t,n){"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t,n,r,o,s){return i((a=i(i(t,e),i(r,s)))<<(c=o)|a>>>32-c,n);var a,c}function s(e,t,n,r,i,s,a){return o(t&n|~t&r,e,t,i,s,a)}function a(e,t,n,r,i,s,a){return o(t&r|n&~r,e,t,i,s,a)}function c(e,t,n,r,i,s,a){return o(t^n^r,e,t,i,s,a)}function u(e,t,n,r,i,s,a){return o(n^(t|~r),e,t,i,s,a)}t.a=function(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r=0;r<n;r+=8){var i=e[r>>5]>>>r%32&255,o=parseInt("0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;for(var n=1732584193,o=-271733879,l=-1732584194,h=271733878,d=0;d<e.length;d+=16){var p=n,f=o,m=l,g=h;n=s(n,o,l,h,e[d],7,-680876936),h=s(h,n,o,l,e[d+1],12,-389564586),l=s(l,h,n,o,e[d+2],17,606105819),o=s(o,l,h,n,e[d+3],22,-1044525330),n=s(n,o,l,h,e[d+4],7,-176418897),h=s(h,n,o,l,e[d+5],12,1200080426),l=s(l,h,n,o,e[d+6],17,-1473231341),o=s(o,l,h,n,e[d+7],22,-45705983),n=s(n,o,l,h,e[d+8],7,1770035416),h=s(h,n,o,l,e[d+9],12,-1958414417),l=s(l,h,n,o,e[d+10],17,-42063),o=s(o,l,h,n,e[d+11],22,-1990404162),n=s(n,o,l,h,e[d+12],7,1804603682),h=s(h,n,o,l,e[d+13],12,-40341101),l=s(l,h,n,o,e[d+14],17,-1502002290),o=s(o,l,h,n,e[d+15],22,1236535329),n=a(n,o,l,h,e[d+1],5,-165796510),h=a(h,n,o,l,e[d+6],9,-1069501632),l=a(l,h,n,o,e[d+11],14,643717713),o=a(o,l,h,n,e[d],20,-373897302),n=a(n,o,l,h,e[d+5],5,-701558691),h=a(h,n,o,l,e[d+10],9,38016083),l=a(l,h,n,o,e[d+15],14,-660478335),o=a(o,l,h,n,e[d+4],20,-405537848),n=a(n,o,l,h,e[d+9],5,568446438),h=a(h,n,o,l,e[d+14],9,-1019803690),l=a(l,h,n,o,e[d+3],14,-187363961),o=a(o,l,h,n,e[d+8],20,1163531501),n=a(n,o,l,h,e[d+13],5,-1444681467),h=a(h,n,o,l,e[d+2],9,-51403784),l=a(l,h,n,o,e[d+7],14,1735328473),o=a(o,l,h,n,e[d+12],20,-1926607734),n=c(n,o,l,h,e[d+5],4,-378558),h=c(h,n,o,l,e[d+8],11,-2022574463),l=c(l,h,n,o,e[d+11],16,1839030562),o=c(o,l,h,n,e[d+14],23,-35309556),n=c(n,o,l,h,e[d+1],4,-1530992060),h=c(h,n,o,l,e[d+4],11,1272893353),l=c(l,h,n,o,e[d+7],16,-155497632),o=c(o,l,h,n,e[d+10],23,-1094730640),n=c(n,o,l,h,e[d+13],4,681279174),h=c(h,n,o,l,e[d],11,-358537222),l=c(l,h,n,o,e[d+3],16,-722521979),o=c(o,l,h,n,e[d+6],23,76029189),n=c(n,o,l,h,e[d+9],4,-640364487),h=c(h,n,o,l,e[d+12],11,-421815835),l=c(l,h,n,o,e[d+15],16,530742520),o=c(o,l,h,n,e[d+2],23,-995338651),n=u(n,o,l,h,e[d],6,-198630844),h=u(h,n,o,l,e[d+7],10,1126891415),l=u(l,h,n,o,e[d+14],15,-1416354905),o=u(o,l,h,n,e[d+5],21,-57434055),n=u(n,o,l,h,e[d+12],6,1700485571),h=u(h,n,o,l,e[d+3],10,-1894986606),l=u(l,h,n,o,e[d+10],15,-1051523),o=u(o,l,h,n,e[d+1],21,-2054922799),n=u(n,o,l,h,e[d+8],6,1873313359),h=u(h,n,o,l,e[d+15],10,-30611744),l=u(l,h,n,o,e[d+6],15,-1560198380),o=u(o,l,h,n,e[d+13],21,1309151649),n=u(n,o,l,h,e[d+4],6,-145523070),h=u(h,n,o,l,e[d+11],10,-1120210379),l=u(l,h,n,o,e[d+2],15,718787259),o=u(o,l,h,n,e[d+9],21,-343485551),n=i(n,p),o=i(o,f),l=i(l,m),h=i(h,g)}return[n,o,l,h]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(r(t)),i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))}},function(e,t,n){"use strict";var r=n(3221),i=n(2657);t.a=function(e,t,n){var o=(e=e||{}).random||(e.rng||r.a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=o[s];return t}return Object(i.a)(o)}},function(e,t,n){"use strict";var r=n(3222),i=n(5272),o=Object(r.a)("v5",80,i.a);t.a=o},function(e,t,n){"use strict";function r(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function i(e,t){return e<<t|e>>>32-t}t.a=function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var o=unescape(encodeURIComponent(e));e=[];for(var s=0;s<o.length;++s)e.push(o.charCodeAt(s))}e.push(128);for(var a=e.length/4+2,c=Math.ceil(a/16),u=new Array(c),l=0;l<c;++l){for(var h=new Uint32Array(16),d=0;d<16;++d)h[d]=e[64*l+4*d]<<24|e[64*l+4*d+1]<<16|e[64*l+4*d+2]<<8|e[64*l+4*d+3];u[l]=h}u[c-1][14]=8*(e.length-1)/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=8*(e.length-1)&4294967295;for(var p=0;p<c;++p){for(var f=new Uint32Array(80),m=0;m<16;++m)f[m]=u[p][m];for(var g=16;g<80;++g)f[g]=i(f[g-3]^f[g-8]^f[g-14]^f[g-16],1);for(var b=n[0],v=n[1],y=n[2],S=n[3],_=n[4],w=0;w<80;++w){var C=Math.floor(w/20),k=i(b,5)+r(C,v,y,S)+_+t[C]+f[w]>>>0;_=S,S=y,y=i(v,30)>>>0,v=b,b=k}n[0]=n[0]+b>>>0,n[1]=n[1]+v>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+S>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(5274)),o=r(n(5275)),s=n(2117);function a(e,t){return Object.freeze(t)}t.parseNotebook=function(e){return JSON.parse(e,a)},t.fromJS=function(e){if(s.Record.isRecord(e)){if(e.has("cellOrder")&&e.has("cellMap"))return e;throw new TypeError("\n      commutable was passed an Immutable.Record \n      structure that is not a notebook\n    ")}if(o.isNotebookV4(e)){if(Array.isArray(e.cells)&&"object"===typeof e.metadata)return o.fromJS(e)}else if(i.isNotebookV3(e))return i.fromJS(e);if(e.nbformat)throw new TypeError(`nbformat v${e.nbformat}.${e.nbformat_minor} not recognized`);throw new TypeError("This notebook format is not supported")},t.toJS=function(e){const t=e.get("nbformat_minor",null);if(4===e.get("nbformat")&&"number"===typeof t&&t>=0)return o.toJS(e);throw new TypeError("Only notebook formats 3 and 4 are supported!")},t.stringifyNotebook=function(e){return JSON.stringify(e,null,2)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2117),i=n(2285),o=n(2401),s=n(2402),a=n(2658),c=n(2401),u={text:"text/plain",latex:"text/latex",png:"image/png",jpeg:"image/jpeg",svg:"image/svg+xml",html:"text/html",javascript:"application/x-javascript",json:"application/javascript",pdf:"application/pdf"};function l(e){const t={};for(const n of Object.keys(e))n in u&&(t[u[n]]=e[n]);return i.createFrozenMediaBundle(t)}function h(e){switch(e.output_type){case"pyout":return a.makeExecuteResult({execution_count:e.prompt_number,data:l(e),metadata:r.fromJS(e.metadata)});case"display_data":return a.makeDisplayData({data:l(e),metadata:r.fromJS(e.metadata)});case"stream":const t="stderr"===e.stream?"stderr":"stdout";return a.makeStreamOutput({name:t,text:i.demultiline(e.text)});case"pyerr":return a.makeErrorOutput({ename:e.ename,evalue:e.evalue,traceback:r.List(e.traceback)});default:throw new TypeError(`Output type ${e.output_type} not recognized`)}}function d(e){switch(e.cell_type){case"markdown":return function(e){return s.makeMarkdownCell({cell_type:e.cell_type,source:i.demultiline(e.source),metadata:r.fromJS(e.metadata)})}(e);case"code":return function(e){return s.makeCodeCell({cell_type:e.cell_type,source:i.demultiline(e.input),outputs:r.List(e.outputs.map(h)),execution_count:e.prompt_number,metadata:r.fromJS(e.metadata)})}(e);case"raw":return function(e){return s.makeRawCell({cell_type:e.cell_type,source:i.demultiline(e.source),metadata:r.fromJS(e.metadata)})}(e);case"heading":return function(e){return s.makeMarkdownCell({cell_type:"markdown",source:Array.isArray(e.source)?i.demultiline(e.source.map(t=>Array(e.level).join("#").concat(" ").concat(t))):e.source,metadata:r.fromJS(e.metadata)})}(e);default:throw new TypeError(`Cell type ${e.cell_type} unknown`)}}function p(e){return e&&"object"===typeof e&&3===e.nbformat&&e.nbformat_minor>=0}t.fromJS=function(e){if(!p(e))throw e=e,new TypeError(`Notebook is not a valid v3 notebook. v3 notebooks must be of form 3.x\n      It lists nbformat v${e.nbformat}.${e.nbformat_minor}`);const t={cellOrder:r.List().asMutable(),cellMap:r.Map().asMutable()},n=[].concat.apply([],e.worksheets.map(e=>e.cells.reduce((e,t)=>c.appendCell(e,d(t)),t)))[0];return o.makeNotebookRecord({cellOrder:n.cellOrder.asImmutable(),cellMap:n.cellMap.asImmutable(),nbformat_minor:e.nbformat_minor,nbformat:4,metadata:r.fromJS(e.metadata)})},t.isNotebookV3=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2117),i=n(2402),o=n(2658),s=n(2285),a=n(2401);function c(e){return r.Map(e).map((e,t)=>"tags"!==t?e:Array.isArray(e)?r.Set(e):r.Set())}function u(e){switch(e.cell_type){case"markdown":return function(e){return i.makeMarkdownCell({cell_type:e.cell_type,source:s.demultiline(e.source),metadata:c(e.metadata)})}(e);case"code":return function(e){return i.makeCodeCell({cell_type:e.cell_type,source:s.demultiline(e.source),outputs:r.List(e.outputs.map(o.createImmutableOutput)),execution_count:e.execution_count,metadata:c(e.metadata)})}(e);case"raw":return function(e){return i.makeRawCell({cell_type:e.cell_type,source:s.demultiline(e.source),metadata:c(e.metadata)})}(e);default:throw new TypeError(`Cell type ${e.cell_type} unknown`)}}function l(e){return e.toJS()}function h(e){switch(e.output_type){case"execute_result":return{output_type:e.output_type,execution_count:e.execution_count,data:s.createOnDiskMediaBundle(e.data),metadata:e.metadata.toJS()};case"display_data":return{output_type:e.output_type,data:s.createOnDiskMediaBundle(e.data),metadata:e.metadata.toJS()};case"stream":return{output_type:e.output_type,name:e.name,text:s.remultiline(e.text)};case"error":return{output_type:e.output_type,ename:e.ename,evalue:e.evalue,traceback:e.traceback.toJS()}}}function d(e){switch(e.cell_type){case"markdown":return function(e){return{cell_type:"markdown",source:s.remultiline(e.source),metadata:l(e.metadata)}}(e);case"code":return function(e){return{cell_type:"code",source:s.remultiline(e.source),outputs:e.outputs.map(h).toArray(),execution_count:e.execution_count,metadata:l(e.metadata)}}(e);case"raw":return function(e){return{cell_type:"raw",source:s.remultiline(e.source),metadata:l(e.get("metadata",r.Map()))}}(e);default:throw new TypeError("Cell type unknown at runtime")}}function p(e){return e&&"object"===typeof e&&4===e.nbformat&&e.nbformat_minor>=0}t.fromJS=function(e){if(!p(e))throw e=e,new TypeError(`Notebook is not a valid v4 notebook. v4 notebooks must be of form 4.x\n       It lists nbformat v${e.nbformat}.${e.nbformat_minor}`);const t={cellOrder:r.List().asMutable(),cellMap:r.Map().asMutable()},n=e.cells.reduce((e,t)=>a.appendCell(e,u(t)),t);return a.makeNotebookRecord({cellOrder:n.cellOrder.asImmutable(),cellMap:n.cellMap.asImmutable(),nbformat_minor:e.nbformat_minor,nbformat:4,metadata:r.fromJS(e.metadata)})},t.outputToJS=h,t.cellToJS=d,t.toJS=function(e){const t=e.toObject(),n=t.cellOrder.toArray(),r=t.cellMap.toObject();return{cells:n.filter(e=>!r[e].getIn(["metadata","nteract","transient","deleting"])).map(e=>d(r[e])),metadata:t.metadata.toJS(),nbformat:4,nbformat_minor:t.nbformat_minor}},t.isNotebookV4=p},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2117),o=n(2637),s=n(2651),a=n(2275),c=n(2208),u=n(2656),l=n(2116),h=n(2391);t.TextCellDDS=class extends a.PrimedComponent{get model(){return this}get id(){return this.root.get("cellId")}componentInitializingFirstTime(e){return r(this,void 0,void 0,function*(){const t=h.SharedCell.create(this.runtime),n=c.SharedString.create(this.runtime),r=l.SharedMap.create(this.runtime);let i;if(e){i=e.id;const{cell:o}=e;t.set(o.cell_type),n.insertText(0,o.source),o.metadata.forEach((e,t)=>{r.set(t,e)})}this.root.set("cellId",i).set("cellType",t.handle).set("source",n.handle).set("metadata",r.handle)})}componentHasInitialized(){return r(this,void 0,void 0,function*(){this.cellType=yield this.root.get("cellType").get(),this.source=yield this.root.get("source").get(),this.metadata=yield this.root.get("metadata").get(),this.sourceObservable=o.fromEvent(this.source,"sequenceDelta").pipe(s.filter(([e])=>!e.isLocal),s.map(([,e])=>e.getText()))})}get source$(){return this.sourceObservable}asImmutable(){const e=new Map;return this.metadata.forEach((t,n)=>e.set(n,t)),"markdown"===this.cellType.get()?u.makeMarkdownCell({source:this.source.getText(),metadata:i.Map(e)}):u.makeRawCell({source:this.source.getText(),metadata:i.Map(e)})}getSource(){return this.source}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2117),s=n(2637),a=n(2651),c=n(2275),u=n(2208),l=n(2116),h=n(2391),d=n(2001),p=n(2099),f=n(2656),m=i(n(3153)),g=n(2385);t.NotebookDDS=class extends c.PrimedComponent{constructor(e){super(e),this.presenceSubject=new s.Subject,this.audienceSubject=new s.Subject,this.connectedPeers=new Map,this.outputsSubject=new s.Subject,this.debug=m.default.extend(e.runtime.clientId,"|"),this.debug("Creating notebook component"),this.modelAdapter=e.runtime.options.modelAdapter}get model(){return this}get audience$(){return this.audienceSubject}get presence$(){return this.presenceSubject}get leader$(){return this.leaderObservable}get cells$(){return this.cellsObservable}get outputs$(){return this.outputsSubject}get lastModifiedTime$(){return this.lastModifiedTimeObservable}asImmutable(){return r(this,void 0,void 0,function*(){const e=new Map;for(const[t,n]of this.cellMap){const r=(yield this.getComponent_UNSAFE(n)).model.asImmutable();e.set(t,r)}return f.createNotebook({cellOrder:o.List(this.cellOrder.getItems(0)),cellMap:o.Map(e),metadata:o.Map(this.metadata)})})}getOutputAnnotations(){return r(this,void 0,void 0,function*(){const e=new Map;for(const[t,n]of this.cellMap){const r=yield this.getComponent_UNSAFE(n);if(g.isCodeCell(r)){const n=r.lastOutputCreatedBy();n&&e.set(t,n)}}return e})}getCell(e){return r(this,void 0,void 0,function*(){const t=yield this.cellMap.wait(e);return(yield this.getComponent_UNSAFE(t)).model})}insertCell(e,t,n){return r(this,void 0,void 0,function*(){const r=yield this.createCellComponent(e,n);this.cellMap.set(e,r);let i=0;if(t){const e=this.cellOrder.getItems(0).indexOf(t);i=-1===e?this.cellOrder.getItemCount():e+1}this.cellOrder.insert(i,[e])})}deleteCell(e){const t=this.cellOrder.getItems(0).indexOf(e);-1!==t&&this.cellOrder.remove(t,t+1),this.cellMap.delete(e)}replaceCell(e,t){return r(this,void 0,void 0,function*(){const n=yield this.createCellComponent(e,t);this.cellMap.set(e,n)})}moveCell(e,t,n){const r=this.cellOrder.getItems(0).indexOf(e),i=this.cellOrder.getItems(0).indexOf(t)+(n?0:1),o=i-(r<i?1:0),s=p.createRemoveRangeOp(r,r+1),a=p.createInsertSegmentOp(o,new u.SubSequence([e]));try{this.cellOrder.groupOperation(p.createGroupOp(s,a))}catch(c){console.error(c)}}updatePresence(e){const{id:t}=this.context.options.user;this.presence.set(this.runtime.clientId,{userId:t,location:e})}getLastModifiedTime(){return this.lastModifiedTime.get()}setLastModifiedTime(e){this.lastModifiedTime.set(e)}componentInitializingFirstTime(){return this.debug("Initializing new document"),this.seedModel()}seedModel(){return r(this,void 0,void 0,function*(){const e=u.SharedObjectSequence.create(this.runtime),t=l.SharedMap.create(this.runtime),n=l.SharedMap.create(this.runtime),r=this.modelAdapter.getSnapshot();e.insert(0,r.cellOrder.toArray());for(const i of r.cellOrder){const e=r.cellMap.get(i),n=yield this.createCellComponent(i,e);t.set(i,n)}r.metadata.forEach((e,t)=>{n.set(t,e)}),this.root.set("cellMap",t.handle).set("cellOrder",e.handle).set("documentUsers",l.SharedMap.create(this.runtime).handle).set("lastModifiedTime",h.SharedCell.create(this.runtime).handle).set("metadata",n.handle).set("presence",l.SharedMap.create(this.runtime).handle)})}componentInitializingFromExisting(){return r(this,void 0,void 0,function*(){this.debug("Opening existing document"),this.modelAdapter.shouldSeedModel&&(yield this.seedModel());const e=yield this.root.get("presence").get(),t=this.runtime.getAudience();[...e.keys()].forEach(n=>{t.getMember(n)||(this.debug("inactive member",n),e.delete(n))})})}componentHasInitialized(){return r(this,void 0,void 0,function*(){this.debug("Notebook component has initialized",this.runtime.documentId,this.runtime.clientId),this.cellMap=yield this.root.get("cellMap").get(),this.cellOrder=yield this.root.get("cellOrder").get(),this.documentUsers=yield this.root.get("documentUsers").get(),this.lastModifiedTime=yield this.root.get("lastModifiedTime").get(),this.metadata=yield this.root.get("metadata").get(),this.presence=yield this.root.get("presence").get();const{id:e,displayName:t}=this.context.options.user,n={displayName:t};this.documentUsers.set(e,n),this.runtime.deltaManager.inbound.on("op",this.handleSummaryOp.bind(this)),this.configureLeader().configureLastModifiedTime(),yield this.configureCells(),yield this.modelAdapter.useModel(this),this.configureAudience().configurePresence()})}configureLeader(){return this.leaderObservable=new s.Observable(e=>{e.next(this.context.leader),this.context.on("leader",()=>e.next(!0)),this.context.on("notleader",()=>e.next(!0))}),this.leader$.subscribe(e=>this.debug(`${e?"":"NOT "}LEADER NOW`,this.runtime.clientId)),this}configureLastModifiedTime(){return this.lastModifiedTimeObservable=s.fromEvent(this.lastModifiedTime,"op").pipe(a.filter(([e,t])=>!t&&"setCell"===e.contents.type&&e.contents.value.value),a.map(([e])=>e.contents.value.value)),this}configureCells(){return r(this,void 0,void 0,function*(){const e=s.fromEvent(this.cellOrder,"op").pipe(a.filter(([,e])=>!e),a.mergeMap(([e])=>{const t=e.contents;switch(t.type){case 0:if("number"===typeof t.pos1&&t.seg&&t.seg.items instanceof Array){const e=t.seg.items[0];return s.of({event:"insert",id:e,pos:t.pos1})}break;case 1:if("number"===typeof t.pos1&&"number"===typeof t.pos2)return s.of({event:"remove",pos:t.pos1});break;case 3:if(t&&t.ops instanceof Array&&2===t.ops.length){const e=t.ops[0],n=t.ops[1];return s.of({event:"move",pos1:e.pos1,pos2:n.pos1})}}return s.EMPTY})),t=s.fromEvent(this.cellMap,"valueChanged").pipe(a.filter(([e])=>e.previousValue),a.map(([e,t])=>({event:"replace",id:e.key,local:t})));this.cellsObservable=s.merge(e,t);const n=[];s.fromEvent(this.cellMap,"op").pipe(a.filter(([e])=>"set"===e.contents.type),a.map(([e])=>[e.contents.key,e.contents.value.value])).subscribe(([e])=>r(this,void 0,void 0,function*(){const t=yield this.getCell(e);if(g.isCodeCell(t)){const e=t.outputs$.subscribe(e=>this.outputsSubject.next(e));n.push(e)}}));for(const r of this.cellMap.values()){const e=yield this.getComponent_UNSAFE(r);if(g.isCodeCell(e.model)){const t=e.model.outputs$.subscribe(e=>this.outputsSubject.next(e));n.push(t)}}return this})}configurePresence(){return[...this.connectedPeers.entries()].forEach(([e,t])=>{var n;if(e!==this.runtime.clientId){const r=this.presence.get(e);this.presenceSubject.next({peerId:e,userId:t,location:null===(n=r)||void 0===n?void 0:n.location})}}),this.presence.on("op",(e,t)=>{if(!t&&e.contents.key!==this.runtime.clientId)if("delete"===e.contents.type)this.presenceSubject.next({peerId:e.contents.key});else{const t=e.contents.value.value,n=Object.assign({},t.location);this.presenceSubject.next({peerId:e.contents.key,userId:t.userId,location:n})}}),this}configureAudience(){const e=this.runtime.getAudience();[...e.getMembers().entries()].filter(([,e])=>e.details.capabilities.interactive&&e.user.id).forEach(([e,t])=>this.connectedPeers.set(e,t.user.id)),e.on("addMember",t=>{const n=e.getMember(t);n&&n.details.capabilities.interactive&&n.user.id&&(this.connectedPeers.set(t,n.user.id),this.presenceSubject.next({peerId:t,userId:n.user.id}))}),e.on("removeMember",e=>{const t=this.connectedPeers.get(e);if(t){this.connectedPeers.delete(e),this.presenceSubject.next({peerId:e});const n=this.documentUsers.get(t);n&&![...this.connectedPeers.values()].includes(t)&&this.audienceSubject.next({userId:t,displayName:n.displayName,presence:g.PresenceStatus.inactive})}});const t=[...this.connectedPeers.values()];return[...this.documentUsers.entries()].forEach(([e,n])=>{this.audienceSubject.next({userId:e,displayName:n.displayName,presence:t.includes(e)?g.PresenceStatus.active:g.PresenceStatus.inactive})}),this.documentUsers.on("valueChanged",(e,t)=>{if(!t){const t=e.key,n=this.documentUsers.get(t);this.audienceSubject.next({userId:t,displayName:n.displayName,presence:g.PresenceStatus.active})}}),this}createCellComponent(e,t){return r(this,void 0,void 0,function*(){let n;switch((t=t||f.createCodeCell()).cell_type){case"code":n=yield this.createAndAttachComponent(g.CodeCellDdsName,{id:e,cell:t});break;case"markdown":case"raw":n=yield this.createAndAttachComponent(g.TextCellDdsName,{id:e,cell:t})}return n.url})}handleSummaryOp(e){return r(this,void 0,void 0,function*(){if(this.context.leader)switch(e.type){case d.MessageType.Summarize:{const t=e.contents;return this.debug("inbound op="+e.type," clientSeq#="+e.clientSequenceNumber," refSeq#="+e.referenceSequenceNumber," seq#="+e.sequenceNumber," minSeq#="+e.minimumSequenceNumber,"content="+t.message),this.saveSequenceNumber=e.sequenceNumber,void(this.nbModel=this.modelAdapter.getSnapshot().setIn(["metadata","collaboration","seqNumber"],e.sequenceNumber))}case d.MessageType.SummaryAck:{const t=e.contents;return this.debug("inbound op="+e.type," clientSeq#="+e.clientSequenceNumber," refSeq#="+e.referenceSequenceNumber," seq#="+e.sequenceNumber," minSeq#="+e.minimumSequenceNumber,"summarySeq#="+t.summaryProposal.summarySequenceNumber),void(this.saveSequenceNumber===t.summaryProposal.summarySequenceNumber&&this.nbModel&&this.modelAdapter.useSnapshotForSave(this.nbModel))}case d.MessageType.SummaryNack:{const t=e.contents;return void this.debug("summarize nack seq#:",t.summaryProposal.summarySequenceNumber)}default:return}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5279);t.LocalServiceFactory=r.LocalServiceFactory;var i=n(5386);t.LocalServiceUrlResolver=i.LocalServiceUrlResolver},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2076),i=n(3223),o=n(3244),s=n(2664),a=n(2031);t.LocalServiceFactory=class{constructor(){this.protocolName="fluid-test:"}createDocumentService(e,t){a.ensureFluidResolvedUrl(e);const n=r.parse(e.url),[,c,u]=n.path.split("/");if(!u||!c)throw new Error(`Couldn't parse documentId and/or tenantId. [documentId:${u}][tenantId:${c}]`);return this.factory||(this.testdeltaConn=i.LocalDeltaConnectionServer.create(new o.SessionStorageDbFactory(u)),this.factory=new s.TestDocumentServiceFactory(this.testdeltaConn)),this.factory.createDocumentService(e,t)}createContainer(e,t,n){return this.factory.createContainer(e,t,n)}}},function(e,t,n){"use strict";var r=n(2119),i=(n.n(r),n(5306)),o=(n.n(i),n(3231)),s=(n.n(o),n(5342));class a{constructor(e,t,n,r,i,o){this.webSocketServer=e,this.databaseManager=t,this.ordererManager=n,this.testDbFactory=r,this.documentStorage=i,this.logger=o}static create(e=new i.TestDbFactory({})){const t=new i.TestWebSocketServer,n=new r.MongoManager(e),c=new i.TestTenantManager(void 0,void 0,e.testDatabase),u=new r.MongoDatabaseManager(n,"nodes","documents","deltas","scribeDeltas"),l=new i.TestDocumentStorage(u,c),h=i.DebugLogger.create("fluid-server:LocalDeltaConnectionServer"),d=new s.a(l,u,c,new i.TestTaskMessageSender,{},16384,async()=>new i.TestHistorian(e.testDatabase),h);return Object(o.configureWebSocketServices)(t,d,c,l,e.testDatabase.collection("ops"),new i.TestClientManager,new r.DefaultMetricClient,h),new a(t,u,d,e,l,h)}async hasPendingWork(){return this.ordererManager.hasPendingWork()}connectWebSocket(e,t,n,r,i){const o=this.webSocketServer.createConnection(),s={client:r,id:t,mode:r.mode,tenantId:e,token:n,versions:i},a=new Promise((e,t)=>{const n=[],r=[],i=[],a=(e,t)=>{this.logger.info(`Queued early ops: ${t.length}`),n.push(...t)};o.on("op",a);const c=e=>{this.logger.info("Queued early contents"),r.push(e)};o.on("op-content",c);const u=e=>{this.logger.info("Queued early signals"),i.push(e)};o.on("signal",u),o.on("connect_error",e=>{t(e)}),o.on("connect_document_success",t=>{o.removeListener("op",a),o.removeListener("op-content",c),o.removeListener("signal",u),void 0===t.initialMessages&&(t.initialMessages=[]),void 0===t.initialClients&&(t.initialClients=[]),void 0===t.initialContents&&(t.initialContents=[]),void 0===t.initialSignals&&(t.initialSignals=[]),n.length>0&&(t.initialMessages.push(...n),t.initialMessages.sort((e,t)=>e.sequenceNumber-t.sequenceNumber)),r.length>0&&(t.initialContents.push(...r),t.initialContents.sort((e,t)=>e.clientId===t.clientId?0:(e.clientId<t.clientId?-1:1)||e.clientSequenceNumber-t.clientSequenceNumber)),i.length>0&&t.initialSignals.push(...i),e(t)}),o.on("connect_document_error",t),o.emit("connect_document",s)});return[o,a]}}t.a=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=["Elliot Woodward","Miguel Garcia","Robert Tolbert","Henry Brill","Cecil Folk","Isaac Fielder","Erik Nason","Tim Deboer","Mauricio August","Allan Munger","Kevin Sturgis","Carlos Slattery","Johnnie McConnell","Colin Ballinger","Kat Larsson","Katri Ahokas","Carole Poland","Wanda Howard","Amanda Brady","Ashley McCarthy","Lydia Bauer","Robin Counts","Charlotte Walton","Elvia Atkins","Daisy Phillips","Mona Kane","Kristin Patterson","Celeste Burton"];t.chooseCelaName=(()=>r[Math.floor(Math.random()*r.length)])},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(2100),i=n(3225);t.extractBoxcar=function(t){if("string"!==typeof t.value&&!e.isBuffer(t.value))return t.value;const n=t.value.toString(),o=r.safelyParseJSON(n),s=o;if(!s)return{contents:[],documentId:null,tenantId:null,type:i.BoxcarType};if(s.type===i.BoxcarType){const e=s;return{contents:e.contents.length>0&&"string"===typeof e.contents[0]?e.contents.map(e=>JSON.parse(e)):e.contents,documentId:e.documentId,tenantId:e.tenantId,type:e.type}}return{contents:[s],documentId:o.documentId,tenantId:o.tenantId,type:i.BoxcarType}}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";var r=n(5284);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";t.a=function(){return performance.now()}},function(e,t,n){"use strict";(function(e){t.a=(t=>e.from(t,"base64").toString("utf-8"));t.b=(t=>e.from(t,"utf8").toString("base64"))}).call(t,n(22).Buffer)},function(e,t,n){"use strict";t.a=class{constructor(e,t=100){this.process=e,this.maxBatchSize=t,this.pendingWork=new Map}add(e,t){this.pendingWork.has(e)||this.pendingWork.set(e,[]),this.pendingWork.get(e).push(t),this.pendingWork.get(e).length>=this.maxBatchSize?(void 0!==this.pendingTimer&&clearTimeout(this.pendingTimer),this.pendingTimer=void 0,this.startWork()):void 0===this.pendingTimer&&(this.pendingTimer=setTimeout(()=>{this.pendingTimer=void 0,this.startWork()},0))}drain(){this.startWork()}startWork(){const e=this.pendingWork;this.pendingWork=new Map;for(const[t,n]of e)this.process(t,n)}}},function(e,t,n){"use strict";t.a=function(e,t){return(...n)=>{if(e.disposed)throw new Error("Already disposed");return t(...n)}}},function(e,t,n){"use strict";var r=n(2659);t.a=class extends r.a{emit(e,...t){if("error"===e){const n=super.emit(e,...t);return n||console.error("Nobody is listening for 'error' events"),n}let n;try{n=super.emit(e,...t)}catch(r){n=this.emit("error",r)}return n}}},function(e,t,n){"use strict";var r=n(2659);class i extends r.a{constructor(e){if(super(),this.isDisposed=!1,this.forwardingEvents=new Map,void 0!==e){const t=t=>this.unforwardEvent(e,t),n=t=>this.forwardEvent(e,t);this.on(i.removeListenerEvent,t),this.on(i.newListenerEvent,n)}}static isEmitterEvent(e){return e===i.newListenerEvent||e===i.removeListenerEvent}get disposed(){return this.isDisposed}dispose(){this.isDisposed=!0;for(const t of this.forwardingEvents.values())for(const n of t.values())try{n()}catch(e){}this.removeAllListeners(),this.forwardingEvents.clear()}forwardEvent(e,...t){for(const n of t)if(void 0!==e&&void 0!==n&&!i.isEmitterEvent(n)){let t=this.forwardingEvents.get(n);if(void 0===t&&(t=new Map,this.forwardingEvents.set(n,t)),!t.has(e)){const r=(...e)=>this.emit(n,...e);t.set(e,()=>e.off(n,r)),e.on(n,r)}}}unforwardEvent(e,...t){var n;for(const r of t)if(void 0!==r&&!i.isEmitterEvent(r)){const t=this.forwardingEvents.get(r);if((null===(n=t)||void 0===n?void 0:n.has(e))&&0===this.listenerCount(r)){const n=t.get(e);void 0!==n&&n(),t.delete(e),0===t.size&&this.forwardingEvents.delete(r)}}}}t.a=i,i.newListenerEvent="newListener",i.removeListenerEvent="removeListener"},function(e,t,n){"use strict";t.a=function(e,t,n,r){try{n?t.emit("connected",r):t.emit("disconnected")}catch(i){e.sendErrorEvent({eventName:"RaiseConnectedEventError",clientId:r},i)}}},function(e,t,n){"use strict";(function(e){t.c=i,t.a=o,t.b=async function(t){if("object"!==typeof crypto||null===crypto)return o(t);const n=`blob ${t.byteLength.toString()}${String.fromCharCode(0)}`,r=e.from(n,"utf-8");return i(e.concat([r,t],r.length+t.length))};var r=n(2596);n.n(r);async function i(e){if("object"!==typeof crypto||null===crypto){return(new r).update(e).digest("hex")}try{const n=await crypto.subtle.digest("SHA-1",e),i=new Uint8Array(n);return Array.prototype.map.call(i,function(e){return e.toString(16).padStart(2,"0")}).join("")}catch(t){return(new r).update(e).digest("hex")}}function o(e){const t=`blob ${e.byteLength.toString()}${String.fromCharCode(0)}`;return(new r).update(t).update(e).digest("hex")}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";const r={compare:(e,t)=>e-t,min:Number.MIN_VALUE};t.b=r;t.a=class{constructor(e){this.comp=e,this.L=[{value:e.min,position:0}]}peek(){return this.L[1]}get(){this.swap(1,this.count());const e=this.L.pop();return this.fixdown(1),e.value}add(e){const t={value:e,position:this.L.length};return this.L.push(t),this.fixup(this.count()),t}update(e){const t=e.position;this.isGreaterThanParent(t)?this.fixup(t):this.fixdown(t)}remove(e){const t=e.position;this.swap(e.position,this.L.length-1),this.L.splice(this.L.length-1),t!==this.L.length&&this.update(this.L[t])}count(){return this.L.length-1}fixup(e){let t=e;for(;this.isGreaterThanParent(t);){const e=t>>1;this.swap(t,e),t=e}}isGreaterThanParent(e){return e>1&&this.comp.compare(this.L[e>>1].value,this.L[e].value)>0}fixdown(e){let t=e;for(;t<<1<=this.count();){let e=t<<1;if(e<this.count()&&this.comp.compare(this.L[e].value,this.L[e+1].value)>0&&e++,this.comp.compare(this.L[t].value,this.L[e].value)<=0)break;this.swap(t,e),t=e}}swap(e,t){const n=this.L[e];this.L[e]=this.L[t],this.L[e].position=e,this.L[t]=n,this.L[t].position=t}}},function(e,t,n){"use strict";var r=n(2012);n.n(r);const i=n(2085);class o{send(e){}}t.a=o;class s{constructor(e,t,n){this.namespace=e,this.properties=t,this.propertyGetters=n}static formatTick(e){return Math.floor(e)}static numberFromString(e){if(void 0===e||null===e)return;const t=Number(e);return Number.isNaN(t)?e:t}static sanitizePkgName(e){return e.replace("@","").replace("/","-")}static prepareErrorObject(e,t,n){if(null===t||"object"!==typeof t)e.error=t;else{const n=t;if(e.stack=n.stack,e.error=n.message,t.containsPII)e.error="Error message was removed as it contained PII";else if(t.getCustomProperties){const n=t.getCustomProperties();for(const t of Object.keys(n))void 0===e[t]&&(e[t]=n[t])}}void 0===e.stack&&n&&(e.stack=s.getStack())}static getStack(){let e=(new Error).stack;if(!e)try{throw new Error}catch(t){e=t.stack}return e}sendTelemetryEvent(e,t){const n=Object.assign(Object.assign({},e),{category:e.category?e.category:"generic"});void 0!==t&&s.prepareErrorObject(n,t,!1),this.send(n)}sendErrorEvent(e,t){const n=Object.assign(Object.assign({},e),{category:"error"});s.prepareErrorObject(n,t,!0),this.send(n)}sendPerformanceEvent(e,t){const n=Object.assign(Object.assign({},e),{category:e.category?e.category:"performance"});void 0!==t&&s.prepareErrorObject(n,t,!1),e.duration&&(n.duration=s.formatTick(e.duration)),this.send(n)}logGenericError(e,t){this.sendErrorEvent({eventName:e},t)}logException(e,t){this.sendErrorEvent(Object.assign(Object.assign({},e),{isException:!0}),t)}debugAssert(e,t){this.shipAssert(e,t)}shipAssert(e,t){if(!e){const e=void 0===t?{eventName:"Assert"}:t;e.isAssert=!0,e.stack=s.getStack(),this.sendErrorEvent(e)}}prepareEvent(e){const t=Object.assign(Object.assign({},this.properties),e);if(void 0!==this.namespace&&(t.eventName=`${this.namespace}${s.eventNamespaceSeparator}${t.eventName}`),this.propertyGetters)for(const n of Object.keys(this.propertyGetters)){if(void 0!==e[n])continue;const r=(0,this.propertyGetters[n])();void 0!==r&&(t[n]=r)}return t}}t.f=s,s.eventNamespaceSeparator=":";t.g=class{send(e){}sendTelemetryEvent(e,t){}sendErrorEvent(e,t){}sendPerformanceEvent(e,t){}logGenericError(e,t){}logException(e,t){}debugAssert(e,t){}shipAssert(e,t){}};class a extends s{constructor(e,t,n,r){super(t,n,r),this.logger=e}static create(e,t,n,r){return new a(e||new o,t,n,r)}send(e){this.logger.send(this.prepareEvent(e))}}t.b=a;class c extends s{constructor(e,t,n){super(e,t,n),this.loggers=[]}addLogger(e){void 0!==e&&null!==e&&this.loggers.push(e)}send(e){const t=this.prepareEvent(e);this.loggers.forEach(e=>{e.send(t)})}}t.d=c;class u extends s{constructor(e,t,n,r){super(void 0,n,r),this.debug=e,this.debugErr=t}static create(e,t,n){const i=r(e),o=r(e);return o.log=console.error.bind(console),o.enabled=!0,new u(i,o,t,n)}static mixinDebugLogger(e,t,n,r){if(!t)return u.create(e,n,r);const i=new c(void 0,n,r);return i.addLogger(u.create(e)),i.addLogger(a.create(t,e)),i}send(e){const t=this.prepareEvent(e),n="error"===t.category;let r=n?this.debugErr:this.debug;const o=e.eventName.lastIndexOf(s.eventNamespaceSeparator),a=e.eventName.substring(o+1);o>0&&(r=r.extend(e.eventName.substring(0,o))),t.eventName=void 0;let c="";"performance"===e.category&&(c=`tick=${s.formatTick(i())}`);const u=t.stack?t.stack:"";let l;t.stack=void 0;try{l=JSON.stringify(t)}catch(h){t.error=void 0,l=JSON.stringify(t)}"{}"===l&&(l=""),n&&(r.enabled=!0),r(`${a} ${l} ${c} ${u}`)}}t.c=u;class l{constructor(e,t){this.logger=e,this.startTime=i(),this.event=Object.assign({},t),this.reportEvent("start"),"object"===typeof window&&null!=window&&window.performance&&(this.startMark=`${t.eventName}-start`,window.performance.mark(this.startMark))}static start(e,t){return new l(e,t)}reportProgress(e,t="update"){this.reportEvent(t,e)}end(e,t="end"){if(this.reportEvent(t,e),this.startMark){const e=`${this.event.eventName}-${t}`;window.performance.mark(e),window.performance.measure(`${this.event.eventName}`,this.startMark,e),this.startMark=void 0}this.event=void 0}cancel(e,t){this.reportEvent("cancel",e,t),this.event=void 0}reportEvent(e,t,n){if(!this.event)return void this.logger.sendErrorEvent({eventName:"PerformanceEventAfterStop",perfEventName:this.event.eventName,eventNameSuffix:e});const r=Object.assign(Object.assign({},this.event),t);r.eventName=`${r.eventName}_${e}`,"start"!==e&&(r.duration=i()-this.startTime),this.logger.sendPerformanceEvent(r,n)}}t.e=l},function(e,t,n){"use strict";class r{constructor(e,t){this.expiry=e,this.cleanup=t,this.gcTimeouts=new Map}schedule(e){"indefinite"!==this.expiry.policy&&this.gcTimeouts.set(e,setTimeout(()=>{this.cleanup(e),this.cancel(e)},this.expiry.durationMs))}cancel(e){const t=this.gcTimeouts.get(e);void 0!==t&&(clearTimeout(t),this.gcTimeouts.delete(e))}update(e){"sliding"===this.expiry.policy&&(this.cancel(e),this.schedule(e))}}t.a=class{constructor({expiry:e={policy:"indefinite"},removeOnError:t=(()=>!0)}={}){this.cache=new Map,this.removeOnError=t,this.gc=new r(e,e=>this.remove(e))}has(e){return this.cache.has(e)}get(e){return this.has(e)&&this.gc.update(e),this.cache.get(e)}remove(e){return this.gc.cancel(e),this.cache.delete(e)}async addOrGet(e,t){let n=this.get(e);return void 0===n&&(n=(async()=>t())(),this.cache.set(e,n),n.catch(t=>{this.removeOnError(t)&&this.remove(e)}),this.gc.schedule(e)),n}add(e,t){const n=this.has(e);return this.addOrGet(e,t).catch(()=>{}),!n}async addValueOrGet(e,t){return this.addOrGet(e,async()=>t)}addValue(e,t){return this.add(e,async()=>t)}}},function(e,t,n){"use strict";var r=n(1994);n.n(r);const i=n(2165);t.a=class{constructor(e,t){"number"===typeof e?(this.ranges=[{length:0,primary:e,secondary:t}],this.lastPrimary=e,this.lastSecondary=t):(this.ranges=i(e.ranges),this.lastPrimary=e.lastPrimary,this.lastSecondary=e.lastSecondary)}get base(){return this.ranges[0].primary}get primaryHead(){return this.lastPrimary}get secondaryHead(){return this.lastSecondary}serialize(){return{lastPrimary:this.lastPrimary,lastSecondary:this.lastSecondary,ranges:i(this.ranges)}}add(e,t){r(e>=this.lastPrimary),void 0!==this.lastSecondary&&r(t>=this.lastSecondary),this.lastPrimary=e,this.lastSecondary=t;const n=this.ranges[this.ranges.length-1],i=n.primary+n.length,o=n.secondary+n.length;t!==o&&(e===i?0===n.length?n.secondary=t:(n.length--,this.ranges.push({length:0,primary:e,secondary:t})):i+1===e&&o+1===t?n.length++:this.ranges.push({length:0,primary:e,secondary:t}))}get(e){r(e>=this.ranges[0].primary);let t=1;for(;t<this.ranges.length&&!(e<this.ranges[t].primary);t++);r(e>=this.ranges[t-1].primary);const n=this.ranges[t-1];return Math.min(e-n.primary,n.length)+n.secondary}updateBase(e){r(e>=this.ranges[0].primary);let t=1;for(;t<this.ranges.length&&!(e<this.ranges[t].primary);t++);r(e>=this.ranges[t-1].primary);const n=this.ranges[t-1],i=e-n.primary;n.secondary=n.secondary+Math.min(i,n.length),n.length=Math.max(n.length-i,0),n.primary=e,this.ranges=t-1>0?this.ranges.slice(t-1):this.ranges,r.equal(e,this.ranges[0].primary)}}},function(e,t,n){"use strict";t.a=class{constructor(e){this.windowMSec=e,this.requestMap=new Map}filter(e,t){const n=[],r=Date.now();for(const i of t){const t=`${e}/${i}`;if(this.requestMap.has(t)){if(this.requestMap.get(t)+this.windowMSec>r)continue;this.requestMap.set(t,r),n.push(i)}else this.requestMap.set(t,r),n.push(i)}return n}}},function(e,t,n){"use strict";t.a=function(e){let t;try{t=JSON.parse(e)}catch(n){}return t}},function(e,t,n){"use strict";var r=n(3224);class i{constructor(e,t){this.defaultTimeout=e,this.defaultHandler=t}get hasTimer(){return!!this.timer}start(e=this.defaultTimeout,t=this.defaultHandler){this.clear(),this.timer=setTimeout(()=>this.wrapHandler(t),e)}clear(){this.timer&&(clearTimeout(this.timer),this.timer=void 0)}wrapHandler(e){this.clear(),e()}}t.b=i;t.a=class{constructor(e,t){this.timer=new i(e,()=>this.wrapHandler(t))}get hasTimer(){return this.timer.hasTimer}async start(e,t){return this.clear(),this.deferred=new r.a,this.timer.start(e,t?()=>this.wrapHandler(t):void 0),this.deferred.promise}clear(){this.timer.clear(),this.deferred&&(this.deferred.reject("canceled"),this.deferred=void 0)}wrapHandler(e){e(),this.deferred.resolve()}}},function(e,t,n){"use strict";const r=n(2085);class i{constructor(e){this.startTick=e,this.lastTick=e}static start(){const e=r();return new i(e)}trace(){const e=r(),t={totalTimeElapsed:e-this.startTick,duration:e-this.lastTick,tick:e};return this.lastTick=e,t}}t.a=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DefaultMetricClient=class{writeLatencyMetric(e,t){return Promise.resolve()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5302);t.MongoManager=class{constructor(e,t=!0,n=1e3){this.factory=e,this.shouldReconnect=t,this.reconnectDelayMs=n,this.databaseP=this.connect()}getDatabase(){return this.databaseP}async close(){return this.shouldReconnect=!1,(await this.databaseP).close()}connect(){const e=this.factory.connect().then(e=>(e.on("error",e=>{r.debug("DB Error",e),this.reconnect(this.reconnectDelayMs)}),e.on("close",e=>{r.debug("DB Close",e),this.reconnect(this.reconnectDelayMs)}),e));return e.catch(e=>{r.debug("DB Connection Error",e),this.reconnect(this.reconnectDelayMs)}),e}reconnect(e){this.shouldReconnect&&(this.databaseP=new Promise(t=>{setTimeout(()=>{const e=this.connect();t(e)},e)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2012),i=n(5303);t.debug=r("fluid:core"),t.debug(`Package: ${i.pkgName} - Version: ${i.pkgVersion}`)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pkgName="@microsoft/fluid-server-services-core",t.pkgVersion="0.1005.1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MongoDatabaseManager=class{constructor(e,t,n,r,i){this.mongoManager=e,this.nodeCollectionName=t,this.documentsCollectionName=n,this.deltasCollectionName=r,this.scribeDeltasCollectionName=i}async getNodeCollection(){return this.getCollection(this.nodeCollectionName)}async getDocumentCollection(){return this.getCollection(this.documentsCollectionName)}async getDeltaCollection(e,t){return this.getCollection(this.deltasCollectionName)}async getScribeDeltaCollection(e,t){return this.getCollection(this.scribeDeltasCollectionName)}async getCollection(e){return(await this.mongoManager.getDatabase()).collection(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CombinedProducer=class{constructor(e){this.producers=e}async send(e,t,n){const r=[];for(const i of this.producers)r.push(i.send(e,t,n));return Promise.all(r)}async close(){const e=[];for(const t of this.producers)e.push(t.close());await Promise.all(e)}on(e,t){return this}once(e,t){return this}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(3226)),r(n(5307)),r(n(5308)),r(n(2660)),r(n(3228)),r(n(5309)),r(n(3230)),r(n(5314)),r(n(5315)),r(n(5316)),r(n(5317)),r(n(5318))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2001),i=n(2119),o=n(3227);t.KafkaMessageFactory=class{constructor(e="test",t=1,n=!0,r=null,i=null){this.topic=e,this.stringify=n,this.tenantId=r,this.documentId=i,this.offsets=[];for(let o=0;o<t;o++)this.offsets.push(0)}sequenceMessage(e,t){const n=this.getPartition(t);return{offset:this.offsets[n]++,partition:n,topic:this.topic,value:this.stringify?JSON.stringify(e):{contents:[e],documentId:this.documentId,tenantId:this.tenantId,type:i.BoxcarType}}}getHeadOffset(e){return this.offsets[this.getPartition(e)]-1}getPartition(e){return o(e)%this.offsets.length}};t.MessageFactory=class{constructor(e,t,n="test"){this.documentId=e,this.clientId=t,this.tenantId=n,this.clientSequenceNumber=0,this.sequenceNumber=0}createDocumentMessage(e=0){return{clientSequenceNumber:++this.clientSequenceNumber,contents:null,metadata:void 0,referenceSequenceNumber:e,traces:[],type:r.MessageType.Operation}}create(e=0,t=Date.now()){const n=this.createDocumentMessage(e);return this.createRawOperation(n,t,this.clientId)}createJoin(e=Date.now()){const t={clientId:this.clientId,detail:{mode:"write",permission:[],scopes:[r.ScopeType.DocRead,r.ScopeType.DocWrite,r.ScopeType.SummaryWrite],details:{capabilities:{interactive:!0}},user:null}},n={clientSequenceNumber:-1,contents:null,data:JSON.stringify(t),referenceSequenceNumber:-1,traces:[],type:r.MessageType.ClientJoin};return this.createRawOperation(n,e,null)}createLeave(e=Date.now()){const t={clientSequenceNumber:-1,contents:null,data:JSON.stringify(this.clientId),referenceSequenceNumber:-1,traces:[],type:r.MessageType.ClientLeave};return this.createRawOperation(t,e,null)}createRawOperation(e,t,n){return{clientId:n,documentId:this.documentId,operation:e,tenantId:this.tenantId,timestamp:t,type:i.RawOperationType}}createSave(){const e={clientSequenceNumber:this.clientSequenceNumber++,contents:"Test Save",referenceSequenceNumber:0,traces:[],type:r.MessageType.Save},t={clientId:this.clientId,clientSequenceNumber:e.clientSequenceNumber,contents:e.contents,metadata:e.metadata,minimumSequenceNumber:0,origin:void 0,referenceSequenceNumber:e.referenceSequenceNumber,sequenceNumber:this.sequenceNumber++,term:1,timestamp:Date.now(),traces:[],type:e.type};return{documentId:this.documentId,operation:t,tenantId:this.tenantId,type:i.SequencedOperationType}}createSequencedOperation(){const e=this.createDocumentMessage(0),t={clientId:this.clientId,clientSequenceNumber:e.clientSequenceNumber,contents:e.contents,metadata:e.metadata,minimumSequenceNumber:0,origin:void 0,referenceSequenceNumber:e.referenceSequenceNumber,sequenceNumber:this.sequenceNumber++,term:1,timestamp:Date.now(),traces:[],type:e.type};return{documentId:this.documentId,operation:t,tenantId:this.tenantId,type:i.SequencedOperationType}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TestClientManager=class{constructor(){this.clients=new Map}async addClient(e,t,n,r){this.clients.has(e)||this.clients.set(e,new Map),this.clients.get(e).has(t)||this.clients.get(e).set(t,new Map),this.clients.get(e).get(t).set(n,r)}async removeClient(e,t,n){this.clients.has(e)&&this.clients.get(e).has(t)&&this.clients.get(e).get(t).delete(n)}async getClients(e,t){const n=[];if(this.clients.has(e)&&this.clients.get(e).has(t))for(const[r,i]of this.clients.get(e).get(t))n.push({clientId:r,client:i});return n}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(2170),i=n(2100),o=0;async function s(t,n,o,a){const c=await Promise.all(Object.keys(n.tree).map(async c=>{const u=n.tree[c],l=await async function(t,n,r,o,a,c=""){var u;switch(o.type){case 2:return async function(t,n,r){const{parsedContent:o,encoding:s}="string"===typeof t?{parsedContent:t,encoding:"utf-8"}:{parsedContent:t.toString("base64"),encoding:"base64"},a=i.gitHashFile(e.from(o,s));if(!n.has(a)){const e=await r.createBlob(o,s);n.add(e.sha)}return a}(o.content,n,t);case 3:if(void 0===a)throw Error("Parent summary does not exist to reference by handle.");return function(e,t,n){const r=t.split("/").map(e=>decodeURIComponent(e));""===r[0]&&r.shift();return function e(t,n,r){var i;const o=n[0];if(1===n.length)switch(t){case 2:{const e=r.blobs[o];if(!e)throw Error("Parent summary does not have blob handle for specified path.");return e}case 1:{const e=null===(i=r.trees[o])||void 0===i?void 0:i.id;if(!e)throw Error("Parent summary does not have tree handle for specified path.");return e}default:throw Error(`Unexpected handle summary object type: "${t}".`)}return e(t,n.slice(1),r)}(e,r,n)}(o.handleType,o.handle,a);case 1:return s(t,o,n,null===(u=a)||void 0===u?void 0:u.trees[r]);default:throw Error(`Unexpected summary object type: "${o.type}".`)}}(t,o,c,u,a);return{mode:r.getGitMode(u),path:encodeURIComponent(c),sha:l,type:r.getGitType(u)}}));return(await t.createGitTree({tree:c})).sha}t.TestDocumentStorage=class{constructor(e,t){this.databaseManager=e,this.tenantManager=t,this.isExperimentalDocumentStorage=!0}async getDocument(e,t){return(await this.databaseManager.getDocumentCollection()).findOne({documentId:t,tenantId:e})}async getOrCreateDocument(e,t){return this.getOrCreateObject(e,t)}async createDocument(e,t,n,i,o,a){const c=(await this.tenantManager.getTenant(e)).gitManager,u=new Set,l=await s(c,n,u,void 0),h={members:[],proposals:[],values:a},d=r.getQuorumTreeEntries(t,i,i,o,h),[p,f]=await Promise.all([c.createTree({entries:d,id:null}),c.getTree(l,!1)]),m=r.mergeAppAndProtocolTree(f,p),g=await c.createGitTree({tree:m}),b={author:{date:(new Date).toISOString(),email:"dummy@microsoft.com",name:"Routerlicious Service"},message:"New document",parents:[],tree:g.sha},v=await c.createCommit(b);await c.createRef(t,v.sha);const y={logOffset:-1,minimumSequenceNumber:i,protocolState:{members:[],minimumSequenceNumber:i,proposals:[],sequenceNumber:i,values:a},sequenceNumber:i,lastClientSummaryHead:void 0},S=await this.databaseManager.getDocumentCollection();return await S.findOrCreate({documentId:t,tenantId:e},{branchMap:void 0,clients:void 0,createTime:Date.now(),deli:void 0,documentId:t,forks:[],logOffset:void 0,parent:null,scribe:JSON.stringify(y),sequenceNumber:i,tenantId:e,version:"0.1"})}async getLatestVersion(e,t){const n=await this.getVersions(e,t,1);if(!n.length)return null;const r=n[0];return{author:r.commit.author,committer:r.commit.committer,message:r.commit.message,parents:r.parents,sha:r.sha,tree:r.commit.tree,url:r.url}}async getVersions(e,t,n){return(await this.tenantManager.getTenant(e)).gitManager.getCommits(t,n)}async getVersion(e,t,n){return(await this.tenantManager.getTenant(e)).gitManager.getCommit(n)}async getFullTree(e,t){throw new Error("Method not implemented.")}async getForks(e,t){return[]}async createFork(e,t){return""}async getOrCreateObject(e,t){const n=await this.databaseManager.getDocumentCollection();return await n.findOrCreate({documentId:t,tenantId:e},{branchMap:void 0,clients:void 0,createTime:Date.now(),deli:void 0,documentId:t,forks:[],logOffset:void 0,parent:null,scribe:void 0,sequenceNumber:o,tenantId:e,version:"0.1"})}},t.writeSummaryTree=s}).call(t,n(22).Buffer)},function(e,t,n){"use strict";(function(e){t.g=function(e){switch(3===e.type?e.handleType:e.type){case 2:return o.FileMode.File;case 0:return o.FileMode.Commit;case 1:return o.FileMode.Directory;default:throw new Error}},t.h=function(e){switch(3===e.type?e.handleType:e.type){case 2:return"blob";case 0:return"commit";case 1:return"tree";default:throw new Error}},t.f=function(e,t){return a(function(e,t){return{sha:"",tree:s("",e,t),url:""}}(e,t))},t.e=a,t.d=function(e,t,n){e.entries.push({mode:o.FileMode.File,path:t,type:o.TreeEntry[o.TreeEntry.Blob],value:{contents:JSON.stringify(n),encoding:"utf-8"}})};var r=n(1994),i=(n.n(r),n(2100)),o=n(2001);function s(t,n,a){const c=[];for(const u of n){const n=`${t}${u.path}`;if(u.type===o.TreeEntry[o.TreeEntry.Blob]){const t=u.value,r=e.from(t.contents,t.encoding),s=Object(i.gitHashFile)(r);a.set(s,r.toString("base64"));const l={mode:o.FileMode[u.mode],path:n,sha:s,size:r.length,type:"blob",url:""};c.push(l)}else if(u.type===o.TreeEntry[o.TreeEntry.Commit]){const e={mode:o.FileMode[u.mode],path:n,sha:u.value,size:-1,type:"commit",url:""};c.push(e)}else{r(u.type===o.TreeEntry[o.TreeEntry.Tree]);const e=u.value,t={mode:o.FileMode[u.mode],path:n,sha:"",size:-1,type:"tree",url:""};c.push(t);const i=s(`${n}/`,e.entries,a);c.push(...i)}}return c}function a(e,t=new Map){const n={},r={id:e.sha,blobs:{},commits:{},trees:{}};n[""]=r;for(const i of e.tree){const e=i.path.lastIndexOf("/"),r=i.path.slice(0,Math.max(0,e)),o=i.path.slice(e+1),s=n[r];if("tree"===i.type){const e={id:i.sha,blobs:{},commits:{},trees:{}};s.trees[decodeURIComponent(o)]=e,n[i.path]=e}else"blob"===i.type?(s.blobs[decodeURIComponent(o)]=i.sha,t.set(i.sha,`/${i.path}`)):"commit"===i.type&&(s.commits[decodeURIComponent(o)]=i.sha)}return r}t.a=class{constructor(e,t,n="utf-8"){this.path=e,this.mode=o.FileMode.File,this.type=o.TreeEntry[o.TreeEntry.Blob],this.value={contents:t,encoding:n}}};t.b=class{constructor(e,t){this.path=e,this.value=t,this.mode=o.FileMode.Commit,this.type=o.TreeEntry[o.TreeEntry.Commit]}};t.c=class{constructor(e,t){this.path=e,this.value=t,this.mode=o.FileMode.Directory,this.type=o.TreeEntry[o.TreeEntry.Tree]}}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";t.b=function(e){switch(e.type){case r.MessageType.ClientJoin:case r.MessageType.ClientLeave:case r.MessageType.Propose:case r.MessageType.Reject:case r.MessageType.NoOp:case r.MessageType.NoClient:case r.MessageType.Summarize:case r.MessageType.SummaryAck:case r.MessageType.SummaryNack:return!0;default:return!1}};var r=n(2001),i=n(3229);t.a=class{constructor(e,t,n,r,o,s,a,c,u){this.branchId=e,this.minimumSequenceNumber=t,this.sequenceNumber=n,this.term=null!==r&&void 0!==r?r:1,this.quorum=new i.a(t,o,s,a,c,u)}close(){this.quorum.close()}processMessage(e,t){let n=!1;switch(e.type){case r.MessageType.ClientJoin:const i=e,o=JSON.parse(i.data),s={client:o.detail,sequenceNumber:i.sequenceNumber};this.quorum.addMember(o.clientId,s);break;case r.MessageType.ClientLeave:const a=e,c=JSON.parse(a.data);this.quorum.removeMember(c);break;case r.MessageType.Propose:const u=e.contents;this.quorum.addProposal(u.key,u.value,e.sequenceNumber,t,e.clientSequenceNumber),n=!0;break;case r.MessageType.Reject:const l=e.contents;this.quorum.rejectProposal(e.clientId,l)}return this.minimumSequenceNumber=e.minimumSequenceNumber,this.sequenceNumber=e.sequenceNumber,{immediateNoOp:n=this.quorum.updateMinimumSequenceNumber(e)||n}}getProtocolState(){const e=this.quorum.snapshot();return{members:e.members,minimumSequenceNumber:this.minimumSequenceNumber,proposals:e.proposals,sequenceNumber:this.sequenceNumber,values:e.values}}captureSummary(){const e=this.quorum.snapshot(),t={branch:this.branchId,minimumSequenceNumber:this.minimumSequenceNumber,sequenceNumber:this.sequenceNumber,term:this.term};return{tree:{".attributes":{content:JSON.stringify(t),type:2},quorumMembers:{content:JSON.stringify(e.members),type:2},quorumProposals:{content:JSON.stringify(e.proposals),type:2},quorumValues:{content:JSON.stringify(e.values),type:2}},type:1}}}},function(e,t,n){"use strict";var r=n(2001);t.a=(e=>e===r.MessageType.RemoteHelp||e===r.MessageType.Integrate||e===r.MessageType.ClientJoin||e===r.MessageType.ClientLeave||e===r.MessageType.Fork||e===r.MessageType.Control)},function(e,t,n){"use strict";t.b=function(e,t,n,i,o){const s={branch:e,minimumSequenceNumber:t,sequenceNumber:n,term:i};return[{mode:r.FileMode.File,path:"quorumMembers",type:r.TreeEntry[r.TreeEntry.Blob],value:{contents:JSON.stringify(o.members),encoding:"utf-8"}},{mode:r.FileMode.File,path:"quorumProposals",type:r.TreeEntry[r.TreeEntry.Blob],value:{contents:JSON.stringify(o.proposals),encoding:"utf-8"}},{mode:r.FileMode.File,path:"quorumValues",type:r.TreeEntry[r.TreeEntry.Blob],value:{contents:JSON.stringify(o.values),encoding:"utf-8"}},{mode:r.FileMode.File,path:"attributes",type:r.TreeEntry[r.TreeEntry.Blob],value:{contents:JSON.stringify(s),encoding:"utf-8"}}]},t.c=function(e,t){const n=e.tree.map(e=>{const t={mode:e.mode,path:e.path,sha:e.sha,type:e.type};return t});return n.push({mode:r.FileMode.Directory,path:".protocol",sha:t.sha,type:"tree"}),n},t.a=function(e,t){const n=[{mode:r.FileMode.File,path:"deli",type:r.TreeEntry[r.TreeEntry.Blob],value:{contents:e,encoding:"utf-8"}}];return n.push({mode:r.FileMode.File,path:"scribe",type:r.TreeEntry[r.TreeEntry.Blob],value:{contents:t,encoding:"utf-8"}}),n};var r=n(2001)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1994),i=n(137),o=n(3228);class s{constructor(e,t){this.groupId=e,this.topic=t,this.emitter=new i.EventEmitter,this.pausedQueue=null,this.failOnCommit=!1,this.context=new o.TestContext}setFailOnCommit(e){this.failOnCommit=e}async commitCheckpoint(e,t){return r(0===e),this.failOnCommit?Promise.reject("TestConsumer set to fail on commit"):void this.context.checkpoint(t)}getOffset(){return this.context.offset}async waitForOffset(e){return this.context.waitForOffset(e)}on(e,t){return this.emitter.on(e,t),this}close(){return Promise.resolve()}async pause(){this.pausedQueue||(this.pausedQueue=[])}async resume(){if(!this.pausedQueue)return;const e=this.pausedQueue;this.pausedQueue=null;for(const t of e)this.emit(t)}emitError(e){this.emitter.emit("error",e)}emit(e){this.pausedQueue?this.pausedQueue.push(e):this.emitter.emit("data",e)}rebalance(){this.emitter.emit("rebalancing"),this.emitter.emit("rebalanced",[{topic:this.topic,offset:0,partition:0}])}}t.TestConsumer=s;class a{constructor(e){this.kafka=e}send(e,t){for(const n of e)this.kafka.addMessage(n,t);return Promise.resolve()}close(){return Promise.resolve()}on(e,t){return this}once(e,t){return this}}t.TestProducer=a;class c{constructor(){this.messages=[],this.offset=0,this.consumers=[]}static createdQueuedMessage(e,t){return{topic:"topic",partition:0,offset:e,value:""}}createProducer(){return new a(this)}createConsumer(){const e=new s("test","test");return this.consumers.push(e),e}getRawMessages(){return this.messages}addMessage(e,t){const n=this.offset++,r=c.createdQueuedMessage(n);r.value=e,r.topic=t,this.messages.push(r);for(const i of this.consumers)i.emit(r)}getLastMessage(){return this.getMessage(this.messages.length-1)}getMessage(e){return this.messages[e].value}}t.TestKafka=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137);class i{constructor(){this.events=new Map}emit(e,...t){this.events.has(e)||this.events.set(e,[]),this.events.get(e).push({args:t,event:e})}getEvents(e){return this.events.get(e)}}t.TestTopic=i;t.TestPublisher=class{constructor(){this.events=new r.EventEmitter,this.topics={}}on(e,t){this.events.on(e,t)}to(e){return e in this.topics||(this.topics[e]=new i),this.topics[e]}async close(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TestTaskMessageSender=class{initialize(){return Promise.resolve()}sendTask(e,t){}on(e,t){return this}close(){return Promise.resolve()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2098),i=n(3230),o=n(2660);class s{constructor(e,t,n){this.url=e,this.historianUrl=t,this.owner="test",this.repository="test";const o=new i.TestHistorian(n);this.manager=new r.GitManager(o)}get gitManager(){return this.manager}get storage(){return{historianUrl:this.historianUrl,internalHistorianUrl:this.historianUrl,credentials:null,owner:this.owner,repository:this.repository,url:this.url}}get orderer(){return{type:"kafka",url:this.url}}}t.TestTenant=s;t.TestTenantManager=class{constructor(e="http://test",t="http://historian",n=new o.TestDb({})){this.tenant=new s(e,t,n)}verifyToken(e){return Promise.resolve()}getTenant(e){return Promise.resolve(this.tenant)}getKey(e){return Promise.resolve("test")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137),i=n(2661);class o{constructor(e,t){this.id=e,this.server=t,this.events=new r.EventEmitter,this.rooms=new Set}on(e,t){this.events.on(e,t)}async join(e){this.server.rooms.has(e)||this.server.rooms.set(e,new Set),this.server.rooms.get(e).add(this),this.rooms.add(e)}send(e,...t){this.events.emit(e,...t)}emit(e,...t){this.events.emit(e,...t)}broadcastToRoom(e,t,...n){const r=this.server.rooms.get(e);if(r)for(const i of r)i!==this&&i.events.emit(t,...n)}emitToRoom(e,t,...n){const r=this.server.rooms.get(e);if(r)for(const i of r)i.events.emit(t,...n)}removeListener(e,t){this.events.removeListener(e,t)}disconnect(e){for(const t of this.rooms)this.server.rooms.get(t).delete(this)}}t.TestWebSocket=o;class s{constructor(){this.rooms=new Map,this.events=new r.EventEmitter}on(e,t){this.events.on(e,t)}async close(){return this.events.removeAllListeners(),Promise.resolve()}createConnection(){const e=new o(i.choose(),this);return this.events.emit("connection",e,{url:"TestWebSocket"}),e}}t.TestWebSocketServer=s;class a{async close(){return Promise.resolve()}listen(e){this.port=e}on(e,t){}address(){return{address:"test",family:"test",port:this.port}}}t.TestHttpServer=a;class c{constructor(e,t){this.httpServer=e,this.webSocketServer=t}async close(){await Promise.all([this.httpServer.close(),this.webSocketServer.close()])}}t.TestWebServer=c;t.TestWebServerFactory=class{create(e){const t=new a,n=new s;return new c(t,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2170),i=n(2001),o=n(2098),s=n(2612),a=n(5320),c=n(5321),u=n(2404);function l(e){return`${e.tenantId}/${e.documentId}`}t.DefaultServiceConfiguration={blockSize:64436,maxMessageSize:16384,summary:{idleTime:5e3,maxOps:1e3,maxTime:6e4,maxAckWaitTime:6e5}};const h=["^0.4.0","^0.3.0","^0.2.0","^0.1.0"];t.configureWebSocketServices=function(e,n,d,p,f,m,g,b,v=1e6){e.on("connection",e=>{const y=new Map,S=new Map,_=new Map,w=new Set,C=e=>o.canWrite(e)||o.canSummarize(e);async function k(r){if(!r.token)return Promise.reject("Must provide an authorization token");const i=r.token,o=s.decode(i);if(o.documentId!==r.id||o.tenantId!==r.tenantId)return Promise.reject("Invalid claims");await d.verifyToken(o.tenantId,i);const f=u.generateClientId(),g={tenantId:o.tenantId,documentId:o.documentId};await Promise.all([e.join(l(g)),e.join(`client#${f}`)]);const w=r.client?r.client:{};w.user=o.user,w.scopes=o.scopes,_.set(f,w.scopes),S.set(f,g);const k=r.versions?r.versions:["^0.1.0"],x=function(e){let t=null;for(const n of e)for(const e of h)if(c.intersects(e,n))return t=e}(k);if(!x)return Promise.reject("Unsupported client protocol."+`Server: ${h}. `+`Client: ${JSON.stringify(k)}`);const O=p.getOrCreateDocument(o.tenantId,o.documentId),I=m.getClients(o.tenantId,o.documentId),[T,E]=await Promise.all([O,I]);if(E.length>v)return Promise.reject({code:400,message:"Too many clients are already connected to this document.",retryAfter:300});let N;if(await m.addClient(o.tenantId,o.documentId,f,w),M=w.scopes,P=T.existing,j=r.mode,!C(M)||P&&void 0!==j&&"write"!==j)N={claims:o,clientId:f,existing:T.existing,maxMessageSize:1024,mode:"read",parentBranch:null,serviceConfiguration:t.DefaultServiceConfiguration,initialClients:E,initialContents:[],initialMessages:[],initialSignals:[],supportedVersions:h,version:x};else{const t=await n.getOrderer(o.tenantId,o.documentId),r=await t.connect(e,f,w,T);y.set(f,r),r.once("error",t=>{b.error(`Disconnecting socket on connection error: ${a(t,void 0,2)}`),e.disconnect(!0)}),N={claims:o,clientId:f,existing:T.existing,maxMessageSize:r.maxMessageSize,mode:"write",parentBranch:r.parentBranch,serviceConfiguration:r.serviceConfiguration,initialClients:E,initialContents:[],initialMessages:[],initialSignals:[],supportedVersions:h,version:x}}var M,P,j;return{connection:N,connectVersions:k,details:w}}e.on("connect_document",async t=>{k(t).then(t=>{e.emit("connect_document_success",t.connection),function(e){return e.includes("^0.3.0")}(t.connectVersions)&&(w.add(t.connection.clientId),e.emitToRoom(l(S.get(t.connection.clientId)),"signal",u.createRoomJoinMessage(t.connection.clientId,t.details)))},t=>{b.error(`Connect Document error: ${a(t,void 0,2)}`),e.emit("connect_document_error",t)})}),e.on("submitOp",(t,n,o)=>{if(y.has(t)){const e=y.get(t);n.forEach(t=>{const n=(Array.isArray(t)?t:[t]).filter(e=>e.type!==i.MessageType.RoundTrip||(g.writeLatencyMetric("latency",e.traces).catch(e=>{b.error(e.stack)}),!1)).map(e=>(function(e){0===u.getRandomInt(100)&&e.operation&&e.operation.traces&&e.operation.traces.push({action:"start",service:"alfred",timestamp:Date.now()});const t={clientSequenceNumber:e.clientSequenceNumber,contents:e.contents,metadata:e.metadata,referenceSequenceNumber:e.referenceSequenceNumber,traces:e.traces,type:e.type};if(r.isSystemType(t.type)){const n=t;return n.data=e.data,n}return t})(e));n.length>0&&e.order(n)}),o&&o(null)}else{const n=C(_.get(t))?u.createNackMessage(400,i.NackErrorType.BadRequestError,"Readonly client"):u.createNackMessage(403,i.NackErrorType.InvalidScopeError,"Invalid clientId or Scope");e.emit("nack","",[n])}}),e.on("submitContent",(t,n,r)=>{if(y.has(t)){const i={clientId:t,clientSequenceNumber:n.clientSequenceNumber,contents:n.contents},o=y.get(t),s={clientId:t,documentId:o.documentId,op:i,tenantId:o.tenantId};f.insertOne(s).then(()=>(e.broadcastToRoom(l(S.get(t)),"op-content",i),r(null)),e=>{if(11e3!==e.code)return r("Could not write to DB",null)})}else{const n=C(_.get(t))?u.createNackMessage(400,i.NackErrorType.BadRequestError,"Readonly client"):u.createNackMessage(403,i.NackErrorType.InvalidScopeError,"Invalid clientId or Scope");e.emit("nack","",[n])}}),e.on("submitSignal",(t,n,r)=>{if(!S.has(t))return r("Invalid client ID",null);n.forEach(n=>{const r=Array.isArray(n)?n:[n];for(const i of r){const n={clientId:t,content:i};e.emitToRoom(l(S.get(t)),"signal",n)}}),r&&r(null)}),e.on("disconnect",async()=>{for(const[e,n]of y)b.info(`Disconnect of ${e}`),n.disconnect();const t=[];for(const[n,r]of S)b.info(`Disconnect of ${n} from room`),t.push(m.removeClient(r.tenantId,r.documentId,n)),w.has(n)&&e.emitToRoom(l(r),"signal",u.createRoomLeaveMessage(n));await Promise.all(t)})})}},function(e,t){function n(e,t){var n=[],r=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"}),function(i,o){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this),~s?r.splice(s,1/0,i):r.push(i),~n.indexOf(o)&&(o=t.call(this,i,o))}else n.push(o);return null==e?o:e.call(this,i,o)}}(e.exports=function(e,t,r,i){return JSON.stringify(e,n(t,i),r)}).getSerialize=n},function(e,t,n){(function(n){var r;t=e.exports=p,r="object"===typeof n&&Object({NODE_ENV:"production",PUBLIC_URL:"%CDN_BUNDLE_URL%",AZNB_PUB_COMPONENT_VERSION:"1.1.3",AZNB_PUB_DEFAULT_ENDPOINT:"%AZNB_BACKEND_ENDPOINT%",AZNB_PUB_AZNBCONTENT_ENDPOINT:"%AZNB_PUB_AZNBCONTENT_ENDPOINT%",AZNB_PUB_BUILDTAG:"notebooks-release-prod.3971045.20200812160335.a3c03bb2"})&&Object({NODE_ENV:"production",PUBLIC_URL:"%CDN_BUNDLE_URL%",AZNB_PUB_COMPONENT_VERSION:"1.1.3",AZNB_PUB_DEFAULT_ENDPOINT:"%AZNB_BACKEND_ENDPOINT%",AZNB_PUB_AZNBCONTENT_ENDPOINT:"%AZNB_PUB_AZNBCONTENT_ENDPOINT%",AZNB_PUB_BUILDTAG:"notebooks-release-prod.3971045.20200812160335.a3c03bb2"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production",PUBLIC_URL:"%CDN_BUNDLE_URL%",AZNB_PUB_COMPONENT_VERSION:"1.1.3",AZNB_PUB_DEFAULT_ENDPOINT:"%AZNB_BACKEND_ENDPOINT%",AZNB_PUB_AZNBCONTENT_ENDPOINT:"%AZNB_PUB_AZNBCONTENT_ENDPOINT%",AZNB_PUB_BUILDTAG:"notebooks-release-prod.3971045.20200812160335.a3c03bb2"}).NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var i=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,s=t.re=[],a=t.src=[],c=t.tokens={},u=0;function l(e){c[e]=u++}l("NUMERICIDENTIFIER"),a[c.NUMERICIDENTIFIER]="0|[1-9]\\d*",l("NUMERICIDENTIFIERLOOSE"),a[c.NUMERICIDENTIFIERLOOSE]="[0-9]+",l("NONNUMERICIDENTIFIER"),a[c.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",l("MAINVERSION"),a[c.MAINVERSION]="("+a[c.NUMERICIDENTIFIER]+")\\.("+a[c.NUMERICIDENTIFIER]+")\\.("+a[c.NUMERICIDENTIFIER]+")",l("MAINVERSIONLOOSE"),a[c.MAINVERSIONLOOSE]="("+a[c.NUMERICIDENTIFIERLOOSE]+")\\.("+a[c.NUMERICIDENTIFIERLOOSE]+")\\.("+a[c.NUMERICIDENTIFIERLOOSE]+")",l("PRERELEASEIDENTIFIER"),a[c.PRERELEASEIDENTIFIER]="(?:"+a[c.NUMERICIDENTIFIER]+"|"+a[c.NONNUMERICIDENTIFIER]+")",l("PRERELEASEIDENTIFIERLOOSE"),a[c.PRERELEASEIDENTIFIERLOOSE]="(?:"+a[c.NUMERICIDENTIFIERLOOSE]+"|"+a[c.NONNUMERICIDENTIFIER]+")",l("PRERELEASE"),a[c.PRERELEASE]="(?:-("+a[c.PRERELEASEIDENTIFIER]+"(?:\\."+a[c.PRERELEASEIDENTIFIER]+")*))",l("PRERELEASELOOSE"),a[c.PRERELEASELOOSE]="(?:-?("+a[c.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+a[c.PRERELEASEIDENTIFIERLOOSE]+")*))",l("BUILDIDENTIFIER"),a[c.BUILDIDENTIFIER]="[0-9A-Za-z-]+",l("BUILD"),a[c.BUILD]="(?:\\+("+a[c.BUILDIDENTIFIER]+"(?:\\."+a[c.BUILDIDENTIFIER]+")*))",l("FULL"),l("FULLPLAIN"),a[c.FULLPLAIN]="v?"+a[c.MAINVERSION]+a[c.PRERELEASE]+"?"+a[c.BUILD]+"?",a[c.FULL]="^"+a[c.FULLPLAIN]+"$",l("LOOSEPLAIN"),a[c.LOOSEPLAIN]="[v=\\s]*"+a[c.MAINVERSIONLOOSE]+a[c.PRERELEASELOOSE]+"?"+a[c.BUILD]+"?",l("LOOSE"),a[c.LOOSE]="^"+a[c.LOOSEPLAIN]+"$",l("GTLT"),a[c.GTLT]="((?:<|>)?=?)",l("XRANGEIDENTIFIERLOOSE"),a[c.XRANGEIDENTIFIERLOOSE]=a[c.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",l("XRANGEIDENTIFIER"),a[c.XRANGEIDENTIFIER]=a[c.NUMERICIDENTIFIER]+"|x|X|\\*",l("XRANGEPLAIN"),a[c.XRANGEPLAIN]="[v=\\s]*("+a[c.XRANGEIDENTIFIER]+")(?:\\.("+a[c.XRANGEIDENTIFIER]+")(?:\\.("+a[c.XRANGEIDENTIFIER]+")(?:"+a[c.PRERELEASE]+")?"+a[c.BUILD]+"?)?)?",l("XRANGEPLAINLOOSE"),a[c.XRANGEPLAINLOOSE]="[v=\\s]*("+a[c.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+a[c.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+a[c.XRANGEIDENTIFIERLOOSE]+")(?:"+a[c.PRERELEASELOOSE]+")?"+a[c.BUILD]+"?)?)?",l("XRANGE"),a[c.XRANGE]="^"+a[c.GTLT]+"\\s*"+a[c.XRANGEPLAIN]+"$",l("XRANGELOOSE"),a[c.XRANGELOOSE]="^"+a[c.GTLT]+"\\s*"+a[c.XRANGEPLAINLOOSE]+"$",l("COERCE"),a[c.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",l("COERCERTL"),s[c.COERCERTL]=new RegExp(a[c.COERCE],"g"),l("LONETILDE"),a[c.LONETILDE]="(?:~>?)",l("TILDETRIM"),a[c.TILDETRIM]="(\\s*)"+a[c.LONETILDE]+"\\s+",s[c.TILDETRIM]=new RegExp(a[c.TILDETRIM],"g");l("TILDE"),a[c.TILDE]="^"+a[c.LONETILDE]+a[c.XRANGEPLAIN]+"$",l("TILDELOOSE"),a[c.TILDELOOSE]="^"+a[c.LONETILDE]+a[c.XRANGEPLAINLOOSE]+"$",l("LONECARET"),a[c.LONECARET]="(?:\\^)",l("CARETTRIM"),a[c.CARETTRIM]="(\\s*)"+a[c.LONECARET]+"\\s+",s[c.CARETTRIM]=new RegExp(a[c.CARETTRIM],"g");l("CARET"),a[c.CARET]="^"+a[c.LONECARET]+a[c.XRANGEPLAIN]+"$",l("CARETLOOSE"),a[c.CARETLOOSE]="^"+a[c.LONECARET]+a[c.XRANGEPLAINLOOSE]+"$",l("COMPARATORLOOSE"),a[c.COMPARATORLOOSE]="^"+a[c.GTLT]+"\\s*("+a[c.LOOSEPLAIN]+")$|^$",l("COMPARATOR"),a[c.COMPARATOR]="^"+a[c.GTLT]+"\\s*("+a[c.FULLPLAIN]+")$|^$",l("COMPARATORTRIM"),a[c.COMPARATORTRIM]="(\\s*)"+a[c.GTLT]+"\\s*("+a[c.LOOSEPLAIN]+"|"+a[c.XRANGEPLAIN]+")",s[c.COMPARATORTRIM]=new RegExp(a[c.COMPARATORTRIM],"g");l("HYPHENRANGE"),a[c.HYPHENRANGE]="^\\s*("+a[c.XRANGEPLAIN]+")\\s+-\\s+("+a[c.XRANGEPLAIN]+")\\s*$",l("HYPHENRANGELOOSE"),a[c.HYPHENRANGELOOSE]="^\\s*("+a[c.XRANGEPLAINLOOSE]+")\\s+-\\s+("+a[c.XRANGEPLAINLOOSE]+")\\s*$",l("STAR"),a[c.STAR]="(<|>)?=?\\s*\\*";for(var h=0;h<u;h++)r(h,a[h]),s[h]||(s[h]=new RegExp(a[h]));function d(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof p)return e;if("string"!==typeof e)return null;if(e.length>i)return null;if(!(t.loose?s[c.LOOSE]:s[c.FULL]).test(e))return null;try{return new p(e,t)}catch(n){return null}}function p(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof p){if(e.loose===t.loose)return e;e=e.version}else if("string"!==typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>i)throw new TypeError("version is longer than "+i+" characters");if(!(this instanceof p))return new p(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?s[c.LOOSE]:s[c.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}t.parse=d,t.valid=function(e,t){var n=d(e,t);return n?n.version:null},t.clean=function(e,t){var n=d(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=p,p.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},p.prototype.toString=function(){return this.version},p.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof p||(e=new p(e,this.options)),this.compareMain(e)||this.comparePre(e)},p.prototype.compareMain=function(e){return e instanceof p||(e=new p(e,this.options)),m(this.major,e.major)||m(this.minor,e.minor)||m(this.patch,e.patch)},p.prototype.comparePre=function(e){if(e instanceof p||(e=new p(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return m(n,i)}while(++t)},p.prototype.compareBuild=function(e){e instanceof p||(e=new p(e,this.options));var t=0;do{var n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return m(n,i)}while(++t)},p.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"===typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"===typeof n&&(r=n,n=void 0);try{return new p(e,n).inc(t,r).version}catch(i){return null}},t.diff=function(e,t){if(y(e,t))return null;var n=d(e),r=d(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},t.compareIdentifiers=m;var f=/^[0-9]+$/;function m(e,t){var n=f.test(e),r=f.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function g(e,t,n){return new p(e,n).compare(new p(t,n))}function b(e,t,n){return g(e,t,n)>0}function v(e,t,n){return g(e,t,n)<0}function y(e,t,n){return 0===g(e,t,n)}function S(e,t,n){return 0!==g(e,t,n)}function _(e,t,n){return g(e,t,n)>=0}function w(e,t,n){return g(e,t,n)<=0}function C(e,t,n,r){switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e===n;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return y(e,n,r);case"!=":return S(e,n,r);case">":return b(e,n,r);case">=":return _(e,n,r);case"<":return v(e,n,r);case"<=":return w(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function k(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof k){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof k))return new k(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===x?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return m(t,e)},t.major=function(e,t){return new p(e,t).major},t.minor=function(e,t){return new p(e,t).minor},t.patch=function(e,t){return new p(e,t).patch},t.compare=g,t.compareLoose=function(e,t){return g(e,t,!0)},t.compareBuild=function(e,t,n){var r=new p(e,n),i=new p(t,n);return r.compare(i)||r.compareBuild(i)},t.rcompare=function(e,t,n){return g(t,e,n)},t.sort=function(e,n){return e.sort(function(e,r){return t.compareBuild(e,r,n)})},t.rsort=function(e,n){return e.sort(function(e,r){return t.compareBuild(r,e,n)})},t.gt=b,t.lt=v,t.eq=y,t.neq=S,t.gte=_,t.lte=w,t.cmp=C,t.Comparator=k;var x={};function O(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof O)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new O(e.raw,t);if(e instanceof k)return new O(e.value,t);if(!(this instanceof O))return new O(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function I(e,t){for(var n=!0,r=e.slice(),i=r.pop();n&&r.length;)n=r.every(function(e){return i.intersects(e,t)}),i=r.pop();return n}function T(e){return!e||"x"===e.toLowerCase()||"*"===e}function E(e,t,n,r,i,o,s,a,c,u,l,h,d){return((t=T(n)?"":T(r)?">="+n+".0.0":T(i)?">="+n+"."+r+".0":">="+t)+" "+(a=T(c)?"":T(u)?"<"+(+c+1)+".0.0":T(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function N(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==x&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function M(e,t,n){try{t=new O(t,n)}catch(r){return!1}return t.test(e)}function P(e,t,n,r){var i,o,s,a,c;switch(e=new p(e,r),t=new O(t,r),n){case">":i=b,o=w,s=v,a=">",c=">=";break;case"<":i=v,o=_,s=b,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(M(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],h=null,d=null;if(l.forEach(function(e){e.semver===x&&(e=new k(">=0.0.0")),h=h||e,d=d||e,i(e.semver,h.semver,r)?h=e:s(e.semver,d.semver,r)&&(d=e)}),h.operator===a||h.operator===c)return!1;if((!d.operator||d.operator===a)&&o(e,d.semver))return!1;if(d.operator===c&&s(e,d.semver))return!1}return!0}k.prototype.parse=function(e){var t=this.options.loose?s[c.COMPARATORLOOSE]:s[c.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new p(n[2],this.options.loose):this.semver=x},k.prototype.toString=function(){return this.value},k.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===x||e===x)return!0;if("string"===typeof e)try{e=new p(e,this.options)}catch(t){return!1}return C(e,this.operator,this.semver,this.options)},k.prototype.intersects=function(e,t){if(!(e instanceof k))throw new TypeError("a Comparator is required");var n;if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(n=new O(e.value,t),M(this.value,n,t));if(""===e.operator)return""===e.value||(n=new O(this.value,t),M(e.semver,n,t));var r=(">="===this.operator||">"===this.operator)&&(">="===e.operator||">"===e.operator),i=("<="===this.operator||"<"===this.operator)&&("<="===e.operator||"<"===e.operator),o=this.semver.version===e.semver.version,s=(">="===this.operator||"<="===this.operator)&&(">="===e.operator||"<="===e.operator),a=C(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=C(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},t.Range=O,O.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},O.prototype.toString=function(){return this.range},O.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?s[c.HYPHENRANGELOOSE]:s[c.HYPHENRANGE];e=e.replace(n,E),r("hyphen replace",e),e=e.replace(s[c.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,s[c.COMPARATORTRIM]),e=(e=(e=e.replace(s[c.TILDETRIM],"$1~")).replace(s[c.CARETTRIM],"$1^")).split(/\s+/).join(" ");var i=t?s[c.COMPARATORLOOSE]:s[c.COMPARATOR],o=e.split(" ").map(function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){r("caret",e,t);var n=t.loose?s[c.CARETLOOSE]:s[c.CARET];return e.replace(n,function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),T(n)?a="":T(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":T(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a})}(e,t)}).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){var n=t.loose?s[c.TILDELOOSE]:s[c.TILDE];return e.replace(n,function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),T(n)?a="":T(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":T(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a})}(e,t)}).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){e=e.trim();var n=t.loose?s[c.XRANGELOOSE]:s[c.XRANGE];return e.replace(n,function(n,i,o,s,a,c){r("xRange",e,n,i,o,s,a,c);var u=T(o),l=u||T(s),h=l||T(a),d=h;return"="===i&&d&&(i=""),c=t.includePrerelease?"-0":"",u?n=">"===i||"<"===i?"<0.0.0-0":"*":i&&d?(l&&(s=0),a=0,">"===i?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):"<="===i&&(i="<",l?o=+o+1:s=+s+1),n=i+o+"."+s+"."+a+c):l?n=">="+o+".0.0"+c+" <"+(+o+1)+".0.0"+c:h&&(n=">="+o+"."+s+".0"+c+" <"+o+"."+(+s+1)+".0"+c),r("xRange return",n),n})}(e,t)}).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(s[c.STAR],"")}(e,t),r("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter(function(e){return!!e.match(i)})),o=o.map(function(e){return new k(e,this.options)},this)},O.prototype.intersects=function(e,t){if(!(e instanceof O))throw new TypeError("a Range is required");return this.set.some(function(n){return I(n,t)&&e.set.some(function(e){return I(e,t)&&n.every(function(n){return e.every(function(e){return n.intersects(e,t)})})})})},t.toComparators=function(e,t){return new O(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},O.prototype.test=function(e){if(!e)return!1;if("string"===typeof e)try{e=new p(e,this.options)}catch(n){return!1}for(var t=0;t<this.set.length;t++)if(N(this.set[t],e,this.options))return!0;return!1},t.satisfies=M,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new O(t,n)}catch(s){return null}return e.forEach(function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new p(r=e,n)))}),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new O(t,n)}catch(s){return null}return e.forEach(function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new p(r=e,n)))}),r},t.minVersion=function(e,t){e=new O(e,t);var n=new p("0.0.0");if(e.test(n))return n;if(n=new p("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r){var i=e.set[r];i.forEach(function(e){var t=new p(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!b(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}})}if(n&&e.test(n))return n;return null},t.validRange=function(e,t){try{return new O(e,t).range||"*"}catch(n){return null}},t.ltr=function(e,t,n){return P(e,t,"<",n)},t.gtr=function(e,t,n){return P(e,t,">",n)},t.outside=P,t.prerelease=function(e,t){var n=d(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new O(e,n),t=new O(t,n),e.intersects(t)},t.coerce=function(e,t){if(e instanceof p)return e;"number"===typeof e&&(e=String(e));if("string"!==typeof e)return null;var n=null;if((t=t||{}).rtl){for(var r;(r=s[c.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),s[c.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;s[c.COERCERTL].lastIndex=-1}else n=e.match(s[c.COERCE]);if(null===n)return null;return d(n[2]+"."+(n[3]||"0")+"."+(n[4]||"0"),t)}}).call(t,n(29))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2048);t.generateClientId=(()=>r.v4())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2001);t.createNackMessage=((e,t,n)=>({operation:void 0,sequenceNumber:-1,content:{code:e,type:t,message:n}})),t.createRoomJoinMessage=function(e,t){const n={clientId:e,client:t};return{clientId:null,content:JSON.stringify({type:r.MessageType.ClientJoin,content:n})}},t.createRoomLeaveMessage=(e=>({clientId:null,content:JSON.stringify({type:r.MessageType.ClientLeave,content:e})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NoOpLambda=class{constructor(e){this.context=e}handler(e){this.context.checkpoint(e)}close(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomInt=(e=>Math.floor(Math.random()*e))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(3232)),r(n(5327))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137),i=n(3232);t.BroadcasterLambdaFactory=class extends r.EventEmitter{constructor(e){super(),this.publisher=e,this.publisher.on("error",e=>{this.emit("error",e)})}async create(e,t){return new i.BroadcasterLambda(this.publisher,t)}async dispose(){await this.publisher.close()}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(3233)),r(n(5329))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137),i=n(3233);t.CopierLambdaFactory=class extends r.EventEmitter{constructor(e,t){super(),this.mongoManager=e,this.rawOpCollection=t}async create(e,t){return new i.CopierLambda(this.rawOpCollection,t)}async dispose(){await this.mongoManager.close()}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(3234)),r(n(5333))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CheckpointContext=class{constructor(e,t,n,r){this.tenantId=e,this.id=t,this.collection=n,this.context=r,this.closed=!1}checkpoint(e){this.closed||(this.pendingUpdateP?this.pendingCheckpoint=e:(this.pendingUpdateP=this.checkpointCore(e),this.pendingUpdateP.then(()=>{if(this.context.checkpoint(e.queuedMessage),this.pendingUpdateP=null,this.pendingCheckpoint){const e=this.pendingCheckpoint;this.pendingCheckpoint=null,this.checkpoint(e)}},e=>{this.context.log.error(`Error writing checkpoint to MongoDB: ${JSON.stringify(e)}`)})))}close(){this.closed=!0}checkpointCore(e){let t="";if(!e.clear){const n={branchMap:e.branchMap,clients:e.clients,durableSequenceNumber:e.durableSequenceNumber,logOffset:e.logOffset,sequenceNumber:e.sequenceNumber,epoch:e.epoch,term:e.term};t=JSON.stringify(n)}return this.collection.update({documentId:this.id,tenantId:this.tenantId},{deli:t},null).catch(t=>(this.context.log.error(`Error writing checkpoint to MongoDB: ${JSON.stringify(t)}`),new Promise((t,n)=>{t(this.checkpointCore(e))})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2100),i={compare:(e,t)=>e.referenceSequenceNumber-t.referenceSequenceNumber,min:{canEvict:!0,clientId:void 0,clientSequenceNumber:0,lastUpdate:-1,nack:!1,referenceSequenceNumber:-1,scopes:[]}};t.ClientSequenceNumberManager=class{constructor(){this.clientNodeMap=new Map,this.clientSeqNumbers=new r.Heap(i)}has(e){return this.clientNodeMap.has(e)}get(e){const t=this.clientNodeMap.get(e);if(void 0!==t)return t.value}count(){return this.clientNodeMap.size}peek(){const e=this.clientSeqNumbers.peek();if(void 0!==e)return e.value}cloneValues(){const e=[];for(const[,t]of this.clientNodeMap){const n=t.value;e.push(Object.assign({},n))}return e}upsertClient(e,t,n,r,i,o=[],s=!1){if(!this.clientNodeMap.has(e)){const a=this.clientSeqNumbers.add({canEvict:i,clientId:e,clientSequenceNumber:t,lastUpdate:r,nack:s,referenceSequenceNumber:n,scopes:o});this.clientNodeMap.set(e,a)}this.updateClient(e,r,t,n,s)}updateClient(e,t,n,r,i){const o=this.clientNodeMap.get(e);o.value.referenceSequenceNumber=r,o.value.clientSequenceNumber=n,o.value.lastUpdate=t,o.value.nack=i,this.clientSeqNumbers.update(o)}removeClient(e){if(!this.clientNodeMap.has(e))return!1;const t=this.clientNodeMap.get(e);return this.clientSeqNumbers.remove(t),this.clientNodeMap.delete(e),!0}getMinimumSequenceNumber(){return this.clientSeqNumbers.count()>0?this.clientSeqNumbers.peek().value.referenceSequenceNumber:-1}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(137),i=n(2170),o=n(2001),s=n(2404),a=n(3234),c=n(5334);t.ClientSequenceTimeout=3e5,t.ActivityCheckingTimeout=3e4,t.NoopConsolidationTimeout=250;const u=!1,l=e=>({branchMap:void 0,clients:void 0,durableSequenceNumber:0,epoch:e,logOffset:-1,sequenceNumber:0,term:1});t.DeliLambdaFactory=class extends r.EventEmitter{constructor(e,t,n,r,i){super(),this.mongoManager=e,this.collection=t,this.tenantManager=n,this.forwardProducer=r,this.reverseProducer=i}async create(e,n){const r=e.get("documentId"),i=e.get("tenantId"),o=e.get("leaderEpoch"),h=(await this.tenantManager.getTenant(i)).gitManager;let d,p=await this.collection.findOne({documentId:r,tenantId:i});if(!p)return new s.NoOpLambda(n);if(void 0===(p=await c.migrateSchema(p,this.collection,o,1)).deli||null===p.deli)n.log.info(`New document. Setting empty deli checkpoint for ${i}/${r}`),d=l(o);else if(""===p.deli){if(void 0===(d=await this.loadStateFromSummary(i,r,h,n.log)))throw Error("Summary cannot be fetched")}else d=JSON.parse(p.deli);void 0===d.epoch&&(d.epoch=o,d.term=1,d.durableSequenceNumber=d.sequenceNumber);const f=u?await this.resetCheckpointOnEpochTick(i,r,h,n.log,d,o):d;return new a.DeliLambda(n,i,r,f,p,this.collection,this.forwardProducer,this.reverseProducer,t.ClientSequenceTimeout,t.ActivityCheckingTimeout,t.NoopConsolidationTimeout)}async dispose(){const e=this.mongoManager.close(),t=this.forwardProducer.close(),n=this.reverseProducer.close();await Promise.all([e,t,n])}async loadStateFromSummary(t,n,r,i){if(void 0===this.summaryCheckpoint&&(this.existingRef=await r.getRef(encodeURIComponent(n)),this.existingRef))try{const s=await r.getContent(this.existingRef.object.sha,".serviceProtocol/deli");this.summaryCheckpoint=JSON.parse(e.from(s.content,s.encoding).toString())}catch(o){return i.error(`Error fetching deli state from summary: ${t}/${n}`),void i.error(JSON.stringify(o))}return this.summaryCheckpoint}async resetCheckpointOnEpochTick(e,t,n,r,i,o){let s=i;if(o!==s.epoch){const i=await this.loadStateFromSummary(e,t,n,r);if(void 0===i)s.epoch=o;else{const e=s.logOffset;(s=i).epoch=o,++s.term,s.durableSequenceNumber=i.sequenceNumber,s.logOffset=e,await this.createSummaryWithLatestTerm(n,s,t),r.info("Created a summary on epoch tick")}}return s}async createSummaryWithLatestTerm(t,n,r){const[s,a]=await Promise.all([t.getCommit(this.existingRef.object.sha),t.getContent(this.existingRef.object.sha,".serviceProtocol/scribe")]),c=e.from(a.content,a.encoding).toString(),u=i.generateServiceProtocolEntries(JSON.stringify(n),c),[l,h]=await Promise.all([t.createTree({entries:u,id:null}),t.getTree(s.tree.sha,!1)]),d=h.tree.filter(e=>".serviceProtocol"!==e.path).map(e=>({mode:e.mode,path:e.path,sha:e.sha,type:e.type}));d.push({mode:o.FileMode.Directory,path:".serviceProtocol",sha:l.sha,type:"tree"});const p=await t.createGitTree({tree:d}),f={author:{date:(new Date).toISOString(),email:"praguertdev@microsoft.com",name:"Routerlicious Service"},message:`Term Change Summary @T${n.term}S${n.sequenceNumber}`,parents:[s.sha],tree:p.sha},m=await t.createCommit(f);await t.upsertRef(r,m.sha)}}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.migrateSchema=async function(e,t,n,r){if(void 0!==e.version)return e;{const i={branchMap:e.branchMap,clients:e.clients,durableSequenceNumber:e.sequenceNumber,epoch:n,logOffset:e.logOffset,sequenceNumber:e.sequenceNumber,term:r};return await t.update({documentId:e.documentId,tenantId:e.tenantId},{version:"0.1",deli:JSON.stringify(i)},null),e.version="0.1",e.deli=JSON.stringify(i),e}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(3235)),r(n(5337))},function(e,t,n){(function(e,n,r,i){(function(t){"use strict";function o(e,t){t|=0;for(var n=Math.max(e.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=e[t+i];return r}var s=function(e){var t=o(arguments,1);return function(){var n=o(arguments);return e.apply(null,t.concat(n))}},a=function(e){return function(){var t=o(arguments),n=t.pop();e.call(this,t,n)}};function c(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var u="function"===typeof e&&e,l="object"===typeof n&&"function"===typeof n.nextTick;function h(e){setTimeout(e,0)}function d(e){return function(t){var n=o(arguments,1);e(function(){t.apply(null,n)})}}var p=d(u?e:l?n.nextTick:h);function f(e){return a(function(t,n){var r;try{r=e.apply(this,t)}catch(i){return n(i)}c(r)&&"function"===typeof r.then?r.then(function(e){m(n,null,e)},function(e){m(n,e.message?e:new Error(e))}):n(null,r)})}function m(e,t,n){try{e(t,n)}catch(r){p(g,r)}}function g(e){throw e}var b="function"===typeof Symbol;function v(e){return b&&"AsyncFunction"===e[Symbol.toStringTag]}function y(e){return v(e)?f(e):e}function S(e){return function(t){var n=o(arguments,1),r=a(function(n,r){var i=this;return e(t,function(e,t){y(e).apply(i,n.concat(t))},r)});return n.length?r.apply(this,n):r}}var _="object"==typeof r&&r&&r.Object===Object&&r,w="object"==typeof self&&self&&self.Object===Object&&self,C=_||w||Function("return this")(),k=C.Symbol,x=Object.prototype,O=x.hasOwnProperty,I=x.toString,T=k?k.toStringTag:void 0,E=Object.prototype.toString,N="[object Null]",M="[object Undefined]",P=k?k.toStringTag:void 0;function j(e){return null==e?void 0===e?M:N:P&&P in Object(e)?function(e){var t=O.call(e,T),n=e[T];try{e[T]=void 0;var r=!0}catch(o){}var i=I.call(e);return r&&(t?e[T]=n:delete e[T]),i}(e):function(e){return E.call(e)}(e)}var D="[object AsyncFunction]",R="[object Function]",L="[object GeneratorFunction]",A="[object Proxy]",F=9007199254740991;function B(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=F}function q(e){return null!=e&&B(e.length)&&!function(e){if(!c(e))return!1;var t=j(e);return t==R||t==L||t==D||t==A}(e)}var z={};function W(){}function H(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var V="function"===typeof Symbol&&Symbol.iterator,U=function(e){return V&&e[V]&&e[V]()};function $(e){return null!=e&&"object"==typeof e}var K="[object Arguments]";function G(e){return $(e)&&j(e)==K}var Y=Object.prototype,J=Y.hasOwnProperty,Q=Y.propertyIsEnumerable,Z=G(function(){return arguments}())?G:function(e){return $(e)&&J.call(e,"callee")&&!Q.call(e,"callee")},X=Array.isArray,ee="object"==typeof t&&t&&!t.nodeType&&t,te=ee&&"object"==typeof i&&i&&!i.nodeType&&i,ne=te&&te.exports===ee?C.Buffer:void 0,re=(ne?ne.isBuffer:void 0)||function(){return!1},ie=9007199254740991,oe=/^(?:0|[1-9]\d*)$/;function se(e,t){var n=typeof e;return!!(t=null==t?ie:t)&&("number"==n||"symbol"!=n&&oe.test(e))&&e>-1&&e%1==0&&e<t}var ae={};ae["[object Float32Array]"]=ae["[object Float64Array]"]=ae["[object Int8Array]"]=ae["[object Int16Array]"]=ae["[object Int32Array]"]=ae["[object Uint8Array]"]=ae["[object Uint8ClampedArray]"]=ae["[object Uint16Array]"]=ae["[object Uint32Array]"]=!0,ae["[object Arguments]"]=ae["[object Array]"]=ae["[object ArrayBuffer]"]=ae["[object Boolean]"]=ae["[object DataView]"]=ae["[object Date]"]=ae["[object Error]"]=ae["[object Function]"]=ae["[object Map]"]=ae["[object Number]"]=ae["[object Object]"]=ae["[object RegExp]"]=ae["[object Set]"]=ae["[object String]"]=ae["[object WeakMap]"]=!1;var ce,ue="object"==typeof t&&t&&!t.nodeType&&t,le=ue&&"object"==typeof i&&i&&!i.nodeType&&i,he=le&&le.exports===ue&&_.process,de=function(){try{var e=le&&le.require&&le.require("util").types;return e||he&&he.binding&&he.binding("util")}catch(t){}}(),pe=de&&de.isTypedArray,fe=pe?(ce=pe,function(e){return ce(e)}):function(e){return $(e)&&B(e.length)&&!!ae[j(e)]},me=Object.prototype.hasOwnProperty;function ge(e,t){var n=X(e),r=!n&&Z(e),i=!n&&!r&&re(e),o=!n&&!r&&!i&&fe(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=a.length;for(var u in e)!t&&!me.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||se(u,c))||a.push(u);return a}var be=Object.prototype,ve=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ye=Object.prototype.hasOwnProperty;function Se(e){if(!function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||be)}(e))return ve(e);var t=[];for(var n in Object(e))ye.call(e,n)&&"constructor"!=n&&t.push(n);return t}function _e(e){return q(e)?ge(e):Se(e)}function we(e){if(q(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t=U(e);return t?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(t):function(e){var t=_e(e),n=-1,r=t.length;return function(){var i=t[++n];return n<r?{value:e[i],key:i}:null}}(e)}function Ce(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function ke(e){return function(t,n,r){if(r=H(r||W),e<=0||!t)return r(null);var i=we(t),o=!1,s=0,a=!1;function c(e,t){if(s-=1,e)o=!0,r(e);else{if(t===z||o&&s<=0)return o=!0,r(null);a||u()}}function u(){for(a=!0;s<e&&!o;){var t=i();if(null===t)return o=!0,void(s<=0&&r(null));s+=1,n(t.value,t.key,Ce(c))}a=!1}u()}}function xe(e,t,n,r){ke(t)(e,y(n),r)}function Oe(e,t){return function(n,r,i){return e(n,t,r,i)}}function Ie(e,t,n){n=H(n||W);var r=0,i=0,o=e.length;function s(e,t){e?n(e):++i!==o&&t!==z||n(null)}for(0===o&&n(null);r<o;r++)t(e[r],r,Ce(s))}var Te=Oe(xe,1/0),Ee=function(e,t,n){(q(e)?Ie:Te)(e,y(t),n)};function Ne(e){return function(t,n,r){return e(Ee,t,y(n),r)}}function Me(e,t,n,r){r=r||W,t=t||[];var i=[],o=0,s=y(n);e(t,function(e,t,n){var r=o++;s(e,function(e,t){i[r]=t,n(e)})},function(e){r(e,i)})}var Pe=Ne(Me),je=S(Pe);function De(e){return function(t,n,r,i){return e(ke(n),t,y(r),i)}}var Re=De(Me),Le=Oe(Re,1),Ae=S(Le);function Fe(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}var Be,qe=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),s=o.length;s--;){var a=o[Be?s:++r];if(!1===t(i[a],a,i))break}return e};function ze(e,t){return e&&qe(e,t,_e)}function We(e){return e!==e}function He(e,t,n){return t===t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,We,n)}var Ve=function(e,t,n){"function"===typeof t&&(n=t,t=null),n=H(n||W);var r=_e(e).length;if(!r)return n(null);t||(t=r);var i={},s=0,a=!1,c=Object.create(null),u=[],l=[],h={};function d(e,t){u.push(function(){!function(e,t){if(a)return;var r=Ce(function(t,r){if(s--,arguments.length>2&&(r=o(arguments,1)),t){var u={};ze(i,function(e,t){u[t]=e}),u[e]=r,a=!0,c=Object.create(null),n(t,u)}else i[e]=r,Fe(c[e]||[],function(e){e()}),p()});s++;var u=y(t[t.length-1]);t.length>1?u(i,r):u(r)}(e,t)})}function p(){if(0===u.length&&0===s)return n(null,i);for(;u.length&&s<t;){u.shift()()}}function f(t){var n=[];return ze(e,function(e,r){X(e)&&He(e,t,0)>=0&&n.push(r)}),n}ze(e,function(t,n){if(!X(t))return d(n,[t]),void l.push(n);var r=t.slice(0,t.length-1),i=r.length;if(0===i)return d(n,t),void l.push(n);h[n]=i,Fe(r,function(o){if(!e[o])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+o+"` in "+r.join(", "));!function(e,t){var n=c[e];n||(n=c[e]=[]);n.push(t)}(o,function(){0===--i&&d(n,t)})})}),function(){var e,t=0;for(;l.length;)e=l.pop(),t++,Fe(f(e),function(e){0===--h[e]&&l.push(e)});if(t!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),p()};function Ue(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var $e="[object Symbol]",Ke=1/0,Ge=k?k.prototype:void 0,Ye=Ge?Ge.toString:void 0;function Je(e){if("string"==typeof e)return e;if(X(e))return Ue(e,Je)+"";if(function(e){return"symbol"==typeof e||$(e)&&j(e)==$e}(e))return Ye?Ye.call(e):"";var t=e+"";return"0"==t&&1/e==-Ke?"-0":t}function Qe(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}(e,t,n)}var Ze=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Xe="[\\ud800-\\udfff]",et="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",tt="\\ud83c[\\udffb-\\udfff]",nt="[^\\ud800-\\udfff]",rt="(?:\\ud83c[\\udde6-\\uddff]){2}",it="[\\ud800-\\udbff][\\udc00-\\udfff]",ot="(?:"+et+"|"+tt+")"+"?",st="[\\ufe0e\\ufe0f]?"+ot+("(?:\\u200d(?:"+[nt,rt,it].join("|")+")[\\ufe0e\\ufe0f]?"+ot+")*"),at="(?:"+[nt+et+"?",et,rt,it,Xe].join("|")+")",ct=RegExp(tt+"(?="+tt+")|"+at+st,"g");function ut(e){return function(e){return Ze.test(e)}(e)?function(e){return e.match(ct)||[]}(e):function(e){return e.split("")}(e)}var lt=/^\s+|\s+$/g;function ht(e,t,n){var r;if((e=null==(r=e)?"":Je(r))&&(n||void 0===t))return e.replace(lt,"");if(!e||!(t=Je(t)))return e;var i=ut(e),o=ut(t);return Qe(i,function(e,t){for(var n=-1,r=e.length;++n<r&&He(t,e[n],0)>-1;);return n}(i,o),function(e,t){for(var n=e.length;n--&&He(t,e[n],0)>-1;);return n}(i,o)+1).join("")}var dt=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,pt=/,/,ft=/(=.+)?(\s*)$/,mt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function gt(e,t){var n={};ze(e,function(e,t){var r,i,o=v(e),s=!o&&1===e.length||o&&0===e.length;if(X(e))r=e.slice(0,-1),e=e[e.length-1],n[t]=r.concat(r.length>0?a:e);else if(s)n[t]=e;else{if(r=i=(i=(i=(i=(i=e).toString().replace(mt,"")).match(dt)[2].replace(" ",""))?i.split(pt):[]).map(function(e){return ht(e.replace(ft,""))}),0===e.length&&!o&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");o||r.pop(),n[t]=r.concat(a)}function a(t,n){var i=Ue(r,function(e){return t[e]});i.push(n),y(e).apply(null,i)}}),Ve(n,t)}function bt(){this.head=this.tail=null,this.length=0}function vt(e,t){e.length=1,e.head=e.tail=t}function yt(e,t,n){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=y(e),i=0,o=[],s=!1;function a(e,t,n){if(null!=n&&"function"!==typeof n)throw new Error("task callback must be a function");if(l.started=!0,X(e)||(e=[e]),0===e.length&&l.idle())return p(function(){l.drain()});for(var r=0,i=e.length;r<i;r++){var o={data:e[r],callback:n||W};t?l._tasks.unshift(o):l._tasks.push(o)}s||(s=!0,p(function(){s=!1,l.process()}))}function c(e){return function(t){i-=1;for(var n=0,r=e.length;n<r;n++){var s=e[n],a=He(o,s,0);0===a?o.shift():a>0&&o.splice(a,1),s.callback.apply(s,arguments),null!=t&&l.error(t,s.data)}i<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}}var u=!1,l={_tasks:new bt,concurrency:t,payload:n,saturated:W,unsaturated:W,buffer:t/4,empty:W,drain:W,error:W,started:!1,paused:!1,push:function(e,t){a(e,!1,t)},kill:function(){l.drain=W,l._tasks.empty()},unshift:function(e,t){a(e,!0,t)},remove:function(e){l._tasks.remove(e)},process:function(){if(!u){for(u=!0;!l.paused&&i<l.concurrency&&l._tasks.length;){var e=[],t=[],n=l._tasks.length;l.payload&&(n=Math.min(n,l.payload));for(var s=0;s<n;s++){var a=l._tasks.shift();e.push(a),o.push(a),t.push(a.data)}i+=1,0===l._tasks.length&&l.empty(),i===l.concurrency&&l.saturated();var h=Ce(c(e));r(t,h)}u=!1}},length:function(){return l._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return l._tasks.length+i===0},pause:function(){l.paused=!0},resume:function(){!1!==l.paused&&(l.paused=!1,p(l.process))}};return l}function St(e,t){return yt(e,1,t)}bt.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},bt.prototype.empty=function(){for(;this.head;)this.shift();return this},bt.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},bt.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},bt.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):vt(this,e)},bt.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):vt(this,e)},bt.prototype.shift=function(){return this.head&&this.removeLink(this.head)},bt.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},bt.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,n=0;n<this.length;n++)e[n]=t.data,t=t.next;return e},bt.prototype.remove=function(e){for(var t=this.head;t;){var n=t.next;e(t)&&this.removeLink(t),t=n}return this};var _t=Oe(xe,1);function wt(e,t,n,r){r=H(r||W);var i=y(n);_t(e,function(e,n,r){i(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})}function Ct(){var e=Ue(arguments,y);return function(){var t=o(arguments),n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=W,wt(e,t,function(e,t,r){t.apply(n,e.concat(function(e){var t=o(arguments,1);r(e,t)}))},function(e,t){r.apply(n,[e].concat(t))})}}var kt=function(){return Ct.apply(null,o(arguments).reverse())},xt=Array.prototype.concat,Ot=function(e,t,n,r){r=r||W;var i=y(n);Re(e,t,function(e,t){i(e,function(e){return e?t(e):t(null,o(arguments,1))})},function(e,t){for(var n=[],i=0;i<t.length;i++)t[i]&&(n=xt.apply(n,t[i]));return r(e,n)})},It=Oe(Ot,1/0),Tt=Oe(Ot,1),Et=function(){var e=o(arguments),t=[null].concat(e);return function(){return arguments[arguments.length-1].apply(this,t)}};function Nt(e){return e}function Mt(e,t){return function(n,r,i,o){o=o||W;var s,a=!1;n(r,function(n,r,o){i(n,function(r,i){r?o(r):e(i)&&!s?(a=!0,s=t(!0,n),o(null,z)):o()})},function(e){e?o(e):o(null,a?s:t(!1))})}}function Pt(e,t){return t}var jt=Ne(Mt(Nt,Pt)),Dt=De(Mt(Nt,Pt)),Rt=Oe(Dt,1);function Lt(e){return function(t){var n=o(arguments,1);n.push(function(t){var n=o(arguments,1);"object"===typeof console&&(t?console.error&&console.error(t):console[e]&&Fe(n,function(t){console[e](t)}))}),y(t).apply(null,n)}}var At=Lt("dir");function Ft(e,t,n){n=Ce(n||W);var r=y(e),i=y(t);function s(e){if(e)return n(e);var t=o(arguments,1);t.push(a),i.apply(this,t)}function a(e,t){return e?n(e):t?void r(s):n(null)}a(null,!0)}function Bt(e,t,n){n=Ce(n||W);var r=y(e),i=function(e){if(e)return n(e);var s=o(arguments,1);if(t.apply(this,s))return r(i);n.apply(null,[null].concat(s))};r(i)}function qt(e,t,n){Bt(e,function(){return!t.apply(this,arguments)},n)}function zt(e,t,n){n=Ce(n||W);var r=y(t),i=y(e);function o(e){if(e)return n(e);i(s)}function s(e,t){return e?n(e):t?void r(o):n(null)}i(s)}function Wt(e){return function(t,n,r){return e(t,r)}}function Ht(e,t,n){Ee(e,Wt(y(t)),n)}function Vt(e,t,n,r){ke(t)(e,Wt(y(n)),r)}var Ut=Oe(Vt,1);function $t(e){return v(e)?e:a(function(t,n){var r=!0;t.push(function(){var e=arguments;r?p(function(){n.apply(null,e)}):n.apply(null,e)}),e.apply(this,t),r=!1})}function Kt(e){return!e}var Gt=Ne(Mt(Kt,Kt)),Yt=De(Mt(Kt,Kt)),Jt=Oe(Yt,1);function Qt(e){return function(t){return null==t?void 0:t[e]}}function Zt(e,t,n,r){var i=new Array(t.length);e(t,function(e,t,r){n(e,function(e,n){i[t]=!!n,r(e)})},function(e){if(e)return r(e);for(var n=[],o=0;o<t.length;o++)i[o]&&n.push(t[o]);r(null,n)})}function Xt(e,t,n,r){var i=[];e(t,function(e,t,r){n(e,function(n,o){n?r(n):(o&&i.push({index:t,value:e}),r())})},function(e){e?r(e):r(null,Ue(i.sort(function(e,t){return e.index-t.index}),Qt("value")))})}function en(e,t,n,r){(q(t)?Zt:Xt)(e,t,y(n),r||W)}var tn=Ne(en),nn=De(en),rn=Oe(nn,1);function on(e,t){var n=Ce(t||W),r=y($t(e));!function e(t){if(t)return n(t);r(e)}()}var sn=function(e,t,n,r){r=r||W;var i=y(n);Re(e,t,function(e,t){i(e,function(n,r){return n?t(n):t(null,{key:r,val:e})})},function(e,t){for(var n={},i=Object.prototype.hasOwnProperty,o=0;o<t.length;o++)if(t[o]){var s=t[o].key,a=t[o].val;i.call(n,s)?n[s].push(a):n[s]=[a]}return r(e,n)})},an=Oe(sn,1/0),cn=Oe(sn,1),un=Lt("log");function ln(e,t,n,r){r=H(r||W);var i={},o=y(n);xe(e,t,function(e,t,n){o(e,t,function(e,r){if(e)return n(e);i[t]=r,n()})},function(e){r(e,i)})}var hn=Oe(ln,1/0),dn=Oe(ln,1);function pn(e,t){return t in e}function fn(e,t){var n=Object.create(null),r=Object.create(null);t=t||Nt;var i=y(e),s=a(function(e,s){var a=t.apply(null,e);pn(n,a)?p(function(){s.apply(null,n[a])}):pn(r,a)?r[a].push(s):(r[a]=[s],i.apply(null,e.concat(function(){var e=o(arguments);n[a]=e;var t=r[a];delete r[a];for(var i=0,s=t.length;i<s;i++)t[i].apply(null,e)})))});return s.memo=n,s.unmemoized=e,s}var mn=d(l?n.nextTick:u?e:h);function gn(e,t,n){n=n||W;var r=q(t)?[]:{};e(t,function(e,t,n){y(e)(function(e,i){arguments.length>2&&(i=o(arguments,1)),r[t]=i,n(e)})},function(e){n(e,r)})}function bn(e,t){gn(Ee,e,t)}function vn(e,t,n){gn(ke(t),e,n)}var yn=function(e,t){var n=y(e);return yt(function(e,t){n(e[0],t)},t,1)},Sn=function(e,t){var n=yn(e,t);return n.push=function(e,t,r){if(null==r&&(r=W),"function"!==typeof r)throw new Error("task callback must be a function");if(n.started=!0,X(e)||(e=[e]),0===e.length)return p(function(){n.drain()});t=t||0;for(var i=n._tasks.head;i&&t>=i.priority;)i=i.next;for(var o=0,s=e.length;o<s;o++){var a={data:e[o],priority:t,callback:r};i?n._tasks.insertBefore(i,a):n._tasks.push(a)}p(n.process)},delete n.unshift,n};function _n(e,t){if(t=H(t||W),!X(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)y(e[n])(t)}function wn(e,t,n,r){wt(o(e).reverse(),t,n,r)}function Cn(e){var t=y(e);return a(function(e,n){return e.push(function(e,t){var r;e?n(null,{error:e}):(r=arguments.length<=2?t:o(arguments,1),n(null,{value:r}))}),t.apply(this,e)})}function kn(e){var t;return X(e)?t=Ue(e,Cn):(t={},ze(e,function(e,n){t[n]=Cn.call(this,e)})),t}function xn(e,t,n,r){en(e,t,function(e,t){n(e,function(e,n){t(e,!n)})},r)}var On=Ne(xn),In=De(xn),Tn=Oe(In,1);function En(e){return function(){return e}}function Nn(e,t,n){var r=5,i=0,o={times:r,intervalFunc:En(i)};if(arguments.length<3&&"function"===typeof e?(n=t||W,t=e):(!function(e,t){if("object"===typeof t)e.times=+t.times||r,e.intervalFunc="function"===typeof t.interval?t.interval:En(+t.interval||i),e.errorFilter=t.errorFilter;else{if("number"!==typeof t&&"string"!==typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||r}}(o,e),n=n||W),"function"!==typeof t)throw new Error("Invalid arguments for async.retry");var s=y(t),a=1;!function e(){s(function(t){t&&a++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(t))?setTimeout(e,o.intervalFunc(a)):n.apply(null,arguments)})}()}var Mn=function(e,t){t||(t=e,e=null);var n=y(t);return a(function(t,r){function i(e){n.apply(null,t.concat(e))}e?Nn(e,i,r):Nn(i,r)})};function Pn(e,t){gn(_t,e,t)}var jn=Ne(Mt(Boolean,Nt)),Dn=De(Mt(Boolean,Nt)),Rn=Oe(Dn,1);function Ln(e,t,n){var r=y(t);function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}Pe(e,function(e,t){r(e,function(n,r){if(n)return t(n);t(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);n(null,Ue(t.sort(i),Qt("value")))})}function An(e,t,n){var r=y(e);return a(function(i,o){var s,a=!1;i.push(function(){a||(o.apply(null,arguments),clearTimeout(s))}),s=setTimeout(function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),a=!0,o(r)},t),r.apply(null,i)})}var Fn=Math.ceil,Bn=Math.max;function qn(e,t,n,r){var i=y(n);Re(function(e,t,n,r){for(var i=-1,o=Bn(Fn((t-e)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=e,e+=n;return s}(0,e,1),t,i,r)}var zn=Oe(qn,1/0),Wn=Oe(qn,1);function Hn(e,t,n,r){arguments.length<=3&&(r=n,n=t,t=X(e)?[]:{}),r=H(r||W);var i=y(n);Ee(e,function(e,n,r){i(t,e,n,r)},function(e){r(e,t)})}function Vn(e,t){var n,r=null;t=t||W,Ut(e,function(e,t){y(e)(function(e,i){n=arguments.length>2?o(arguments,1):i,r=e,t(!e)})},function(){t(r,n)})}function Un(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function $n(e,t,n){n=Ce(n||W);var r=y(t);if(!e())return n(null);var i=function(t){if(t)return n(t);if(e())return r(i);var s=o(arguments,1);n.apply(null,[null].concat(s))};r(i)}function Kn(e,t,n){$n(function(){return!e.apply(this,arguments)},t,n)}var Gn=function(e,t){if(t=H(t||W),!X(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){var r=y(e[n++]);t.push(Ce(i)),r.apply(null,t)}function i(i){if(i||n===e.length)return t.apply(null,arguments);r(o(arguments,1))}r([])},Yn={apply:s,applyEach:je,applyEachSeries:Ae,asyncify:f,auto:Ve,autoInject:gt,cargo:St,compose:kt,concat:It,concatLimit:Ot,concatSeries:Tt,constant:Et,detect:jt,detectLimit:Dt,detectSeries:Rt,dir:At,doDuring:Ft,doUntil:qt,doWhilst:Bt,during:zt,each:Ht,eachLimit:Vt,eachOf:Ee,eachOfLimit:xe,eachOfSeries:_t,eachSeries:Ut,ensureAsync:$t,every:Gt,everyLimit:Yt,everySeries:Jt,filter:tn,filterLimit:nn,filterSeries:rn,forever:on,groupBy:an,groupByLimit:sn,groupBySeries:cn,log:un,map:Pe,mapLimit:Re,mapSeries:Le,mapValues:hn,mapValuesLimit:ln,mapValuesSeries:dn,memoize:fn,nextTick:mn,parallel:bn,parallelLimit:vn,priorityQueue:Sn,queue:yn,race:_n,reduce:wt,reduceRight:wn,reflect:Cn,reflectAll:kn,reject:On,rejectLimit:In,rejectSeries:Tn,retry:Nn,retryable:Mn,seq:Ct,series:Pn,setImmediate:p,some:jn,someLimit:Dn,someSeries:Rn,sortBy:Ln,timeout:An,times:zn,timesLimit:qn,timesSeries:Wn,transform:Hn,tryEach:Vn,unmemoize:Un,until:Kn,waterfall:Gn,whilst:$n,all:Gt,allLimit:Yt,allSeries:Jt,any:jn,anyLimit:Dn,anySeries:Rn,find:jt,findLimit:Dt,findSeries:Rt,forEach:Ht,forEachSeries:Ut,forEachLimit:Vt,forEachOf:Ee,forEachOfSeries:_t,forEachOfLimit:xe,inject:wt,foldl:wt,foldr:wn,select:tn,selectLimit:nn,selectSeries:rn,wrapSync:f};t.default=Yn,t.apply=s,t.applyEach=je,t.applyEachSeries=Ae,t.asyncify=f,t.auto=Ve,t.autoInject=gt,t.cargo=St,t.compose=kt,t.concat=It,t.concatLimit=Ot,t.concatSeries=Tt,t.constant=Et,t.detect=jt,t.detectLimit=Dt,t.detectSeries=Rt,t.dir=At,t.doDuring=Ft,t.doUntil=qt,t.doWhilst=Bt,t.during=zt,t.each=Ht,t.eachLimit=Vt,t.eachOf=Ee,t.eachOfLimit=xe,t.eachOfSeries=_t,t.eachSeries=Ut,t.ensureAsync=$t,t.every=Gt,t.everyLimit=Yt,t.everySeries=Jt,t.filter=tn,t.filterLimit=nn,t.filterSeries=rn,t.forever=on,t.groupBy=an,t.groupByLimit=sn,t.groupBySeries=cn,t.log=un,t.map=Pe,t.mapLimit=Re,t.mapSeries=Le,t.mapValues=hn,t.mapValuesLimit=ln,t.mapValuesSeries=dn,t.memoize=fn,t.nextTick=mn,t.parallel=bn,t.parallelLimit=vn,t.priorityQueue=Sn,t.queue=yn,t.race=_n,t.reduce=wt,t.reduceRight=wn,t.reflect=Cn,t.reflectAll=kn,t.reject=On,t.rejectLimit=In,t.rejectSeries=Tn,t.retry=Nn,t.retryable=Mn,t.seq=Ct,t.series=Pn,t.setImmediate=p,t.some=jn,t.someLimit=Dn,t.someSeries=Rn,t.sortBy=Ln,t.timeout=An,t.times=zn,t.timesLimit=qn,t.timesSeries=Wn,t.transform=Hn,t.tryEach=Vn,t.unmemoize=Un,t.until=Kn,t.waterfall=Gn,t.whilst=$n,t.all=Gt,t.allLimit=Yt,t.allSeries=Jt,t.any=jn,t.anyLimit=Dn,t.anySeries=Rn,t.find=jt,t.findLimit=Dt,t.findSeries=Rt,t.forEach=Ht,t.forEachSeries=Ut,t.forEachLimit=Vt,t.forEachOf=Ee,t.forEachOfSeries=_t,t.forEachOfLimit=xe,t.inject=wt,t.foldl=wt,t.foldr=wn,t.select=tn,t.selectLimit=nn,t.selectSeries=rn,t.wrapSync=f,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(t,n(733).setImmediate,n(29),n(19),n(67)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137),i=n(3235);t.ForemanLambdaFactory=class extends r.EventEmitter{constructor(e,t,n){super(),this.messageSender=e,this.tenantManager=t,this.permissions=n,this.messageSender.on("error",e=>{this.emit("error",e)})}async create(e,t){const n=e.get("tenantId"),r=e.get("documentId");return new i.ForemanLambda(this.messageSender,this.tenantManager,this.permissions,t,n,r)}async dispose(){await this.messageSender.close()}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(3236)),r(n(5339))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137),i=n(2404),o=n(3236),s=n(3237),a={lastClientSummaryHead:void 0,logOffset:-1,minimumSequenceNumber:0,protocolState:{members:[],minimumSequenceNumber:0,proposals:[],sequenceNumber:0,values:[]},sequenceNumber:0};t.ScribeLambdaFactory=class extends r.EventEmitter{constructor(e,t,n,r,i){super(),this.mongoManager=e,this.documentCollection=t,this.messageCollection=n,this.producer=r,this.tenantManager=i}async create(e,t){const n=e.get("tenantId"),r=e.get("documentId"),c=(await this.tenantManager.getTenant(n)).gitManager,[u,l]=await Promise.all([s.fetchLatestSummaryState(c,r),this.documentCollection.findOne({documentId:r,tenantId:n})]);if(!l)return t.log.info(`Creating NoOpLambda due to missing ${n}/${r}`),new i.NoOpLambda(t);let h=(await this.messageCollection.find({documentId:r,tenantId:n},{"operation.sequenceNumber":1})).map(e=>e.operation);if(void 0===l.scribe||null===l.scribe)t.log.info(`New document. Setting empty scribe checkpoint for ${n}/${r}`),l.scribe=JSON.stringify(a);else if(""===l.scribe){if(!u.fromSummary)throw Error(`Required summary can't be fetched for ${n}/${r}`);t.log.info(`Loading scribe state from service summary for ${n}/${r}`),l.scribe=u.scribe,h=u.messages}else t.log.info(`Loading scribe state from cache for ${n}/${r}`);const d=u.fromSummary?u.term:1,p=JSON.parse(l.scribe),f=s.initializeProtocol(l.documentId,p,d);return new o.ScribeLambda(t,this.documentCollection,this.messageCollection,l.tenantId,l.documentId,p,c,this.producer,f,u.term,u.protocolHead,h,!0)}async dispose(){await this.mongoManager.close()}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(3238)),r(n(5341))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137),i=n(3238);t.ScriptoriumLambdaFactory=class extends r.EventEmitter{constructor(e,t,n){super(),this.mongoManager=e,this.opCollection=t,this.contentCollection=n}async create(e,t){return new i.ScriptoriumLambda(this.opCollection,this.contentCollection,t)}async dispose(){await this.mongoManager.close()}}},function(e,t,n){"use strict";var r=n(5343),i=(n.n(r),n(2098));t.a=class{constructor(e,t,n,r,i,o,s,a){this.storage=e,this.databaseManager=t,this.tenantManager=n,this.taskMessageSender=r,this.permission=i,this.maxMessageSize=o,this.createHistorian=s,this.logger=a,this.map=new Map}async hasPendingWork(){return Promise.all(this.map.values()).then(e=>{for(const t of e)if(t.hasPendingWork())return!0;return!1})}async getOrderer(e,t){const n=`${e}/${t}`;if(!this.map.has(n)){const r=this.createLocalOrderer(e,t);this.map.set(n,r)}return this.map.get(n)}async createLocalOrderer(e,t){const n=await this.createHistorian(e),o=new i.GitManager(n),s=await r.LocalOrderer.load(this.storage,this.databaseManager,e,t,this.taskMessageSender,this.tenantManager,this.permission,this.maxMessageSize,this.logger,o),a=[s.broadcasterLambda,s.deliLambda,s.foremanLambda,s.scribeLambda,s.scriptoriumLambda];return await Promise.all(a.map(async e=>{if("created"===e.state)return new Promise(t=>e.once("started",()=>t()))})),s}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(3239)),r(n(5345)),r(n(3240)),r(n(5351)),r(n(5352)),r(n(5355)),r(n(3242)),r(n(3241))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137);t.LocalKafkaSubscription=class extends r.EventEmitter{constructor(e,t){super(),this.subscriber=e,this.queue=t,this.queueOffset=0,this.closed=!1,this.processing=!1}close(){this.closed=!0,this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=void 0),this.removeAllListeners()}process(){if(this.queue.length<=this.queueOffset||this.processing||void 0!==this.retryTimer||this.closed)return;const e=this.queue.get(this.queueOffset);try{this.processing=!0,this.subscriber.process(e),this.queueOffset++,this.emit("processed",this.queueOffset)}catch(t){return this.subscriber.context.error(t,!1),void(this.retryTimer=setTimeout(()=>{this.retryTimer=void 0,this.process()},500))}finally{this.processing=!1}this.process()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2048),i=n(5346);t.LocalNodeFactory=class{constructor(e,t,n,r,i,o,s,a,c,u,l){this.hostname=e,this.address=t,this.storage=n,this.databaseManager=r,this.timeoutLength=i,this.webSocketServerFactory=o,this.taskMessageSender=s,this.tenantManager=a,this.permission=c,this.maxMessageSize=u,this.logger=l}async create(){return i.LocalNode.connect(`${this.hostname}-${r.v4()}`,this.address,this.storage,this.databaseManager,this.timeoutLength,this.webSocketServerFactory,this.taskMessageSender,this.tenantManager,this.permission,this.maxMessageSize,this.logger)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1994),i=n(137),o=n(2403),s=n(2661),a=n(2048),c=n(2663),u=n(3240),l=n(3243),h={blockSize:64436,maxMessageSize:16384,summary:{idleTime:5e3,maxOps:1e3,maxTime:6e4,maxAckWaitTime:6e5}};class d{constructor(e){this.socket=e,this.id=a.v4()}send(e,t,...n){const r={cid:-1,payload:{data:n,op:t,topic:e},type:"op"};this.socket.send(r)}}class p extends i.EventEmitter{constructor(e,t,n,i,o,a,u,p,f,m){super(),this.webSocketServerFactory=e,this.node=t,this.storage=n,this.databaseManager=i,this.timeoutLength=o,this.taskMessageSender=a,this.tenantManager=u,this.permission=p,this.maxMessageSize=f,this.logger=m,this.orderMap=new Map,this.connectionMap=new Map,this.scheduleHeartbeat(),this.webSocketServer=this.webSocketServerFactory(),this.webSocketServer.on("connection",(e,t)=>{c.debug(`New inbound web socket connection ${t.url}`);const n=new l.Socket(e),i=new d(n);n.on("message",e=>{switch(e.type){case"connect":{const t=e.payload,o=`${t.tenantId}/${t.documentId}`,a=this.orderMap.get(o);r(a);const c=a.connectInternal(i,s.choose(),t.client);this.connectionMap.set(e.cid,c);const u={clientId:c.clientId,existing:c.existing,maxMessageSize:this.maxMessageSize,parentBranch:c.parentBranch,serviceConfiguration:h};n.send({cid:e.cid,type:"connected",payload:u});break}case"disconnect":{const t=this.connectionMap.get(e.cid);r(t),t.disconnect(),this.connectionMap.delete(e.cid);break}case"order":{const t=e.payload,n=this.connectionMap.get(e.cid);r(n),n.order([t]);break}}})}),this.webSocketServer.on("error",e=>{c.debug("wss error",e)})}static async connect(e,t,n,r,i,o,s,a,c,u,l){const h=await p.create(e,t,r,i);return new p(o,h,n,r,i,s,a,c,u,l)}static async create(e,t,n,r){c.debug("Creating node",e);const i=await n.getNodeCollection(),o={_id:e,address:t,expiration:Date.now()+r};return await i.insertOne(o),o}static async updateExpiration(e,t,n){const r=await t.getNodeCollection(),i=Date.now()+n;await r.update({_id:e._id,expiration:e.expiration},{expiration:i},null);const s=o.clone(e);return s.expiration=i,s}get id(){return this.node._id}get valid(){return!0}async connectOrderer(e,t){const n=`${e}/${t}`;c.debug(`${this.id} Becoming leader for ${n}`);const i=await u.LocalOrderer.load(this.storage,this.databaseManager,e,t,this.taskMessageSender,this.tenantManager,this.permission,this.maxMessageSize,this.logger);return r(!this.orderMap.has(n)),this.orderMap.set(n,i),i}scheduleHeartbeat(){if(Date.now()>this.node.expiration)c.debug(`${this.node._id} did not renew before expiration`),this.emit("expired");else{const e=this.node.expiration-this.timeoutLength/2,t=Math.max(0,e-Date.now());setTimeout(()=>{p.updateExpiration(this.node,this.databaseManager,this.timeoutLength).then(e=>{this.node=e,this.scheduleHeartbeat()},e=>{c.debug(`Failed to renew expiration for ${this.node._id}`,e),this.scheduleHeartbeat()})},t)}}}t.LocalNode=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pkgName="@microsoft/fluid-server-memory-orderer",t.pkgVersion="0.1005.1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2001),i=n(2119),o=n(2085);t.LocalOrdererConnection=class{constructor(e,t,n,o,s,a,c,u,l,h,d){this.pubsub=e,this.socket=t,this.existing=n,this.producer=s,this.tenantId=a,this.documentId=c,this.clientId=u,this.client=l,this.maxMessageSize=h,this.serviceConfiguration=d,this.parentBranch=o.parent?o.parent.documentId:null,this.pubsub.subscribe(`${this.tenantId}/${this.documentId}`,this.socket),this.pubsub.subscribe(`client#${this.clientId}`,this.socket);const p={clientId:this.clientId,detail:this.client},f={clientSequenceNumber:-1,contents:null,data:JSON.stringify(p),referenceSequenceNumber:-1,traces:[],type:r.MessageType.ClientJoin},m={clientId:null,documentId:this.documentId,operation:f,tenantId:this.tenantId,timestamp:Date.now(),type:i.RawOperationType};this.submitRawOperation([m])}order(e){const t=e.map(e=>({clientId:this.clientId,documentId:this.documentId,operation:e,tenantId:this.tenantId,timestamp:Date.now(),type:i.RawOperationType}));this.submitRawOperation(t)}disconnect(){const e={clientSequenceNumber:-1,contents:null,data:JSON.stringify(this.clientId),referenceSequenceNumber:-1,traces:[],type:r.MessageType.ClientLeave},t={clientId:null,documentId:this.documentId,operation:e,tenantId:this.tenantId,timestamp:Date.now(),type:i.RawOperationType};this.submitRawOperation([t]),this.pubsub.unsubscribe(`${this.tenantId}/${this.documentId}`,this.socket),this.pubsub.unsubscribe(`client#${this.clientId}`,this.socket)}once(e,t){this.producer.once(e,t)}submitRawOperation(e){e.forEach(e=>{const t=e.operation;t&&t.traces&&t.traces.push({action:"start",service:"alfred",timestamp:o()})});const t={contents:e,documentId:this.documentId,tenantId:this.tenantId,type:i.BoxcarType};this.producer.send([t],this.tenantId,this.documentId)}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.LocalOrdererSetup=class{constructor(e,t,n,r,i){this.tenantId=e,this.documentId=t,this.storage=n,this.databaseManager=r,this.gitManager=i}documentP(){return this.storage.getOrCreateDocument(this.tenantId,this.documentId)}documentCollectionP(){return this.databaseManager.getDocumentCollection()}deltaCollectionP(){return this.databaseManager.getDeltaCollection(this.tenantId,this.documentId)}scribeDeltaCollectionP(){return this.databaseManager.getScribeDeltaCollection(this.tenantId,this.documentId)}async protocolHeadP(){if(!this.gitManager)return 0;const t=await this.gitManager.getRef(encodeURIComponent(this.documentId));if(!t)return-1;const n=await this.gitManager.getContent(t.object.sha,".protocol/attributes");return JSON.parse(e.from(n.content,n.encoding).toString()).sequenceNumber}async scribeMessagesP(){return(await this.scribeDeltaCollectionP()).find({documentId:this.documentId,tenantId:this.tenantId},{"operation.sequenceNumber":1})}}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1994);t.LocalOrderManager=class{constructor(e,t){this.nodeFactory=e,this.reservationManager=t,this.localOrderers=new Map,this.createLocalNode()}async get(e,t){const n=this.getKey(e,t);let r=this.localOrderers.get(n);return r||(r=this.getCore(e,t),this.localOrderers.set(n,r)),r}async remove(e,t){const n=this.getKey(e,t),r=this.localOrderers.get(n);if(r){this.localOrderers.delete(n);const e=await r;await e.close()}}async getCore(e,t){const n=await this.localNodeP,i=this.getKey(e,t),o=await this.reservationManager.getOrReserve(i,n);return r(o.valid),await o.connectOrderer(e,t)}createLocalNode(){this.localNodeP=this.nodeFactory.create(),this.localNodeP.then(e=>{e.on("error",e=>{})},e=>{})}getKey(e,t){return`${e}/${t}`}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1994),i=n(137),o=n(5353);t.NodeManager=class extends i.EventEmitter{constructor(e,t){super(),this.mongoManager=e,this.nodeCollectionName=t,this.nodes=new Map,this.pendingNodes=new Map}registerLocal(e){r(!this.nodes.has(e.id)),r(!this.pendingNodes.has(e.id)),this.nodes.set(e.id,e)}loadRemote(e){if(this.nodes.has(e))return Promise.resolve(this.nodes.get(e));if(this.pendingNodes.has(e))return this.pendingNodes.get(e);const t=this.getNode(e);return this.pendingNodes.set(e,t),t}async getNode(e){const t=await o.RemoteNode.connect(e,this.mongoManager,this.nodeCollectionName);return this.nodes.set(e,t),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1994),i=n(137),o=n(2100),s=n(2663),a=n(5354),c=n(3243);class u{constructor(e,t,n,r,i,o){this.tenantId=e,this.documentId=t,this.socket=n,this.node=r,this.cid=i,this.details=o}get clientId(){return this.details.clientId}get existing(){return this.details.existing}get parentBranch(){return this.details.parentBranch}get maxMessageSize(){return this.details.maxMessageSize}get serviceConfiguration(){return this.details.serviceConfiguration}order(e){this.node.send(this.cid,"order",e)}disconnect(){this.node.send(this.cid,"disconnect",null)}emit(e,t,...n){this.socket.emit(e,t,...n)}once(e,t){}}class l{constructor(e,t,n){this.node=e,this.tenantId=t,this.documentId=n}async connect(e,t){return this.node.connect(e,this.tenantId,this.documentId,t)}}class h extends i.EventEmitter{constructor(e,t){super(),this._id=e,this.socket=t,this.connectMap=new Map,this.orderers=new Map,this.topicMap=new Map,this.cid=0,this.socket.on("message",e=>{switch(e.type){case"op":this.route(e.payload);break;case"connected":const t=this.connectMap.get(e.cid);r(t),this.connectMap.delete(e.cid);const n=new u(t.tenantId,t.documentId,t.socket,this,e.cid,e.payload);this.topicMap.set(`client#${n.clientId}`,[n]);const i=`${t.tenantId}/${t.documentId}`;this.topicMap.has(i)||this.topicMap.set(i,[]),this.topicMap.get(i).push(n),t.deferred.resolve(n)}})}static async connect(e,t,n){const r=(await t.getDatabase()).collection(n),i=await r.findOne({_id:e}),o=i.expiration>=Date.now()?await c.Socket.connect(i.address,e):null;return new h(e,o)}get id(){return this._id}get valid(){return null!==this.socket}async connectOrderer(e,t){const n=`${e}/${t}`;r(!this.orderers.has(n)),s.debug(`Connecting to ${n}:${this.id}`);const i=new a.ProxyOrderer(new l(this,e,t));return this.orderers.set(n,i),i}send(e,t,n){this.socket.send({cid:e,payload:n,type:t})}async connect(e,t,n,r){const i=this.getNextCid(),s={client:r,documentId:n,tenantId:t},a=new o.Deferred;return this.connectMap.set(i,{socket:e,deferred:a,tenantId:t,documentId:n}),this.send(i,"connect",s),a.promise}route(e){const t=this.topicMap.get(e.topic);for(const n of t)n.emit(e.op,e.data[0],...e.data.slice(1))}getNextCid(){return this.cid++}}t.RemoteNode=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ProxyOrderer=class{constructor(e){this.factory=e}async connect(e,t,n){return await this.factory.connect(e,n)}close(){return Promise.resolve()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137);t.ReservationManager=class extends r.EventEmitter{constructor(e,t,n){super(),this.nodeTracker=e,this.mongoManager=t,this.reservationColletionName=n}async getOrReserve(e,t){const n=await this.getReservationsCollection(),r=await n.findOne({_id:e});if(null===r)return await this.makeReservation(t,e,null,n),t;{const i=await this.nodeTracker.loadRemote(r.node);return i.valid?i:(await this.makeReservation(t,e,r,n),t)}}async makeReservation(e,t,n,r){const i={_id:t,node:e.id};n?await r.update({_id:t,node:n.node},i,null):await r.insertOne(i)}async getReservationsCollection(){return(await this.mongoManager.getDatabase()).collection(this.reservationColletionName)}}},function(e,t,n){"use strict";var r=n(137),i=(n.n(r),n(2048));n.n(i);t.a=class{constructor(e){this.testDatabase=new o(e)}async connect(){return Promise.resolve(this.testDatabase)}};class o extends r.EventEmitter{constructor(e){super(),this.namespace=e,this.collections=new Map}async close(){return Promise.resolve()}collection(e){return this.collections.has(e)||this.collections.set(e,new s(`${this.namespace}-db`,e)),this.collections.get(e)}}class s{constructor(e,t){this.collectionName=`${e}-${t}`}async find(e,t){function n(e,t){const n=t.split(".");let r=e;return n.forEach(e=>{r=r[e]}),r}const r=Object.keys(e);let i=this.getAllInternal();if(r.forEach(t=>{e[t].$gt>0||e[t].$lt>0?(e[t].$gt>0&&(i=i.filter(r=>n(r,t)>e[t].$gt)),e[t].$lt>0&&(i=i.filter(r=>n(r,t)<e[t].$lt))):i=i.filter(r=>n(r,t)===e[t])}),t&&1===Object.keys(t).length){i=i.sort(function(e,r){const i=Object.keys(t)[0];return 1===t[i]?n(e,i)-n(r,i):n(r,i)-n(e,i)})}return i}async findAll(){return Promise.resolve(this.getAllInternal())}async findOne(e){return Promise.resolve(this.findOneInternal(e))}async update(e,t,n){const r=this.findOneInternal(e);if(!r)throw new Error("Not found");for(const i of Object.keys(t))r[i]=t[i];this.insertInternal(r)}async upsert(e,t,n){const r=this.findOneInternal(e);if(r){for(const e of Object.keys(t))r[e]=t[e];this.insertInternal(r)}else this.insertInternal(t)}async insertOne(e){const t=this.findOneInternal(e);if(t){if(JSON.stringify(t)===JSON.stringify(e))return;throw new Error("Existing Object!!")}return this.insertInternal(e)}async findOrCreate(e,t){const n=this.findOneInternal(e);return n?{value:n,existing:!0}:(this.insertInternal(t),{value:t,existing:!1})}async insertMany(e,t){this.insertInternal(...e)}async deleteOne(e){throw new Error("Method not implemented.")}async deleteMany(e){throw new Error("Method not implemented.")}async createIndex(e,t){throw new Error("Method not implemented.")}getAllInternal(){const e=[];for(let t=0;t<sessionStorage.length;t++){const n=sessionStorage.key(t);n.startsWith(this.collectionName)&&e.push(JSON.parse(sessionStorage.getItem(n)))}return e}insertInternal(...e){for(const t of e)t&&(t._id||(t._id=i()),sessionStorage.setItem(`${this.collectionName}-${t._id}`,JSON.stringify(t)))}findOneInternal(e){if(e._id){const t=sessionStorage.getItem(`${this.collectionName}-${e._id}`);if(t)return JSON.parse(t)}else{const t=Object.keys(e);for(let n=0;n<sessionStorage.length;n++){const r=sessionStorage.key(n);if(!r.startsWith(this.collectionName))continue;const i=JSON.parse(sessionStorage.getItem(r));for(const n of t)i[n],e[n];return i}}return null}}},function(e,t,n){"use strict";t.a=class{constructor(e){this.typeToFactory=new Map(e)}async load(e){let t;t="string"===typeof e.package?e.package:`${e.package.name}@${e.package.version}`;const n=this.typeToFactory.get(t);if(void 0===n)throw new Error(`TestCodeLoader: Missing IRuntimeFactory for '${t}'.`);return{fluidExport:await n}}}},function(e,t,n){"use strict";var r=n(2012),i=(n.n(r),n(5359));const o=r("fluid:local-test-utils");t.a=o,o(`Package: ${i.a} - Version: ${i.b}`)},function(e,t,n){"use strict";t.a="@microsoft/fluid-local-test-utils";t.b="0.18.4"},function(e,t,n){"use strict";var r=n(2275),i=n(3223),o=n(2664),s=(n.n(o),n(3245)),a=n(3244);class c extends r.PrimedComponent{constructor(){super(...arguments),this.run=(()=>Promise.resolve())}get IComponentRunnable(){return this}stop(){}async createAndAttachComponent(e,t,n){return super.createAndAttachComponent(t,n).then(t=>(this.root.set(e,t.handle),t))}async createComponentWithRealizationFn(e,t){return await this.context.containerRuntime.createComponentWithRealizationFn(e,t)}async getComponent(e){return(await this.root.wait(e)).get()}createType(e,t){try{const r=this.runtime.createChannel(e,t);return this.root.set(e,r.handle),r}catch(n){throw new Error(`'${t}.getFactory()' must be provided to TestHost ctor: ${n}`)}}async getType(e){return(await this.root.wait(e)).get()}async waitFor(e){const t=`fence-${e}`;await this.root.wait(t)}mark(e){this.root.set(`fence-${e}`,!0)}unmark(e){this.root.delete(`fence-${e}`)}getDocumentDeltaEvent(){return this.runtime}}t.b=c,c.type="@chaincode/test-root-component",c.codeProposal={package:c.type,config:{}};let u=0;class l{constructor(e,t=[],n,u={},l=[],h=[]){this.componentRegistry=e,this.sharedObjectFactories=t,this.scope=u,this.providerEntries=l,this.containerServiceRegistry=h,this.deltaConnectionServer=n||i.LocalDeltaConnectionServer.create();const d=new r.ContainerRuntimeFactoryWithDefaultComponent(c.type,[...e,[c.type,Promise.resolve(new r.PrimedComponentFactory(c.type,c,t,{}))]],this.providerEntries,[Object(r.generateContainerServicesRequestHandler)(this.containerServiceRegistry)]),p=new s.a(new a.TestCodeLoader([[c.type,d]]),new o.TestDocumentServiceFactory(this.deltaConnectionServer),new o.TestResolver);this.root=p.open("testHostContainer",c.codeProposal,"",u)}static async sync(...e){for(const t of e){const n=await t.mark();for(const r of e)r!==t&&await r.waitFor(n);await t.unmark(n)}}clone(){return new l(this.componentRegistry,this.sharedObjectFactories,this.deltaConnectionServer,this.scope,this.providerEntries,this.containerServiceRegistry)}async createAndAttachComponent(e,t,n){return(await this.root).createAndAttachComponent(e,t,n)}async getComponent(e){return(await this.root).getComponent(e)}async createType(e,t){return(await this.root).createType(e,t)}async getType(e){return(await this.root).getType(e)}async getDocumentDeltaEvent(){return(await this.root).getDocumentDeltaEvent()}async close(){await this.deltaConnectionServer.webSocketServer.close()}async mark(){return u+=1,(await this.root).mark(u),u}async waitFor(e){return(await this.root).waitFor(e)}async unmark(e){(await this.root).unmark(e)}}t.a=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this.localDeltaConnectionServer=e,this.documents=new Set,this.isNormalProcessingPaused=!1}static async yieldEventLoop(){await new Promise(e=>{setTimeout(e,0)})}get isProcessingControlled(){return this.isNormalProcessingPaused}registerDocuments(...e){e.forEach(e=>{this.documents.add(e)})}async process(...e){const t=await this.pauseAndValidateDocs(...e);for(const n of t)n.deltaManager.inbound.resume(),n.deltaManager.outbound.resume();await this.yieldWhileDocumentsHaveWork(t,e=>!e.deltaManager.inbound.idle||!e.deltaManager.outbound.idle)}async processIncoming(...e){const t=await this.pauseAndValidateDocs(...e);for(const n of t)n.deltaManager.inbound.resume();await this.yieldWhileDocumentsHaveWork(t,e=>!e.deltaManager.inbound.idle)}async processOutgoing(...e){const t=await this.pauseAndValidateDocs(...e);for(const n of t)n.deltaManager.outbound.resume();await this.yieldWhileDocumentsHaveWork(t,e=>!e.deltaManager.outbound.idle)}async pauseProcessing(...e){await this.pauseAndValidateDocs(...e)}resumeProcessing(...e){e.map(r.resumeDocument),this.isNormalProcessingPaused=!1}async pauseAndValidateDocs(...e){return await Promise.all(Array.from(this.documents).map(r.pauseDocument)),this.isNormalProcessingPaused=!0,e&&e.length>0?(e.forEach(e=>{if(!this.documents.has(e))throw new Error("All documents must be registered with test server to deterministically control processing")}),e):this.documents}async yieldWhileDocumentsHaveWork(e,t){let n;do{if(await r.yieldEventLoop(),!(n=await this.localDeltaConnectionServer.hasPendingWork()))for(const r of e)if(t(r)){n=!0;break}}while(n);if(this.isNormalProcessingPaused)for(const i of e)await r.pauseDocument(i)}static async pauseDocument(e){await Promise.all([e.deltaManager.inbound.pause(),e.deltaManager.outbound.pause()])}static resumeDocument(e){e.deltaManager.inbound.resume(),e.deltaManager.outbound.resume()}}t.DocumentDeltaEventManager=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TestDeltaStorageService=class{constructor(e,t,n){this.tenantId=e,this.id=t,this.databaseManager=n}async get(e,t){const n={documentId:this.id,tenantId:this.tenantId};void 0===e&&void 0===t||(n["operation.sequenceNumber"]={},void 0!==e&&(n["operation.sequenceNumber"].$gt=e),void 0!==t&&(n["operation.sequenceNumber"].$lt=t));const r=await this.databaseManager.getDeltaCollection(this.tenantId,this.id);return(await r.find(n,{"operation.sequenceNumber":1})).map(e=>e.operation)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137),i=n(2006),o=n(2001),s=n(5364),a=["^0.3.0","^0.2.0","^0.1.0"];class c extends r.EventEmitter{constructor(e,t,n){super(),this.socket=e,this.documentId=t,this.details=n,this.emitter=new r.EventEmitter,this.submitManager=new i.BatchManager((e,t)=>{this.socket.emit(e,this.details.clientId,t,e=>{e&&s.debug("Emit error",e)})})}static async create(e,t,n,r,i){const o=i.createConnection(),u={client:r,id:t,mode:r.mode,tenantId:e,token:n,versions:a},l=await new Promise((e,t)=>{const n=[],r=[],i=[],a=(e,t)=>{s.debug("Queued early ops",t.length),n.push(...t)};o.on("op",a);const c=e=>{s.debug("Queued early contents"),r.push(e)};o.on("op-content",c);const l=e=>{s.debug("Queued early signals"),i.push(e)};o.on("signal",l),o.on("connect_error",e=>{t(e)}),o.on("connect_document_success",t=>{o.removeListener("op",a),o.removeListener("op-content",c),o.removeListener("signal",l),void 0===t.initialMessages&&(t.initialMessages=[]),void 0===t.initialClients&&(t.initialClients=[]),void 0===t.initialContents&&(t.initialContents=[]),void 0===t.initialSignals&&(t.initialSignals=[]),n.length>0&&(t.initialMessages.push(...n),t.initialMessages.sort((e,t)=>e.sequenceNumber-t.sequenceNumber)),r.length>0&&(t.initialContents.push(...r),t.initialContents.sort((e,t)=>e.clientId===t.clientId?0:(e.clientId<t.clientId?-1:1)||e.clientSequenceNumber-t.clientSequenceNumber)),i.length>0&&t.initialSignals.push(...i),e(t)}),o.on("connect_document_error",t),o.emit("connect_document",u)}),h=new c(o,t,l);return Promise.resolve(h)}get clientId(){return this.details.clientId}get mode(){return this.details.mode}get claims(){return this.details.claims}get existing(){return this.details.existing}get parentBranch(){return this.details.parentBranch}get maxMessageSize(){return this.details.maxMessageSize}get initialMessages(){return this.details.initialMessages}get initialContents(){return this.details.initialContents}get initialSignals(){return this.details.initialSignals}get initialClients(){return this.details.initialClients}get version(){return a[0]}get serviceConfiguration(){return this.details.serviceConfiguration}on(e,t){return this.socket.on(e,(...t)=>{this.emitter.emit(e,...t)}),this.emitter.on(e,t),this}submit(e){Promise.resolve().then(()=>{this.submitManager.add("submitOp",e),this.submitManager.drain()})}submitSignal(e){this.submitManager.add("submitSignal",e),this.submitManager.drain()}async submitAsync(e){return new Promise((t,n)=>{this.socket.emit("submitContent",this.details.clientId,e,e=>{e?n():t()})})}disconnect(){}disconnectClient(e){this.socket.emit("disconnect",e)}nackClient(e=400,t=o.NackErrorType.ThrottlingError,n){const r={operation:void 0,sequenceNumber:-1,content:{code:e,type:t,message:n}};this.socket.emit("nack","",[r])}}t.TestDocumentDeltaConnection=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2012),i=n(5365);t.debug=r("fluid:local-driver"),t.debug(`Package: ${i.pkgName} - Version: ${i.pkgVersion}`)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pkgName="@microsoft/fluid-local-driver",t.pkgVersion="0.18.4"},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(3247)),r(n(5367)),r(n(5377)),r(n(2665)),r(n(3249)),r(n(5378)),r(n(3250)),r(n(5379)),r(n(5380)),r(n(5381)),r(n(5382)),r(n(5383))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2001),i=n(5368),o=n(3227);t.KafkaMessageFactory=class{constructor(e="test",t=1,n=!0,r=null,i=null){this.topic=e,this.stringify=n,this.tenantId=r,this.documentId=i,this.offsets=[];for(let o=0;o<t;o++)this.offsets.push(0)}sequenceMessage(e,t){const n=this.getPartition(t);return{offset:this.offsets[n]++,partition:n,topic:this.topic,value:this.stringify?JSON.stringify(e):{contents:[e],documentId:this.documentId,tenantId:this.tenantId,type:i.BoxcarType}}}getHeadOffset(e){return this.offsets[this.getPartition(e)]-1}getPartition(e){return o(e)%this.offsets.length}};t.MessageFactory=class{constructor(e,t,n="test"){this.documentId=e,this.clientId=t,this.tenantId=n,this.clientSequenceNumber=0,this.sequenceNumber=0}createDocumentMessage(e=0){return{clientSequenceNumber:++this.clientSequenceNumber,contents:null,metadata:void 0,referenceSequenceNumber:e,traces:[],type:r.MessageType.Operation}}create(e=0,t=Date.now()){const n=this.createDocumentMessage(e);return this.createRawOperation(n,t,this.clientId)}createJoin(e=Date.now()){const t={clientId:this.clientId,detail:{mode:"write",permission:[],scopes:[r.ScopeType.DocRead,r.ScopeType.DocWrite,r.ScopeType.SummaryWrite],details:{capabilities:{interactive:!0}},user:null}},n={clientSequenceNumber:-1,contents:null,data:JSON.stringify(t),referenceSequenceNumber:-1,traces:[],type:r.MessageType.ClientJoin};return this.createRawOperation(n,e,null)}createLeave(e=Date.now()){const t={clientSequenceNumber:-1,contents:null,data:JSON.stringify(this.clientId),referenceSequenceNumber:-1,traces:[],type:r.MessageType.ClientLeave};return this.createRawOperation(t,e,null)}createRawOperation(e,t,n){return{clientId:n,documentId:this.documentId,operation:e,tenantId:this.tenantId,timestamp:t,type:i.RawOperationType}}createSave(){const e={clientSequenceNumber:this.clientSequenceNumber++,contents:"Test Save",referenceSequenceNumber:0,traces:[],type:r.MessageType.Save},t={clientId:this.clientId,clientSequenceNumber:e.clientSequenceNumber,contents:e.contents,metadata:e.metadata,minimumSequenceNumber:0,origin:void 0,referenceSequenceNumber:e.referenceSequenceNumber,sequenceNumber:this.sequenceNumber++,term:1,timestamp:Date.now(),traces:[],type:e.type};return{documentId:this.documentId,operation:t,tenantId:this.tenantId,type:i.SequencedOperationType}}createSequencedOperation(){const e=this.createDocumentMessage(0),t={clientId:this.clientId,clientSequenceNumber:e.clientSequenceNumber,contents:e.contents,metadata:e.metadata,minimumSequenceNumber:0,origin:void 0,referenceSequenceNumber:e.referenceSequenceNumber,sequenceNumber:this.sequenceNumber++,term:1,timestamp:Date.now(),traces:[],type:e.type};return{documentId:this.documentId,operation:t,tenantId:this.tenantId,type:i.SequencedOperationType}}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(5369)),r(n(5370)),r(n(3248)),r(n(5371)),r(n(5372)),r(n(5375)),r(n(5376))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=["Elliot Woodward","Miguel Garcia","Robert Tolbert","Henry Brill","Cecil Folk","Isaac Fielder","Erik Nason","Tim Deboer","Mauricio August","Allan Munger","Kevin Sturgis","Carlos Slattery","Johnnie McConnell","Colin Ballinger","Kat Larsson","Katri Ahokas","Carole Poland","Wanda Howard","Amanda Brady","Ashley McCarthy","Lydia Bauer","Robin Counts","Charlotte Walton","Elvia Atkins","Daisy Phillips","Mona Kane","Kristin Patterson","Celeste Burton"];t.chooseCelaName=(()=>r[Math.floor(Math.random()*r.length)])},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(2006),i=n(3248);t.extractBoxcar=function(t){if("string"!==typeof t.value&&!e.isBuffer(t.value))return t.value;const n=t.value.toString(),o=r.safelyParseJSON(n),s=o;if(!s)return{contents:[],documentId:null,tenantId:null,type:i.BoxcarType};if(s.type===i.BoxcarType){const e=s;return{contents:e.contents.length>0&&"string"===typeof e.contents[0]?e.contents.map(e=>JSON.parse(e)):e.contents,documentId:e.documentId,tenantId:e.tenantId,type:e.type}}return{contents:[s],documentId:o.documentId,tenantId:o.tenantId,type:i.BoxcarType}}}).call(t,n(22).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DefaultMetricClient=class{writeLatencyMetric(e,t){return Promise.resolve()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5373);t.MongoManager=class{constructor(e,t=!0,n=1e3){this.factory=e,this.shouldReconnect=t,this.reconnectDelayMs=n,this.databaseP=this.connect()}getDatabase(){return this.databaseP}async close(){return this.shouldReconnect=!1,(await this.databaseP).close()}connect(){const e=this.factory.connect().then(e=>(e.on("error",e=>{r.debug("DB Error",e),this.reconnect(this.reconnectDelayMs)}),e.on("close",e=>{r.debug("DB Close",e),this.reconnect(this.reconnectDelayMs)}),e));return e.catch(e=>{r.debug("DB Connection Error",e),this.reconnect(this.reconnectDelayMs)}),e}reconnect(e){this.shouldReconnect&&(this.databaseP=new Promise(t=>{setTimeout(()=>{const e=this.connect();t(e)},e)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2012),i=n(5374);t.debug=r("fluid:core"),t.debug(`Package: ${i.pkgName} - Version: ${i.pkgVersion}`)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pkgName="@microsoft/fluid-server-services-core",t.pkgVersion="0.1005.1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MongoDatabaseManager=class{constructor(e,t,n,r,i){this.mongoManager=e,this.nodeCollectionName=t,this.documentsCollectionName=n,this.deltasCollectionName=r,this.scribeDeltasCollectionName=i}async getNodeCollection(){return this.getCollection(this.nodeCollectionName)}async getDocumentCollection(){return this.getCollection(this.documentsCollectionName)}async getDeltaCollection(e,t){return this.getCollection(this.deltasCollectionName)}async getScribeDeltaCollection(e,t){return this.getCollection(this.scribeDeltasCollectionName)}async getCollection(e){return(await this.mongoManager.getDatabase()).collection(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CombinedProducer=class{constructor(e){this.producers=e}async send(e,t,n){const r=[];for(const i of this.producers)r.push(i.send(e,t,n));return Promise.all(r)}async close(){const e=[];for(const t of this.producers)e.push(t.close());await Promise.all(e)}on(e,t){return this}once(e,t){return this}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TestClientManager=class{constructor(){this.clients=new Map}async addClient(e,t,n,r){this.clients.has(e)||this.clients.set(e,new Map),this.clients.get(e).has(t)||this.clients.get(e).set(t,new Map),this.clients.get(e).get(t).set(n,r)}async removeClient(e,t,n){this.clients.has(e)&&this.clients.get(e).has(t)&&this.clients.get(e).get(t).delete(n)}async getClients(e,t){const n=[];if(this.clients.has(e)&&this.clients.get(e).has(t))for(const[r,i]of this.clients.get(e).get(t))n.push({clientId:r,client:i});return n}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n(2097),i=n(2006),o=0;async function s(t,n,o,a){const c=await Promise.all(Object.keys(n.tree).map(async c=>{const u=n.tree[c],l=await async function(t,n,r,o,a,c=""){var u;switch(o.type){case 2:return async function(t,n,r){const{parsedContent:o,encoding:s}="string"===typeof t?{parsedContent:t,encoding:"utf-8"}:{parsedContent:t.toString("base64"),encoding:"base64"},a=i.gitHashFile(e.from(o,s));if(!n.has(a)){const e=await r.createBlob(o,s);n.add(e.sha)}return a}(o.content,n,t);case 3:if(void 0===a)throw Error("Parent summary does not exist to reference by handle.");return function(e,t,n){const r=t.split("/").map(e=>decodeURIComponent(e));""===r[0]&&r.shift();return function e(t,n,r){var i;const o=n[0];if(1===n.length)switch(t){case 2:{const e=r.blobs[o];if(!e)throw Error("Parent summary does not have blob handle for specified path.");return e}case 1:{const e=null===(i=r.trees[o])||void 0===i?void 0:i.id;if(!e)throw Error("Parent summary does not have tree handle for specified path.");return e}default:throw Error(`Unexpected handle summary object type: "${t}".`)}return e(t,n.slice(1),r)}(e,r,n)}(o.handleType,o.handle,a);case 1:return s(t,o,n,null===(u=a)||void 0===u?void 0:u.trees[r]);default:throw Error(`Unexpected summary object type: "${o.type}".`)}}(t,o,c,u,a);return{mode:r.getGitMode(u),path:encodeURIComponent(c),sha:l,type:r.getGitType(u)}}));return(await t.createGitTree({tree:c})).sha}t.TestDocumentStorage=class{constructor(e,t){this.databaseManager=e,this.tenantManager=t,this.isExperimentalDocumentStorage=!0}async getDocument(e,t){return(await this.databaseManager.getDocumentCollection()).findOne({documentId:t,tenantId:e})}async getOrCreateDocument(e,t){return this.getOrCreateObject(e,t)}async createDocument(e,t,n,i,o,a){const c=(await this.tenantManager.getTenant(e)).gitManager,u=new Set,l=await s(c,n,u,void 0),h={members:[],proposals:[],values:a},d=r.getQuorumTreeEntries(t,i,i,o,h),[p,f]=await Promise.all([c.createTree({entries:d,id:null}),c.getTree(l,!1)]),m=r.mergeAppAndProtocolTree(f,p),g=await c.createGitTree({tree:m}),b={author:{date:(new Date).toISOString(),email:"dummy@microsoft.com",name:"Routerlicious Service"},message:"New document",parents:[],tree:g.sha},v=await c.createCommit(b);await c.createRef(t,v.sha);const y={logOffset:-1,minimumSequenceNumber:i,protocolState:{members:[],minimumSequenceNumber:i,proposals:[],sequenceNumber:i,values:a},sequenceNumber:i,lastClientSummaryHead:void 0},S=await this.databaseManager.getDocumentCollection();return await S.findOrCreate({documentId:t,tenantId:e},{branchMap:void 0,clients:void 0,createTime:Date.now(),deli:void 0,documentId:t,forks:[],logOffset:void 0,parent:null,scribe:JSON.stringify(y),sequenceNumber:i,tenantId:e,version:"0.1"})}async getLatestVersion(e,t){const n=await this.getVersions(e,t,1);if(!n.length)return null;const r=n[0];return{author:r.commit.author,committer:r.commit.committer,message:r.commit.message,parents:r.parents,sha:r.sha,tree:r.commit.tree,url:r.url}}async getVersions(e,t,n){return(await this.tenantManager.getTenant(e)).gitManager.getCommits(t,n)}async getVersion(e,t,n){return(await this.tenantManager.getTenant(e)).gitManager.getCommit(n)}async getFullTree(e,t){throw new Error("Method not implemented.")}async getForks(e,t){return[]}async createFork(e,t){return""}async getOrCreateObject(e,t){const n=await this.databaseManager.getDocumentCollection();return await n.findOrCreate({documentId:t,tenantId:e},{branchMap:void 0,clients:void 0,createTime:Date.now(),deli:void 0,documentId:t,forks:[],logOffset:void 0,parent:null,scribe:void 0,sequenceNumber:o,tenantId:e,version:"0.1"})}},t.writeSummaryTree=s}).call(t,n(22).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1994),i=n(137),o=n(3249);class s{constructor(e,t){this.groupId=e,this.topic=t,this.emitter=new i.EventEmitter,this.pausedQueue=null,this.failOnCommit=!1,this.context=new o.TestContext}setFailOnCommit(e){this.failOnCommit=e}async commitCheckpoint(e,t){return r(0===e),this.failOnCommit?Promise.reject("TestConsumer set to fail on commit"):void this.context.checkpoint(t)}getOffset(){return this.context.offset}async waitForOffset(e){return this.context.waitForOffset(e)}on(e,t){return this.emitter.on(e,t),this}close(){return Promise.resolve()}async pause(){this.pausedQueue||(this.pausedQueue=[])}async resume(){if(!this.pausedQueue)return;const e=this.pausedQueue;this.pausedQueue=null;for(const t of e)this.emit(t)}emitError(e){this.emitter.emit("error",e)}emit(e){this.pausedQueue?this.pausedQueue.push(e):this.emitter.emit("data",e)}rebalance(){this.emitter.emit("rebalancing"),this.emitter.emit("rebalanced",[{topic:this.topic,offset:0,partition:0}])}}t.TestConsumer=s;class a{constructor(e){this.kafka=e}send(e,t){for(const n of e)this.kafka.addMessage(n,t);return Promise.resolve()}close(){return Promise.resolve()}on(e,t){return this}once(e,t){return this}}t.TestProducer=a;class c{constructor(){this.messages=[],this.offset=0,this.consumers=[]}static createdQueuedMessage(e,t){return{topic:"topic",partition:0,offset:e,value:""}}createProducer(){return new a(this)}createConsumer(){const e=new s("test","test");return this.consumers.push(e),e}getRawMessages(){return this.messages}addMessage(e,t){const n=this.offset++,r=c.createdQueuedMessage(n);r.value=e,r.topic=t,this.messages.push(r);for(const i of this.consumers)i.emit(r)}getLastMessage(){return this.getMessage(this.messages.length-1)}getMessage(e){return this.messages[e].value}}t.TestKafka=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137);class i{constructor(){this.events=new Map}emit(e,...t){this.events.has(e)||this.events.set(e,[]),this.events.get(e).push({args:t,event:e})}getEvents(e){return this.events.get(e)}}t.TestTopic=i;t.TestPublisher=class{constructor(){this.events=new r.EventEmitter,this.topics={}}on(e,t){this.events.on(e,t)}to(e){return e in this.topics||(this.topics[e]=new i),this.topics[e]}async close(){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TestTaskMessageSender=class{initialize(){return Promise.resolve()}sendTask(e,t){}on(e,t){return this}close(){return Promise.resolve()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2098),i=n(3250),o=n(2665);class s{constructor(e,t,n){this.url=e,this.historianUrl=t,this.owner="test",this.repository="test";const o=new i.TestHistorian(n);this.manager=new r.GitManager(o)}get gitManager(){return this.manager}get storage(){return{historianUrl:this.historianUrl,internalHistorianUrl:this.historianUrl,credentials:null,owner:this.owner,repository:this.repository,url:this.url}}get orderer(){return{type:"kafka",url:this.url}}}t.TestTenant=s;t.TestTenantManager=class{constructor(e="http://test",t="http://historian",n=new o.TestDb({})){this.tenant=new s(e,t,n)}verifyToken(e){return Promise.resolve()}getTenant(e){return Promise.resolve(this.tenant)}getKey(e){return Promise.resolve("test")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(137),i=n(2661);class o{constructor(e,t){this.id=e,this.server=t,this.events=new r.EventEmitter,this.rooms=new Set}on(e,t){this.events.on(e,t)}async join(e){this.server.rooms.has(e)||this.server.rooms.set(e,new Set),this.server.rooms.get(e).add(this),this.rooms.add(e)}send(e,...t){this.events.emit(e,...t)}emit(e,...t){this.events.emit(e,...t)}broadcastToRoom(e,t,...n){const r=this.server.rooms.get(e);if(r)for(const i of r)i!==this&&i.events.emit(t,...n)}emitToRoom(e,t,...n){const r=this.server.rooms.get(e);if(r)for(const i of r)i.events.emit(t,...n)}removeListener(e,t){this.events.removeListener(e,t)}disconnect(e){for(const t of this.rooms)this.server.rooms.get(t).delete(this)}}t.TestWebSocket=o;class s{constructor(){this.rooms=new Map,this.events=new r.EventEmitter}on(e,t){this.events.on(e,t)}async close(){return this.events.removeAllListeners(),Promise.resolve()}createConnection(){const e=new o(i.choose(),this);return this.events.emit("connection",e,{url:"TestWebSocket"}),e}}t.TestWebSocketServer=s;class a{async close(){return Promise.resolve()}listen(e){this.port=e}on(e,t){}address(){return{address:"test",family:"test",port:this.port}}}t.TestHttpServer=a;class c{constructor(e,t){this.httpServer=e,this.webSocketServer=t}async close(){await Promise.all([this.httpServer.close(),this.webSocketServer.close()])}}t.TestWebServer=c;t.TestWebServerFactory=class{create(e){const t=new a,n=new s;return new c(t,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2076),i=n(2610),o=n(2031),s=n(3246);t.TestDocumentServiceFactory=class{constructor(e){this.localDeltaConnectionServer=e,this.isExperimentalDocumentServiceFactory=!0,this.protocolName="fluid-test:",this.documentDeltaConnectionsMap=new Map}async createContainer(e,t,n){var r;o.ensureFluidResolvedUrl(t);const i=new URL(t.url).pathname.split("/"),s=i[i.length-2],a=i[i.length-1];if(!this.localDeltaConnectionServer)throw new Error("Provide the localDeltaConnectionServer!!");const c=this.localDeltaConnectionServer.documentStorage;if(!c||!c.isExperimentalDocumentStorage)throw new Error("Storage has no experimental features!!");const u=e.tree[".protocol"],l=e.tree[".app"];if(!u||!l)throw new Error("Protocol and App Summary required in the full summary");const h=o.getDocAttributesFromProtocolSummary(u),d=o.getQuorumValuesFromProtocolSummary(u),p=h.sequenceNumber;return await c.createDocument(s,a,l,p,(r=h.term,null!==r&&void 0!==r?r:1),d),this.createDocumentService(t,n)}async createDocumentService(e,t){o.ensureFluidResolvedUrl(e);const n=r.parse(e.url),[,a,c]=n.path?n.path.split("/"):[];if(!c||!a)throw new Error(`Couldn't parse resolved url. [documentId:${c}][tenantId:${a}]`);const u=e.tokens.jwt;if(!u)throw new Error("Token was not provided.");const l=new i.TokenProvider(u);return s.createTestDocumentService(e,this.localDeltaConnectionServer,l,a,c,this.documentDeltaConnectionsMap)}disconnectClient(e,t){if(!this.documentDeltaConnectionsMap.has(e))throw new Error(`No client with the id: ${e}`);this.documentDeltaConnectionsMap.get(e).disconnectClient(t)}nackClient(e,t,n,r){if(!this.documentDeltaConnectionsMap.has(e))throw new Error(`No client with the id: ${e}`);this.documentDeltaConnectionsMap.get(e).nackClient(t,n,r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1994),i=n(2076),o=n(2206),s=n(2001),a=n(2098);t.TestResolver=class{constructor(){this.isExperimentalUrlResolver=!0,this.tenantId="tenantId",this.tokenKey="tokenKey"}async resolve(e){const t=new URL(e.url).pathname.substr(1).split("/")[0];return this.resolveHelper(t)}resolveHelper(e){const t=[s.ScopeType.DocRead,s.ScopeType.DocWrite,s.ScopeType.SummaryWrite];return{endpoints:{deltaStorageUrl:`http://localhost:3000/deltas/${this.tenantId}/${e}`,ordererUrl:"http://localhost:3000",storageUrl:`http://localhost:3000/repos/${this.tenantId}`},tokens:{jwt:a.generateToken(this.tenantId,e,this.tokenKey,t)},type:"fluid",url:`fluid-test://localhost:3000/${this.tenantId}/${e}`}}async requestUrl(e,t){let n=t.url;n.startsWith("/")&&(n=n.substr(1));const o=e,s=i.parse(o.url);if(void 0===s.pathname)throw new Error("Url should contain tenant and docId!!");const[,,a]=s.pathname.split("/");return r(a,"The resolvedUrl must have a documentId"),{mimeType:"text/plain",value:`http://localhost:3000/${a}/${n}`,status:200}}createCreateNewRequest(e){return{url:`http://localhost:3000/${e}`,headers:{[o.CreateNewHeader.createNew]:!0}}}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2076),o=n(2001),s=n(2098);t.LocalServiceUrlResolver=class{constructor(e,t){this.user=e,this.secret=t}resolve(e){return r(this,void 0,void 0,function*(){const t=i.parse(e.url);if("test:"!==t.protocol||"localhost"!==t.host)return;const[,n,r]=t.pathname.split("/");if("test"!==n||!r)return;const a=decodeURIComponent(n),c=decodeURIComponent(r),u=[o.ScopeType.DocRead,o.ScopeType.DocWrite];return{endpoints:{deltaStorageUrl:"localhost",ordererUrl:"localhost",storageUrl:"localhost"},tokens:{jwt:s.generateToken(a,c,this.secret,u,this.user)},type:"fluid",url:`fluid-test://localhost/${n}/${r}`}})}requestUrl(e,t){return r(this,void 0,void 0,function*(){let n=t.url;n.startsWith("/")&&(n=n.substr(1));const r=e,o=i.parse(r.url);if(void 0===o.pathname)throw new Error("Url should contain tenant and docId!!");const[,,s]=o.pathname.split("/");return{mimeType:"text/plain",value:`http://localhost:3000/${s}/${n}`,status:200}})}}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2076),o=r(n(2612)),s=n(2001);t.DocumentUrlResolver=class{constructor(e,t){this.user=e,this.secret=t}requestUrl(e,t){const n=e,r=i.parse(n.url),[o,s,a]=r.pathname.split("/");let c=t.url;c.startsWith("/")&&(c=c.substr(1));const u={mimeType:"text/plain",value:`${o}/${s}/${a}/${c}`,status:200};return Promise.resolve(u)}resolve(e){const t=i.parse(e.url),n=`${t.protocol}//${t.host}`,[,r,o]=t.pathname.split("/"),s=decodeURIComponent(r),a=decodeURIComponent(o),c={endpoints:{deltaStorageUrl:`${n}/deltas/${r}/${o}`,ordererUrl:n,storageUrl:`${n}/repos/${r}`},tokens:{jwt:this.getAuthToken(s,a)},type:"fluid",url:`fluid://${t.host}/${r}/${o}`};return Promise.resolve(c)}getAuthToken(e,t){const n={documentId:t,scopes:[s.ScopeType.DocRead,s.ScopeType.DocWrite,s.ScopeType.SummaryWrite],tenantId:e,user:this.user};return o.sign(n,this.secret)}}},function(e,t,n){"use strict";var r=n(1),i=n(3),o=n(137),s=(n.n(o),n(408)),a=(n.n(s),n(9)),c=(n.n(a),n(2369)),u=(n.n(c),n(732)),l=n(109),h=n(30),d=n(25),p=n(2213),f=n(2120),m=n(5389),g=n(2405);t.a=class extends o.EventEmitter{constructor(e,t,n,r){super(),this.store=e,this.contentRef=t,this.handlers=n,this.isSharing=r,this.mergeCellOrderDelta=this.mergeCellOrderDelta.bind(this),this.updatePresence=this.updatePresence.bind(this),this.updateAudience=this.updateAudience.bind(this)}on(e,t){return super.on(e,t)}get shouldSeedModel(){return this.isSharing}getSnapshot(){const e=this.getNotebookModel();return e?a.selectors.notebook.notebook(e):s.emptyNotebook}useModel(e){const t=Object.create(null,{emit:{get:()=>super.emit}});var n;return Object(r.b)(this,void 0,void 0,function*(){this.model=e;const r=yield this.model.asImmutable();if(!this.isSharing){const e=Object(h.a)(Object(s.toJS)(r)),t=l.e.filePath(this.state);this.store.dispatch(a.actions.fetchContentFulfilled({filepath:t,model:Object.assign(Object.assign({},e),{loadType:"reload"}),kernelRef:a.selectors.kernelRefByContentRef(this.state,{contentRef:this.contentRef})||"",contentRef:this.contentRef}))}const i=new Map;if(this.getCellList().zip(r.cellOrder).forEach(([e,t])=>{i.set(e,t)}),this.store.dispatch(p.initCellIdMap(i)),this.model.cells$.subscribe(this.mergeCellOrderDelta),this.model.presence$.subscribe(this.updatePresence),this.model.audience$.subscribe(this.updateAudience),this.model.outputs$.subscribe(e=>{const t=this.getLocalCellId(e.cellId);switch(e.event){case"append":e.output.createdBy&&this.store.dispatch(p.updateCellOutputAnnotation(t,e.output.createdBy)),this.store.dispatch(a.actions.appendOutput({id:t,contentRef:this.contentRef,output:e.output.value,origin:"remote"}));break;case"clear":this.store.dispatch(a.actions.clearOutputs({id:t,contentRef:this.contentRef,origin:"remote"}))}}),this.model.lastModifiedTime$.subscribe(e=>{e&&this.store.dispatch(d.b.updateLastModifiedTime({timeStamp:e,origin:"remote"}))}),this.model.leader$.subscribe(e=>{this.store.dispatch(p.updateLeaderElection(e))}),!this.isSharing){const e=this.model.getLastModifiedTime();e&&this.store.dispatch(d.b.updateLastModifiedTime({timeStamp:e,origin:"remote"}));const t=yield this.model.getOutputAnnotations(),r=new Map;null===(n=Object(f.cellIdMap)(this.state))||void 0===n||n.forEach((e,n)=>{t.has(e)&&r.set(n,t.get(e))}),this.store.dispatch(p.initCellOutputAnnotations(r))}Object(g.a)("Model adapter initialized",this.isSharing),this.loaded=!0,t.emit.call(this,"loaded")})}bindEditor(e,t){return Object(r.b)(this,void 0,void 0,function*(){const n=this.getRemoteCellId(e);if(n){const e=yield this.model.getCell(n);if(Object(c.isCell)(e))return new m.a(e.getSource(),t)}})}getCellSourceObservable(e){return Object(r.b)(this,void 0,void 0,function*(){const t=this.getRemoteCellId(e);if(t){const e=yield this.model.getCell(t);if(Object(c.isCell)(e))return e.source$}})}recordCursorPosition(e,t,n){const r={focusedCell:this.getRemoteCellId(e)||"unknown",cursorPosition:t,selectionRange:n};this.model.updatePresence(r)}recordLastModifiedTime(e){this.model.setLastModifiedTime(e)}recordInsertCell(e,t,n){return Object(r.b)(this,void 0,void 0,function*(){if(!n){const r=a.selectors.cell.cellFromState(this.state,{id:e,contentRef:this.contentRef});n=this.newRemoteCellId(e);const i=this.getRemoteCellId(t);yield this.model.insertCell(n,i,r)}this.store.dispatch(p.updateCellIdMap(e,n))})}recordDeleteCell(e,t){if(!t&&Object(f.cellIdExistsInMap)(this.state,e)){const t=this.getRemoteCellId(e);this.model.deleteCell(t)}return this.store.dispatch(p.deleteCellIdFromMap(e)),Promise.resolve()}recordMoveCell(e,t,n){const r=this.getRemoteCellId(e),i=this.getRemoteCellId(t);return r&&i&&this.model.moveCell(r,i,n),Promise.resolve()}recordReplaceCell(e,t){return Object(r.b)(this,void 0,void 0,function*(){const t=a.selectors.cell.cellFromState(this.state,{id:e,contentRef:this.contentRef});if(Object(f.cellIdExistsInMap)(this.state,e)){const n=this.getRemoteCellId(e);yield this.model.replaceCell(n,t)}})}recordCellOutput(e,t){return Object(r.b)(this,void 0,void 0,function*(){const n=this.getRemoteCellId(e),r=n?yield this.model.getCell(n):void 0,i=Object(f.userId)(this.state);if(Object(c.isCodeCell)(r)&&i){const e={createdBy:i,value:t};r.appendOutput(e)}})}recordClearOutputs(e){return Object(r.b)(this,void 0,void 0,function*(){const t=this.getRemoteCellId(e),n=t?yield this.model.getCell(t):void 0;Object(c.isCodeCell)(n)&&n.clearOutputs()})}recordClearAllOutputs(){return Object(r.b)(this,void 0,void 0,function*(){for(const e of Object(f.localCellIdsInMap)(this.state))yield this.recordClearOutputs(e)})}useSnapshotForSave(e){let t;const n=a.selectors.appVersion(this.state);let r;r="notebook";const i={content:t=Object(s.toJS)(e.setIn(["metadata","nteract","version"],n)),type:"notebook"};this.store.dispatch(p.saveContentModelSnapshot(i))}newRemoteCellId(e){return e}getRemoteCellId(e){return Object(f.getRemoteCellId)(this.state,e)}getLocalCellId(e){return Object(f.getLocalCellId)(this.state,e)}get state(){return this.store.getState()}getNotebookModel(){const e=this.state,t=a.selectors.model(e,{contentRef:this.contentRef});return t&&"notebook"===t.type?t:null}getCellList(e){return(e=e||this.getNotebookModel())?a.selectors.notebook.cellOrder(e):i.default.List()}mergeCellOrderDelta(e){return Object(r.b)(this,void 0,void 0,function*(){switch(e.event){case"insert":yield this.mergeInsertCellDelta(e);break;case"remove":this.mergeRemoveCellDelta(e);break;case"move":this.mergeMoveCellDelta(e);break;case"replace":this.mergeReplaceCellDelta(e)}})}mergeInsertCellDelta(e){return Object(r.b)(this,void 0,void 0,function*(){const t=e.id,n=(yield this.model.getCell(t)).asImmutable();let r;const i=this.getCellList();e.pos>0&&e.pos<=i.size&&(r=i.get(e.pos-1)),this.store.dispatch(a.actions.createCellBelow({id:r,contentRef:this.contentRef,cellType:n.cell_type,source:n.source,origin:"remote",remoteCellId:t}))})}mergeRemoveCellDelta(e){const t=this.getCellList();if(e.pos>=0&&e.pos<t.size){const n=t.get(e.pos);this.store.dispatch(a.actions.deleteCell({id:n,contentRef:this.contentRef,origin:"remote"}))}}mergeMoveCellDelta(e){const t=this.getCellList(),n=t.get(e.pos1);let r,i=!0;e.pos2<t.size&&(e.pos2===t.size-1?(r=t.get(-1),i=!1):r=e.pos1<e.pos2?t.get(e.pos2+1):t.get(e.pos2),n&&r&&this.store.dispatch(a.actions.moveCell({id:n,contentRef:this.contentRef,destinationId:r,above:i,origin:"remote"})))}mergeReplaceCellDelta(e){return Object(r.b)(this,void 0,void 0,function*(){const t=this.getLocalCellId(e.id),n=yield this.model.getCell(e.id);if(t&&n){const r=n.asImmutable().cell_type;e.local||this.store.dispatch(a.actions.changeCellType({id:t,contentRef:this.contentRef,to:r,origin:"remote"}))}})}updateAudience(e){let t=this.handlers.resolvePersona?this.handlers.resolvePersona(e.userId):void 0;t||(t={id:e.userId,userName:e.displayName||"Anonymous Guest"});const n=Object(u.e)({text:t.userName});this.store.dispatch(p.updateAudience(e.userId,{userId:e.userId,userName:t.userName,userInitials:"AP",color:n,presence:e.presence}))}updatePresence(e){const{peerId:t,userId:n,location:r}=e;r&&r.focusedCell&&(r.focusedCell=this.getLocalCellId(r.focusedCell)||"unknown"),this.store.dispatch(p.updatePresence(t,n,r))}}},function(e,t,n){"use strict";var r=n(730),i=n(2405);t.a=class{constructor(e,t){this.sharedCellContent=e,this.model=t,this.ignoreModelContentChanges=!1,this.changeListener=this.model.onDidChangeContent(this.onMonacoModelContentChange.bind(this)),this.sharedStringListener=this.sharedStringListener.bind(this),this.sharedCellContent.addListener("op",this.sharedStringListener)}dispose(){this.changeListener.dispose(),this.sharedCellContent.removeListener("op",this.sharedStringListener)}onMonacoModelContentChange(e){if(!this.ignoreModelContentChanges)for(const t of e.changes)t.text?0===t.rangeLength?this.sharedCellContent.insertText(t.rangeOffset,t.text):this.sharedCellContent.replaceText(t.rangeOffset,t.rangeOffset+t.rangeLength,t.text):(t.rangeLength>0||t.rangeOffset>0)&&this.sharedCellContent.removeText(t.rangeOffset,t.rangeOffset+t.rangeLength)}sharedStringListener(e,t){if(!t)try{this.ignoreModelContentChanges=!0,this.mergeDelta(e.contents)}catch(n){Object(i.a)(n)}finally{this.ignoreModelContentChanges=!1}}applyMonacoEdits(e){this.model.pushEditOperations([],e,()=>null)}mergeDelta(e){0===e.type?this.mergeInsertDelta(e):1===e.type?this.mergeRemoveDelta(e):3===e.type&&this.mergeDeltaGroup(e)}mergeDeltaGroup(e){for(const t of e.ops)this.mergeDelta(t)}mergeInsertDelta(e){if("number"!==typeof e.pos1||"string"!==typeof e.seg)return;const t=this.offsetsToRange(e.pos1,e.pos2),n=e.seg||"";t&&this.applyMonacoEdits([{range:t,text:n}])}mergeRemoveDelta(e){if("number"!==typeof e.pos1||"number"!==typeof e.pos2)return;const t=this.offsetsToRange(e.pos1,e.pos2);t&&this.applyMonacoEdits([{range:t,text:""}])}offsetsToRange(e,t){const n=this.model.getPositionAt(e),i="number"===typeof t?this.model.getPositionAt(t):n;return new r.b.Range(n.lineNumber,n.column,i.lineNumber,i.column)}}},function(e,t,n){(function(r){t.log=function(...e){return"object"===typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"%CDN_BUNDLE_URL%",AZNB_PUB_COMPONENT_VERSION:"1.1.3",AZNB_PUB_DEFAULT_ENDPOINT:"%AZNB_BACKEND_ENDPOINT%",AZNB_PUB_AZNBCONTENT_ENDPOINT:"%AZNB_PUB_AZNBCONTENT_ENDPOINT%",AZNB_PUB_BUILDTAG:"notebooks-release-prod.3971045.20200812160335.a3c03bb2"}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(5391)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(t,n(29))},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function s(...e){if(!s.enabled)return;const t=s,i=Number(new Date),o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i,e[0]=r.coerce(e[0]),"string"!==typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"===typeof o){const r=e[a];n=o.call(t,r),e.splice(a,1),a--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"===typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){const n=r(this.namespace+("undefined"===typeof t?":":t)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){const e=[...r.names.map(s),...r.skips.map(s).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(5392),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=7*o,a=365.25*o;function c(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*a;case"weeks":case"week":case"w":return c*s;case"days":case"day":case"d":return c*o;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return c(e,t,o,"day");if(t>=i)return c(e,t,i,"hour");if(t>=r)return c(e,t,r,"minute");if(t>=n)return c(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";t.a=class{constructor(e){this.tenantInfo=e}getDocumentUrl(e){if(this.tenantInfo&&this.tenantInfo.joinLink){const e=new URL(this.tenantInfo.joinLink),[,t]=e.search.split("?"),n=encodeURIComponent(this.tenantInfo.tenantId);return`vsls://${e.host}/${n}/${t}`}if(this.tenantInfo&&this.tenantInfo.ordererUrl&&"local"!==this.tenantInfo.ordererUrl){const t=encodeURIComponent(this.tenantInfo.tenantId),n=encodeURIComponent(e);return`${new URL(this.tenantInfo.ordererUrl).href}${t}/${n}`}return`test://localhost/test/${encodeURIComponent(e)}`}}},function(e,t,n){"use strict";var r=n(111),i=n(757),o=n(2213),s=n(2120);t.a=class{constructor(e,t,n,r){this.store=e,this.contentRef=t,this.eventListeners=n,this.containerEl=r}get sessionStatus(){return s.sessionStatus(this.state)}get peers(){const e=s.presence(this.state);return e?[...e.entries()].map(([e,t])=>({id:e,user:{id:t.get("userId")}})):[]}get isLeader(){return!!s.isLeader(this.state)}share(){return this.store.dispatch(o.join.request({contentRef:this.contentRef,forceShare:!0})),Promise.resolve()}join(){return this.store.dispatch(o.join.request({contentRef:this.contentRef})),Promise.resolve()}leave(){return this.store.dispatch(o.leave()),Promise.resolve()}onSessionStatusChange(e){Object(r.a)(this.containerEl,i.CollaborationEvent.SessionStatusChange,e,this.eventListeners)}onLeaderElection(e){Object(r.a)(this.containerEl,i.CollaborationEvent.LeaderElection,e,this.eventListeners)}onPresenceUpdate(e){Object(r.a)(this.containerEl,i.CollaborationEvent.PresenceUpdate,e,this.eventListeners)}get state(){return this.store.getState()}}},function(e,t,n){"use strict";var r=n(3),i=n(13),o=(n.n(i),n(2213)),s=n(3251);const a=(e=s.a,t)=>{switch(t.type){case Object(i.getType)(o.setManager):return Object.assign(Object.assign({},e),{manager:t.payload});case Object(i.getType)(o.join.request):return Object.assign(Object.assign({},e),{sessionStatus:"in-progress",presence:r.Map(),audience:r.Map(),cellOutputAnnotations:r.Map(),cellIdMap:r.Map(),reverseCellIdMap:r.Map()});case Object(i.getType)(o.join.success):const{documentUrl:n,userId:a}=t.payload;return Object.assign(Object.assign({},e),{documentUrl:n,userId:a,sessionStatus:"joined"});case Object(i.getType)(o.join.failure):return Object.assign(Object.assign(Object.assign({},e),s.a),{sessionStatus:"failed"});case Object(i.getType)(o.leave):return Object.assign(Object.assign({},e),s.a);case Object(i.getType)(o.updateCellOutputAnnotation):{const n=function(e,t){const{cellId:n,userId:r}=e.payload;let i=t.cellOutputAnnotations;return i=i.set(n,r)}(t,e);return Object.assign(Object.assign({},e),{cellOutputAnnotations:n})}case Object(i.getType)(o.deleteCellOutputAnnotation):{const n=function(e,t){const{cellId:n}=e.payload;let r=t.cellOutputAnnotations;return r=r.delete(n)}(t,e);return Object.assign(Object.assign({},e),{cellOutputAnnotations:n})}case Object(i.getType)(o.clearCellOutputAnnotations):{const t=r.Map();return Object.assign(Object.assign({},e),{cellOutputAnnotations:t})}case Object(i.getType)(o.initCellOutputAnnotations):{const n=function(e,t){return r.Map(e.payload)}(t);return Object.assign(Object.assign({},e),{cellOutputAnnotations:n})}case Object(i.getType)(o.updateAudience):const c=function(e,t){const{userId:n,guestUser:i}=e.payload;let o=t.audience;return o=i?o.set(n,r.fromJS(i)):o.delete(n)}(t,e);return Object.assign(Object.assign({},e),{audience:c});case Object(i.getType)(o.updatePresence):const u=function(e,t){let n=t.presence;if(e.payload.userId||e.payload.location){const{peerId:t,location:i}=e.payload,o=e.payload.userId||n.getIn([t,"userId"]);n=n.set(t,r.fromJS({userId:o,location:i}))}else{const{peerId:t}=e.payload;n=n.delete(t)}return n}(t,e);return Object.assign(Object.assign({},e),{presence:u});case Object(i.getType)(o.updateLeaderElection):const l=t.payload;return Object.assign(Object.assign({},e),{isLeader:l});case Object(i.getType)(o.saveContentModelSnapshot):const h=t.payload;return Object.assign(Object.assign({},e),{contentModelSnapshot:h});case Object(i.getType)(o.initCellIdMap):return function(e,t){let n=e.payload;const i=new Map;n.forEach((e,t)=>i.set(e,t)),n=r.Map(n);const o=r.Map(i);return Object.assign(Object.assign({},t),{cellIdMap:n,reverseCellIdMap:o})}(t,e);case Object(i.getType)(o.updateCellIdMap):return function(e,t){let n=t.cellIdMap,r=t.reverseCellIdMap;const{localId:i,remoteId:o}=e.payload;return n&&r&&i&&o&&(n=n.set(i,o),r=r.set(o,i)),Object.assign(Object.assign({},t),{cellIdMap:n,reverseCellIdMap:r})}(t,e);case Object(i.getType)(o.deleteCellIdFromMap):return function(e,t){let n=t.cellIdMap,r=t.reverseCellIdMap;const i=e.payload;if(n){const e=n.get(i);e&&r&&(r=r.delete(e)),n=n.delete(i)}return Object.assign(Object.assign({},t),{cellIdMap:n,reverseCellIdMap:r})}(t,e);default:return e}};t.a=a},function(e,t,n){"use strict";var r=n(58),i=n(13),o=(n.n(i),n(7)),s=n(10),a=n(9),c=(n.n(a),n(5397)),u=n(26),l=n(17),h=n(25),d=n(62),p=n(143),f=n(30),m=n(61),g=n(59),b=n(757),v=n(778),y=n(2213),S=n(2120);const _="notebook/collab",w=e=>{var t;return null===(t=Object(v.b)(e))||void 0===t?void 0:t.manager};function C(e,t,n,r){const i=S.sharedDocumentUrl(n),o=S.isLeader(n),s=o?o.toString():"",a=r?`${_}/${r}/${t}`:`${_}/${t}`,c=r?`${r} ${e}`:e,u=i?Object(f.f)(i):"";g.b.logEvent(c,a,{documentUrl:u,isLeader:s})}t.a=[(e,t)=>e.pipe(Object(r.b)(a.actions.FETCH_CONTENT_FULFILLED),Object(s.withLatestFrom)(t),Object(s.filter)(([,e])=>"auto"===u.d.collaborationBehavior(e)&&"inactive"===S.sessionStatus(e)),Object(s.map)(([{payload:e},t])=>(C("autoJoin session","autoJoin",t),y.join.request({contentRef:e.contentRef})))),(e,t)=>e.pipe(Object(s.filter)(Object(i.isActionOf)(y.updateLeaderElection)),Object(s.withLatestFrom)(t),Object(s.mergeMap)(([{payload:e},t])=>(C("session leader election changed",b.CollaborationEvent.LeaderElection,t),Object(o.of)(d.f.sendEvent("session leader election changed",{name:b.CollaborationEvent.LeaderElection,type:p.b.collaboration,param:{isLeader:e},sendToHost:!0}))))),(e,t)=>e.pipe(Object(s.filter)(Object(i.isActionOf)(y.updatePresence)),Object(s.filter)(({payload:e})=>!e.location),Object(s.withLatestFrom)(t),Object(s.mergeMap)(([{payload:e},t])=>(C("peer presence updated",b.CollaborationEvent.PresenceUpdate,t),Object(o.of)(d.f.sendEvent("peer presence updated",{name:b.CollaborationEvent.PresenceUpdate,type:p.b.collaboration,param:{peerId:e.peerId,userId:e.userId},sendToHost:!0}))))),(e,t)=>e.pipe(Object(s.filter)(Object(i.isActionOf)([y.join.request,y.join.success,y.join.failure])),Object(s.withLatestFrom)(t),Object(s.mergeMap)(([,e])=>(C("session status changed",b.CollaborationEvent.SessionStatusChange,e),Object(o.of)(d.f.sendEvent("session status changed",{name:b.CollaborationEvent.SessionStatusChange,type:p.b.collaboration,param:{sessionStatus:S.sessionStatus(e),documentUrl:S.sharedDocumentUrl(e)},sendToHost:!0}))))),(e,t,n)=>e.pipe(Object(s.filter)(Object(i.isActionOf)(y.join.request)),Object(s.switchMap)(e=>{const{contentRef:t,forceShare:r}=e.payload,i=w(n),a=`${_}/${b.CollaborationEvent.UserJoin}`;Object(m.d)(a);const c=i.joinSession(t,{isSharing:!!r});return Object(o.from)(c).pipe(Object(s.map)(e=>{const t=e.documentUrl?Object(f.f)(e.documentUrl):"";return Object(m.c)(a,void 0,{documentUrl:t}),y.join.success(e)}))}),Object(s.catchError)(e=>Object(o.of)(y.join.failure(`Failed to join a collaboration session due to the following error: ${e.message}`,{errorCode:"join_session_error",sendToHost:!0,showInErrorBar:!0,errorBarConfig:{level:c.a.error,code:"COLLAB1",context:null}})))),(e,t,n)=>e.pipe(Object(s.filter)(Object(i.isActionOf)(y.leave)),Object(s.switchMap)(()=>(w(n).leaveSession(),o.EMPTY))),(e,t)=>e.pipe(Object(s.filter)(Object(i.isActionOf)(y.updateAudience)),Object(s.withLatestFrom)(t),Object(s.filter)(([,e])=>"joined"===S.sessionStatus(e)),Object(s.mergeMap)(([{payload:e},t])=>{const{userId:n,guestUser:r}=e;if(n&&n!==S.userId(t)){const e={userId:n},i=S.sharedDocumentUrl(t),s=i?Object(f.f)(i):"",a=S.audienceSize(t),c=a?a.toString():"",u="updateAudience";return r?(g.b.logEvent("user added to audience",`${_}/${u}/add`,{documentUrl:s,audienceCount:c}),Object(o.of)(d.f.sendEvent("user added to audience",{name:b.CollaborationEvent.UserJoin,type:p.b.collaboration,param:{user:e},sendToHost:!0}))):(g.b.logEvent("user removed from audience",`${_}/${u}/remove`,{documentUrl:s,audienceCount:c}),Object(o.of)(d.f.sendEvent("user removed from audience",{name:b.CollaborationEvent.UserLeave,type:p.b.collaboration,param:{user:e},sendToHost:!0})))}return o.EMPTY})),(e,t,n)=>e.pipe(Object(r.b)(a.actions.APPEND_OUTPUT),Object(s.withLatestFrom)(t),Object(s.filter)(([,e])=>"joined"===S.sessionStatus(e)),Object(s.mergeMap)(([{payload:e},t])=>{const{id:r,output:i,origin:s}=e,a=w(n);return(null===a||void 0===a?void 0:a.model)&&r&&"remote"!==s&&(a.model.recordCellOutput(r,i),C("collab appendOutput recorded","appendOutput",t,s)),o.EMPTY}),Object(s.catchError)(e=>Object(o.of)(y.error(`Failed to append output: ${e.message}`,{errorCode:"collab_append_output_error",sendToHost:!1})))),(e,t,n)=>e.pipe(Object(r.b)(a.actions.CHANGE_CELL_TYPE),Object(s.withLatestFrom)(t),Object(s.filter)(([,e])=>"joined"===S.sessionStatus(e)),Object(s.mergeMap)(([{payload:e},t])=>{const{id:r,to:i,origin:s}=e,a=w(n);return(null===a||void 0===a?void 0:a.model)&&"remote"!==s&&(a.model.recordReplaceCell(r,i),C("collab changeCellType recorded","changeCellType",t,s)),Object(o.of)(y.deleteCellOutputAnnotation(r))}),Object(s.catchError)(e=>Object(o.of)(y.error(`Failed change cell type: ${e.message}`,{errorCode:"collab_change_celltype_error",sendToHost:!1})))),(e,t,n)=>e.pipe(Object(r.b)(a.actions.CLEAR_ALL_OUTPUTS),Object(s.withLatestFrom)(t),Object(s.filter)(([,e])=>"joined"===S.sessionStatus(e)),Object(s.mergeMap)(([{payload:e},t])=>{const r=w(n);return(null===r||void 0===r?void 0:r.model)&&"remote"!==e.origin&&(r.model.recordClearAllOutputs(),C("collab clearAllOutputs recorded","clearAllOuputs",t,e.origin)),Object(o.of)(y.clearCellOutputAnnotations())}),Object(s.catchError)(e=>Object(o.of)(y.error(`Failed to clear all outputs: ${e.message}`,{errorCode:"collab_clear_all_outputs_error",sendToHost:!1})))),(e,t,n)=>e.pipe(Object(r.b)(a.actions.CLEAR_OUTPUTS),Object(s.withLatestFrom)(t),Object(s.filter)(([,e])=>"joined"===S.sessionStatus(e)),Object(s.mergeMap)(([{payload:e},t])=>{const r=e.id,i=w(n);return(null===i||void 0===i?void 0:i.model)&&r&&"remote"!==e.origin&&(i.model.recordClearOutputs(r),C("collab clearOutputs recorded","clearOuputs",t,e.origin)),Object(o.of)(y.deleteCellOutputAnnotation(r))}),Object(s.catchError)(e=>Object(o.of)(y.error(`Failed to clear outputs: ${e.message}`,{errorCode:"collab_clear_outputs_error",sendToHost:!1})))),(e,t,n)=>e.pipe(Object(r.b)(a.actions.DELETE_CELL),Object(s.withLatestFrom)(t),Object(s.filter)(([,e])=>"joined"===S.sessionStatus(e)),Object(s.mergeMap)(([e,t])=>{const{id:r,origin:i}=e.payload,s=w(n);return(null===s||void 0===s?void 0:s.model)&&r&&("remote"===i?s.model.recordDeleteCell(r,i):s.model.recordDeleteCell(r),C("collab deleteCell recorded","deleteCell",t,i)),Object(o.of)(y.deleteCellOutputAnnotation(r))}),Object(s.catchError)(e=>Object(o.of)(y.error(`Failed to delete cell: ${e.message}`,{errorCode:"collab_delete_cell_error",sendToHost:!1})))),(e,t,n)=>e.pipe(Object(r.b)(a.actions.CREATE_CELL_BELOW),Object(s.withLatestFrom)(t),Object(s.filter)(([,e])=>"joined"===S.sessionStatus(e)),Object(s.mergeMap)(([e,t])=>{const{contentRef:r,id:i,origin:s,remoteCellId:a}=e.payload,c=Object(l.cellIdsBelow)(t,{contentRef:r,id:i});if(c&&c.count()>1&&c.get(1)){const e=c.get(1),r=w(n);(null===r||void 0===r?void 0:r.model)&&e&&("remote"===s&&a?r.model.recordInsertCell(e,i,a):r.model.recordInsertCell(e,i),C("collab insertCell recorded","insertCell",t,s))}return o.EMPTY}),Object(s.catchError)(e=>Object(o.of)(y.error(`Failed to insert cell: ${e.message}`,{errorCode:"collab_insert_cell_error",sendToHost:!1})))),(e,t,n)=>e.pipe(Object(s.filter)(Object(i.isActionOf)(h.b.updateLastModifiedTime)),Object(s.withLatestFrom)(t),Object(s.filter)(([,e])=>"joined"===S.sessionStatus(e)),Object(s.mergeMap)(([e])=>{const{timeStamp:t,origin:r}=e.payload,i=w(n);return(null===i||void 0===i?void 0:i.model)&&"remote"!==r&&t&&i.model.recordLastModifiedTime(t),o.EMPTY}),Object(s.catchError)(e=>Object(o.of)(y.error(`Failed to record last modified time: ${e.message}`,{errorCode:"collab_last_modified_time_error",sendToHost:!1})))),(e,t,n)=>e.pipe(Object(r.b)(a.actions.MOVE_CELL),Object(s.withLatestFrom)(t),Object(s.filter)(([,e])=>"joined"===S.sessionStatus(e)),Object(s.mergeMap)(([e,t])=>{const{id:r,destinationId:i,above:s,origin:a}=e.payload,c=w(n);return(null===c||void 0===c?void 0:c.model)&&"remote"!==a&&(c.model.recordMoveCell(r,i,s),C("collab moveCell recorded","moveCell",t,a)),o.EMPTY}),Object(s.catchError)(e=>Object(o.of)(y.error(`Failed to move cell: ${e.message}`,{errorCode:"collab_move_cell_error",sendToHost:!1})))),(e,t,n)=>e.pipe(Object(s.filter)(Object(i.isActionOf)(y.setCursorPosition)),Object(s.withLatestFrom)(t),Object(s.filter)(([,e])=>"joined"===S.sessionStatus(e)),Object(s.mergeMap)(([{payload:e}])=>{const{cellId:t,position:r,selection:i}=e;return w(n).model.recordCursorPosition(t,r,i),o.EMPTY}),Object(s.catchError)(e=>Object(o.of)(y.error(`Failed to set curson position: ${e.message}`,{errorCode:"collab_setcursor_position_error",sendToHost:!1}))))]},function(e,t,n){"use strict";n(5398),n(3252),n(3254),n(5406),n(106),n(3257),n(258),n(413),n(754),n(5416),n(5423),n(5430),n(5433),n(5446),n(770),n(264),n(5451),n(759),n(5455),n(768),n(5463),n(5491),n(5492),n(760),n(3291),n(5502),n(740),n(89),n(5520),n(272),n(5524),n(48),n(5530),n(738),n(3319),n(90),n(5557),n(735),n(261),n(394),n(265),n(5562);var r=n(777);n.d(t,"a",function(){return r.b});n(3276),n(5566),n(772),n(755),n(775),n(732),n(2680),n(3297),n(5569),n(415),n(5573),n(773),n(5574),n(753),n(5578),n(5582),n(5586),n(5587),n(2681),n(5594),n(3334),n(5605),n(5608),n(5612),n(748),n(3347),n(5617),n(5),n(5620),n(5625),n(5628),n(2678),n(5631),n(5635),n(266),n(2),n(271)},function(e,t,n){"use strict";n(5399)},function(e,t,n){"use strict";n(5400)},function(e,t,n){"use strict";var r=n(1),i=n(0),o=(n.n(i),n(5401)),s=n(5402),a=n(732);!function(e){function t(t){var n=e.call(this,t)||this;return n._onRenderIcon=function(e){return e.activityPersonas?n._onRenderPersonaArray(e):n.props.activityIcon},n._onRenderActivityDescription=function(e){var t=n._getClassNames(e),r=e.activityDescription||e.activityDescriptionText;return r?i.createElement("span",{className:t.activityText},r):null},n._onRenderComments=function(e){var t=n._getClassNames(e),r=e.comments||e.commentText;return!e.isCompact&&r?i.createElement("div",{className:t.commentText},r):null},n._onRenderTimeStamp=function(e){var t=n._getClassNames(e);return!e.isCompact&&e.timeStamp?i.createElement("div",{className:t.timeStamp},e.timeStamp):null},n._onRenderPersonaArray=function(e){var t=n._getClassNames(e),o=null,s=e.activityPersonas;if(s[0].imageUrl||s[0].imageInitials){var c=[],u=s.length>1||e.isCompact,l=e.isCompact?3:4,h=void 0;e.isCompact&&(h={display:"inline-block",width:"10px",minWidth:"10px",overflow:"visible"}),s.filter(function(e,t){return t<l}).forEach(function(e,n){c.push(i.createElement(a.b,Object(r.a)({},e,{key:e.key?e.key:n,className:t.activityPersona,size:u?a.d.size16:a.d.size32,style:h})))}),o=i.createElement("div",{className:t.personaContainer},c)}return o},n}Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.onRenderIcon,n=void 0===t?this._onRenderIcon:t,r=e.onRenderActivityDescription,o=void 0===r?this._onRenderActivityDescription:r,s=e.onRenderComments,a=void 0===s?this._onRenderComments:s,c=e.onRenderTimeStamp,u=void 0===c?this._onRenderTimeStamp:c,l=e.animateBeaconSignal,h=e.isCompact,d=this._getClassNames(this.props);return i.createElement("div",{className:d.root,style:this.props.style},(this.props.activityPersonas||this.props.activityIcon||this.props.onRenderIcon)&&i.createElement("div",{className:d.activityTypeIcon},l&&h&&i.createElement("div",{className:d.pulsingBeacon}),n(this.props)),i.createElement("div",{className:d.activityContent},o(this.props,this._onRenderActivityDescription),a(this.props,this._onRenderComments),u(this.props,this._onRenderTimeStamp)))},t.prototype._getClassNames=function(e){return Object(o.a)(Object(s.a)(void 0,e.styles,e.animateBeaconSignal,e.beaconColorOne,e.beaconColorTwo,e.isCompact),e.className,e.activityPersonas,e.isCompact)}}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i=n(2),o=Object(i._10)(function(e,t,n,i){return{root:Object(r.F)("ms-ActivityItem",t,e.root,i&&e.isCompactRoot),pulsingBeacon:Object(r.F)("ms-ActivityItem-pulsingBeacon",e.pulsingBeacon),personaContainer:Object(r.F)("ms-ActivityItem-personaContainer",e.personaContainer,i&&e.isCompactPersonaContainer),activityPersona:Object(r.F)("ms-ActivityItem-activityPersona",e.activityPersona,i&&e.isCompactPersona,!i&&n&&2===n.length&&e.doublePersona),activityTypeIcon:Object(r.F)("ms-ActivityItem-activityTypeIcon",e.activityTypeIcon,i&&e.isCompactIcon),activityContent:Object(r.F)("ms-ActivityItem-activityContent",e.activityContent,i&&e.isCompactContent),activityText:Object(r.F)("ms-ActivityItem-activityText",e.activityText),commentText:Object(r.F)("ms-ActivityItem-commentText",e.commentText),timeStamp:Object(r.F)("ms-ActivityItem-timeStamp",e.timeStamp,i&&e.isCompactTimeStamp)}})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i=n(2),o=Object(i._10)(function(e,t,n,i,o,s){var a;void 0===e&&(e=Object(r.B)());var c=r.i.continuousPulseAnimationSingle(i||e.palette.themePrimary,o||e.palette.themeTertiary,"4px","28px","4px"),u=Object(r.D)({from:{opacity:0},to:{opacity:1}}),l={animationName:c,animationIterationCount:"1",animationDuration:".8s",zIndex:1},h={animationName:Object(r.D)({from:{transform:"translateX(-10px)"},to:{transform:"translateX(0)"}}),animationIterationCount:"1",animationDuration:".5s"},d={animationName:u,animationIterationCount:"1",animationDuration:".5s"},p={root:[e.fonts.small,{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",boxSizing:"border-box",color:e.palette.neutralSecondary},s&&n&&d],pulsingBeacon:[{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"0px",height:"0px",borderRadius:"225px",borderStyle:"solid",opacity:0},s&&n&&l],isCompactRoot:{alignItems:"center"},personaContainer:{display:"flex",flexWrap:"wrap",minWidth:"32px",width:"32px",height:"32px"},isCompactPersonaContainer:{display:"inline-flex",flexWrap:"nowrap",flexBasis:"auto",height:"16px",width:"auto",minWidth:"0",paddingRight:"6px"},activityTypeIcon:{height:"32px",fontSize:"16px",lineHeight:"16px",marginTop:"3px"},isCompactIcon:{height:"16px",minWidth:"16px",fontSize:"13px",lineHeight:"13px",color:e.palette.themePrimary,marginTop:"1px",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",selectors:{".ms-Persona-imageArea":{margin:"-2px 0 0 -2px",border:"2px solid"+e.palette.white,borderRadius:"50%",selectors:(a={},a[r.e]={border:"none",margin:"0"},a)}}},activityPersona:{display:"block"},doublePersona:{selectors:{":first-child":{alignSelf:"flex-end"}}},isCompactPersona:{display:"inline-block",width:"8px",minWidth:"8px",overflow:"visible"},activityContent:[{padding:"0 8px"},s&&n&&h],activityText:{display:"inline"},isCompactContent:{flex:"1",padding:"0 4px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflowX:"hidden"},commentText:{color:e.palette.neutralPrimary},timeStamp:[e.fonts.tiny,{fontWeight:400,color:e.palette.neutralSecondary}],isCompactTimeStamp:{display:"inline-block",paddingLeft:"0.3em",fontSize:"1em"}};return Object(r.s)(p,t)})},function(e,t,n){"use strict";var r=n(5404);n.d(t,"a",function(){return r.a});n(3255)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(3255),o=n(5405),s=Object(r._21)(i.a,o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(5),i=function(e){return{root:e.className,screenReaderText:r.C}}},function(e,t,n){"use strict";n(5407)},function(e,t,n){"use strict";n(5408),n(3256)},function(e,t,n){"use strict";var r=n(2),i=n(3256),o=n(5409);Object(r._21)(i.a,o.a,void 0,{scope:"Breadcrumb"})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),i=n(5),o=n(2),s={root:"ms-Breadcrumb",list:"ms-Breadcrumb-list",listItem:"ms-Breadcrumb-listItem",chevron:"ms-Breadcrumb-chevron",overflow:"ms-Breadcrumb-overflow",overflowButton:"ms-Breadcrumb-overflowButton",itemLink:"ms-Breadcrumb-itemLink",item:"ms-Breadcrumb-item"},a={whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},c=Object(i.A)(0,i.k),u=Object(i.A)(i.m,i.j),l=function(e){var t,n,l,h,d=e.className,p=e.theme,f=p.palette,m=p.semanticColors,g=p.fonts,b=Object(i.w)(s,p),v=m.menuItemBackgroundHovered,y=m.menuItemBackgroundPressed,S=f.neutralSecondary,_=i.d.regular,w=f.neutralPrimary,C=f.neutralPrimary,k=i.d.semibold,x=f.neutralSecondary,O=f.neutralSecondary,I={fontWeight:k,color:C},T={":hover":{color:w,backgroundColor:v,cursor:"pointer",selectors:(t={},t[i.e]={color:"Highlight"},t)},":active":{backgroundColor:y,color:w},"&:active:hover":{color:w,backgroundColor:y},"&:active, &:hover, &:active:hover":{textDecoration:"none"}},E={color:S,padding:"0 8px",lineHeight:36,fontSize:18,fontWeight:_};return{root:[b.root,g.medium,{margin:"11px 0 1px"},d],list:[b.list,{whiteSpace:"nowrap",padding:0,margin:0,display:"flex",alignItems:"stretch"}],listItem:[b.listItem,{listStyleType:"none",margin:"0",padding:"0",display:"flex",position:"relative",alignItems:"center",selectors:{"&:last-child .ms-Breadcrumb-itemLink":I,"&:last-child .ms-Breadcrumb-item":I}}],chevron:[b.chevron,{color:x,fontSize:g.small.fontSize,selectors:(n={},n[i.e]={color:"WindowText",MsHighContrastAdjust:"none"},n[u]={fontSize:8},n[c]={fontSize:8},n)}],overflow:[b.overflow,{position:"relative",display:"flex",alignItems:"center"}],overflowButton:[b.overflowButton,Object(i.v)(p),a,{fontSize:16,color:O,height:"100%",cursor:"pointer",selectors:Object(r.a)(Object(r.a)({},T),(l={},l[c]={padding:"4px 6px"},l[u]={fontSize:g.mediumPlus.fontSize},l))}],itemLink:[b.itemLink,Object(i.v)(p),a,Object(r.a)(Object(r.a)({},E),{selectors:Object(r.a)((h={":focus":{color:f.neutralDark}},h["."+o.g+" &:focus"]={outline:"none"},h),T)})],item:[b.item,Object(r.a)(Object(r.a)({},E),{selectors:{":hover":{cursor:"default"}}})]}}},function(e,t,n){"use strict";var r=n(5411);n.d(t,"a",function(){return r.a});var i=n(3258);n.d(t,"b",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(1),i=n(0),o=(n.n(i),n(2286)),s=n(5412),a=n(5414),c=n(2406),u=n(2),l=n(2407),h={leftNavigation:"Up",rightNavigation:"Down",closeIcon:"CalculatorMultiply"},d=[o.b.Monday,o.b.Tuesday,o.b.Wednesday,o.b.Thursday,o.b.Friday],p={formatMonthDayYear:function(e,t){return t.months[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()},formatMonthYear:function(e,t){return t.months[e.getMonth()]+" "+e.getFullYear()},formatDay:function(e){return e.getDate().toString()},formatYear:function(e){return e.getFullYear().toString()}},f=function(e){function t(t){var n=e.call(this,t)||this;n._dayPicker=i.createRef(),n._monthPicker=i.createRef(),n._navigateDayPickerDay=function(e){n.setState({navigatedDayDate:e,navigatedMonthDate:e})},n._navigateMonthPickerDay=function(e){n.setState({navigatedMonthDate:e})},n._onNavigateDayDate=function(e,t){n._navigateDayPickerDay(e),n._focusOnUpdate=t},n._onNavigateMonthDate=function(e,t){if(!t)return n._navigateMonthPickerDay(e),void(n._focusOnUpdate=t);!n.props.showMonthPickerAsOverlay&&!n.props.isDayPickerVisible&&n._onSelectDate(e),n._navigateDayPickerDay(e)},n._onSelectDate=function(e,t){var r=n.props.onSelectDate;n.setState({selectedDate:e}),r&&r(e,t)},n._onHeaderSelect=function(e){n.setState({isDayPickerVisible:!n.state.isDayPickerVisible,isMonthPickerVisible:!n.state.isMonthPickerVisible}),e&&(n._focusOnUpdate=!0)},n._onGotoToday=function(){var e=n.props,t=e.dateRangeType,r=e.firstDayOfWeek,i=e.today,o=e.workWeekDays;if(e.selectDateOnClick){var s=Object(c.g)(i,t,r,o);n._onSelectDate(i,s)}n._navigateDayPickerDay(i),n._focusOnUpdate=!0},n._onGotoTodayClick=function(e){n._onGotoToday()},n._onGotoTodayKeyDown=function(e){e.which===u.h.enter&&(e.preventDefault(),n._onGotoToday())},n._onDatePickerPopupKeyDown=function(e){switch(e.which){case u.h.enter:case u.h.backspace:e.preventDefault();break;case u.h.escape:n._handleEscKey(e)}},n._handleEscKey=function(e){n.props.onDismiss&&n.props.onDismiss()},Object(u._2)(n);var r=t.value&&!isNaN(t.value.getTime())?t.value:t.today||new Date;return n.state={selectedDate:r,navigatedDayDate:r,navigatedMonthDate:r,isMonthPickerVisible:!n.props.showMonthPickerAsOverlay&&n.props.isMonthPickerVisible,isDayPickerVisible:!!n.props.showMonthPickerAsOverlay||n.props.isDayPickerVisible},n._focusOnUpdate=!1,n}return Object(r.d)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.autoNavigateOnSelection,n=e.value,r=e.today,i=void 0===r?new Date:r;t&&!Object(c.f)(n,this.props.value)&&this.setState({navigatedMonthDate:n,navigatedDayDate:n}),this.setState({selectedDate:n||i})},t.prototype.componentDidUpdate=function(){this._focusOnUpdate&&(this.focus(),this._focusOnUpdate=!1)},t.prototype.render=function(){var e,t=this.props,n=t.firstDayOfWeek,o=t.dateRangeType,c=t.strings,h=t.showMonthPickerAsOverlay,d=t.autoNavigateOnSelection,p=t.showGoToToday,f=t.highlightCurrentMonth,m=t.highlightSelectedMonth,g=t.navigationIcons,b=t.minDate,v=t.maxDate,y=t.restrictedDates,S=t.className,_=t.showCloseButton,w=t.allFocusable,C=t.yearPickerHidden,k=t.today,x=Object(u.P)(this.props,u.w,["value"]),O=this.state,I=O.selectedDate,T=O.navigatedDayDate,E=O.navigatedMonthDate,N=O.isMonthPickerVisible,M=O.isDayPickerVisible,P=h?this._onHeaderSelect:void 0,j=!h&&!M,D=h&&p,R=p;return R&&T&&E&&k&&(R=T.getFullYear()!==k.getFullYear()||T.getMonth()!==k.getMonth()||E.getFullYear()!==k.getFullYear()||E.getMonth()!==k.getMonth()),i.createElement("div",{className:Object(u.t)("ms-DatePicker",l.root,S),role:"application"},i.createElement("div",Object(r.a)({},x,{className:Object(u.t)("ms-DatePicker-picker ms-DatePicker-picker--opened ms-DatePicker-picker--focused",l.picker,l.pickerIsOpened,l.pickerIsFocused,N&&"ms-DatePicker-monthPickerVisible "+l.monthPickerVisible,N&&M&&"ms-DatePicker-calendarsInline "+l.calendarsInline,j&&"ms-DatePicker-monthPickerOnly "+l.monthPickerOnly,h&&"ms-DatePicker-monthPickerAsOverlay "+l.monthPickerAsOverlay)}),i.createElement("div",{className:Object(u.t)("ms-DatePicker-holder ms-slideDownIn10",l.holder,D&&l.holderWithButton),onKeyDown:this._onDatePickerPopupKeyDown},i.createElement("div",{className:Object(u.t)("ms-DatePicker-frame",l.frame)},i.createElement("div",{className:Object(u.t)("ms-DatePicker-wrap",l.wrap,p&&l.goTodaySpacing)},M&&i.createElement(s.a,{selectedDate:I,navigatedDate:T,today:this.props.today,onSelectDate:this._onSelectDate,onNavigateDate:this._onNavigateDayDate,onDismiss:this.props.onDismiss,firstDayOfWeek:n,dateRangeType:o,autoNavigateOnSelection:d,strings:c,onHeaderSelect:P,navigationIcons:g,showWeekNumbers:this.props.showWeekNumbers,firstWeekOfYear:this.props.firstWeekOfYear,dateTimeFormatter:this.props.dateTimeFormatter,showSixWeeksByDefault:this.props.showSixWeeksByDefault,minDate:b,maxDate:v,restrictedDates:y,workWeekDays:this.props.workWeekDays,componentRef:this._dayPicker,showCloseButton:_,allFocusable:w}),M&&N&&i.createElement("div",{className:l.divider}),N&&i.createElement(a.a,{navigatedDate:E,selectedDate:T,strings:c,onNavigateDate:this._onNavigateMonthDate,today:this.props.today,highlightCurrentMonth:f,highlightSelectedMonth:m,onHeaderSelect:P,navigationIcons:g,dateTimeFormatter:this.props.dateTimeFormatter,minDate:b,maxDate:v,componentRef:this._monthPicker,yearPickerHidden:C||h}),p&&i.createElement("button",{role:"button",className:Object(u.t)("ms-DatePicker-goToday js-goToday",l.goToday,(e={},e[l.goTodayInlineMonth]=N,e[l.goToTodayIsDisabled]=!R,e)),onClick:this._onGotoTodayClick,onKeyDown:this._onGotoTodayKeyDown,tabIndex:0,disabled:!R,type:"button"},c.goToToday))))),i.createElement(u.f,null))},t.prototype.focus=function(){this.state.isDayPickerVisible&&this._dayPicker.current?this._dayPicker.current.focus():this.state.isMonthPickerVisible&&this._monthPicker.current&&this._monthPicker.current.focus()},t.defaultProps={onSelectDate:void 0,onDismiss:void 0,isMonthPickerVisible:!0,isDayPickerVisible:!0,showMonthPickerAsOverlay:!1,value:void 0,today:new Date,firstDayOfWeek:o.b.Sunday,dateRangeType:o.a.Day,autoNavigateOnSelection:!1,showGoToToday:!0,strings:null,highlightCurrentMonth:!1,highlightSelectedMonth:!1,navigationIcons:h,showWeekNumbers:!1,firstWeekOfYear:o.c.FirstDay,dateTimeFormatter:p,showSixWeeksByDefault:!1,workWeekDays:d,showCloseButton:!1,allFocusable:!1},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(2286),a=n(89),c=n(48),u=n(2406),l=n(2407),h=function(e){function t(t){var n=e.call(this,t)||this;return n.days={},n._onKeyDown=function(e,t){t.which!==o.h.enter&&t.which!==o.h.space||e()},n._onDayKeyDown=function(e,t,r){return function(i){i.which===o.h.enter?(n._onSelectDate(e,i),i.preventDefault()):n._navigateMonthEdge(i,e,t,r)}},n._onDayMouseDown=function(e,t,r,i){return function(r){i===s.a.Month?n._applyFunctionToDayRefs(function(t,n){t&&n.originalDate.getMonth()===e.getMonth()&&n.isInBounds&&t.classList.add(l.dayPress)}):n._applyFunctionToDayRefs(function(e,n,r){e&&r===t&&n.isInBounds?(e.classList.add(l.dayPress),e.classList.add(l.dayIsHighlighted)):e&&e.classList.remove(l.dayIsHighlighted)})}},n._onDayMouseUp=function(e,t,r,i){return function(r){i===s.a.Month?n._applyFunctionToDayRefs(function(t,n){t&&n.originalDate.getMonth()===e.getMonth()&&n.isInBounds&&t.classList.remove(l.dayPress)}):n._applyFunctionToDayRefs(function(e,n,r){e&&r===t&&n.isInBounds&&e.classList.remove(l.dayPress)})}},n._onDayMouseOver=function(e,t,r,i){return function(r){i===s.a.Month?n._applyFunctionToDayRefs(function(t,n){t&&n.originalDate.getMonth()===e.getMonth()&&n.isInBounds&&t.classList.add(l.dayHover)}):n._applyFunctionToDayRefs(function(e,n,r){e&&r===t&&n.isInBounds&&e.classList.add(l.dayHover)})}},n._onDayMouseLeave=function(e,t,r,i){return function(r){i===s.a.Month?n._applyFunctionToDayRefs(function(t,n){t&&n.originalDate.getMonth()===e.getMonth()&&n.isInBounds&&t.classList.remove(l.dayHover)}):n._applyFunctionToDayRefs(function(e,n,r){e&&r===t&&n.isInBounds&&e.classList.remove(l.dayHover)})}},n._onTableMouseLeave=function(e){e.target.contains&&e.relatedTarget&&e.relatedTarget.contains&&e.target.contains(e.relatedTarget)||n._applyFunctionToDayRefs(function(e,t){e&&(e.classList.remove(l.dayHover),e.classList.remove(l.dayPress))})},n._onTableMouseUp=function(e){e.target.contains&&e.relatedTarget&&e.relatedTarget.contains&&e.target.contains(e.relatedTarget)||n._applyFunctionToDayRefs(function(e,t){e&&e.classList.remove(l.dayPress)})},n._onSelectDate=function(e,t){var r=n.props,i=r.onSelectDate,o=r.dateRangeType,a=r.firstDayOfWeek,c=r.navigatedDate,l=r.autoNavigateOnSelection,h=r.minDate,d=r.maxDate,p=r.workWeekDays;t&&t.stopPropagation();var f=Object(u.g)(e,o,a,p);if(o!==s.a.Day&&(f=n._getBoundedDateRange(f,h,d)),f=f.filter(function(e){return!n._getIsRestrictedDate(e)}),i&&i(e,f),l&&e.getMonth()!==c.getMonth()){var m=Object(u.e)(e,c);m<0?n._onSelectPrevMonth():m>0&&n._onSelectNextMonth()}},n._onSelectNextMonth=function(){n.props.onNavigateDate(Object(u.b)(n.props.navigatedDate,1),!1)},n._onSelectPrevMonth=function(){n.props.onNavigateDate(Object(u.b)(n.props.navigatedDate,-1),!1)},n._onClose=function(){n.props.onDismiss&&n.props.onDismiss()},n._onHeaderSelect=function(){var e=n.props.onHeaderSelect;e&&e(!0)},n._onHeaderKeyDown=function(e){var t=n.props.onHeaderSelect;!t||e.which!==o.h.enter&&e.which!==o.h.space||t(!0)},n._onPrevMonthKeyDown=function(e){e.which===o.h.enter&&n._onKeyDown(n._onSelectPrevMonth,e)},n._onNextMonthKeyDown=function(e){e.which===o.h.enter&&n._onKeyDown(n._onSelectNextMonth,e)},n._onCloseButtonKeyDown=function(e){e.which===o.h.enter&&n._onKeyDown(n._onClose,e)},Object(o._2)(n),n.state={activeDescendantId:Object(o.L)("DatePickerDay-active"),weeks:n._getWeeks(t)},n._onSelectNextMonth=n._onSelectNextMonth.bind(n),n._onSelectPrevMonth=n._onSelectPrevMonth.bind(n),n._onClose=n._onClose.bind(n),n}return Object(r.d)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({weeks:this._getWeeks(e)})},t.prototype.render=function(){var e,t,n=this,r=this.state,h=r.activeDescendantId,d=r.weeks,p=this.props,f=p.firstDayOfWeek,m=p.strings,g=p.navigatedDate,b=p.selectedDate,v=p.dateRangeType,y=p.navigationIcons,S=p.showWeekNumbers,_=p.firstWeekOfYear,w=p.dateTimeFormatter,C=p.minDate,k=p.maxDate,x=p.showCloseButton,O=p.allFocusable,I=Object(o.L)("DatePickerDay-dayPicker"),T=Object(o.L)("DatePickerDay-monthAndYear"),E=y.leftNavigation,N=y.rightNavigation,M=y.closeIcon,P=S?Object(u.k)(d.length,f,_,g):null,j=S?Object(u.j)(b,f,_):void 0,D=this._getWeekCornerStyles(d,v),R=!C||Object(u.e)(C,Object(u.i)(g))<0,L=!k||Object(u.e)(Object(u.h)(g),k)<0;return i.createElement("div",{className:Object(o.t)("ms-DatePicker-dayPicker",l.dayPicker,S&&(Object(o.S)()?l.showWeekNumbersRTL:l.showWeekNumbers)),id:I},i.createElement("div",{className:Object(o.t)("ms-DatePicker-header",l.header)},i.createElement("div",{"aria-live":"polite","aria-relevant":"text","aria-atomic":"true",id:T,className:l.monthAndYear},this.props.onHeaderSelect?i.createElement("div",{className:Object(o.t)("ms-DatePicker-monthAndYear js-showMonthPicker",l.headerToggleView),onClick:this._onHeaderSelect,onKeyDown:this._onHeaderKeyDown,"aria-label":w.formatMonthYear(g,m),role:"button",tabIndex:0},w.formatMonthYear(g,m)):i.createElement("div",{className:Object(o.t)("ms-DatePicker-monthAndYear",l.monthAndYear)},w.formatMonthYear(g,m))),i.createElement("div",{className:Object(o.t)("ms-DatePicker-monthComponents",l.monthComponents)},i.createElement("div",{className:Object(o.t)("ms-DatePicker-navContainer",l.navContainer)},i.createElement("button",{className:Object(o.t)("ms-DatePicker-prevMonth js-prevMonth",l.prevMonth,(e={},e["ms-DatePicker-prevMonth--disabled "+l.prevMonthIsDisabled]=!R,e)),disabled:!O&&!R,"aria-disabled":!R,onClick:R?this._onSelectPrevMonth:void 0,onKeyDown:R?this._onPrevMonthKeyDown:void 0,"aria-controls":I,title:m.prevMonthAriaLabel?m.prevMonthAriaLabel+" "+m.months[Object(u.b)(g,-1).getMonth()]:void 0,role:"button",type:"button"},i.createElement(c.b,{iconName:E})),i.createElement("button",{className:Object(o.t)("ms-DatePicker-nextMonth js-nextMonth",l.nextMonth,(t={},t["ms-DatePicker-nextMonth--disabled "+l.nextMonthIsDisabled]=!L,t)),disabled:!O&&!L,"aria-disabled":!L,onClick:L?this._onSelectNextMonth:void 0,onKeyDown:L?this._onNextMonthKeyDown:void 0,"aria-controls":I,title:m.nextMonthAriaLabel?m.nextMonthAriaLabel+" "+m.months[Object(u.b)(g,1).getMonth()]:void 0,role:"button",type:"button"},i.createElement(c.b,{iconName:N})),x&&i.createElement("button",{className:Object(o.t)("ms-DatePicker-closeButton js-closeButton",l.closeButton),onClick:this._onClose,onKeyDown:this._onCloseButtonKeyDown,title:m.closeButtonAriaLabel,role:"button",type:"button"},i.createElement(c.b,{iconName:M}))))),i.createElement(a.a,null,i.createElement("table",{className:Object(o.t)("ms-DatePicker-table",l.table),"aria-readonly":"true","aria-multiselectable":"false","aria-labelledby":T,"aria-activedescendant":h,role:"grid"},i.createElement("thead",null,i.createElement("tr",null,S&&i.createElement("th",{className:Object(o.t)("ms-DatePicker-weekday",l.weekday)}),m.shortDays.map(function(e,t){return i.createElement("th",{className:Object(o.t)("ms-DatePicker-weekday",l.weekday),role:"columnheader",scope:"col",key:t,title:m.days[(t+f)%7],"aria-label":m.days[(t+f)%7],"data-is-focusable":!!O||void 0},m.shortDays[(t+f)%7])}))),i.createElement("tbody",{onMouseLeave:v!==s.a.Day?this._onTableMouseLeave:void 0,onMouseUp:v!==s.a.Day?this._onTableMouseUp:void 0},d.map(function(e,t){var r;return i.createElement("tr",{key:P?P[t]:t},S&&P&&i.createElement("th",{className:Object(o.t)("ms-DatePicker-weekNumbers","ms-DatePicker-weekday",l.weekday,l.weekNumbers),key:t,title:P&&m.weekNumberFormatString&&Object(o.G)(m.weekNumberFormatString,P[t]),"aria-label":P&&m.weekNumberFormatString&&Object(o.G)(m.weekNumberFormatString,P[t]),scope:"row"},i.createElement("div",{className:Object(o.t)("ms-DatePicker-day",l.day,(r={},r["ms-DatePicker-week--highlighted "+l.weekIsHighlighted]=j===P[t],r))},i.createElement("span",null,P[t]))),e.map(function(e,r){var a,c,d=Object(u.f)(g,e.originalDate);return i.createElement("td",{key:e.key,onClick:e.isInBounds?e.onSelected:void 0,className:Object(o.t)(l.dayWrapper,"ms-DatePicker-day",n._getHighlightedCornerStyle(D,r,t),(a={},a["ms-DatePicker-weekBackground "+l.weekBackground]=e.isSelected&&(v===s.a.Week||v===s.a.WorkWeek),a["ms-DatePicker-dayBackground "+l.dayBackground]=v===s.a.Day,a["ms-DatePicker-day--highlighted "+l.dayIsHighlighted]=e.isSelected&&v===s.a.Day,a["ms-DatePicker-day--infocus "+l.dayIsFocused]=e.isInBounds&&e.isInMonth,a["ms-DatePicker-day--outfocus "+l.dayIsUnfocused]=e.isInBounds&&!e.isInMonth,a[l.daySelection]=v===s.a.Day,a[l.weekSelection]=v===s.a.Week||v===s.a.WorkWeek,a[l.monthSelection]=v===s.a.Month,a)),ref:function(t){return n._setDayCellRef(t,e,d)},onMouseOver:v!==s.a.Day&&e.isInBounds?n._onDayMouseOver(e.originalDate,t,r,v):void 0,onMouseLeave:v!==s.a.Day&&e.isInBounds?n._onDayMouseLeave(e.originalDate,t,r,v):void 0,onMouseDown:v!==s.a.Day&&e.isInBounds?n._onDayMouseDown(e.originalDate,t,r,v):void 0,onMouseUp:v!==s.a.Day&&e.isInBounds?n._onDayMouseUp(e.originalDate,t,r,v):void 0,role:"gridcell"},i.createElement("button",{key:e.key+"button",onClick:e.isInBounds?e.onSelected:void 0,className:Object(o.t)(l.day,"ms-DatePicker-day-button",(c={},c["ms-DatePicker-day--disabled "+l.dayIsDisabled]=!e.isInBounds,c["ms-DatePicker-day--today "+l.dayIsToday]=e.isToday,c)),onKeyDown:n._onDayKeyDown(e.originalDate,t,r),"aria-label":w.formatMonthDayYear(e.originalDate,m),id:d?h:void 0,"aria-readonly":!0,"aria-selected":e.isInBounds?e.isSelected:void 0,"data-is-focusable":O||!!e.isInBounds||void 0,ref:function(t){return n._setDayRef(t,e,d)},disabled:!O&&!e.isInBounds,"aria-disabled":!e.isInBounds,type:"button"},i.createElement("span",{"aria-hidden":"true"},w.formatDay(e.originalDate))))}))})))))},t.prototype.focus=function(){this.navigatedDay&&(this.navigatedDay.tabIndex=0,this.navigatedDay.focus())},t.prototype._setDayRef=function(e,t,n){n&&(this.navigatedDay=e)},t.prototype._setDayCellRef=function(e,t,n){this.days[t.key]=e},t.prototype._getWeekCornerStyles=function(e,t){var n=this,r={};switch(t){case s.a.Month:e.forEach(function(t,n){t.forEach(function(t,i){var s=e[n-1]&&e[n-1][i]&&e[n-1][i].originalDate.getMonth()===e[n][i].originalDate.getMonth(),a=e[n+1]&&e[n+1][i]&&e[n+1][i].originalDate.getMonth()===e[n][i].originalDate.getMonth(),c=e[n][i-1]&&e[n][i-1].originalDate.getMonth()===e[n][i].originalDate.getMonth(),u=e[n][i+1]&&e[n][i+1].originalDate.getMonth()===e[n][i].originalDate.getMonth(),h=!s&&!u,d=!a&&!c,p=!a&&!u,f="";!s&&!c&&(f=Object(o.S)()?f.concat(l.topRightCornerDate+" "):f.concat(l.topLeftCornerDate+" ")),h&&(f=Object(o.S)()?f.concat(l.topLeftCornerDate+" "):f.concat(l.topRightCornerDate+" ")),d&&(f=Object(o.S)()?f.concat(l.bottomRightCornerDate+" "):f.concat(l.bottomLeftCornerDate+" ")),p&&(f=Object(o.S)()?f.concat(l.bottomLeftCornerDate+" "):f.concat(l.bottomRightCornerDate+" ")),s||(f=f.concat(l.topDate+" ")),a||(f=f.concat(l.bottomDate+" ")),u||(f=f.concat(l.rightDate+" ")),c||(f=f.concat(l.leftdate+" ")),r[n+"_"+i]=f})});break;case s.a.Week:case s.a.WorkWeek:e.forEach(function(e,t){var i=Object(o.C)(e,function(e){return e.isInBounds}),s=n._findLastIndex(e,function(e){return e.isInBounds}),a=l.topLeftCornerDate+" "+l.bottomLeftCornerDate,c=l.topRightCornerDate+" "+l.bottomRightCornerDate;r[t+"_"+i]=Object(o.S)()?c:a,r[t+"_"+s]=Object(o.S)()?a:c})}return r},t.prototype._getHighlightedCornerStyle=function(e,t,n){return e[n+"_"+t]?e[n+"_"+t]:""},t.prototype._navigateMonthEdge=function(e,t,n,r){var i=this.props,s=i.minDate,a=i.maxDate,c=void 0;0===n&&e.which===o.h.up?c=Object(u.c)(t,-1):n===this.state.weeks.length-1&&e.which===o.h.down?c=Object(u.c)(t,1):0===r&&e.which===Object(o.T)(o.h.left)?c=Object(u.a)(t,-1):6===r&&e.which===Object(o.T)(o.h.right)&&(c=Object(u.a)(t,1)),c&&(!s||Object(u.e)(s,c)<1)&&(!a||Object(u.e)(c,a)<1)&&(this.props.onNavigateDate(c,!0),e.preventDefault())},t.prototype._applyFunctionToDayRefs=function(e){var t=this;this.state.weeks&&this.state.weeks.map(function(n,r){n.map(function(n){var i=t.days[n.key];e(i,n,r)})})},t.prototype._getWeeks=function(e){for(var t=e.navigatedDate,n=e.selectedDate,r=e.dateRangeType,i=e.firstDayOfWeek,o=e.today,a=e.minDate,c=e.maxDate,l=e.showSixWeeksByDefault,h=e.workWeekDays,d=new Date(t.getFullYear(),t.getMonth(),1),p=o||new Date,f=[];d.getDay()!==i;)d.setDate(d.getDate()-1);var m=!1,g=r===s.a.WorkWeek?s.a.Week:r,b=Object(u.g)(n,g,i,h);r!==s.a.Day&&(b=this._getBoundedDateRange(b,a,c));for(var v=!0,y=0;v;y++){var S=[];m=!0;for(var _=0;_<7;_++){var w=new Date(d.toString()),C={key:d.toString(),date:d.getDate().toString(),originalDate:w,isInMonth:d.getMonth()===t.getMonth(),isToday:Object(u.f)(p,d),isSelected:Object(u.n)(d,b),onSelected:this._onSelectDate.bind(this,w),isInBounds:(!a||Object(u.e)(a,d)<1)&&(!c||Object(u.e)(d,c)<1)&&!this._getIsRestrictedDate(d)};S.push(C),C.isInMonth&&(m=!1),d.setDate(d.getDate()+1)}(v=l?!m||y<=5:!m)&&f.push(S)}return f},t.prototype._getIsRestrictedDate=function(e){var t=this.props.restrictedDates;return!!t&&!!Object(o.A)(t,function(t){return Object(u.f)(t,e)})},t.prototype._getBoundedDateRange=function(e,t,n){var i=Object(r.f)(e);return t&&(i=i.filter(function(e){return Object(u.e)(e,t)>=0})),n&&(i=i.filter(function(e){return Object(u.e)(e,n)<=0})),i},t.prototype._findLastIndex=function(e,t){for(var n=e.length-1;n>=0;n--){if(t(e[n]))return n}return-1},t}(i.Component)},function(e,t,n){"use strict";t.a={MillisecondsInOneDay:864e5,MillisecondsIn1Sec:1e3,MillisecondsIn1Min:6e4,MillisecondsIn30Mins:18e5,MillisecondsIn1Hour:36e5,MinutesInOneDay:1440,MinutesInOneHour:60,DaysInOneWeek:7,MonthInOneYear:12}},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(89),a=n(2406),c=n(48),u=n(2407),l=n(5415),h=u,d=function(e){function t(t){var n=e.call(this,t)||this;return n._navigatedMonthRef=i.createRef(),n._onCalendarYearRef=function(e){n._calendarYearRef=e},n._onKeyDown=function(e,t){t.which===o.h.enter&&e()},n._onSelectYear=function(e){n._focusOnUpdate=!0;var t=n.props,r=t.navigatedDate,i=t.onNavigateDate,o=t.maxDate,s=t.minDate;if(r.getFullYear()!==e){var c=new Date(r.getTime());c.setFullYear(e),o&&c>o?c=Object(a.o)(c,o.getMonth()):s&&c<s&&(c=Object(a.o)(c,s.getMonth())),i(c,!0)}n.setState({isYearPickerVisible:!1})},n._yearToString=function(e){var t=n.props,r=t.navigatedDate,i=t.dateTimeFormatter;if(i){var o=new Date(r.getTime());return o.setFullYear(e),i.formatYear(o)}return String(e)},n._yearRangeToString=function(e){return n._yearToString(e.fromYear)+" - "+n._yearToString(e.toYear)},n._yearRangeToNextDecadeLabel=function(e){var t=n.props.strings;return t.nextYearRangeAriaLabel?t.nextYearRangeAriaLabel+" "+n._yearRangeToString(e):""},n._yearRangeToPrevDecadeLabel=function(e){var t=n.props.strings;return t.prevYearRangeAriaLabel?t.prevYearRangeAriaLabel+" "+n._yearRangeToString(e):""},n._onRenderYear=function(e){return n._yearToString(e)},n._onSelectNextYear=function(){var e=n.props,t=e.navigatedDate;(0,e.onNavigateDate)(Object(a.d)(t,1),!1)},n._onSelectNextYearKeyDown=function(e){e.which===o.h.enter&&n._onKeyDown(n._onSelectNextYear,e)},n._onSelectPrevYear=function(){var e=n.props,t=e.navigatedDate;(0,e.onNavigateDate)(Object(a.d)(t,-1),!1)},n._onSelectPrevYearKeyDown=function(e){e.which===o.h.enter&&n._onKeyDown(n._onSelectPrevYear,e)},n._onSelectMonthKeyDown=function(e){return function(t){return n._onKeyDown(function(){return n._onSelectMonth(e)},t)}},n._onSelectMonth=function(e){var t=n.props,r=t.navigatedDate,i=t.onNavigateDate,o=t.onHeaderSelect;o&&o(!0),i(Object(a.o)(r,e),!0)},n._onHeaderSelect=function(){var e=n.props,t=e.onHeaderSelect;e.yearPickerHidden?t&&t(!0):(n._focusOnUpdate=!0,n.setState({isYearPickerVisible:!0}))},n._onYearPickerHeaderSelect=function(e){n._focusOnUpdate=e,n.setState({isYearPickerVisible:!1})},n._onHeaderKeyDown=function(e){!n._onHeaderSelect||e.which!==o.h.enter&&e.which!==o.h.space||n._onHeaderSelect()},Object(o._2)(n),n._selectMonthCallbacks=[],t.strings.shortMonths.map(function(e,t){n._selectMonthCallbacks[t]=n._onSelectMonth.bind(n,t)}),n._isCurrentMonth=n._isCurrentMonth.bind(n),n._onSelectNextYear=n._onSelectNextYear.bind(n),n._onSelectPrevYear=n._onSelectPrevYear.bind(n),n._onSelectMonth=n._onSelectMonth.bind(n),n.state={isYearPickerVisible:!1},n}return Object(r.d)(t,e),t.prototype.componentDidUpdate=function(){this._focusOnUpdate&&(this.focus(),this._focusOnUpdate=!1)},t.prototype.render=function(){var e,t,n=this,r=this.props,u=r.navigatedDate,d=r.selectedDate,p=r.strings,f=r.today,m=r.highlightCurrentMonth,g=r.highlightSelectedMonth,b=r.navigationIcons,v=r.dateTimeFormatter,y=r.minDate,S=r.maxDate,_=r.yearPickerHidden;if(this.state.isYearPickerVisible){var w=u?u.getFullYear():void 0;return i.createElement(l.a,{key:"calendarYear_"+(w&&w.toString()),minYear:y?y.getFullYear():void 0,maxYear:S?S.getFullYear():void 0,onSelectYear:this._onSelectYear,navigationIcons:b,onHeaderSelect:this._onYearPickerHeaderSelect,selectedYear:w,onRenderYear:this._onRenderYear,strings:{rangeAriaLabel:this._yearRangeToString,prevRangeAriaLabel:this._yearRangeToPrevDecadeLabel,nextRangeAriaLabel:this._yearRangeToNextDecadeLabel},ref:this._onCalendarYearRef})}for(var C=[],k=0;k<p.shortMonths.length/4;k++)C.push(k);var x=b.leftNavigation,O=b.rightNavigation,I=!y||Object(a.e)(y,Object(a.m)(u))<0,T=!S||Object(a.e)(Object(a.l)(u),S)<0;return i.createElement("div",{className:Object(o.t)("ms-DatePicker-monthPicker",h.monthPicker)},i.createElement("div",{className:Object(o.t)("ms-DatePicker-header",h.header)},this.props.onHeaderSelect||!_?i.createElement("div",{className:Object(o.t)("ms-DatePicker-currentYear js-showYearPicker",h.currentYear,h.headerToggleView),onClick:this._onHeaderSelect,onKeyDown:this._onHeaderKeyDown,"aria-label":v.formatYear(u),role:"button","aria-atomic":!0,"aria-live":"polite",tabIndex:0},v.formatYear(u)):i.createElement("div",{className:Object(o.t)("ms-DatePicker-currentYear js-showYearPicker",h.currentYear)},v.formatYear(u)),i.createElement("div",{className:Object(o.t)("ms-DatePicker-yearComponents",h.yearComponents)},i.createElement("div",{className:Object(o.t)("ms-DatePicker-navContainer",h.navContainer)},i.createElement("button",{className:Object(o.t)("ms-DatePicker-prevYear js-prevYear",h.prevYear,(e={},e["ms-DatePicker-prevYear--disabled "+h.prevYearIsDisabled]=!I,e)),disabled:!I,onClick:I?this._onSelectPrevYear:void 0,onKeyDown:I?this._onSelectPrevYearKeyDown:void 0,title:p.prevYearAriaLabel?p.prevYearAriaLabel+" "+v.formatYear(Object(a.d)(u,-1)):void 0,role:"button",type:"button"},i.createElement(c.b,{iconName:Object(o.S)()?O:x})),i.createElement("button",{className:Object(o.t)("ms-DatePicker-nextYear js-nextYear",h.nextYear,(t={},t["ms-DatePicker-nextYear--disabled "+h.nextYearIsDisabled]=!T,t)),disabled:!T,onClick:T?this._onSelectNextYear:void 0,onKeyDown:T?this._onSelectNextYearKeyDown:void 0,title:p.nextYearAriaLabel?p.nextYearAriaLabel+" "+v.formatYear(Object(a.d)(u,1)):void 0,role:"button",type:"button"},i.createElement(c.b,{iconName:Object(o.S)()?x:O}))))),i.createElement(s.a,null,i.createElement("div",{className:Object(o.t)("ms-DatePicker-optionGrid",h.optionGrid),role:"grid","aria-readonly":"true"},C.map(function(e){var t=p.shortMonths.slice(4*e,4*(e+1));return i.createElement("div",{key:"monthRow_"+e,role:"row"},t.map(function(t,r){var s,c=4*e+r,l=Object(a.o)(u,c),b=n._isCurrentMonth(c,u.getFullYear(),f),_=u.getMonth()===c,w=d.getMonth()===c,C=d.getFullYear()===u.getFullYear(),k=(!y||Object(a.e)(y,Object(a.h)(l))<1)&&(!S||Object(a.e)(Object(a.i)(l),S)<1);return i.createElement("button",{role:"gridcell",className:Object(o.t)("ms-DatePicker-monthOption",h.monthOption,(s={},s["ms-DatePicker-day--today "+h.monthIsCurrentMonth]=m&&b,s["ms-DatePicker-day--highlighted "+h.monthIsHighlighted]=(m||g)&&w&&C,s["ms-DatePicker-monthOption--disabled "+h.monthOptionIsDisabled]=!k,s)),disabled:!k,key:c,onClick:k?n._selectMonthCallbacks[c]:void 0,onKeyDown:k?n._onSelectMonthKeyDown(c):void 0,"aria-label":v.formatMonthYear(l,p),"aria-selected":_,"data-is-focusable":!!k||void 0,ref:_?n._navigatedMonthRef:void 0,type:"button"},t)}))}))))},t.prototype.focus=function(){this._calendarYearRef?this._calendarYearRef.focus():this._navigatedMonthRef.current&&(this._navigatedMonthRef.current.tabIndex=0,this._navigatedMonthRef.current.focus())},t.prototype._isCurrentMonth=function(e,t,n){return n.getFullYear()===t&&n.getMonth()===e},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(89),a=n(2407),c=n(48),u=a,l=12,h={prevRangeAriaLabel:void 0,nextRangeAriaLabel:void 0},d={leftNavigation:"Up",rightNavigation:"Down",closeIcon:"CalculatorMultiply"},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._buttonRef=i.createRef(),t._onRenderYear=function(){var e=t.props,n=e.year,r=e.onRenderYear;return r?r(n):n},t._onClick=function(){t.props.onSelectYear&&t.props.onSelectYear(t.props.year)},t._onKeyDown=function(e){t.props.onSelectYear&&e.which===o.h.enter&&t.props.onSelectYear(t.props.year)},t}return Object(r.d)(t,e),t.prototype.focus=function(){this._buttonRef.current&&this._buttonRef.current.focus()},t.prototype.render=function(){var e,t=this.props,n=t.year,r=t.selected,s=t.disabled,a=t.onSelectYear;return i.createElement("button",{className:Object(o.t)("ms-DatePicker-yearOption",u.yearOption,(e={},e["ms-DatePicker-day--highlighted "+u.yearIsHighlighted]=r,e["ms-DatePicker-yearOption--disabled "+u.yearOptionIsDisabled]=s,e)),type:"button",role:"gridcell",onClick:!s&&a?this._onClick:void 0,onKeyDown:!s&&a?this._onKeyDown:void 0,disabled:s,"aria-label":String(n),"aria-selected":r,ref:this._buttonRef},this._onRenderYear())},t}(i.Component),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._selectedCellRef=i.createRef(),t._currentCellRef=i.createRef(),t._renderCell=function(e){var n=e===t.props.selectedYear,r=t.props,o=r.minYear,s=r.maxYear,a=r.onSelectYear,c=void 0!==o&&e<o||void 0!==s&&e>s,u=e===(new Date).getFullYear();return i.createElement(p,{key:e,year:e,selected:n,current:u,disabled:c,onSelectYear:a,ref:n?t._selectedCellRef:u?t._currentCellRef:void 0})},t}return Object(r.d)(t,e),t.prototype.focus=function(){this._selectedCellRef.current?this._selectedCellRef.current.focus():this._currentCellRef.current&&this._currentCellRef.current.focus()},t.prototype.render=function(){for(var e=this.props,t=e.fromYear,n=e.toYear,r=t,a=[];r<=n;)a.push(this._renderCell(r)),r++;return i.createElement(s.a,null,i.createElement("div",{className:Object(o.t)("ms-DatePicker-optionGrid",u.optionGrid),role:"grid"},i.createElement("div",{role:"row"},a)))},t}(i.Component),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onSelectPrev=function(){!t.isDisabled&&t.props.onSelectPrev&&t.props.onSelectPrev()},t._onKeyDown=function(e){e.which===o.h.enter&&t._onSelectPrev()},t}return Object(r.d)(t,e),t.prototype.render=function(){var e,t=this.props.navigationIcons||d,n=(this.props.strings||h).prevRangeAriaLabel,r={fromYear:this.props.fromYear-l,toYear:this.props.toYear-l},s=n?"string"===typeof n?n:n(r):void 0,a=this.isDisabled,p=this.props.onSelectPrev;return i.createElement("button",{className:Object(o.t)("ms-DatePicker-prevDecade",u.prevDecade,(e={},e["ms-DatePicker-prevDecade--disabled "+u.prevDecadeIsDisabled]=a,e)),onClick:!a&&p?this._onSelectPrev:void 0,onKeyDown:!a&&p?this._onKeyDown:void 0,type:"button",tabIndex:0,title:s,disabled:a},i.createElement(c.b,{iconName:Object(o.S)()?t.rightNavigation:t.leftNavigation}))},Object.defineProperty(t.prototype,"isDisabled",{get:function(){var e=this.props.minYear;return void 0!==e&&this.props.fromYear<e},enumerable:!0,configurable:!0}),t}(i.Component),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onSelectNext=function(){!t.isDisabled&&t.props.onSelectNext&&t.props.onSelectNext()},t._onKeyDown=function(e){e.which===o.h.enter&&t._onSelectNext()},t}return Object(r.d)(t,e),t.prototype.render=function(){var e,t=this.props.navigationIcons||d,n=(this.props.strings||h).nextRangeAriaLabel,r={fromYear:this.props.fromYear+l,toYear:this.props.toYear+l},s=n?"string"===typeof n?n:n(r):void 0,a=this.props.onSelectNext,p=this.isDisabled;return i.createElement("button",{className:Object(o.t)("ms-DatePicker-nextDecade",u.nextDecade,(e={},e["ms-DatePicker-nextDecade--disabled "+u.nextDecadeIsDisabled]=p,e)),onClick:!p&&a?this._onSelectNext:void 0,onKeyDown:!p&&a?this._onKeyDown:void 0,type:"button",tabIndex:0,title:s,disabled:this.isDisabled},i.createElement(c.b,{iconName:Object(o.S)()?t.leftNavigation:t.rightNavigation}))},Object.defineProperty(t.prototype,"isDisabled",{get:function(){var e=this.props.maxYear;return void 0!==e&&this.props.fromYear+l>e},enumerable:!0,configurable:!0}),t}(i.Component),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(){return i.createElement("div",{className:Object(o.t)("ms-DatePicker-decadeComponents",u.decadeComponents)},i.createElement("div",{className:Object(o.t)("ms-DatePicker-navContainer",u.navContainer)},i.createElement(m,Object(r.a)({},this.props)),i.createElement(g,Object(r.a)({},this.props))))},t}(i.Component),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onHeaderSelect=function(){t.props.onHeaderSelect&&t.props.onHeaderSelect(!0)},t._onHeaderKeyDown=function(e){!t.props.onHeaderSelect||e.which!==o.h.enter&&e.which!==o.h.space||t.props.onHeaderSelect(!0)},t._onRenderYear=function(e){return t.props.onRenderYear?t.props.onRenderYear(e):e},t}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.fromYear,n=e.toYear;if(e.onHeaderSelect){var r=(this.props.strings||h).rangeAriaLabel,s=r?"string"===typeof r?r:r(this.props):void 0;return i.createElement("div",{className:Object(o.t)("ms-DatePicker-currentDecade js-showYearPicker",u.currentDecade,u.headerToggleView),onClick:this._onHeaderSelect,onKeyDown:this._onHeaderKeyDown,"aria-label":s,role:"button","aria-atomic":!0,"aria-live":"polite",tabIndex:0},this._onRenderYear(t)," - ",this._onRenderYear(n))}return i.createElement("div",{className:Object(o.t)("ms-DatePicker-currentDecade js-showYearPicker",u.currentDecade)},this._onRenderYear(t)," - ",this._onRenderYear(n))},t}(i.Component),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onRenderTitle=function(){return t.props.onRenderTitle?t.props.onRenderTitle(t.props):i.createElement(v,Object(r.a)({},t.props))},t._onRenderNav=function(){return i.createElement(b,Object(r.a)({},t.props))},t}return Object(r.d)(t,e),t.prototype.render=function(){return i.createElement("div",{className:Object(o.t)("ms-DatePicker-header",u.header)},this._onRenderTitle(),this._onRenderNav())},t}(i.Component),S=function(e){function t(t){var n=e.call(this,t)||this;return n._gridRef=i.createRef(),n._onNavNext=function(){n.setState({fromYear:n.state.fromYear+l})},n._onNavPrev=function(){n.setState({fromYear:n.state.fromYear-l})},n._renderHeader=function(){return i.createElement(y,Object(r.a)({},n.props,{fromYear:n.state.fromYear,toYear:n.state.fromYear+l-1,onSelectPrev:n._onNavPrev,onSelectNext:n._onNavNext}))},n._renderGrid=function(){return i.createElement(f,Object(r.a)({},n.props,{fromYear:n.state.fromYear,toYear:n.state.fromYear+l-1,ref:n._gridRef}))},n.state=n._calculateInitialStateFromProps(t),n}return Object(r.d)(t,e),t.prototype.focus=function(){this._gridRef.current&&this._gridRef.current.focus()},t.prototype.render=function(){return i.createElement("div",{className:Object(o.t)("ms-DatePicker-yearPicker",u.yearPicker)},this._renderHeader(),this._renderGrid())},t.prototype._calculateInitialStateFromProps=function(e){var t=e.selectedYear,n=e.navigatedYear,r=t||n||(new Date).getFullYear();return{fromYear:10*Math.floor(r/10),navigatedYear:n,selectedYear:t}},t}(i.Component)},function(e,t,n){"use strict";n(5417)},function(e,t,n){"use strict";n(5418),n(3259),n(3260)},function(e,t,n){"use strict";var r=n(2),i=n(3259),o=n(5422);Object(r._21)(i.a,o.a,void 0,{scope:"ChoiceGroup"})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(5420),o=n(5421),s=Object(r._21)(i.a,o.a,void 0,{scope:"ChoiceGroupOption"})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),i=n(0),o=(n.n(i),n(738)),s=n(48),a=n(2),c=n(23),u=Object(a.s)(),l=function(e){function t(t){var n=e.call(this,t)||this;return n._onChange=function(e){var t=n.props.onChange;t&&t(e,n.props)},n._onBlur=function(e){var t=n.props.onBlur;t&&t(e,n.props)},n._onFocus=function(e){var t=n.props.onFocus;t&&t(e,n.props)},n._onRenderField=function(e){var t=e.id,a=e.imageSrc,u=e.imageAlt,l=void 0===u?"":u,h=e.selectedImageSrc,d=e.iconProps,p=e.imageSize?e.imageSize:{width:32,height:32},f=(e.onRenderLabel?Object(c.A)(e.onRenderLabel,n._onRenderLabel):n._onRenderLabel)(e);return i.createElement("label",{htmlFor:t,className:n._classNames.field},a&&i.createElement("div",{className:n._classNames.innerField},i.createElement("div",{className:n._classNames.imageWrapper},i.createElement(o.a,{src:a,alt:l,width:p.width,height:p.height})),i.createElement("div",{className:n._classNames.selectedImageWrapper},i.createElement(o.a,{src:h,alt:l,width:p.width,height:p.height}))),d&&i.createElement("div",{className:n._classNames.innerField},i.createElement("div",{className:n._classNames.iconWrapper},i.createElement(s.b,Object(r.a)({},d)))),a||d?i.createElement("div",{className:n._classNames.labelWrapper},f):f)},n._onRenderLabel=function(e){return i.createElement("span",{id:e.labelId,className:"ms-ChoiceFieldLabel"},e.text)},Object(a._2)(n),n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.ariaLabel,n=e.focused,o=e.required,s=e.theme,c=e.iconProps,l=e.imageSrc,h=e.imageSize,d=void 0===h?{width:32,height:32}:h,p=e.disabled,f=e.checked,m=e.id,g=e.styles,b=e.name,v=e.onRenderField,y=void 0===v?this._onRenderField:v,S=Object(r.e)(e,["ariaLabel","focused","required","theme","iconProps","imageSrc","imageSize","disabled","checked","id","styles","name","onRenderField"]);this._classNames=u(g,{theme:s,hasIcon:!!c,hasImage:!!l,checked:f,disabled:p,imageIsLarge:!!l&&(d.width>71||d.height>71),imageSize:d,focused:n});var _=Object(a.P)(S,a._3),w=_.className,C=Object(r.e)(_,["className"]);return i.createElement("div",{className:this._classNames.root},i.createElement("div",{className:this._classNames.choiceFieldWrapper},i.createElement("input",Object(r.a)({"aria-label":t,id:m,className:Object(a.t)(this._classNames.input,w),type:"radio",name:b,disabled:p,checked:f,required:o},C,{onChange:this._onChange,onFocus:this._onFocus,onBlur:this._onBlur})),y(this.props,this._onRenderField)))},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(5),i=n(2),o={root:"ms-ChoiceField",choiceFieldWrapper:"ms-ChoiceField-wrapper",input:"ms-ChoiceField-input",field:"ms-ChoiceField-field",innerField:"ms-ChoiceField-innerField",imageWrapper:"ms-ChoiceField-imageWrapper",iconWrapper:"ms-ChoiceField-iconWrapper",labelWrapper:"ms-ChoiceField-labelWrapper",checked:"is-checked"},s="200ms";function a(e,t){var n,o;return["is-inFocus",{selectors:(n={},n["."+i.g+" &"]={position:"relative",outline:"transparent",selectors:{"::-moz-focus-inner":{border:0},":after":{content:'""',top:-2,right:-2,bottom:-2,left:-2,pointerEvents:"none",border:"1px solid "+e,position:"absolute",selectors:(o={},o[r.e]={borderColor:"WindowText",borderWidth:t?1:2},o)}}},n)}]}function c(e,t,n){return[t,{paddingBottom:2,transitionProperty:"opacity",transitionDuration:s,transitionTimingFunction:"ease",selectors:{".ms-Image":{display:"inline-block",borderStyle:"none"}}},(n?!e:e)&&["is-hidden",{position:"absolute",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",opacity:0}]]}var u=function(e){var t,n,i,u,l,h=e.theme,d=e.hasIcon,p=e.hasImage,f=e.checked,m=e.disabled,g=e.imageIsLarge,b=e.focused,v=e.imageSize,y=h.palette,S=h.semanticColors,_=h.fonts,w=Object(r.w)(o,h),C=y.neutralPrimary,k=S.inputBorderHovered,x=S.inputBackgroundChecked,O=y.themeDark,I=S.disabledBodySubtext,T=S.bodyBackground,E=y.neutralSecondary,N=S.inputBackgroundChecked,M=y.themeDark,P=S.disabledBodySubtext,j=y.neutralDark,D=S.focusBorder,R=S.inputBorderHovered,L=S.inputBackgroundChecked,A=y.themeDark,F=y.neutralLighter,B={selectors:{".ms-ChoiceFieldLabel":{color:j},":before":{borderColor:f?O:k},":after":[!d&&!p&&!f&&{content:'""',transitionProperty:"background-color",left:5,top:5,width:10,height:10,backgroundColor:E},f&&{borderColor:M}]}},q={borderColor:f?A:R,selectors:{":before":{opacity:1,borderColor:f?O:k}}},z=[{content:'""',display:"inline-block",backgroundColor:T,borderWidth:1,borderStyle:"solid",borderColor:C,width:20,height:20,fontWeight:"normal",position:"absolute",top:0,left:0,boxSizing:"border-box",transitionProperty:"border-color",transitionDuration:s,transitionTimingFunction:"cubic-bezier(.4, 0, .23, 1)",borderRadius:"50%"},m&&{borderColor:I,selectors:(t={},t[r.e]={color:"GrayText"},t)},f&&{borderColor:m?I:x,selectors:(n={},n[r.e]={borderColor:"Highlight"},n)},(d||p)&&{top:3,right:3,left:"auto",opacity:f?1:0}],W=[{content:'""',width:0,height:0,borderRadius:"50%",position:"absolute",left:10,right:0,transitionProperty:"border-width",transitionDuration:s,transitionTimingFunction:"cubic-bezier(.4, 0, .23, 1)",boxSizing:"border-box"},f&&{borderWidth:5,borderStyle:"solid",borderColor:m?P:N,left:5,top:5,width:10,height:10,selectors:(i={},i[r.e]={borderColor:"Highlight"},i)},f&&(d||p)&&{top:8,right:8,left:"auto"}];return{root:[w.root,h.fonts.medium,{display:"flex",alignItems:"center",boxSizing:"border-box",color:S.bodyText,minHeight:26,border:"none",position:"relative",marginTop:8,selectors:{".ms-ChoiceFieldLabel":{display:"inline-block"}}},!d&&!p&&{selectors:{".ms-ChoiceFieldLabel":{paddingLeft:"26px"}}},p&&"ms-ChoiceField--image",d&&"ms-ChoiceField--icon",(d||p)&&{display:"inline-flex",fontSize:0,margin:"0 4px 4px 0",paddingLeft:0,backgroundColor:F,height:"100%"}],choiceFieldWrapper:[w.choiceFieldWrapper,b&&a(D,d||p)],input:[w.input,{position:"absolute",opacity:0,top:0,right:0,width:"100%",height:"100%",margin:0},m&&"is-disabled"],field:[w.field,f&&w.checked,{display:"inline-block",cursor:"pointer",marginTop:0,position:"relative",verticalAlign:"top",userSelect:"none",minHeight:20,selectors:{":hover":!m&&B,":focus":!m&&B,":before":z,":after":W}},d&&"ms-ChoiceField--icon",p&&"ms-ChoiceField-field--image",(d||p)&&{boxSizing:"content-box",cursor:"pointer",paddingTop:22,margin:0,textAlign:"center",transitionProperty:"all",transitionDuration:s,transitionTimingFunction:"ease",border:"1px solid transparent",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},f&&{borderColor:L},(d||p)&&!m&&{selectors:{":hover":q,":focus":q}},m&&{cursor:"default",selectors:(u={".ms-ChoiceFieldLabel":{color:S.disabledBodyText}},u[r.e]={color:"GrayText"},u)},f&&m&&{borderColor:F}],innerField:[w.innerField,p&&{height:v.height,width:v.width},(d||p)&&{position:"relative",display:"inline-block",paddingLeft:30,paddingRight:30},(d||p)&&g&&{paddingLeft:24,paddingRight:24},(d||p)&&m&&{opacity:.25,selectors:(l={},l[r.e]={color:"GrayText",opacity:1},l)}],imageWrapper:c(!1,w.imageWrapper,f),selectedImageWrapper:c(!0,w.imageWrapper,f),iconWrapper:[w.iconWrapper,{fontSize:32,lineHeight:32,height:32}],labelWrapper:[w.labelWrapper,_.medium,(d||p)&&{display:"block",position:"relative",margin:"4px 8px 2px 8px",height:32,lineHeight:15,maxWidth:2*v.width,overflow:"hidden",whiteSpace:"pre-wrap"}]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i={root:"ms-ChoiceFieldGroup",flexContainer:"ms-ChoiceFieldGroup-flexContainer"},o=function(e){var t=e.className,n=e.optionsContainIconOrImage,o=e.theme,s=Object(r.w)(i,o);return{applicationRole:t,root:[s.root,o.fonts.medium,{display:"block"}],flexContainer:[s.flexContainer,n&&{display:"flex",flexDirection:"row",flexWrap:"wrap"}]}}},function(e,t,n){"use strict";n(5424)},function(e,t,n){"use strict";n(5425),n(3262)},function(e,t,n){"use strict";var r=n(2),i=n(3261),o=n(3262);Object(r._21)(o.a,i.c,void 0,{scope:"Coachmark"})},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r,i=n(1),o=n(0),s=(n.n(o),n(5427)),a=n(261),c=n(73),u=n(2),l=n(259),h=n(5),d={opacity:0},p=((r={})[l.b.top]="slideUpIn20",r[l.b.bottom]="slideDownIn20",r[l.b.left]="slideLeftIn20",r[l.b.right]="slideRightIn20",r),f=function(e){function t(t){var n=e.call(this,t)||this;return n._positionedHost=o.createRef(),n._contentHost=o.createRef(),n.dismiss=function(e){n.onResize(e)},n.onResize=function(e){var t=n.props.onDismiss;t?t(e):n._updateAsyncPosition()},n._setInitialFocus=function(){n._contentHost.current&&n.props.setInitialFocus&&!n._didSetInitialFocus&&n.state.positions&&(n._didSetInitialFocus=!0,Object(u.F)(n._contentHost.current))},n._onComponentDidMount=function(){n._async.setTimeout(function(){n._events.on(n._targetWindow,"scroll",n._async.throttle(n._dismissOnScroll,10),!0),n._events.on(n._targetWindow,"resize",n._async.throttle(n.onResize,10),!0),n._events.on(n._targetWindow.document.body,"focus",n._dismissOnLostFocus,!0),n._events.on(n._targetWindow.document.body,"click",n._dismissOnLostFocus,!0)},0),n.props.onLayerMounted&&n.props.onLayerMounted(),n._updateAsyncPosition(),n._setHeightOffsetEveryFrame()},Object(u._2)(n),n._async=new u.a(n),n._events=new u.e(n),n._didSetInitialFocus=!1,n.state={positions:void 0,heightOffset:0},n._positionAttempts=0,n}return Object(i.d)(t,e),t.prototype.UNSAFE_componentWillMount=function(){this._setTargetWindowAndElement(this._getTarget())},t.prototype.componentDidMount=function(){this._onComponentDidMount()},t.prototype.componentDidUpdate=function(){this._setInitialFocus(),this._updateAsyncPosition()},t.prototype.UNSAFE_componentWillUpdate=function(e){var t=this._getTarget(e);(t!==this._getTarget()||"string"===typeof t||t instanceof String)&&(this._maxHeight=void 0,this._setTargetWindowAndElement(t)),e.offsetFromTarget!==this.props.offsetFromTarget&&(this._maxHeight=void 0),e.finalHeight!==this.props.finalHeight&&this._setHeightOffsetEveryFrame()},t.prototype.componentWillUnmount=function(){this._async.dispose(),this._events.dispose()},t.prototype.render=function(){if(!this._targetWindow)return null;var e=this.props,t=e.className,n=e.positioningContainerWidth,r=e.positioningContainerMaxHeight,i=e.children,c=this.state.positions,l=Object(s.a)(),f=c&&c.targetEdge?h.a[p[c.targetEdge]]:"",m=this._getMaxHeight()+this.state.heightOffset,g=r&&r>m?m:r,b=o.createElement("div",{ref:this._positionedHost,className:Object(u.t)("ms-PositioningContainer",l.container)},o.createElement("div",{className:Object(h.F)("ms-PositioningContainer-layerHost",l.root,t,f,!!n&&{width:n}),style:c?c.elementPosition:d,tabIndex:-1,ref:this._contentHost},i,g));return this.props.doNotLayer?b:o.createElement(a.a,null,b)},t.prototype._dismissOnScroll=function(e){var t=this.props.preventDismissOnScroll;this.state.positions&&!t&&this._dismissOnLostFocus(e)},t.prototype._dismissOnLostFocus=function(e){var t=e.target,n=this._positionedHost.current&&!Object(u.y)(this._positionedHost.current,t);(!this._target&&n||e.target!==this._targetWindow&&n&&(this._target.stopPropagation||!this._target||t!==this._target&&!Object(u.y)(this._target,t)))&&this.onResize(e)},t.prototype._updateAsyncPosition=function(){var e=this;this._async.requestAnimationFrame(function(){return e._updatePosition()})},t.prototype._updatePosition=function(){var e=this.state.positions,t=this.props,n=t.offsetFromTarget,r=t.onPositioned,i=this._positionedHost.current,o=this._contentHost.current;if(i&&o){var s=void 0;if((s=Object(u.p)(s,this.props)).bounds=this._getBounds(),s.target=this._target,document.body.contains(s.target)){s.gapSpace=n;var a=Object(l.g)(s,i,o);!e&&a||e&&a&&!this._arePositionsEqual(e,a)&&this._positionAttempts<5?(this._positionAttempts++,this.setState({positions:a},function(){r&&r(a)})):(this._positionAttempts=0,r&&r(a))}else void 0!==e&&this.setState({positions:void 0})}},t.prototype._getBounds=function(){if(!this._positioningBounds){var e=this.props.bounds;e||(e={top:0+this.props.minPagePadding,left:0+this.props.minPagePadding,right:this._targetWindow.innerWidth-this.props.minPagePadding,bottom:this._targetWindow.innerHeight-this.props.minPagePadding,width:this._targetWindow.innerWidth-2*this.props.minPagePadding,height:this._targetWindow.innerHeight-2*this.props.minPagePadding}),this._positioningBounds=e}return this._positioningBounds},t.prototype._getMaxHeight=function(){var e=this.props,t=e.directionalHintFixed,n=e.offsetFromTarget,r=e.directionalHint;if(!this._maxHeight)if(t&&this._target){var i=n||0;this._maxHeight=Object(l.c)(this._target,r,i,this._getBounds())}else this._maxHeight=this._getBounds().height-2;return this._maxHeight},t.prototype._arePositionsEqual=function(e,t){return this._comparePositions(e.elementPosition,t.elementPosition)},t.prototype._comparePositions=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=e[n],i=t[n];if(r&&i&&r.toFixed(2)!==i.toFixed(2))return!1}return!0},t.prototype._setTargetWindowAndElement=function(e){var t=this._positionedHost.current;if(e)if("string"===typeof e){var n=Object(u.I)();this._target=n?n.querySelector(e):null,this._targetWindow=Object(u.W)(t)}else if(e.stopPropagation)this._targetWindow=Object(u.W)(e.target),this._target=e;else if(void 0!==e.x&&void 0!==e.y)this._targetWindow=Object(u.W)(t),this._target=e;else{var r=e;this._targetWindow=Object(u.W)(r),this._target=e}else this._targetWindow=Object(u.W)(t)},t.prototype._setHeightOffsetEveryFrame=function(){var e=this;this._contentHost&&this.props.finalHeight&&(this._setHeightOffsetTimer=this._async.requestAnimationFrame(function(){if(e._contentHost.current){var t=e._contentHost.current.lastChild,n=t.scrollHeight-t.offsetHeight;e.setState({heightOffset:e.state.heightOffset+n}),t.offsetHeight<e.props.finalHeight?e._setHeightOffsetEveryFrame():e._async.cancelAnimationFrame(e._setHeightOffsetTimer)}}))},t.prototype._getTarget=function(e){return void 0===e&&(e=this.props),e.target},t.defaultProps={preventDismissOnScroll:!1,offsetFromTarget:0,minPagePadding:8,directionalHint:c.a.bottomAutoEdge},t}(o.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(2),i=n(5),o=Object(r._10)(function(){var e;return Object(i.E)({root:[{position:"absolute",boxSizing:"border-box",border:"1px solid ${}",selectors:(e={},e[i.e]={border:"1px solid WindowText"},e)},Object(i.u)()],container:{position:"relative"},main:{backgroundColor:"#ffffff",overflowX:"hidden",overflowY:"hidden",position:"relative"},overFlowYHidden:{overflowY:"hidden"}})})},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return l});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(5429),a=n(259),c=10,u=18,l=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),n}return Object(r.d)(t,e),t.prototype.render=function(){var e,t,n,r,l,h,d=this.props,p=d.left,f=d.top,m=d.bottom,g=d.right,b=d.color,v=d.direction,y=void 0===v?a.b.top:v;switch(y===a.b.top||y===a.b.bottom?(e=c,t=u):(e=u,t=c),y){case a.b.top:default:n=u/2+", 0",r=u+", "+c,l="0, "+c,h="translateY(-100%)";break;case a.b.right:n="0, 0",r=c+", "+c,l="0, "+u,h="translateX(100%)";break;case a.b.bottom:n="0, 0",r=u+", 0",l=u/2+", "+c,h="translateY(100%)";break;case a.b.left:n=c+", 0",r="0, "+c,l=c+", "+u,h="translateX(-100%)"}var S=Object(o.s)()(s.a,{left:p,top:f,bottom:m,right:g,height:e+"px",width:t+"px",transform:h,color:b});return i.createElement("div",{className:S.root,role:"presentation"},i.createElement("svg",{height:e,width:t,className:S.beak},i.createElement("polygon",{points:n+" "+r+" "+l})))},t}(i.Component)},function(e,t,n){"use strict";t.a=function(e){return{root:[{position:"absolute",boxShadow:"inherit",border:"none",boxSizing:"border-box",transform:e.transform,width:e.width,height:e.height,left:e.left,top:e.top,right:e.right,bottom:e.bottom}],beak:{fill:e.color,display:"block"}}}},function(e,t,n){"use strict";n(5431)},function(e,t,n){"use strict";n(5432),n(2677),n(2038),n(2667),n(2214),n(2144),n(2668),n(2669),n(2143),n(2408),n(2670),n(2671),n(2171),n(2215),n(3264),n(2672),n(2673),n(2674),n(3265),n(2675),n(2676),n(3266)},function(e,t,n){"use strict";n(2038),n(2667),n(2214),n(2144),n(2668),n(2669),n(2143),n(2408),n(2670),n(2671),n(2171),n(2215),n(3264),n(2672),n(2673),n(2674),n(3265),n(2675),n(2676),n(3266),n(3267)},function(e,t,n){"use strict";n(5434)},function(e,t,n){"use strict";n(5435),n(3268)},function(e,t,n){"use strict";var r=n(2),i=n(3268),o=n(5445);Object(r._21)(i.a,o.a,void 0,{scope:"ColorPicker"})},function(e,t,n){"use strict";var r=n(3269);n.d(t,"a",function(){return r.a});n(3270),n(5438)},function(e,t,n){"use strict";t.a=function(e){var t,n,s,a,c,u,l,h=e.theme,d=e.className,p=e.disabled,f=e.focused,m=e.required,g=e.multiline,b=e.hasLabel,v=e.borderless,y=e.underlined,S=e.hasIcon,_=e.resizable,w=e.hasErrorMessage,C=e.inputClassName,k=e.autoAdjustHeight,x=h.semanticColors,O=h.effects,I=h.fonts,T=Object(r.w)(i,h),E={background:x.disabledBackground,color:p?x.disabledText:x.inputPlaceholderText,display:"flex",alignItems:"center",padding:"0 10px",lineHeight:1,whiteSpace:"nowrap",flexShrink:0},N=[I.medium,{color:x.inputPlaceholderText,opacity:1}],M={color:x.disabledText};return{root:[T.root,I.medium,m&&T.required,p&&T.disabled,f&&T.active,g&&T.multiline,v&&T.borderless,y&&T.underlined,r.H,{position:"relative"},d],wrapper:[T.wrapper,y&&[{display:"flex",borderBottom:"1px solid "+(w?x.errorText:x.inputBorder),width:"100%"},p&&{borderBottomColor:x.disabledBackground,selectors:(t={},t[r.e]={borderColor:"GrayText"},t)},!p&&{selectors:{":hover":{borderBottomColor:w?x.errorText:x.inputBorderHovered,selectors:(n={},n[r.e]={borderBottomColor:"Highlight"},n)}}},f&&[{position:"relative"},Object(r.y)(w?x.errorText:x.inputFocusBorderAlt,0,"borderBottom")]]],fieldGroup:[T.fieldGroup,r.H,{border:"1px solid "+x.inputBorder,borderRadius:O.roundedCorner2,background:x.inputBackground,cursor:"text",height:32,display:"flex",flexDirection:"row",alignItems:"stretch",position:"relative"},g&&{minHeight:"60px",height:"auto",display:"flex"},!f&&!p&&{selectors:{":hover":{borderColor:x.inputBorderHovered,selectors:(s={},s[r.e]={borderColor:"Highlight"},s)}}},f&&!y&&Object(r.y)(w?x.errorText:x.inputFocusBorderAlt,O.roundedCorner2),p&&{borderColor:x.disabledBackground,selectors:(a={},a[r.e]={borderColor:"GrayText"},a),cursor:"default"},v&&{border:"none"},v&&f&&{border:"none",selectors:{":after":{border:"none"}}},y&&{flex:"1 1 0px",border:"none",textAlign:"left"},y&&p&&{backgroundColor:"transparent"},w&&!y&&{borderColor:x.errorText,selectors:{"&:hover":{borderColor:x.errorText}}},!b&&m&&{selectors:(c={":before":{content:"'*'",color:x.errorText,position:"absolute",top:-5,right:-10}},c[r.e]={selectors:{":before":{right:-14}}},c)}],field:[I.medium,T.field,r.H,{borderRadius:0,border:"none",background:"none",backgroundColor:"transparent",color:x.inputText,padding:"0 8px",width:"100%",minWidth:0,textOverflow:"ellipsis",outline:0,selectors:{"&:active, &:focus, &:hover":{outline:0},"::-ms-clear":{display:"none"}}},Object(r.z)(N),g&&!_&&[T.unresizable,{resize:"none"}],g&&{minHeight:"inherit",lineHeight:17,flexGrow:1,paddingTop:6,paddingBottom:6,overflow:"auto",width:"100%"},g&&k&&{overflow:"hidden"},S&&{paddingRight:24},g&&S&&{paddingRight:40},p&&[{backgroundColor:x.disabledBackground,color:x.disabledText,borderColor:x.disabledBackground},Object(r.z)(M)],y&&{textAlign:"left"},f&&!v&&{selectors:(u={},u[r.e]={paddingLeft:11,paddingRight:11},u)},f&&g&&!v&&{selectors:(l={},l[r.e]={paddingTop:4},l)},C],icon:[g&&{paddingRight:24,alignItems:"flex-end"},{pointerEvents:"none",position:"absolute",bottom:6,right:8,top:"auto",fontSize:r.h.medium,lineHeight:18},p&&{color:x.disabledText}],description:[T.description,{color:x.bodySubtext,fontSize:I.xSmall.fontSize}],errorMessage:[T.errorMessage,r.a.slideDownIn20,I.small,{color:x.errorText,margin:0,paddingTop:5,display:"flex",alignItems:"center"}],prefix:[T.prefix,E],suffix:[T.suffix,E],subComponentStyles:{label:o(e)}}};var r=n(5),i={root:"ms-TextField",description:"ms-TextField-description",errorMessage:"ms-TextField-errorMessage",field:"ms-TextField-field",fieldGroup:"ms-TextField-fieldGroup",prefix:"ms-TextField-prefix",suffix:"ms-TextField-suffix",wrapper:"ms-TextField-wrapper",multiline:"ms-TextField--multiline",borderless:"ms-TextField--borderless",underlined:"ms-TextField--underlined",unresizable:"ms-TextField--unresizable",required:"is-required",disabled:"is-disabled",active:"is-active"};function o(e){var t=e.underlined,n=e.disabled,i=e.focused,o=e.theme,s=o.palette,a=o.fonts;return function(){var e;return{root:[t&&n&&{color:s.neutralTertiary},t&&{fontSize:a.medium.fontSize,marginRight:8,paddingLeft:12,paddingRight:0,lineHeight:"22px",height:32},t&&i&&{selectors:(e={},e[r.e]={height:31},e)}]}}}},function(e,t,n){"use strict";var r=n(1),i=n(0),o=(n.n(i),n(3269)),s=n(2),a=n(5439);!function(e){function t(t){var n=e.call(this,t)||this;return n._textField=i.createRef(),n._onFocus=function(e){n.props.onFocus&&n.props.onFocus(e),n._isFocused=!0;for(var t=0;t<n._maskCharData.length;t++)if(!n._maskCharData[t].value){n.setState({maskCursorPosition:n._maskCharData[t].displayIndex});break}},n._onBlur=function(e){n.props.onBlur&&n.props.onBlur(e),n._isFocused=!1,n._moveCursorOnMouseUp=!0},n._onMouseDown=function(e){n.props.onMouseDown&&n.props.onMouseDown(e),n._isFocused||(n._moveCursorOnMouseUp=!0)},n._onMouseUp=function(e){if(n.props.onMouseUp&&n.props.onMouseUp(e),n._moveCursorOnMouseUp){n._moveCursorOnMouseUp=!1;for(var t=0;t<n._maskCharData.length;t++)if(!n._maskCharData[t].value){n.setState({maskCursorPosition:n._maskCharData[t].displayIndex});break}}},n._onInputChange=function(e,t){var r=n._textField.current;if(null===n._changeSelectionData&&r&&(n._changeSelectionData={changeType:"default",selectionStart:null!==r.selectionStart?r.selectionStart:-1,selectionEnd:null!==r.selectionEnd?r.selectionEnd:-1}),n._changeSelectionData){var i=n.state.displayValue,o=0,s=n._changeSelectionData,c=s.changeType,u=s.selectionStart,l=s.selectionEnd;if("textPasted"===c){var h=l-u,d=t.length+h-i.length,p=u,f=t.substr(p,d);h&&(n._maskCharData=Object(a.d)(n._maskCharData,u,h)),o=Object(a.h)(n._maskCharData,p,f)}else if("delete"===c||"backspace"===c){var m="delete"===c;(d=l-u)?(n._maskCharData=Object(a.d)(n._maskCharData,u,d),o=Object(a.g)(n._maskCharData,u)):m?(n._maskCharData=Object(a.b)(n._maskCharData,u),o=Object(a.g)(n._maskCharData,u)):(n._maskCharData=Object(a.c)(n._maskCharData,u),o=Object(a.e)(n._maskCharData,u))}else if(t.length>i.length){p=l-(d=t.length-i.length);var g=t.substr(p,d);o=Object(a.h)(n._maskCharData,p,g)}else if(t.length<=i.length){d=1;var b=i.length+d-t.length;p=l-d,g=t.substr(p,d);n._maskCharData=Object(a.d)(n._maskCharData,p,b),o=Object(a.h)(n._maskCharData,p,g)}n._changeSelectionData=null;var v=Object(a.f)(n.props.mask,n._maskCharData,n.props.maskChar);n.setState({displayValue:v,maskCursorPosition:o}),n.props.onChange&&n.props.onChange(e,v)}},n._onKeyDown=function(e){var t=n._textField.current;if(n.props.onKeyDown&&n.props.onKeyDown(e),n._changeSelectionData=null,t&&t.value){var r=e.keyCode,i=e.ctrlKey,o=e.metaKey;if(i||o)return;if(r===s.h.backspace||r===s.h.del){var a=e.target.selectionStart,c=e.target.selectionEnd;if(!(r===s.h.backspace&&c&&c>0)&&!(r===s.h.del&&null!==a&&a<t.value.length))return;n._changeSelectionData={changeType:r===s.h.backspace?"backspace":"delete",selectionStart:null!==a?a:-1,selectionEnd:null!==c?c:-1}}}},n._onPaste=function(e){n.props.onPaste&&n.props.onPaste(e);var t=e.target.selectionStart,r=e.target.selectionEnd;n._changeSelectionData={changeType:"textPasted",selectionStart:null!==t?t:-1,selectionEnd:null!==r?r:-1}},Object(s._2)(n),n._maskCharData=Object(a.i)(t.mask,t.maskFormat),void 0!==t.value&&n.setValue(t.value),n._isFocused=!1,n._moveCursorOnMouseUp=!1,n.state={displayValue:Object(a.f)(t.mask,n._maskCharData,t.maskChar)},n}Object(r.d)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.mask===this.props.mask&&e.value===this.props.value||(this._maskCharData=Object(a.i)(e.mask,e.maskFormat),void 0!==e.value&&this.setValue(e.value),this.setState({displayValue:Object(a.f)(e.mask,this._maskCharData,e.maskChar)}))},t.prototype.componentDidUpdate=function(){this._isFocused&&void 0!==this.state.maskCursorPosition&&this._textField.current&&this._textField.current.setSelectionRange(this.state.maskCursorPosition,this.state.maskCursorPosition)},t.prototype.render=function(){return i.createElement(o.a,Object(r.a)({},this.props,{onFocus:this._onFocus,onBlur:this._onBlur,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onChange:this._onInputChange,onKeyDown:this._onKeyDown,onPaste:this._onPaste,value:this.state.displayValue||"",componentRef:this._textField}))},Object.defineProperty(t.prototype,"value",{get:function(){for(var e="",t=0;t<this._maskCharData.length;t++){if(!this._maskCharData[t].value)return;e+=this._maskCharData[t].value}return e},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e){for(var t=0,n=0;t<e.length&&n<this._maskCharData.length;){var r=e[t];this._maskCharData[n].format.test(r)&&(this._maskCharData[n].value=r,n++),t++}},t.prototype.focus=function(){var e=this._textField.current;e&&e.focus()},t.prototype.blur=function(){var e=this._textField.current;e&&e.blur()},t.prototype.select=function(){var e=this._textField.current;e&&e.select()},t.prototype.setSelectionStart=function(e){var t=this._textField.current;t&&t.setSelectionStart(e)},t.prototype.setSelectionEnd=function(e){var t=this._textField.current;t&&t.setSelectionEnd(e)},t.prototype.setSelectionRange=function(e,t){var n=this._textField.current;n&&n.setSelectionRange(e,t)},Object.defineProperty(t.prototype,"selectionStart",{get:function(){var e=this._textField.current;return e&&null!==e.selectionStart?e.selectionStart:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){var e=this._textField.current;return e&&e.selectionEnd?e.selectionEnd:-1},enumerable:!0,configurable:!0}),t.defaultProps={maskChar:"_",maskFormat:a.a}}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),t.i=function(e,t){void 0===t&&(t=r);if(!e)return[];for(var n=[],i=0,o=0;o+i<e.length;o++){var s=e.charAt(o+i);if("\\"===s)i++;else{var a=t[s];a&&n.push({displayIndex:o,format:a})}}return n},t.f=function(e,t,n){var r=e;if(!r)return"";r=r.replace(/\\/g,"");var i=0;t.length>0&&(i=t[0].displayIndex-1);for(var o=0,s=t;o<s.length;o++){var a=s[o],c=" ";a.value?(c=a.value,a.displayIndex>i&&(i=a.displayIndex)):n&&(c=n),r=r.slice(0,a.displayIndex)+c+r.slice(a.displayIndex+1)}n||(r=r.slice(0,i+1));return r},t.g=function(e,t){for(var n=0;n<e.length;n++)if(e[n].displayIndex>=t)return e[n].displayIndex;return e[e.length-1].displayIndex},t.e=function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n].displayIndex<t)return e[n].displayIndex;return e[0].displayIndex},t.d=function(e,t,n){for(var r=0;r<e.length;r++)if(e[r].displayIndex>=t){if(e[r].displayIndex>=t+n)break;e[r].value=void 0}return e},t.b=function(e,t){for(var n=0;n<e.length;n++)if(e[n].displayIndex>=t){e[n].value=void 0;break}return e},t.c=function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n].displayIndex<t){e[n].value=void 0;break}return e},t.h=function(e,t,n){for(var r=0,i=0,o=!1,s=0;s<e.length&&r<n.length;s++)if(e[s].displayIndex>=t)for(o=!0,i=e[s].displayIndex;r<n.length;){if(e[s].format.test(n.charAt(r))){e[s].value=n.charAt(r++),s+1<e.length?i=e[s+1].displayIndex:i++;break}r++}return o?i:t};var r={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(3271),o=n(5441),s=Object(r._21)(i.a,o.a,void 0,{scope:"ColorRectangle"})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(5),i=n(2),o=n(53),s=function(e){var t,n=e.className,s=e.theme,a=e.minSize,c=s.palette,u=s.effects;return{root:["ms-ColorPicker-colorRect",{position:"relative",marginBottom:8,border:"1px solid "+c.neutralLighter,borderRadius:u.roundedCorner2,minWidth:a,minHeight:a,outline:"none",selectors:(t={},t[r.e]={MsHighContrastAdjust:"none"},t["."+i.g+" &:focus"]={outline:"1px solid "+c.neutralSecondary},t)},n],light:["ms-ColorPicker-light",{position:"absolute",left:0,right:0,top:0,bottom:0,background:"linear-gradient(to right, white 0%, transparent 100%) /*@noflip*/"}],dark:["ms-ColorPicker-dark",{position:"absolute",left:0,right:0,top:0,bottom:0,background:"linear-gradient(to bottom, transparent 0, #000 100%)"}],thumb:["ms-ColorPicker-thumb",{position:"absolute",width:20,height:20,background:"white",border:"1px solid "+c.neutralSecondaryAlt,borderRadius:"50%",boxShadow:u.elevation8,transform:"translate(-50%, -50%)",selectors:{":before":{position:"absolute",left:0,right:0,top:0,bottom:0,border:"2px solid "+c.white,borderRadius:"50%",boxSizing:"border-box",content:'""'}}}],description:o.D}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(5443),o=n(5444),s=Object(r._21)(i.a,o.a,void 0,{scope:"ColorSlider"})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(2144),a=Object(o.s)(),c=function(e){function t(t){var n=e.call(this,t)||this;return n._root=i.createRef(),n._onKeyDown=function(e){var t=n.value,r=n.props,i=r.minValue,a=r.maxValue,c=e.shiftKey?10:1;switch(e.which){case o.h.left:t-=c;break;case o.h.right:t+=c;break;case o.h.home:t=i;break;case o.h.end:t=a;break;default:return}n._updateValue(e,Object(s.a)(t,a,i))},n._onMouseDown=function(e){var t=Object(o.W)(n);n._events.on(t,"mousemove",n._onMouseMove,!0),n._events.on(t,"mouseup",n._onMouseUp,!0),n._onMouseMove(e)},n._onMouseMove=function(e){if(n._root.current){var t=n.props,r=t.minValue,i=t.maxValue,o=n._root.current.getBoundingClientRect(),a=(e.clientX-o.left)/o.width,c=Object(s.a)(Math.round(a*i),i,r);n._updateValue(e,c)}},n._onMouseUp=function(){n._events.off()},Object(o._2)(n),n._events=new o.e(n),Object(o._29)("ColorSlider",t,{thumbColor:"styles.sliderThumb",overlayStyle:"overlayColor"}),n.state={currentValue:t.value||0},n}return Object(r.d)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.state.currentValue},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e,t){e!==this.props&&void 0!==this.props.value&&this.setState({currentValue:this.props.value})},t.prototype.componentWillUnmount=function(){this._events.dispose()},t.prototype.render=function(){var e=this.props,t=e.isAlpha,n=e.minValue,r=e.maxValue,o=e.overlayStyle,s=e.overlayColor,c=e.theme,u=e.className,l=e.styles,h=this.props.ariaLabel,d=void 0===h?t?"Alpha":"Hue":h,p=this.value,f=a(l,{theme:c,className:u,isAlpha:t}),m=100*(p-n)/(r-n);return i.createElement("div",{ref:this._root,className:f.root,tabIndex:0,onKeyDown:this._onKeyDown,onMouseDown:this._onMouseDown,role:"slider","aria-valuenow":p,"aria-valuetext":String(p),"aria-valuemin":n,"aria-valuemax":r,"aria-label":d,"data-is-focusable":!0},!(!s&&!o)&&i.createElement("div",{className:f.sliderOverlay,style:void 0!==s?{background:"linear-gradient(to right, transparent 0, #"+s+" 100%)"}:o}),i.createElement("div",{className:f.sliderThumb,style:{left:m+"%"}}))},t.prototype._updateValue=function(e,t){if(t!==this.value){var n=this.props.onChange;n&&n(e,t),e.defaultPrevented||(this.setState({currentValue:t}),e.preventDefault())}},t.defaultProps={minValue:0,maxValue:100,value:0},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i={background:"linear-gradient(to left,red 0,#f09 10%,#cd00ff 20%,#3200ff 30%,#06f 40%,#00fffd 50%,#0f6 60%,#35ff00 70%,#cdff00 80%,#f90 90%,red 100%)"},o={backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJUlEQVQYV2N89erVfwY0ICYmxoguxjgUFKI7GsTH5m4M3w1ChQC1/Ca8i2n1WgAAAABJRU5ErkJggg==)"},s=function(e){var t,n=e.theme,s=e.className,a=e.isAlpha,c=n.palette,u=n.effects;return{root:["ms-ColorPicker-slider",{position:"relative",height:20,marginBottom:8,border:"1px solid "+c.neutralLight,borderRadius:u.roundedCorner2,boxSizing:"border-box",outline:"none",selectors:(t={},t["."+r.g+" &:focus"]={outline:"1px solid "+c.neutralSecondary},t)},a?o:i,s],sliderOverlay:["ms-ColorPicker-sliderOverlay",{content:"",position:"absolute",left:0,right:0,top:0,bottom:0}],sliderThumb:["ms-ColorPicker-thumb","is-slider",{position:"absolute",width:20,height:20,background:"white",border:"1px solid "+c.neutralSecondaryAlt,borderRadius:"50%",boxShadow:u.elevation8,transform:"translate(-50%, -50%)",top:"50%"}]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=e.className,n=e.theme;return{root:["ms-ColorPicker",n.fonts.medium,{position:"relative",maxWidth:300},t],panel:["ms-ColorPicker-panel",{padding:"16px"}],table:["ms-ColorPicker-table",{tableLayout:"fixed",width:"100%",selectors:{"tbody td:last-of-type .ms-ColorPicker-input":{paddingRight:0}}}],tableHeader:[n.fonts.small,{selectors:{td:{paddingBottom:4}}}],tableHexCell:[{width:"25%"}],colorSquare:["ms-ColorPicker-colorSquare",{width:48,height:48,margin:"0 0 0 8px",border:"1px solid #c8c6c4"}],flexContainer:[{display:"flex"}],flexSlider:[{flexGrow:"1"}],flexPreviewBox:[{flexGrow:"0"}],input:["ms-ColorPicker-input",{width:"100%",border:"none",boxSizing:"border-box",height:30,selectors:{"&.ms-TextField":{paddingRight:4},"& .ms-TextField-field":{minWidth:"auto",padding:5,textOverflow:"clip"}}}]}}},function(e,t,n){"use strict";n(5447)},function(e,t,n){"use strict";n(420),n(3272),n(5450)},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return d});var r,i,o=n(5),s=n(2),a=Object(s._10)(function(e){var t,n=e.semanticColors;return{backgroundColor:n.disabledBackground,color:n.disabledText,cursor:"default",selectors:(t={":after":{borderColor:n.disabledBackground}},t[o.e]={color:"GrayText",selectors:{":after":{borderColor:"GrayText"}}},t)}}),c={selectors:(r={},r[o.e]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText",MsHighContrastAdjust:"none"},r)},u={selectors:(i={},i[o.e]={color:"WindowText",backgroundColor:"Window",MsHighContrastAdjust:"none"},i)},l=Object(s._10)(function(e,t,n,r,i){var s,a=e.palette,u=e.semanticColors,l={textHoveredColor:u.menuItemTextHovered,textSelectedColor:a.neutralDark,textDisabledColor:u.disabledText,backgroundHoveredColor:u.menuItemBackgroundHovered,backgroundPressedColor:u.menuItemBackgroundPressed},h={root:[e.fonts.medium,{backgroundColor:r?l.backgroundHoveredColor:"transparent",boxSizing:"border-box",cursor:"pointer",display:i?"none":"block",width:"100%",height:"auto",minHeight:36,lineHeight:"20px",padding:"0 8px",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:"transparent",borderRadius:0,wordWrap:"break-word",overflowWrap:"break-word",textAlign:"left",selectors:(s={},s[o.e]={borderColor:"Background"},s["&.ms-Checkbox"]={display:"flex",alignItems:"center"},s["&.ms-Button--command:hover:active"]={backgroundColor:l.backgroundPressedColor},s[".ms-Checkbox-label"]={width:"100%"},s)}],rootHovered:{backgroundColor:l.backgroundHoveredColor,color:l.textHoveredColor},rootFocused:{backgroundColor:l.backgroundHoveredColor},rootChecked:[{backgroundColor:"transparent",color:l.textSelectedColor,selectors:{":hover":[{backgroundColor:l.backgroundHoveredColor},c]}},Object(o.v)(e,{inset:-1,isFocusedOnly:!1}),c],rootDisabled:{color:l.textDisabledColor,cursor:"default"},optionText:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",minWidth:"0px",maxWidth:"100%",wordWrap:"break-word",overflowWrap:"break-word",display:"inline-block"},optionTextWrapper:{maxWidth:"100%",display:"flex",alignItems:"center"}};return Object(o.s)(h,t,n)}),h=Object(s._10)(function(e,t){var n,r,i=e.semanticColors,s=e.fonts,c={buttonTextColor:i.bodySubtext,buttonTextHoveredCheckedColor:i.buttonTextChecked,buttonBackgroundHoveredColor:i.listItemBackgroundHovered,buttonBackgroundCheckedColor:i.listItemBackgroundChecked,buttonBackgroundCheckedHoveredColor:i.listItemBackgroundCheckedHovered},u={selectors:(n={},n[o.e]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText",MsHighContrastAdjust:"none"},n)},l={root:{color:c.buttonTextColor,fontSize:s.small.fontSize,position:"absolute",top:0,height:"100%",lineHeight:30,width:32,textAlign:"center",cursor:"default",selectors:(r={},r[o.e]={backgroundColor:"ButtonFace",borderColor:"ButtonText",color:"ButtonText",MsHighContrastAdjust:"none"},r)},icon:{fontSize:s.small.fontSize},rootHovered:[{backgroundColor:c.buttonBackgroundHoveredColor,color:c.buttonTextHoveredCheckedColor,cursor:"pointer"},u],rootPressed:[{backgroundColor:c.buttonBackgroundCheckedColor,color:c.buttonTextHoveredCheckedColor},u],rootChecked:[{backgroundColor:c.buttonBackgroundCheckedColor,color:c.buttonTextHoveredCheckedColor},u],rootCheckedHovered:[{backgroundColor:c.buttonBackgroundCheckedHoveredColor,color:c.buttonTextHoveredCheckedColor},u],rootDisabled:[a(e),{position:"absolute"}]};return Object(o.s)(l,t)}),d=Object(s._10)(function(e,t,n){var r,i,s,c,l,h=e.semanticColors,d=e.fonts,p=e.effects,f={textColor:h.inputText,borderColor:h.inputBorder,borderHoveredColor:h.inputBorderHovered,borderPressedColor:h.inputFocusBorderAlt,borderFocusedColor:h.inputFocusBorderAlt,backgroundColor:h.inputBackground,erroredColor:h.errorText},m={headerTextColor:h.menuHeader,dividerBorderColor:h.bodyDivider},g={selectors:(r={},r[o.e]={color:"GrayText"},r)},b=[{color:h.inputPlaceholderText},g],v=[{color:h.inputTextHovered},g],y=[{color:h.disabledText},g],S={color:"HighlightText",backgroundColor:"Window",MsHighContrastAdjust:"none",selectors:{":after":{borderColor:"Highlight"}}},_=Object(o.y)(f.borderPressedColor,p.roundedCorner2,"border",0),w={container:{},label:{},labelDisabled:{},root:[e.fonts.medium,{boxShadow:"none",marginLeft:"0",paddingRight:32,paddingLeft:9,color:f.textColor,position:"relative",outline:"0",userSelect:"none",backgroundColor:f.backgroundColor,cursor:"text",display:"block",height:32,whiteSpace:"nowrap",textOverflow:"ellipsis",boxSizing:"border-box",selectors:{".ms-Label":{display:"inline-block",marginBottom:"8px"},"&.is-open":{selectors:(i={},i[o.e]=S,i)},":after":{pointerEvents:"none",content:"''",position:"absolute",left:0,top:0,bottom:0,right:0,borderWidth:"1px",borderStyle:"solid",borderColor:f.borderColor,borderRadius:p.roundedCorner2}}}],rootHovered:{selectors:(s={":after":{borderColor:f.borderHoveredColor},".ms-ComboBox-Input":[{color:h.inputTextHovered},Object(o.z)(v),u]},s[o.e]={color:"HighlightText",backgroundColor:"Window",MsHighContrastAdjust:"none",selectors:{":after":{borderColor:"Highlight"}}},s)},rootPressed:[{position:"relative",selectors:(c={},c[o.e]=S,c)}],rootFocused:[{selectors:(l={".ms-ComboBox-Input":[{color:h.inputTextHovered},u]},l[o.e]=S,l)},_],rootDisabled:a(e),rootError:{borderColor:f.erroredColor,selectors:{":hover":{borderColor:h.inputBorderHovered}}},rootDisallowFreeForm:{},input:[Object(o.z)(b),{backgroundColor:f.backgroundColor,color:f.textColor,boxSizing:"border-box",width:"100%",height:"100%",borderStyle:"none",outline:"none",font:"inherit",textOverflow:"ellipsis",padding:"0",selectors:{"::-ms-clear":{display:"none"}}},u],inputDisabled:[a(e),Object(o.z)(y)],errorMessage:[e.fonts.small,{color:f.erroredColor,marginTop:"5px"}],callout:{boxShadow:p.elevation8},optionsContainerWrapper:{width:n},optionsContainer:{display:"block"},screenReaderText:o.C,header:[d.medium,{fontWeight:o.d.semibold,color:m.headerTextColor,backgroundColor:"none",borderStyle:"none",height:36,lineHeight:36,cursor:"default",padding:"0 8px",userSelect:"none",textAlign:"left"}],divider:{height:1,backgroundColor:m.dividerBorderColor}};return Object(o.s)(w,t)})},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r=n(2),i=n(5),o=Object(r._10)(function(e,t,n,r,o,s,a,c){return{container:Object(i.F)("ms-ComboBox-container",t,e.container),label:Object(i.F)(e.label,r&&e.labelDisabled),root:Object(i.F)("ms-ComboBox",c?e.rootError:n&&"is-open",o&&"is-required",e.root,!a&&e.rootDisallowFreeForm,c?e.rootError:!r&&s&&e.rootFocused,!r&&{selectors:{":hover":c?e.rootError:!n&&!s&&e.rootHovered,":active":c?e.rootError:e.rootPressed,":focus":c?e.rootError:e.rootFocused}},r&&["is-disabled",e.rootDisabled]),input:Object(i.F)("ms-ComboBox-Input",e.input,r&&e.inputDisabled),errorMessage:Object(i.F)(e.errorMessage),callout:Object(i.F)("ms-ComboBox-callout",e.callout),optionsContainerWrapper:Object(i.F)("ms-ComboBox-optionsContainerWrapper",e.optionsContainerWrapper),optionsContainer:Object(i.F)("ms-ComboBox-optionsContainer",e.optionsContainer),header:Object(i.F)("ms-ComboBox-header",e.header),divider:Object(i.F)("ms-ComboBox-divider",e.divider),screenReaderText:Object(i.F)(e.screenReaderText)}}),s=Object(r._10)(function(e){return{optionText:Object(i.F)("ms-ComboBox-optionText",e.optionText),root:Object(i.F)("ms-ComboBox-option",e.root,{selectors:{":hover":e.rootHovered,":focus":e.rootFocused,":active":e.rootPressed}}),optionTextWrapper:Object(i.F)(e.optionTextWrapper)}})},function(e,t,n){"use strict";var r=n(1),i=n(0),o=(n.n(i),n(3272)),s=n(265),a=n(2);!function(e){function t(t){var n=e.call(this,t)||this;return n._comboBox=i.createRef(),n._list=i.createRef(),n._onRenderList=function(e){var t=e.onRenderItem;return i.createElement(s.a,{componentRef:n._list,role:"listbox",items:e.options,onRenderCell:t?function(e){return t(e)}:function(){return null}})},n._onScrollToItem=function(e){n._list.current&&n._list.current.scrollToIndex(e)},Object(a._2)(n),n}Object(r.d)(t,e),Object.defineProperty(t.prototype,"selectedOptions",{get:function(){return this._comboBox.current?this._comboBox.current.selectedOptions:[]},enumerable:!0,configurable:!0}),t.prototype.dismissMenu=function(){if(this._comboBox.current)return this._comboBox.current.dismissMenu()},t.prototype.focus=function(e,t){return!!this._comboBox.current&&(this._comboBox.current.focus(e,t),!0)},t.prototype.render=function(){return i.createElement(o.a,Object(r.a)({},this.props,{componentRef:this._comboBox,onRenderList:this._onRenderList,onScrollToItem:this._onScrollToItem}))}}(i.Component)},function(e,t,n){"use strict";n(5452)},function(e,t,n){"use strict";n(5453),n(3273),n(3258)},function(e,t,n){"use strict";var r=n(2),i=n(3273),o=n(5454);Object(r._21)(i.a,o.a,void 0,{scope:"DatePicker"})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i={root:"ms-DatePicker",callout:"ms-DatePicker-callout",withLabel:"ms-DatePicker-event--with-label",withoutLabel:"ms-DatePicker-event--without-label",disabled:"msDatePickerDisabled "},o=function(e){var t=e.className,n=e.theme,o=e.disabled,s=e.label,a=e.isDatePickerShown,c=n.palette,u=n.semanticColors,l=n.effects,h=n.fonts,d=Object(r.w)(i,n),p={color:c.neutralSecondary,fontSize:h.mediumPlus.fontSize,lineHeight:"18px",pointerEvents:"none",position:"absolute",right:"4px",padding:"5px"};return{root:[d.root,n.fonts.medium,a&&"is-open",r.H,t],textField:[{position:"relative",selectors:{"& input[readonly]":{cursor:"pointer"},input:{selectors:{"::-ms-clear":{display:"none"}}}}},o&&{selectors:{"& input[readonly]":{cursor:"default"}}}],callout:[d.callout,{boxShadow:l.elevation8}],icon:[p,s?d.withLabel:d.withoutLabel,{paddingTop:"7px"},!o&&[d.disabled,{pointerEvents:"initial",cursor:"pointer"}],o&&{color:u.disabledText,cursor:"default"}]}}},function(e,t,n){"use strict";n(3274)},function(e,t,n){"use strict";var r=n(2),i=n(3275),o=n(5462);Object(r._21)(i.a,o.a,void 0,{scope:"Dialog"})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(3278),o=n(3279),s=Object(r._21)(i.a,o.b,void 0,{scope:"Modal"})},function(e,t,n){"use strict";var r=n(5459);n.d(t,"a",function(){return r.a});n(3280)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=(n.n(i),n(3280)),s=n(2),a={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},c=function(e){function t(t){var n=e.call(this,t)||this;return n._currentEventType=a.mouse,n._events=[],n._onMouseDown=function(e){var t=i.Children.only(n.props.children).props.onMouseDown;return t&&t(e),n._currentEventType=a.mouse,n._onDragStart(e)},n._onMouseUp=function(e){var t=i.Children.only(n.props.children).props.onMouseUp;return t&&t(e),n._currentEventType=a.mouse,n._onDragStop(e)},n._onTouchStart=function(e){var t=i.Children.only(n.props.children).props.onTouchStart;return t&&t(e),n._currentEventType=a.touch,n._onDragStart(e)},n._onTouchEnd=function(e){var t=i.Children.only(n.props.children).props.onTouchEnd;t&&t(e),n._currentEventType=a.touch,n._onDragStop(e)},n._onDragStart=function(e){if("number"===typeof e.button&&0!==e.button)return!1;if(!(n.props.handleSelector&&!n._matchesSelector(e.target,n.props.handleSelector)||n.props.preventDragSelector&&n._matchesSelector(e.target,n.props.preventDragSelector))){n._touchId=n._getTouchId(e);var t=n._getControlPosition(e);if(void 0!==t){var r=n._createDragDataFromPosition(t);n.props.onStart&&n.props.onStart(e,r),n.setState({isDragging:!0,lastPosition:t}),n._events=[Object(s._13)(document.body,n._currentEventType.move,n._onDrag,!0),Object(s._13)(document.body,n._currentEventType.stop,n._onDragStop,!0)]}}},n._onDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=n._getControlPosition(e);if(t){var r=n._createUpdatedDragData(n._createDragDataFromPosition(t)),i=r.position;n.props.onDragChange&&n.props.onDragChange(e,r),n.setState({position:i,lastPosition:t})}},n._onDragStop=function(e){if(n.state.isDragging){var t=n._getControlPosition(e);if(t){var r=n._createDragDataFromPosition(t);n.setState({isDragging:!1,lastPosition:void 0}),n.props.onStop&&n.props.onStop(e,r),n.props.position&&n.setState({position:n.props.position}),n._events.forEach(function(e){return e()})}}},n.state={isDragging:!1,position:n.props.position||{x:0,y:0},lastPosition:void 0},n}return Object(r.d)(t,e),t.prototype.componentDidUpdate=function(e){!this.props.position||e.position&&this.props.position===e.position||this.setState({position:this.props.position})},t.prototype.componentWillUnmount=function(){this._events.forEach(function(e){return e()})},t.prototype.render=function(){var e=i.Children.only(this.props.children),t=e.props,n=this.props.position,s=this.state,a=s.position,c=s.isDragging,u=a.x,l=a.y;return n&&!c&&(u=n.x,l=n.y),i.cloneElement(e,{style:Object(r.a)(Object(r.a)({},t.style),{transform:"translate("+u+"px, "+l+"px)"}),className:Object(o.a)(t.className,this.state.isDragging).root,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onTouchStart:this._onTouchStart,onTouchEnd:this._onTouchEnd})},t.prototype._getControlPosition=function(e){var t=this._getActiveTouch(e);if(void 0===this._touchId||t){var n=t||e;return{x:n.clientX,y:n.clientY}}},t.prototype._getActiveTouch=function(e){return e.targetTouches&&this._findTouchInTouchList(e.targetTouches)||e.changedTouches&&this._findTouchInTouchList(e.changedTouches)},t.prototype._getTouchId=function(e){var t=e.targetTouches&&e.targetTouches[0]||e.changedTouches&&e.changedTouches[0];if(t)return t.identifier},t.prototype._matchesSelector=function(e,t){if(!e||e===document.body)return!1;var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return!!n&&(n.call(e,t)||this._matchesSelector(e.parentElement,t))},t.prototype._findTouchInTouchList=function(e){if(void 0!==this._touchId)for(var t=0;t<e.length;t++)if(e[t].identifier===this._touchId)return e[t]},t.prototype._createDragDataFromPosition=function(e){var t=this.state.lastPosition;return void 0===t?{delta:{x:0,y:0},lastPosition:e,position:e}:{delta:{x:e.x-t.x,y:e.y-t.y},lastPosition:t,position:e}},t.prototype._createUpdatedDragData=function(e){var t=this.state.position;return{position:{x:t.x+e.delta.x,y:t.y+e.delta.y},delta:e.delta,lastPosition:t}},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i={actions:"ms-Dialog-actions",action:"ms-Dialog-action",actionsRight:"ms-Dialog-actionsRight"},o=function(e){var t=e.className,n=e.theme,o=Object(r.w)(i,n);return{actions:[o.actions,{position:"relative",width:"100%",minHeight:"24px",lineHeight:"24px",margin:"16px 0 0",fontSize:"0",selectors:{".ms-Button":{lineHeight:"normal"}}},t],action:[o.action,{margin:"0 4px"}],actionsRight:[o.actionsRight,{textAlign:"right",marginRight:"-4px",fontSize:"0"}]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i={contentLgHeader:"ms-Dialog-lgHeader",close:"ms-Dialog--close",subText:"ms-Dialog-subText",header:"ms-Dialog-header",headerLg:"ms-Dialog--lgHeader",button:"ms-Dialog-button ms-Dialog-button--close",inner:"ms-Dialog-inner",content:"ms-Dialog-content",title:"ms-Dialog-title"},o=function(e){var t,n,o,s=e.className,a=e.theme,c=e.isLargeHeader,u=e.isClose,l=e.hidden,h=e.isMultiline,d=e.draggableHeaderClassName,p=a.palette,f=a.fonts,m=a.effects,g=a.semanticColors,b=Object(r.w)(i,a);return{content:[c&&[b.contentLgHeader,{borderTop:"4px solid "+p.themePrimary}],u&&b.close,{flexGrow:1,overflowY:"hidden"},s],subText:[b.subText,f.medium,{margin:"0 0 24px 0",color:g.bodySubtext,lineHeight:"1.5",wordWrap:"break-word",fontWeight:r.d.regular}],header:[b.header,{position:"relative",width:"100%",boxSizing:"border-box"},u&&b.close,d&&[d,{cursor:"move"}]],button:[b.button,l&&{selectors:{".ms-Icon.ms-Icon--Cancel":{color:g.buttonText,fontSize:r.h.medium}}}],inner:[b.inner,{padding:"0 24px 24px",selectors:(t={},t["@media (min-width: "+r.n+"px) and (max-width: "+r.k+"px)"]={padding:"0 16px 16px"},t)}],innerContent:[b.content,{position:"relative",width:"100%"}],title:[b.title,f.xLarge,{color:g.bodyText,margin:"0",padding:"16px 46px 20px 24px",lineHeight:"normal",selectors:(n={},n["@media (min-width: "+r.n+"px) and (max-width: "+r.k+"px)"]={padding:"16px 46px 16px 16px"},n)},c&&{color:g.menuHeader},h&&{fontSize:f.xxLarge.fontSize}],topButton:[{display:"flex",flexDirection:"row",flexWrap:"nowrap",position:"absolute",top:"0",right:"0",padding:"15px 15px 0 0",selectors:(o={"> *":{flex:"0 0 auto"},".ms-Dialog-button":{color:g.buttonText},".ms-Dialog-button:hover":{color:g.buttonTextHovered,borderRadius:m.roundedCorner2}},o["@media (min-width: "+r.n+"px) and (max-width: "+r.k+"px)"]={padding:"15px 8px 0 0"},o)}]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i={root:"ms-Dialog"},o=function(e){var t,n=e.className,o=e.containerClassName,s=e.dialogDefaultMinWidth,a=void 0===s?"288px":s,c=e.dialogDefaultMaxWidth,u=void 0===c?"340px":c,l=e.hidden,h=e.theme;return{root:[Object(r.w)(i,h).root,h.fonts.medium,n],main:[{width:a,outline:"3px solid transparent",selectors:(t={},t["@media (min-width: "+r.m+"px)"]={width:"auto",maxWidth:u,minWidth:a},t)},!l&&{display:"flex"},o]}}},function(e,t,n){"use strict";n(5464)},function(e,t,n){"use strict";n(5465),n(3285),n(5468),n(5471),n(5473),n(5476),n(5478),n(5480),n(5483),n(5485),n(5488)},function(e,t,n){"use strict";var r=n(2),i=n(5466),o=n(5467);Object(r._21)(i.a,o.a,void 0,{scope:"DocumentCard"})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(3285),a=Object(o.s)(),c="DocumentCard",u=function(e){function t(t){var n=e.call(this,t)||this;return n._rootElement=i.createRef(),n._onClick=function(e){n._onAction(e)},n._onKeyDown=function(e){e.which!==o.h.enter&&e.which!==o.h.space||n._onAction(e)},n._onAction=function(e){var t=n.props,r=t.onClick,i=t.onClickHref;r?r(e):!r&&i&&(window.location.href=i,e.preventDefault(),e.stopPropagation())},Object(o._2)(n),Object(o._29)(c,t,{accentColor:void 0}),n}return Object(r.d)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.onClick,c=t.onClickHref,u=t.children,l=t.type,h=t.accentColor,d=t.styles,p=t.theme,f=t.className,m=Object(o.P)(this.props,o.w,["className","onClick","type","role"]),g=!(!n&&!c);this._classNames=a(d,{theme:p,className:f,actionable:g,compact:l===s.a.compact}),l===s.a.compact&&h&&(e={borderBottomColor:h});var b=this.props.role||(g?n?"button":"link":void 0),v=g?0:void 0;return i.createElement("div",Object(r.a)({ref:this._rootElement,tabIndex:v,"data-is-focusable":g,role:b,className:this._classNames.root,onKeyDown:g?this._onKeyDown:void 0,onClick:g?this._onClick:void 0,style:e},m),u)},t.prototype.focus=function(){this._rootElement.current&&this._rootElement.current.focus()},t.defaultProps={type:s.a.normal},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(5),i=n(2),o=n(3286),s=n(3287),a=n(3288),c=n(3289),u={root:"ms-DocumentCard",rootActionable:"ms-DocumentCard--actionable",rootCompact:"ms-DocumentCard--compact"},l=function(e){var t,n,l=e.className,h=e.theme,d=e.actionable,p=e.compact,f=h.palette,m=h.fonts,g=h.effects,b=Object(r.w)(u,h);return{root:[b.root,{WebkitFontSmoothing:"antialiased",backgroundColor:f.white,border:"1px solid "+f.neutralLight,maxWidth:"320px",minWidth:"206px",userSelect:"none",position:"relative",selectors:(t={":focus":{outline:"0px solid"}},t["."+i.g+" &:focus"]=Object(r.y)(f.neutralSecondary,g.roundedCorner2),t["."+c.a.root+" + ."+a.a.root]={paddingTop:"4px"},t)},d&&[b.rootActionable,{selectors:{":hover":{cursor:"pointer",borderColor:f.neutralTertiaryAlt},":hover:after":{content:'" "',position:"absolute",top:0,right:0,bottom:0,left:0,border:"1px solid "+f.neutralTertiaryAlt,pointerEvents:"none"}}}],p&&[b.rootCompact,{display:"flex",maxWidth:"480px",height:"108px",selectors:(n={},n["."+o.a.root]={borderRight:"1px solid "+f.neutralLight,borderBottom:0,maxHeight:"106px",maxWidth:"144px"},n["."+o.a.icon]={maxHeight:"32px",maxWidth:"32px"},n["."+s.a.root]={paddingBottom:"12px"},n["."+a.a.root]={paddingBottom:"12px 16px 8px 16px",fontSize:m.mediumPlus.fontSize,lineHeight:"16px"},n)}],l]}}},function(e,t,n){"use strict";var r=n(2),i=n(5469),o=n(5470);Object(r._21)(i.a,o.a,void 0,{scope:"DocumentCardActions"})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(48),a=n(106),c=Object(o.s)(),u=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.actions,o=t.views,u=t.styles,l=t.theme,h=t.className;return this._classNames=c(u,{theme:l,className:h}),i.createElement("div",{className:this._classNames.root},n&&n.map(function(t,n){return i.createElement("div",{className:e._classNames.action,key:n},i.createElement(a.g,Object(r.a)({},t)))}),o>0&&i.createElement("div",{className:this._classNames.views},i.createElement(s.b,{iconName:"View",className:this._classNames.viewsIcon}),o))},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i={root:"ms-DocumentCardActions",action:"ms-DocumentCardActions-action",views:"ms-DocumentCardActions-views"},o=function(e){var t=e.className,n=e.theme,o=n.palette,s=n.fonts,a=Object(r.w)(i,n);return{root:[a.root,{height:"34px",padding:"4px 12px",position:"relative"},t],action:[a.action,{float:"left",marginRight:"4px",color:o.neutralSecondary,cursor:"pointer",selectors:{".ms-Button":{fontSize:s.mediumPlus.fontSize,height:34,width:34},".ms-Button:hover .ms-Button-icon":{color:n.semanticColors.buttonText,cursor:"pointer"}}}],views:[a.views,{textAlign:"right",lineHeight:34}],viewsIcon:{marginRight:"8px",fontSize:s.medium.fontSize,verticalAlign:"top"}}}},function(e,t,n){"use strict";var r=n(2),i=n(5472),o=n(3287);Object(r._21)(i.a,o.b,void 0,{scope:"DocumentCardActivity"})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(732),a=n(2680),c=Object(o.s)(),u=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.activity,n=e.people,r=e.styles,o=e.theme,s=e.className;return this._classNames=c(r,{theme:o,className:s,multiplePeople:n.length>1}),n&&0!==n.length?i.createElement("div",{className:this._classNames.root},this._renderAvatars(n),i.createElement("div",{className:this._classNames.details},i.createElement("span",{className:this._classNames.name},this._getNameString(n)),i.createElement("span",{className:this._classNames.activity},t))):null},t.prototype._renderAvatars=function(e){return i.createElement("div",{className:this._classNames.avatars},e.length>1?this._renderAvatar(e[1]):null,this._renderAvatar(e[0]))},t.prototype._renderAvatar=function(e){return i.createElement("div",{className:this._classNames.avatar},i.createElement(a.a,{imageInitials:e.initials,text:e.name,imageUrl:e.profileImageSrc,initialsColor:e.initialsColor,allowPhoneInitials:e.allowPhoneInitials,role:"presentation",size:s.d.size32}))},t.prototype._getNameString=function(e){var t=e[0].name;return e.length>=2&&(t+=" +"+(e.length-1)),t},t}(i.Component)},function(e,t,n){"use strict";var r=n(2),i=n(5474),o=n(5475);Object(r._21)(i.a,o.a,void 0,{scope:"DocumentCardDetails"})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=Object(o.s)(),a=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.styles,r=e.theme,o=e.className;return this._classNames=s(n,{theme:r,className:o}),i.createElement("div",{className:this._classNames.root},t)},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i={root:"ms-DocumentCardDetails"},o=function(e){var t=e.className,n=e.theme;return{root:[Object(r.w)(i,n).root,{display:"flex",flexDirection:"column",flex:1,justifyContent:"space-between",overflow:"hidden"},t]}}},function(e,t,n){"use strict";var r=n(2),i=n(5477),o=n(3289);Object(r._21)(i.a,o.b,void 0,{scope:"DocumentCardLocation"})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=Object(o.s)(),a=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.location,n=e.locationHref,r=e.ariaLabel,o=e.onClick,a=e.styles,c=e.theme,u=e.className;return this._classNames=s(a,{theme:c,className:u}),i.createElement("a",{className:this._classNames.root,href:n,onClick:o,"aria-label":r},t)},t}(i.Component)},function(e,t,n){"use strict";var r=n(2),i=n(5479),o=n(3286);Object(r._21)(i.a,o.b,void 0,{scope:"DocumentCardPreview"})},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(1),i=n(0),o=(n.n(i),n(48)),s=n(738),a=n(394),c=n(2),u=3,l=Object(c.s)(),h=function(e){function t(t){var n=e.call(this,t)||this;return n._renderPreviewList=function(e){var t=n.props.getOverflowDocumentCountText,o=e.length-u,c=o?t?t(o):"+"+o:null,l=e.slice(0,u).map(function(e,t){return i.createElement("li",{key:t},i.createElement(s.a,{className:n._classNames.fileListIcon,src:e.iconSrc,role:"presentation",alt:"",width:"16px",height:"16px"}),i.createElement(a.a,Object(r.a)({className:n._classNames.fileListLink},(e.linkProps,{href:e.linkProps&&e.linkProps.href||e.url})),e.name))});return i.createElement("div",null,i.createElement("ul",{className:n._classNames.fileList},l),c&&i.createElement("span",{className:n._classNames.fileListOverflowText},c))},Object(c._2)(n),n}return Object(r.d)(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.previewImages,o=n.styles,s=n.theme,a=n.className,c=r.length>1;return this._classNames=l(o,{theme:s,className:a,isFileList:c}),r.length>1?t=this._renderPreviewList(r):1===r.length&&(t=this._renderPreviewImage(r[0]),r[0].accentColor&&(e={borderBottomColor:r[0].accentColor})),i.createElement("div",{className:this._classNames.root,style:e},t)},t.prototype._renderPreviewImage=function(e){var t=e.width,n=e.height,a=e.imageFit,u=e.previewIconProps,l=e.previewIconContainerClass;if(u)return i.createElement("div",{className:Object(c.t)(this._classNames.previewIcon,l),style:{width:t,height:n}},i.createElement(o.b,Object(r.a)({},u)));var h,d=i.createElement(s.a,{width:t,height:n,imageFit:a,src:e.previewImageSrc,role:"presentation",alt:""});return e.iconSrc&&(h=i.createElement(s.a,{className:this._classNames.icon,src:e.iconSrc,role:"presentation",alt:""})),i.createElement("div",null,d,h)},t}(i.Component)},function(e,t,n){"use strict";var r=n(2),i=n(5481),o=n(5482);Object(r._21)(i.a,o.a,void 0,{scope:"DocumentCardImage"})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),i=n(0),o=(n.n(i),n(48)),s=n(738),a=n(2),c=Object(a.s)(),u=function(e){function t(t){var n=e.call(this,t)||this;return n._onImageLoad=function(){n.setState({imageHasLoaded:!0})},Object(a._2)(n),n.state={imageHasLoaded:!1},n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.width,r=e.height,o=e.imageFit,a=e.imageSrc;return this._classNames=c(t,this.props),i.createElement("div",{className:this._classNames.root},a&&i.createElement(s.a,{width:n,height:r,imageFit:o,src:a,role:"presentation",alt:"",onLoad:this._onImageLoad}),this.state.imageHasLoaded?this._renderCornerIcon():this._renderCenterIcon())},t.prototype._renderCenterIcon=function(){var e=this.props.iconProps;return i.createElement("div",{className:this._classNames.centeredIconWrapper},i.createElement(o.b,Object(r.a)({className:this._classNames.centeredIcon},e)))},t.prototype._renderCornerIcon=function(){var e=this.props.iconProps;return i.createElement(o.b,Object(r.a)({className:this._classNames.cornerIcon},e))},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=e.theme,n=e.className,r=e.height,i=e.width,o=t.palette;return{root:[{borderBottom:"1px solid "+o.neutralLight,position:"relative",backgroundColor:o.neutralLighterAlt,overflow:"hidden",height:r&&r+"px",width:i&&i+"px"},n],centeredIcon:[{height:"42px",width:"42px",fontSize:"42px"}],centeredIconWrapper:[{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",position:"absolute",top:0,left:0}],cornerIcon:[{left:"10px",bottom:"10px",height:"32px",width:"32px",fontSize:"32px",position:"absolute",overflow:"visible"}]}}},function(e,t,n){"use strict";var r=n(2),i=n(5484),o=n(3288);Object(r._21)(i.a,o.b,void 0,{scope:"DocumentCardTitle"})},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(23),a=Object(o.s)(),c=5,u=function(e){function t(t){var n=e.call(this,t)||this;return n._titleElement=i.createRef(),n._measureTitleElement=i.createRef(),n._truncateTitle=function(){n.state.needMeasurement&&n._async.requestAnimationFrame(n._truncateWhenInAnimation)},n._truncateWhenInAnimation=function(){var e=n.props.title,t=n._measureTitleElement.current;if(t){var r=getComputedStyle(t);if(r.width&&r.lineHeight&&r.height){var i=t.clientWidth,o=t.scrollWidth,s=Math.floor((parseInt(r.height,10)+c)/parseInt(r.lineHeight,10)),a=o/(parseInt(r.width,10)*s);if(a>1){var u=e.length/a-3;return n.setState({truncatedTitleFirstPiece:e.slice(0,u/2),truncatedTitleSecondPiece:e.slice(e.length-u/2),clientWidth:i,needMeasurement:!1})}}}return n.setState({needMeasurement:!1})},n._shrinkTitle=function(){var e=n.state,t=e.truncatedTitleFirstPiece,r=e.truncatedTitleSecondPiece;if(t&&r){var i=n._titleElement.current;if(!i)return;(i.scrollHeight>i.clientHeight+c||i.scrollWidth>i.clientWidth)&&n.setState({truncatedTitleFirstPiece:t.slice(0,t.length-1),truncatedTitleSecondPiece:r.slice(1)})}},Object(s._14)(n),n._async=new o.a(n),n._events=new o.e(n),n.state={truncatedTitleFirstPiece:"",truncatedTitleSecondPiece:"",previousTitle:t.title,needMeasurement:!!t.shouldTruncate},n}return Object(r.d)(t,e),t.prototype.componentDidUpdate=function(){this.props.title!==this.state.previousTitle&&this.setState({truncatedTitleFirstPiece:void 0,truncatedTitleSecondPiece:void 0,clientWidth:void 0,previousTitle:this.props.title,needMeasurement:!!this.props.shouldTruncate}),this._events.off(window,"resize",this._updateTruncation),this.props.shouldTruncate&&(this._truncateTitle(),requestAnimationFrame(this._shrinkTitle),this._events.on(window,"resize",this._updateTruncation))},t.prototype.componentDidMount=function(){this.props.shouldTruncate&&(this._truncateTitle(),this._events.on(window,"resize",this._updateTruncation))},t.prototype.componentWillUnmount=function(){this._events.dispose(),this._async.dispose()},t.prototype.render=function(){var e=this.props,t=e.title,n=e.shouldTruncate,r=e.showAsSecondaryTitle,o=e.styles,s=e.theme,c=e.className,u=this.state,l=u.truncatedTitleFirstPiece,h=u.truncatedTitleSecondPiece,d=u.needMeasurement;return this._classNames=a(o,{theme:s,className:c,showAsSecondaryTitle:r}),d?i.createElement("div",{className:this._classNames.root,ref:this._measureTitleElement,title:t,style:{whiteSpace:"nowrap"}},t):n&&l&&h?i.createElement("div",{className:this._classNames.root,ref:this._titleElement,title:t},l,"\u2026",h):i.createElement("div",{className:this._classNames.root,ref:this._titleElement,title:t},t)},t.prototype._updateTruncation=function(){var e=this;this._async.requestAnimationFrame(function(){if(e._titleElement.current){var t=e._titleElement.current.clientWidth;clearTimeout(e._titleTruncationTimer),e.state.clientWidth!==t&&(e._titleTruncationTimer=e._async.setTimeout(function(){return e.setState({truncatedTitleFirstPiece:void 0,truncatedTitleSecondPiece:void 0,needMeasurement:!0})},250))}})},t}(i.Component)},function(e,t,n){"use strict";var r=n(2),i=n(5486),o=n(5487);Object(r._21)(i.a,o.a,void 0,{scope:"DocumentCardLogo"})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=(n.n(i),n(48)),s=n(2),a=Object(s.s)(),c=function(e){function t(t){var n=e.call(this,t)||this;return Object(s._2)(n),n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.logoIcon,n=e.styles,r=e.theme,s=e.className;return this._classNames=a(n,{theme:r,className:s}),i.createElement("div",{className:this._classNames.root},i.createElement(o.b,{iconName:t}))},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i={root:"ms-DocumentCardLogo"},o=function(e){var t=e.theme,n=e.className,o=t.palette,s=t.fonts;return{root:[Object(r.w)(i,t).root,{fontSize:s.xxLargePlus.fontSize,color:o.themePrimary,display:"block",padding:"16px 16px 0 16px"},n]}}},function(e,t,n){"use strict";var r=n(2),i=n(5489),o=n(5490);Object(r._21)(i.a,o.a,void 0,{scope:"DocumentCardStatus"})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(48),a=Object(o.s)(),c=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.statusIcon,n=e.status,o=e.styles,c=e.theme,u=e.className,l={iconName:t,styles:{root:{padding:"8px"}}};return this._classNames=a(o,{theme:c,className:u}),i.createElement("div",{className:this._classNames.root},t&&i.createElement(s.b,Object(r.a)({},l)),n)},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i={root:"ms-DocumentCardStatus"},o=function(e){var t=e.className,n=e.theme,o=n.palette,s=n.fonts;return{root:[Object(r.w)(i,n).root,s.medium,{margin:"8px 16px",color:o.neutralPrimary,backgroundColor:o.neutralLighter,height:"32px"},t]}}},function(e,t,n){"use strict";n(774)},function(e,t,n){"use strict";n(5493)},function(e,t,n){"use strict";n(3290),n(5495)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"pickerText",function(){return i}),n.d(t,"pickerInput",function(){return o});var r=n(731);Object(r.a)([{rawString:".pickerText_6841a0ca{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid "},{theme:"neutralTertiary",defaultValue:"#a19f9d"},{rawString:";min-width:180px;padding:1px;min-height:32px}.pickerText_6841a0ca:hover{border-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}.pickerInput_6841a0ca{height:34px;border:none;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;outline:none;padding:0 6px 0px;margin:1px}.pickerInput_6841a0ca::-ms-clear{display:none}\n"}]);var i="pickerText_6841a0ca",o="pickerInput_6841a0ca"},function(e,t,n){"use strict";var r=n(1);n(5496),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(r.d)(t,e)}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t}(n(3290).a))},function(e,t,n){"use strict";var r=n(731);Object(r.a)([{rawString:".resultContent_8cc03844{display:table-row}.resultContent_8cc03844 .resultItem_8cc03844{display:table-cell;vertical-align:bottom}.peoplePickerPersona_8cc03844{width:180px}.peoplePickerPersona_8cc03844 .ms-Persona-details{width:100%}.peoplePicker_8cc03844 .ms-BasePicker-text{min-height:40px}.peoplePickerPersonaContent_8cc03844{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}\n"}])},function(e,t,n){"use strict";var r=n(3292);n.d(t,"b",function(){return r.a});n(3293);var i=n(5500);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=(n.n(i),n(106)),s=n(2),a=n(5499),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.styles,c=Object(r.e)(e,["className","styles"]),u=Object(a.a)(this.props.theme,t,n);return i.createElement(o.b,Object(r.a)({},c,{variantClassName:"ms-Button--facepile",styles:u,onRenderDescription:s._12}))},t=Object(r.c)([Object(s.u)("FacepileButton",["theme","styles"],!0)],t)}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(5),o=n(2),s=n(112),a=Object(o._10)(function(e,t,n){var o=Object(s.a)(e),a=Object(i.s)(o,n);return Object(r.a)(Object(r.a)({},a),{root:[o.root,t,e.fonts.medium,n&&n.root]})})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(3293),o=n(5501),s=Object(r._21)(i.a,o.a,void 0,{scope:"Facepile"})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i={root:"ms-Facepile",addButton:"ms-Facepile-addButton ms-Facepile-itemButton",descriptiveOverflowButton:"ms-Facepile-descriptiveOverflowButton ms-Facepile-itemButton",itemButton:"ms-Facepile-itemButton ms-Facepile-person",itemContainer:"ms-Facepile-itemContainer",members:"ms-Facepile-members",member:"ms-Facepile-member",overflowButton:"ms-Facepile-overflowButton ms-Facepile-itemButton"},o=function(e){var t=e.className,n=e.theme,o=e.spacingAroundItemButton,s=void 0===o?2:o,a=n.palette,c=n.fonts,u=Object(r.w)(i,n),l={textAlign:"center",padding:0,borderRadius:"50%",verticalAlign:"top",display:"inline",backgroundColor:"transparent",border:"none",selectors:{"&::-moz-focus-inner":{padding:0,border:0}}};return{root:[u.root,n.fonts.medium,{width:"auto"},t],addButton:[u.addButton,Object(r.v)(n,{inset:-1}),l,{fontSize:c.medium.fontSize,color:a.white,backgroundColor:a.themePrimary,marginRight:2*s+"px",selectors:{"&:hover":{backgroundColor:a.themeDark},"&:focus":{backgroundColor:a.themeDark},"&:active":{backgroundColor:a.themeDarker},"&:disabled":{backgroundColor:a.neutralTertiaryAlt}}}],descriptiveOverflowButton:[u.descriptiveOverflowButton,Object(r.v)(n,{inset:-1}),l,{fontSize:c.small.fontSize,color:a.neutralSecondary,backgroundColor:a.neutralLighter,marginLeft:2*s+"px"}],itemButton:[u.itemButton,l],itemContainer:[u.itemContainer,{display:"flex"}],members:[u.members,{display:"flex",overflow:"hidden",listStyleType:"none",padding:0,margin:"-"+s+"px"}],member:[u.member,{display:"inline-flex",flex:"0 0 auto",margin:s+"px"}],overflowButton:[u.overflowButton,Object(r.v)(n,{inset:-1}),l,{fontSize:c.medium.fontSize,color:a.neutralSecondary,backgroundColor:a.neutralLighter,marginLeft:2*s+"px"}],overflowInitialsIcon:[{color:a.neutralPrimary}],screenReaderOnly:r.C}}},function(e,t,n){"use strict";n(5503)},function(e,t,n){"use strict";n(3294),n(5517),n(5519),n(3295),n(3296)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"callout",function(){return i});var r=n(731);Object(r.a)([{rawString:".callout_13859ee7 .ms-Suggestions-itemButton{padding:0px;border:none}.callout_13859ee7 .ms-Suggestions{min-width:300px}\n"}]);var i="callout_13859ee7"},function(e,t,n){"use strict";n(3298),n(3299);var r=n(3300);n.d(t,"a",function(){return r.a});n(3303),n(5506),n(2682),n(2409),n(5509),n(3304),n(3305),n(5512),n(3307),n(3308)},function(e,t,n){"use strict";n(3253)},function(e,t,n){"use strict";t.a=function(e){var t=e.className,n=e.suggestionsClassName,o=e.theme,s=e.forceResolveButtonSelected,a=e.searchForMoreButtonSelected,c=o.palette,u=o.semanticColors,l=o.fonts,h=Object(r.w)(i,o),d={backgroundColor:"transparent",border:0,cursor:"pointer",margin:0,paddingLeft:8,position:"relative",borderTop:"1px solid "+c.neutralLight,height:40,textAlign:"left",width:"100%",fontSize:l.small.fontSize,selectors:{":hover":{backgroundColor:u.menuItemBackgroundPressed,cursor:"pointer"},":focus, :active":{backgroundColor:c.themeLight},".ms-Button-icon":{fontSize:l.mediumPlus.fontSize,width:25},".ms-Button-label":{margin:"0 4px 0 9px"}}},p={backgroundColor:c.themeLight};return{root:[h.root,{minWidth:260},t],suggestionsContainer:[h.suggestionsContainer,{overflowY:"auto",overflowX:"hidden",maxHeight:300},n],title:[h.title,{padding:"0 12px",fontSize:l.small.fontSize,color:c.themePrimary,lineHeight:40,borderBottom:"1px solid "+u.menuItemBackgroundPressed}],forceResolveButton:[h.forceResolveButton,d,s&&[h.isSelected,p]],searchForMoreButton:[h.searchForMoreButton,d,a&&[h.isSelected,p]],noSuggestions:[h.noSuggestions,{textAlign:"center",color:c.neutralSecondary,fontSize:l.small.fontSize,lineHeight:30}],suggestionsAvailable:[h.suggestionsAvailable,r.C],subComponentStyles:{spinner:{root:[h.spinner,{margin:"5px 0",paddingLeft:14,textAlign:"left",whiteSpace:"nowrap",lineHeight:20,fontSize:l.small.fontSize}],circle:{display:"inline-block",verticalAlign:"middle"},label:{display:"inline-block",verticalAlign:"middle",margin:"0 10px 0 16px"}}}}};var r=n(5),i={root:"ms-Suggestions",suggestionsContainer:"ms-Suggestions-container",title:"ms-Suggestions-title",forceResolveButton:"ms-forceResolve-button",searchForMoreButton:"ms-SearchMore-button",spinner:"ms-Suggestions-spinner",noSuggestions:"ms-Suggestions-none",suggestionsAvailable:"ms-Suggestions-suggestionsAvailable",isSelected:"is-selected"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"pickerText",function(){return i}),n.d(t,"inputFocused",function(){return o}),n.d(t,"pickerInput",function(){return s}),n.d(t,"pickerItems",function(){return a}),n.d(t,"screenReaderOnly",function(){return c});var r=n(731);Object(r.a)([{rawString:".pickerText_7434c332{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid "},{theme:"neutralTertiary",defaultValue:"#a19f9d"},{rawString:";min-width:180px;min-height:30px}.pickerText_7434c332:hover{border-color:"},{theme:"inputBorderHovered",defaultValue:"#323130"},{rawString:"}.pickerText_7434c332.inputFocused_7434c332{position:relative;border-color:"},{theme:"inputFocusBorderAlt",defaultValue:"#0078d4"},{rawString:"}.pickerText_7434c332.inputFocused_7434c332:after{pointer-events:none;content:'';position:absolute;left:-1px;top:-1px;bottom:-1px;right:-1px;border:2px solid "},{theme:"inputFocusBorderAlt",defaultValue:"#0078d4"},{rawString:"}.pickerInput_7434c332{height:34px;border:none;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;outline:none;padding:0 6px 0px;-ms-flex-item-align:end;align-self:flex-end}.pickerItems_7434c332{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:100%}.screenReaderOnly_7434c332{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}\n"}]);var i="pickerText_7434c332",o="inputFocused_7434c332",s="pickerInput_7434c332",a="pickerItems_7434c332",c="screenReaderOnly_7434c332"},function(e,t,n){"use strict";var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(2682),a=n(2409),c=n(3304),u=n(3305),l=n(3306),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t}(s.a),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t}(s.b),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.defaultProps={onRenderItem:function(e){return i.createElement(c.a,Object(r.a)({},e))},onRenderSuggestionsItem:function(e,t){return i.createElement(u.a,{personaProps:e,suggestionsProps:t})},createGenericItem:g},t}(h),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.defaultProps={onRenderItem:function(e){return i.createElement(c.a,Object(r.a)({},e))},onRenderSuggestionsItem:function(e,t){return i.createElement(u.a,{personaProps:e,suggestionsProps:t,compact:!0})},createGenericItem:g},t}(h),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.defaultProps={onRenderItem:function(e){return i.createElement(c.a,Object(r.a)({},e))},onRenderSuggestionsItem:function(e,t){return i.createElement(u.a,{personaProps:e,suggestionsProps:t})},createGenericItem:g},t}(d);function g(e,t){var n={key:e,primaryText:e,imageInitials:"!",ValidationState:t};return t!==a.a.warning&&(n.imageInitials=Object(o.M)(e,Object(o.S)())),n}Object(o._21)(p,l.a,void 0,{scope:"NormalPeoplePicker"}),Object(o._21)(f,l.a,void 0,{scope:"CompactPeoplePicker"}),Object(o._21)(m,l.a,void 0,{scope:"ListPeoplePickerBase"})},function(e,t,n){"use strict";t.a=function(e){var t,n,a,c,u,l,h,d=e.className,p=e.theme,f=e.selected,m=e.invalid,g=e.disabled,b=p.palette,v=p.semanticColors,y=p.fonts,S=Object(r.w)(o,p),_=[f&&!m&&!g&&{color:b.white,selectors:(t={":hover":{color:b.white}},t[r.e]={color:"HighlightText"},t)},(m&&!f||m&&f&&g)&&{color:b.redDark,borderBottom:"2px dotted "+b.redDark,selectors:(n={},n["."+S.root+":hover &"]={color:b.redDark},n)},m&&f&&!g&&{color:b.white,borderBottom:"2px dotted "+b.white},g&&{selectors:(a={},a[r.e]={color:"GrayText"},a)}],w=[m&&{fontSize:y.xLarge.fontSize}];return{root:[S.root,Object(r.v)(p,{inset:-2}),{borderRadius:15,display:"inline-flex",alignItems:"center",background:b.neutralLighter,margin:"1px 2px",cursor:"default",userSelect:"none",maxWidth:300,verticalAlign:"middle",minWidth:0,selectors:(c={":hover":{background:f||g?"":b.neutralLight}},c[r.e]=[{border:"1px solid WindowText"},g&&{borderColor:"GrayText"}],c)},f&&!g&&[S.isSelected,{background:b.themePrimary,selectors:(u={},u[r.e]={borderColor:"HighLight",background:"Highlight",MsHighContrastAdjust:"none"},u)}],m&&[S.isInvalid],m&&f&&!g&&{background:b.redDark},d],itemContent:[S.itemContent,{flex:"0 1 auto",minWidth:0,maxWidth:"100%",overflow:"hidden"}],removeButton:[S.removeButton,{borderRadius:15,color:b.neutralPrimary,flex:"0 0 auto",width:s,height:s,selectors:{":hover":{background:b.neutralTertiaryAlt,color:b.neutralDark}}},f&&[{color:b.white,selectors:(l={":hover":{color:b.white,background:b.themeDark},":active":{color:b.white,background:b.themeDarker}},l[r.e]={color:"HighlightText"},l)},m&&{selectors:{":hover":{background:b.red},":active":{background:b.redDark}}}],g&&{selectors:(h={},h["."+i.a.msButtonIcon]={color:v.buttonText},h)}],subComponentStyles:{persona:{primaryText:_},personaCoin:{initials:w}}}};var r=n(5),i=n(404),o={root:"ms-PickerPersona-container",itemContent:"ms-PickerItem-content",removeButton:"ms-PickerItem-removeButton",isSelected:"is-selected",isInvalid:"is-invalid"},s=24},function(e,t,n){"use strict";t.a=function(e){var t,n,s,a=e.className,c=e.theme,u=Object(r.w)(o,c),l={selectors:(t={},t["."+i.a.isSuggested+" &"]={selectors:(n={},n[r.e]={color:"HighlightText"},n)},t["."+u.root+":hover &"]={selectors:(s={},s[r.e]={color:"HighlightText"},s)},t)};return{root:[u.root,{width:"100%",padding:"4px 12px"},a],personaWrapper:[u.personaWrapper,{width:180}],subComponentStyles:{persona:{primaryText:l,secondaryText:l}}}};var r=n(5),i=n(3302),o={root:"ms-PeoplePicker-personaContent",personaWrapper:"ms-PeoplePicker-Persona"}},function(e,t,n){"use strict";var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(2682),a=n(3306),c=n(3307),u=n(3308),l=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),n}return Object(r.d)(t,e),t.defaultProps={onRenderItem:function(e){return i.createElement(c.a,Object(r.a)({},e),e.item.name)},onRenderSuggestionsItem:function(e){return i.createElement(u.a,null,e.name)}},t}(s.a);Object(o._21)(l,a.a,void 0,{scope:"TagPicker"})},function(e,t,n){"use strict";t.a=function(e){var t,n,c,u,l=e.className,h=e.theme,d=e.selected,p=e.disabled,f=h.palette,m=h.effects,g=h.fonts,b=h.semanticColors,v=Object(r.w)(s,h);return{root:[v.root,g.medium,Object(r.v)(h),{boxSizing:"content-box",flexShrink:"1",margin:2,height:a,lineHeight:a,cursor:"default",userSelect:"none",display:"flex",flexWrap:"nowrap",maxWidth:300,minWidth:0,borderRadius:m.roundedCorner2,color:b.inputText,background:!d||p?f.neutralLighter:f.themePrimary,selectors:(t={":hover":[!p&&!d&&{color:f.neutralDark,background:f.neutralLight,selectors:{".ms-TagItem-close":{color:f.neutralPrimary}}},p&&{background:f.neutralLighter},d&&!p&&{background:f.themePrimary}]},t[r.e]={border:"1px solid "+(d?"WindowFrame":"WindowText")},t)},p&&{selectors:(n={},n[r.e]={borderColor:"GrayText"},n)},d&&!p&&[v.isSelected,{color:f.white}],l],text:[v.text,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minWidth:30,margin:"0 8px"},p&&{selectors:(c={},c[r.e]={color:"GrayText"},c)}],close:[v.close,{color:f.neutralSecondary,width:30,height:"100%",flex:"0 0 auto",borderRadius:Object(o.S)(h)?m.roundedCorner2+" 0 0 "+m.roundedCorner2:"0 "+m.roundedCorner2+" "+m.roundedCorner2+" 0",selectors:{":hover":{background:f.neutralQuaternaryAlt,color:f.neutralPrimary},":active":{color:f.white,backgroundColor:f.themeDark}}},d&&{color:f.white,selectors:{":hover":{color:f.white,background:f.themeDark}}},p&&{selectors:(u={},u["."+i.a.msButtonIcon]={color:f.neutralSecondary},u)}]}};var r=n(5),i=n(404),o=n(2),s={root:"ms-TagItem",text:"ms-TagItem-text",close:"ms-TagItem-close",isSelected:"is-selected"},a=26},function(e,t,n){"use strict";t.a=function(e){var t=e.className,n=e.theme;return{suggestionTextOverflow:[Object(r.w)(i,n).suggestionTextOverflow,{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"60vw",padding:"6px 12px 7px",whiteSpace:"nowrap"},t]}};var r=n(5),i={suggestionTextOverflow:"ms-TagItem-TextOverflow"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"suggestionsContainer",function(){return i});var r=n(731);Object(r.a)([{rawString:".suggestionsContainer_37972f9d{overflow-y:auto;overflow-x:hidden;max-height:300px}.suggestionsContainer_37972f9d .ms-Suggestion-item:hover{background-color:"},{theme:"neutralLighter",defaultValue:"#f3f2f1"},{rawString:";cursor:pointer}.suggestionsContainer_37972f9d .is-suggested{background-color:"},{theme:"themeLighter",defaultValue:"#deecf9"},{rawString:"}.suggestionsContainer_37972f9d .is-suggested:hover{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:";cursor:pointer}\n"}]);var i="suggestionsContainer_37972f9d"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"root",function(){return i}),n.d(t,"actionButton",function(){return o}),n.d(t,"buttonSelected",function(){return s}),n.d(t,"suggestionsTitle",function(){return a}),n.d(t,"suggestionsSpinner",function(){return c}),n.d(t,"itemButton",function(){return u}),n.d(t,"screenReaderOnly",function(){return l});var r=n(731);Object(r.a)([{rawString:".root_ac7082eb{min-width:260px}.actionButton_ac7082eb{background:none;background-color:transparent;border:0;cursor:pointer;margin:0;padding:0px;position:relative;width:100%;font-size:12px}html[dir='ltr'] .actionButton_ac7082eb{text-align:left}html[dir='rtl'] .actionButton_ac7082eb{text-align:right}.actionButton_ac7082eb:hover{background-color:"},{theme:"neutralLighter",defaultValue:"#f3f2f1"},{rawString:";cursor:pointer}.actionButton_ac7082eb:focus,.actionButton_ac7082eb:active{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}.actionButton_ac7082eb .ms-Button-icon{font-size:16px;width:25px}.actionButton_ac7082eb .ms-Button-label{margin:0 4px 0 9px}html[dir='rtl'] .actionButton_ac7082eb .ms-Button-label{margin:0 9px 0 4px}.buttonSelected_ac7082eb{background-color:"},{theme:"themeLighter",defaultValue:"#deecf9"},{rawString:"}.buttonSelected_ac7082eb:hover{background-color:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:";cursor:pointer}.suggestionsTitle_ac7082eb{font-size:12px}.suggestionsSpinner_ac7082eb{margin:5px 0;white-space:nowrap;line-height:20px;font-size:12px}html[dir='ltr'] .suggestionsSpinner_ac7082eb{padding-left:14px}html[dir='rtl'] .suggestionsSpinner_ac7082eb{padding-right:14px}html[dir='ltr'] .suggestionsSpinner_ac7082eb{text-align:left}html[dir='rtl'] .suggestionsSpinner_ac7082eb{text-align:right}.suggestionsSpinner_ac7082eb .ms-Spinner-circle{display:inline-block;vertical-align:middle}.suggestionsSpinner_ac7082eb .ms-Spinner-label{display:inline-block;margin:0px 10px 0 16px;vertical-align:middle}html[dir='rtl'] .suggestionsSpinner_ac7082eb .ms-Spinner-label{margin:0px 16px 0 10px}.itemButton_ac7082eb{height:100%;width:100%;padding:7px 12px}@media screen and (-ms-high-contrast: active){.itemButton_ac7082eb{color:WindowText}}.screenReaderOnly_ac7082eb{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}\n"}]);var i="root_ac7082eb",o="actionButton_ac7082eb",s="buttonSelected_ac7082eb",a="suggestionsTitle_ac7082eb",c="suggestionsSpinner_ac7082eb",u="itemButton_ac7082eb",l="screenReaderOnly_ac7082eb"},function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(3294),s=n(5518);n(3309),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(r.d)(t,e),t.defaultProps={onRenderSuggestionsItem:function(e,t){return Object(s.a)(Object(r.a)({},e),Object(r.a)({},t))},createGenericItem:a}}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t}(o.a));function a(e,t){var n={key:e,primaryText:e,imageInitials:"!",isValid:t};return t||(n.imageInitials=Object(i.M)(e,Object(i.S)())),n}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(732),a=n(3309),c=function(e,t){return i.createElement("div",{className:Object(o.t)("ms-PeoplePicker-personaContent",a.b)},i.createElement(s.a,Object(r.a)({presence:void 0!==e.presence?e.presence:s.c.none,size:s.d.size40,className:Object(o.t)("ms-PeoplePicker-Persona",a.a),showSecondaryText:!0},e)))}},function(e,t,n){"use strict";!function(){function e(e){var t=this;this._isSuggestionModel=function(e){return void 0!==e.item},this._ensureSuggestionModel=function(e){return t._isSuggestionModel(e)?e:{item:e,selected:!1,ariaLabel:void 0!==t.getAriaLabel?t.getAriaLabel(e):e.name||e.text||e.primaryText}},this.suggestions=[],this.getAriaLabel=e&&e.getAriaLabel}e.prototype.updateSuggestions=function(e){e&&e.length>0?this.suggestions=this.convertSuggestionsToSuggestionItems(e):this.suggestions=[]},e.prototype.getSuggestions=function(){return this.suggestions},e.prototype.getSuggestionAtIndex=function(e){return this.suggestions[e]},e.prototype.removeSuggestion=function(e){this.suggestions.splice(e,1)},e.prototype.convertSuggestionsToSuggestionItems=function(e){return Array.isArray(e)?e.map(this._ensureSuggestionModel):[]}}()},function(e,t,n){"use strict";n(5521)},function(e,t,n){"use strict";n(3310),n(3311)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(89),a=Object(o.s)(),c=function(e){function t(t){var n=e.call(this,t)||this;return Object(o._2)(n),n._id=t.id||Object(o.L)(),n}return Object(r.d)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.items,c=t.columnCount,u=t.onRenderItem,l=t.ariaPosInSet,h=void 0===l?t.positionInSet:l,d=t.ariaSetSize,p=void 0===d?t.setSize:d,f=t.styles,m=t.doNotContainWithinFocusZone,g=Object(o.P)(this.props,o._0,m?[]:["onBlur"]),b=a(f,{theme:this.props.theme}),v=Object(o._23)(n,c),y=i.createElement("table",Object(r.a)({"aria-posinset":h,"aria-setsize":p,id:this._id,role:"grid"},g,{className:b.root}),i.createElement("tbody",null,v.map(function(t,n){return i.createElement("tr",{role:"row",key:e._id+"-"+n+"-row"},t.map(function(t,n){return i.createElement("td",{role:"presentation",key:e._id+"-"+n+"-cell",className:b.tableCell},u(t,n))}))})));return m?y:i.createElement(s.a,{isCircularNavigation:this.props.shouldFocusCircularNavigate,className:b.focusedContainer,onBlur:this.props.onBlur},y)},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return{root:{padding:2,outline:"none"},tableCell:{padding:0}}}},function(e,t,n){"use strict";n(5525)},function(e,t,n){"use strict";n(5526),n(3312),n(3313),n(3314),n(3315),n(2683),n(3317),n(3318),n(73)},function(e,t,n){"use strict";var r=n(2),i=n(5527),o=n(3312);Object(r._21)(o.a,i.a,void 0,{scope:"HoverCard"})},function(e,t,n){"use strict";t.a=function(e){var t=e.className,n=e.theme;return{host:[Object(r.w)(i,n).host,t]}};var r=n(5),i={host:"ms-HoverCard-host"}},function(e,t,n){"use strict";t.a=function(e){var t,n=e.theme,o=e.needsScroll,s=e.expandedCardFirstFrameRendered,a=e.compactCardHeight,c=e.expandedCardHeight,u=e.className,l=n.palette,h=Object(r.w)(i,n);return{root:[h.root,{width:320,pointerEvents:"none",selectors:(t={},t[r.e]={border:"1px solid WindowText"},t)},u],compactCard:[h.compactCard,{pointerEvents:"auto",position:"relative",height:a}],expandedCard:[h.expandedCard,{height:1,overflowY:"hidden",pointerEvents:"auto",transition:"height 0.467s cubic-bezier(0.5, 0, 0, 1)",selectors:{":before":{content:'""',position:"relative",display:"block",top:0,left:24,width:272,height:1,backgroundColor:l.neutralLighter}}},s&&{height:c}],expandedCardScroll:[h.expandedCardScroll,o&&{height:"100%",boxSizing:"border-box",overflowY:"auto"}]}};var r=n(5),i={root:"ms-ExpandingCard-root",compactCard:"ms-ExpandingCard-compactCard",expandedCard:"ms-ExpandingCard-expandedCard",expandedCardScroll:"ms-ExpandingCard-expandedCardScrollRegion"}},function(e,t,n){"use strict";t.a=function(e){var t,n=e.theme,o=e.className;return{root:[Object(r.w)(i,n).root,{pointerEvents:"auto",selectors:(t={},t[r.e]={border:"1px solid WindowText"},t)},o]}};var r=n(5),i={root:"ms-PlainCard-root"}},function(e,t,n){"use strict";n(5531)},function(e,t,n){"use strict";n(5532),n(5533),n(5534),n(5535),n(5536),n(5537),n(5538),n(5539),n(5540),n(5541),n(5542),n(5543),n(5544),n(5545),n(5546),n(5547),n(5548),n(5549),n(5550),n(5551),n(5552)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons"',src:"url('"+e+"fabric-icons-a13498cf.woff') format('woff')"},icons:{GlobalNavButton:"\ue700",ChevronDown:"\ue70d",ChevronUp:"\ue70e",Edit:"\ue70f",Add:"\ue710",Cancel:"\ue711",More:"\ue712",Settings:"\ue713",Mail:"\ue715",Filter:"\ue71c",Search:"\ue721",Share:"\ue72d",BlockedSite:"\ue72f",FavoriteStar:"\ue734",FavoriteStarFill:"\ue735",CheckMark:"\ue73e",Delete:"\ue74d",ChevronLeft:"\ue76b",ChevronRight:"\ue76c",Calendar:"\ue787",Megaphone:"\ue789",Undo:"\ue7a7",Flag:"\ue7c1",Page:"\ue7c3",Pinned:"\ue840",View:"\ue890",Clear:"\ue894",Download:"\ue896",Upload:"\ue898",Folder:"\ue8b7",Sort:"\ue8cb",AlignRight:"\ue8e2",AlignLeft:"\ue8e4",Tag:"\ue8ec",AddFriend:"\ue8fa",Info:"\ue946",SortLines:"\ue9d0",List:"\uea37",CircleRing:"\uea3a",Heart:"\ueb51",HeartFill:"\ueb52",Tiles:"\ueca5",Embed:"\uecce",Glimmer:"\uecf4",Ascending:"\uedc0",Descending:"\uedc1",SortUp:"\uee68",SortDown:"\uee69",SyncToPC:"\uee6e",LargeGrid:"\ueecb",SkypeCheck:"\uef80",SkypeClock:"\uef81",SkypeMinus:"\uef82",ClearFilter:"\uef8f",Flow:"\uef90",StatusCircleCheckmark:"\uf13e",MoreVertical:"\uf2bc"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-0"',src:"url('"+e+"fabric-icons-0-467ee27f.woff') format('woff')"},icons:{PageLink:"\ue302",CommentSolid:"\ue30e",ChangeEntitlements:"\ue310",Installation:"\ue311",WebAppBuilderModule:"\ue313",WebAppBuilderFragment:"\ue314",WebAppBuilderSlot:"\ue315",BullseyeTargetEdit:"\ue319",WebAppBuilderFragmentCreate:"\ue31b",PageData:"\ue31c",PageHeaderEdit:"\ue31d",ProductList:"\ue31e",UnpublishContent:"\ue31f",DependencyAdd:"\ue344",DependencyRemove:"\ue345",EntitlementPolicy:"\ue346",EntitlementRedemption:"\ue347",SchoolDataSyncLogo:"\ue34c",PinSolid12:"\ue352",PinSolidOff12:"\ue353",AddLink:"\ue35e",SharepointAppIcon16:"\ue365",DataflowsLink:"\ue366",TimePicker:"\ue367",UserWarning:"\ue368",ComplianceAudit:"\ue369",InternetSharing:"\ue704",Brightness:"\ue706",MapPin:"\ue707",Airplane:"\ue709",Tablet:"\ue70a",QuickNote:"\ue70b",Video:"\ue714",People:"\ue716",Phone:"\ue717",Pin:"\ue718",Shop:"\ue719",Stop:"\ue71a",Link:"\ue71b",AllApps:"\ue71d",Zoom:"\ue71e",ZoomOut:"\ue71f",Microphone:"\ue720",Camera:"\ue722",Attach:"\ue723",Send:"\ue724",FavoriteList:"\ue728",PageSolid:"\ue729",Forward:"\ue72a",Back:"\ue72b",Refresh:"\ue72c",Lock:"\ue72e",ReportHacked:"\ue730",EMI:"\ue731",MiniLink:"\ue732",Blocked:"\ue733",ReadingMode:"\ue736",Favicon:"\ue737",Remove:"\ue738",Checkbox:"\ue739",CheckboxComposite:"\ue73a",CheckboxFill:"\ue73b",CheckboxIndeterminate:"\ue73c",CheckboxCompositeReversed:"\ue73d",BackToWindow:"\ue73f",FullScreen:"\ue740",Print:"\ue749",Up:"\ue74a",Down:"\ue74b",OEM:"\ue74c",Save:"\ue74e",ReturnKey:"\ue751",Cloud:"\ue753",Flashlight:"\ue754",CommandPrompt:"\ue756",Sad:"\ue757",RealEstate:"\ue758",SIPMove:"\ue759",EraseTool:"\ue75c",GripperTool:"\ue75e",Dialpad:"\ue75f",PageLeft:"\ue760",PageRight:"\ue761",MultiSelect:"\ue762",KeyboardClassic:"\ue765",Play:"\ue768",Pause:"\ue769",InkingTool:"\ue76d",Emoji2:"\ue76e",GripperBarHorizontal:"\ue76f",System:"\ue770",Personalize:"\ue771",SearchAndApps:"\ue773",Globe:"\ue774",EaseOfAccess:"\ue776",ContactInfo:"\ue779",Unpin:"\ue77a",Contact:"\ue77b",Memo:"\ue77c",IncomingCall:"\ue77e"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-1"',src:"url('"+e+"fabric-icons-1-4d521695.woff') format('woff')"},icons:{Paste:"\ue77f",WindowsLogo:"\ue782",Error:"\ue783",GripperBarVertical:"\ue784",Unlock:"\ue785",Slideshow:"\ue786",Trim:"\ue78a",AutoEnhanceOn:"\ue78d",AutoEnhanceOff:"\ue78e",Color:"\ue790",SaveAs:"\ue792",Light:"\ue793",Filters:"\ue795",AspectRatio:"\ue799",Contrast:"\ue7a1",Redo:"\ue7a6",Crop:"\ue7a8",PhotoCollection:"\ue7aa",Album:"\ue7ab",Rotate:"\ue7ad",PanoIndicator:"\ue7b0",Translate:"\ue7b2",RedEye:"\ue7b3",ViewOriginal:"\ue7b4",ThumbnailView:"\ue7b6",Package:"\ue7b8",Telemarketer:"\ue7b9",Warning:"\ue7ba",Financial:"\ue7bb",Education:"\ue7be",ShoppingCart:"\ue7bf",Train:"\ue7c0",Move:"\ue7c2",TouchPointer:"\ue7c9",Merge:"\ue7d5",TurnRight:"\ue7db",Ferry:"\ue7e3",Highlight:"\ue7e6",PowerButton:"\ue7e8",Tab:"\ue7e9",Admin:"\ue7ef",TVMonitor:"\ue7f4",Speakers:"\ue7f5",Game:"\ue7fc",HorizontalTabKey:"\ue7fd",UnstackSelected:"\ue7fe",StackIndicator:"\ue7ff",Nav2DMapView:"\ue800",StreetsideSplitMinimize:"\ue802",Car:"\ue804",Bus:"\ue806",EatDrink:"\ue807",SeeDo:"\ue808",LocationCircle:"\ue80e",Home:"\ue80f",SwitcherStartEnd:"\ue810",ParkingLocation:"\ue811",IncidentTriangle:"\ue814",Touch:"\ue815",MapDirections:"\ue816",CaretHollow:"\ue817",CaretSolid:"\ue818",History:"\ue81c",Location:"\ue81d",MapLayers:"\ue81e",SearchNearby:"\ue820",Work:"\ue821",Recent:"\ue823",Hotel:"\ue824",Bank:"\ue825",LocationDot:"\ue827",Dictionary:"\ue82d",ChromeBack:"\ue830",FolderOpen:"\ue838",PinnedFill:"\ue842",RevToggleKey:"\ue845",USB:"\ue88e",Previous:"\ue892",Next:"\ue893",Sync:"\ue895",Help:"\ue897",Emoji:"\ue899",MailForward:"\ue89c",ClosePane:"\ue89f",OpenPane:"\ue8a0",PreviewLink:"\ue8a1",ZoomIn:"\ue8a3",Bookmarks:"\ue8a4",Document:"\ue8a5",ProtectedDocument:"\ue8a6",OpenInNewWindow:"\ue8a7",MailFill:"\ue8a8",ViewAll:"\ue8a9",Switch:"\ue8ab",Rename:"\ue8ac",Go:"\ue8ad",Remote:"\ue8af",SelectAll:"\ue8b3",Orientation:"\ue8b4",Import:"\ue8b5"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-2"',src:"url('"+e+"fabric-icons-2-63c99abf.woff') format('woff')"},icons:{Picture:"\ue8b9",ChromeClose:"\ue8bb",ShowResults:"\ue8bc",Message:"\ue8bd",CalendarDay:"\ue8bf",CalendarWeek:"\ue8c0",MailReplyAll:"\ue8c2",Read:"\ue8c3",Cut:"\ue8c6",PaymentCard:"\ue8c7",Copy:"\ue8c8",Important:"\ue8c9",MailReply:"\ue8ca",GotoToday:"\ue8d1",Font:"\ue8d2",FontColor:"\ue8d3",FolderFill:"\ue8d5",Permissions:"\ue8d7",DisableUpdates:"\ue8d8",Unfavorite:"\ue8d9",Italic:"\ue8db",Underline:"\ue8dc",Bold:"\ue8dd",MoveToFolder:"\ue8de",Dislike:"\ue8e0",Like:"\ue8e1",AlignCenter:"\ue8e3",OpenFile:"\ue8e5",ClearSelection:"\ue8e6",FontDecrease:"\ue8e7",FontIncrease:"\ue8e8",FontSize:"\ue8e9",CellPhone:"\ue8ea",RepeatOne:"\ue8ed",RepeatAll:"\ue8ee",Calculator:"\ue8ef",Library:"\ue8f1",PostUpdate:"\ue8f3",NewFolder:"\ue8f4",CalendarReply:"\ue8f5",UnsyncFolder:"\ue8f6",SyncFolder:"\ue8f7",BlockContact:"\ue8f8",Accept:"\ue8fb",BulletedList:"\ue8fd",Preview:"\ue8ff",News:"\ue900",Chat:"\ue901",Group:"\ue902",World:"\ue909",Comment:"\ue90a",DockLeft:"\ue90c",DockRight:"\ue90d",Repair:"\ue90f",Accounts:"\ue910",Street:"\ue913",RadioBullet:"\ue915",Stopwatch:"\ue916",Clock:"\ue917",WorldClock:"\ue918",AlarmClock:"\ue919",Photo:"\ue91b",ActionCenter:"\ue91c",Hospital:"\ue91d",Timer:"\ue91e",FullCircleMask:"\ue91f",LocationFill:"\ue920",ChromeMinimize:"\ue921",ChromeRestore:"\ue923",Annotation:"\ue924",Fingerprint:"\ue928",Handwriting:"\ue929",ChromeFullScreen:"\ue92d",Completed:"\ue930",Label:"\ue932",FlickDown:"\ue935",FlickUp:"\ue936",FlickLeft:"\ue937",FlickRight:"\ue938",MiniExpand:"\ue93a",MiniContract:"\ue93b",Streaming:"\ue93e",MusicInCollection:"\ue940",OneDriveLogo:"\ue941",CompassNW:"\ue942",Code:"\ue943",LightningBolt:"\ue945",CalculatorMultiply:"\ue947",CalculatorAddition:"\ue948",CalculatorSubtract:"\ue949",CalculatorPercentage:"\ue94c",CalculatorEqualTo:"\ue94e",PrintfaxPrinterFile:"\ue956",StorageOptical:"\ue958",Communications:"\ue95a",Headset:"\ue95b",Health:"\ue95e",Webcam2:"\ue960",FrontCamera:"\ue96b",ChevronUpSmall:"\ue96d"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-3"',src:"url('"+e+"fabric-icons-3-089e217a.woff') format('woff')"},icons:{ChevronDownSmall:"\ue96e",ChevronLeftSmall:"\ue96f",ChevronRightSmall:"\ue970",ChevronUpMed:"\ue971",ChevronDownMed:"\ue972",ChevronLeftMed:"\ue973",ChevronRightMed:"\ue974",Devices2:"\ue975",PC1:"\ue977",PresenceChickletVideo:"\ue979",Reply:"\ue97a",HalfAlpha:"\ue97e",ConstructionCone:"\ue98f",DoubleChevronLeftMed:"\ue991",Volume0:"\ue992",Volume1:"\ue993",Volume2:"\ue994",Volume3:"\ue995",Chart:"\ue999",Robot:"\ue99a",Manufacturing:"\ue99c",LockSolid:"\ue9a2",FitPage:"\ue9a6",FitWidth:"\ue9a7",BidiLtr:"\ue9aa",BidiRtl:"\ue9ab",RightDoubleQuote:"\ue9b1",Sunny:"\ue9bd",CloudWeather:"\ue9be",Cloudy:"\ue9bf",PartlyCloudyDay:"\ue9c0",PartlyCloudyNight:"\ue9c1",ClearNight:"\ue9c2",RainShowersDay:"\ue9c3",Rain:"\ue9c4",Thunderstorms:"\ue9c6",RainSnow:"\ue9c7",Snow:"\ue9c8",BlowingSnow:"\ue9c9",Frigid:"\ue9ca",Fog:"\ue9cb",Squalls:"\ue9cc",Duststorm:"\ue9cd",Unknown:"\ue9ce",Precipitation:"\ue9cf",Ribbon:"\ue9d1",AreaChart:"\ue9d2",Assign:"\ue9d3",FlowChart:"\ue9d4",CheckList:"\ue9d5",Diagnostic:"\ue9d9",Generate:"\ue9da",LineChart:"\ue9e6",Equalizer:"\ue9e9",BarChartHorizontal:"\ue9eb",BarChartVertical:"\ue9ec",Freezing:"\ue9ef",FunnelChart:"\ue9f1",Processing:"\ue9f5",Quantity:"\ue9f8",ReportDocument:"\ue9f9",StackColumnChart:"\ue9fc",SnowShowerDay:"\ue9fd",HailDay:"\uea00",WorkFlow:"\uea01",HourGlass:"\uea03",StoreLogoMed20:"\uea04",TimeSheet:"\uea05",TriangleSolid:"\uea08",UpgradeAnalysis:"\uea0b",VideoSolid:"\uea0c",RainShowersNight:"\uea0f",SnowShowerNight:"\uea11",Teamwork:"\uea12",HailNight:"\uea13",PeopleAdd:"\uea15",Glasses:"\uea16",DateTime2:"\uea17",Shield:"\uea18",Header1:"\uea19",PageAdd:"\uea1a",NumberedList:"\uea1c",PowerBILogo:"\uea1e",Info2:"\uea1f",MusicInCollectionFill:"\uea36",Asterisk:"\uea38",ErrorBadge:"\uea39",CircleFill:"\uea3b",Record2:"\uea3f",AllAppsMirrored:"\uea40",BookmarksMirrored:"\uea41",BulletedListMirrored:"\uea42",CaretHollowMirrored:"\uea45",CaretSolidMirrored:"\uea46",ChromeBackMirrored:"\uea47",ClearSelectionMirrored:"\uea48",ClosePaneMirrored:"\uea49",DockLeftMirrored:"\uea4c",DoubleChevronLeftMedMirrored:"\uea4d",GoMirrored:"\uea4f"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-4"',src:"url('"+e+"fabric-icons-4-a656cc0a.woff') format('woff')"},icons:{HelpMirrored:"\uea51",ImportMirrored:"\uea52",ImportAllMirrored:"\uea53",ListMirrored:"\uea55",MailForwardMirrored:"\uea56",MailReplyMirrored:"\uea57",MailReplyAllMirrored:"\uea58",MiniContractMirrored:"\uea59",MiniExpandMirrored:"\uea5a",OpenPaneMirrored:"\uea5b",ParkingLocationMirrored:"\uea5e",SendMirrored:"\uea63",ShowResultsMirrored:"\uea65",ThumbnailViewMirrored:"\uea67",Media:"\uea69",Devices3:"\uea6c",Focus:"\uea6f",VideoLightOff:"\uea74",Lightbulb:"\uea80",StatusTriangle:"\uea82",VolumeDisabled:"\uea85",Puzzle:"\uea86",EmojiNeutral:"\uea87",EmojiDisappointed:"\uea88",HomeSolid:"\uea8a",Ringer:"\uea8f",PDF:"\uea90",HeartBroken:"\uea92",StoreLogo16:"\uea96",MultiSelectMirrored:"\uea98",Broom:"\uea99",AddToShoppingList:"\uea9a",Cocktails:"\uea9d",Wines:"\ueabf",Articles:"\ueac1",Cycling:"\ueac7",DietPlanNotebook:"\ueac8",Pill:"\ueacb",ExerciseTracker:"\ueacc",HandsFree:"\uead0",Medical:"\uead4",Running:"\ueada",Weights:"\ueadb",Trackers:"\ueadf",AddNotes:"\ueae3",AllCurrency:"\ueae4",BarChart4:"\ueae7",CirclePlus:"\ueaee",Coffee:"\ueaef",Cotton:"\ueaf3",Market:"\ueafc",Money:"\ueafd",PieDouble:"\ueb04",PieSingle:"\ueb05",RemoveFilter:"\ueb08",Savings:"\ueb0b",Sell:"\ueb0c",StockDown:"\ueb0f",StockUp:"\ueb11",Lamp:"\ueb19",Source:"\ueb1b",MSNVideos:"\ueb1c",Cricket:"\ueb1e",Golf:"\ueb1f",Baseball:"\ueb20",Soccer:"\ueb21",MoreSports:"\ueb22",AutoRacing:"\ueb24",CollegeHoops:"\ueb25",CollegeFootball:"\ueb26",ProFootball:"\ueb27",ProHockey:"\ueb28",Rugby:"\ueb2d",SubstitutionsIn:"\ueb31",Tennis:"\ueb33",Arrivals:"\ueb34",Design:"\ueb3c",Website:"\ueb41",Drop:"\ueb42",HistoricalWeather:"\ueb43",SkiResorts:"\ueb45",Snowflake:"\ueb46",BusSolid:"\ueb47",FerrySolid:"\ueb48",AirplaneSolid:"\ueb4c",TrainSolid:"\ueb4d",Ticket:"\ueb54",WifiWarning4:"\ueb63",Devices4:"\ueb66",AzureLogo:"\ueb6a",BingLogo:"\ueb6b",MSNLogo:"\ueb6c",OutlookLogoInverse:"\ueb6d",OfficeLogo:"\ueb6e",SkypeLogo:"\ueb6f",Door:"\ueb75",EditMirrored:"\ueb7e",GiftCard:"\ueb8e",DoubleBookmark:"\ueb8f",StatusErrorFull:"\ueb90"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-5"',src:"url('"+e+"fabric-icons-5-f95ba260.woff') format('woff')"},icons:{Certificate:"\ueb95",FastForward:"\ueb9d",Rewind:"\ueb9e",Photo2:"\ueb9f",OpenSource:"\uebc2",Movers:"\uebcd",CloudDownload:"\uebd3",Family:"\uebda",WindDirection:"\uebe6",Bug:"\uebe8",SiteScan:"\uebec",BrowserScreenShot:"\uebed",F12DevTools:"\uebee",CSS:"\uebef",JS:"\uebf0",DeliveryTruck:"\uebf4",ReminderPerson:"\uebf7",ReminderGroup:"\uebf8",ReminderTime:"\uebf9",TabletMode:"\uebfc",Umbrella:"\uec04",NetworkTower:"\uec05",CityNext:"\uec06",CityNext2:"\uec07",Section:"\uec0c",OneNoteLogoInverse:"\uec0d",ToggleFilled:"\uec11",ToggleBorder:"\uec12",SliderThumb:"\uec13",ToggleThumb:"\uec14",Documentation:"\uec17",Badge:"\uec1b",Giftbox:"\uec1f",VisualStudioLogo:"\uec22",HomeGroup:"\uec26",ExcelLogoInverse:"\uec28",WordLogoInverse:"\uec29",PowerPointLogoInverse:"\uec2a",Cafe:"\uec32",SpeedHigh:"\uec4a",Commitments:"\uec4d",ThisPC:"\uec4e",MusicNote:"\uec4f",MicOff:"\uec54",PlaybackRate1x:"\uec57",EdgeLogo:"\uec60",CompletedSolid:"\uec61",AlbumRemove:"\uec62",MessageFill:"\uec70",TabletSelected:"\uec74",MobileSelected:"\uec75",LaptopSelected:"\uec76",TVMonitorSelected:"\uec77",DeveloperTools:"\uec7a",Shapes:"\uec7c",InsertTextBox:"\uec7d",LowerBrightness:"\uec8a",WebComponents:"\uec8b",OfflineStorage:"\uec8c",DOM:"\uec8d",CloudUpload:"\uec8e",ScrollUpDown:"\uec8f",DateTime:"\uec92",Event:"\ueca3",Cake:"\ueca4",Org:"\ueca6",PartyLeader:"\ueca7",DRM:"\ueca8",CloudAdd:"\ueca9",AppIconDefault:"\uecaa",Photo2Add:"\uecab",Photo2Remove:"\uecac",Calories:"\uecad",POI:"\uecaf",AddTo:"\uecc8",RadioBtnOff:"\uecca",RadioBtnOn:"\ueccb",ExploreContent:"\ueccd",Product:"\uecdc",ProgressLoopInner:"\uecde",ProgressLoopOuter:"\uecdf",Blocked2:"\uece4",FangBody:"\ueceb",Toolbox:"\ueced",PageHeader:"\uecee",ChatInviteFriend:"\uecfe",Brush:"\uecff",Shirt:"\ued00",Crown:"\ued01",Diamond:"\ued02",ScaleUp:"\ued09",QRCode:"\ued14",Feedback:"\ued15",SharepointLogoInverse:"\ued18",YammerLogo:"\ued19",Hide:"\ued1a",Uneditable:"\ued1d",ReturnToSession:"\ued24",OpenFolderHorizontal:"\ued25",CalendarMirrored:"\ued28"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-6"',src:"url('"+e+"fabric-icons-6-ef6fd590.woff') format('woff')"},icons:{SwayLogoInverse:"\ued29",OutOfOffice:"\ued34",Trophy:"\ued3f",ReopenPages:"\ued50",EmojiTabSymbols:"\ued58",AADLogo:"\ued68",AccessLogo:"\ued69",AdminALogoInverse32:"\ued6a",AdminCLogoInverse32:"\ued6b",AdminDLogoInverse32:"\ued6c",AdminELogoInverse32:"\ued6d",AdminLLogoInverse32:"\ued6e",AdminMLogoInverse32:"\ued6f",AdminOLogoInverse32:"\ued70",AdminPLogoInverse32:"\ued71",AdminSLogoInverse32:"\ued72",AdminYLogoInverse32:"\ued73",DelveLogoInverse:"\ued76",ExchangeLogoInverse:"\ued78",LyncLogo:"\ued79",OfficeVideoLogoInverse:"\ued7a",SocialListeningLogo:"\ued7c",VisioLogoInverse:"\ued7d",Balloons:"\ued7e",Cat:"\ued7f",MailAlert:"\ued80",MailCheck:"\ued81",MailLowImportance:"\ued82",MailPause:"\ued83",MailRepeat:"\ued84",SecurityGroup:"\ued85",Table:"\ued86",VoicemailForward:"\ued87",VoicemailReply:"\ued88",Waffle:"\ued89",RemoveEvent:"\ued8a",EventInfo:"\ued8b",ForwardEvent:"\ued8c",WipePhone:"\ued8d",AddOnlineMeeting:"\ued8e",JoinOnlineMeeting:"\ued8f",RemoveLink:"\ued90",PeopleBlock:"\ued91",PeopleRepeat:"\ued92",PeopleAlert:"\ued93",PeoplePause:"\ued94",TransferCall:"\ued95",AddPhone:"\ued96",UnknownCall:"\ued97",NoteReply:"\ued98",NoteForward:"\ued99",NotePinned:"\ued9a",RemoveOccurrence:"\ued9b",Timeline:"\ued9c",EditNote:"\ued9d",CircleHalfFull:"\ued9e",Room:"\ued9f",Unsubscribe:"\ueda0",Subscribe:"\ueda1",HardDrive:"\ueda2",RecurringTask:"\uedb2",TaskManager:"\uedb7",TaskManagerMirrored:"\uedb8",Combine:"\uedbb",Split:"\uedbc",DoubleChevronUp:"\uedbd",DoubleChevronLeft:"\uedbe",DoubleChevronRight:"\uedbf",TextBox:"\uedc2",TextField:"\uedc3",NumberField:"\uedc4",Dropdown:"\uedc5",PenWorkspace:"\uedc6",BookingsLogo:"\uedc7",ClassNotebookLogoInverse:"\uedc8",DelveAnalyticsLogo:"\uedca",DocsLogoInverse:"\uedcb",Dynamics365Logo:"\uedcc",DynamicSMBLogo:"\uedcd",OfficeAssistantLogo:"\uedce",OfficeStoreLogo:"\uedcf",OneNoteEduLogoInverse:"\uedd0",PlannerLogo:"\uedd1",PowerApps:"\uedd2",Suitcase:"\uedd3",ProjectLogoInverse:"\uedd4",CaretLeft8:"\uedd5",CaretRight8:"\uedd6",CaretUp8:"\uedd7",CaretDown8:"\uedd8",CaretLeftSolid8:"\uedd9",CaretRightSolid8:"\uedda",CaretUpSolid8:"\ueddb",CaretDownSolid8:"\ueddc",ClearFormatting:"\ueddd",Superscript:"\uedde",Subscript:"\ueddf",Strikethrough:"\uede0",Export:"\uede1",ExportMirrored:"\uede2"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-7"',src:"url('"+e+"fabric-icons-7-2b97bb99.woff') format('woff')"},icons:{SingleBookmark:"\uedff",SingleBookmarkSolid:"\uee00",DoubleChevronDown:"\uee04",FollowUser:"\uee05",ReplyAll:"\uee0a",WorkforceManagement:"\uee0f",RecruitmentManagement:"\uee12",Questionnaire:"\uee19",ManagerSelfService:"\uee23",ProductionFloorManagement:"\uee29",ProductRelease:"\uee2e",ProductVariant:"\uee30",ReplyMirrored:"\uee35",ReplyAllMirrored:"\uee36",Medal:"\uee38",AddGroup:"\uee3d",QuestionnaireMirrored:"\uee4b",CloudImportExport:"\uee55",TemporaryUser:"\uee58",CaretSolid16:"\uee62",GroupedDescending:"\uee66",GroupedAscending:"\uee67",AwayStatus:"\uee6a",MyMoviesTV:"\uee6c",GenericScan:"\uee6f",AustralianRules:"\uee70",WifiEthernet:"\uee77",TrackersMirrored:"\uee92",DateTimeMirrored:"\uee93",StopSolid:"\uee95",DoubleChevronUp12:"\uee96",DoubleChevronDown12:"\uee97",DoubleChevronLeft12:"\uee98",DoubleChevronRight12:"\uee99",CalendarAgenda:"\uee9a",ConnectVirtualMachine:"\uee9d",AddEvent:"\ueeb5",AssetLibrary:"\ueeb6",DataConnectionLibrary:"\ueeb7",DocLibrary:"\ueeb8",FormLibrary:"\ueeb9",FormLibraryMirrored:"\ueeba",ReportLibrary:"\ueebb",ReportLibraryMirrored:"\ueebc",ContactCard:"\ueebd",CustomList:"\ueebe",CustomListMirrored:"\ueebf",IssueTracking:"\ueec0",IssueTrackingMirrored:"\ueec1",PictureLibrary:"\ueec2",OfficeAddinsLogo:"\ueec7",OfflineOneDriveParachute:"\ueec8",OfflineOneDriveParachuteDisabled:"\ueec9",TriangleSolidUp12:"\ueecc",TriangleSolidDown12:"\ueecd",TriangleSolidLeft12:"\ueece",TriangleSolidRight12:"\ueecf",TriangleUp12:"\ueed0",TriangleDown12:"\ueed1",TriangleLeft12:"\ueed2",TriangleRight12:"\ueed3",ArrowUpRight8:"\ueed4",ArrowDownRight8:"\ueed5",DocumentSet:"\ueed6",GoToDashboard:"\ueeed",DelveAnalytics:"\ueeee",ArrowUpRightMirrored8:"\ueeef",ArrowDownRightMirrored8:"\ueef0",CompanyDirectory:"\uef0d",OpenEnrollment:"\uef1c",CompanyDirectoryMirrored:"\uef2b",OneDriveAdd:"\uef32",ProfileSearch:"\uef35",Header2:"\uef36",Header3:"\uef37",Header4:"\uef38",RingerSolid:"\uef3a",Eyedropper:"\uef3c",MarketDown:"\uef42",CalendarWorkWeek:"\uef51",SidePanel:"\uef52",GlobeFavorite:"\uef53",CaretTopLeftSolid8:"\uef54",CaretTopRightSolid8:"\uef55",ViewAll2:"\uef56",DocumentReply:"\uef57",PlayerSettings:"\uef58",ReceiptForward:"\uef59",ReceiptReply:"\uef5a",ReceiptCheck:"\uef5b",Fax:"\uef5c",RecurringEvent:"\uef5d",ReplyAlt:"\uef5e",ReplyAllAlt:"\uef5f",EditStyle:"\uef60",EditMail:"\uef61",Lifesaver:"\uef62",LifesaverLock:"\uef63",InboxCheck:"\uef64",FolderSearch:"\uef65"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-8"',src:"url('"+e+"fabric-icons-8-6fdf1528.woff') format('woff')"},icons:{CollapseMenu:"\uef66",ExpandMenu:"\uef67",Boards:"\uef68",SunAdd:"\uef69",SunQuestionMark:"\uef6a",LandscapeOrientation:"\uef6b",DocumentSearch:"\uef6c",PublicCalendar:"\uef6d",PublicContactCard:"\uef6e",PublicEmail:"\uef6f",PublicFolder:"\uef70",WordDocument:"\uef71",PowerPointDocument:"\uef72",ExcelDocument:"\uef73",GroupedList:"\uef74",ClassroomLogo:"\uef75",Sections:"\uef76",EditPhoto:"\uef77",Starburst:"\uef78",ShareiOS:"\uef79",AirTickets:"\uef7a",PencilReply:"\uef7b",Tiles2:"\uef7c",SkypeCircleCheck:"\uef7d",SkypeCircleClock:"\uef7e",SkypeCircleMinus:"\uef7f",SkypeMessage:"\uef83",ClosedCaption:"\uef84",ATPLogo:"\uef85",OfficeFormsLogoInverse:"\uef86",RecycleBin:"\uef87",EmptyRecycleBin:"\uef88",Hide2:"\uef89",Breadcrumb:"\uef8c",BirthdayCake:"\uef8d",TimeEntry:"\uef95",CRMProcesses:"\uefb1",PageEdit:"\uefb6",PageArrowRight:"\uefb8",PageRemove:"\uefba",Database:"\uefc7",DataManagementSettings:"\uefc8",CRMServices:"\uefd2",EditContact:"\uefd3",ConnectContacts:"\uefd4",AppIconDefaultAdd:"\uefda",AppIconDefaultList:"\uefde",ActivateOrders:"\uefe0",DeactivateOrders:"\uefe1",ProductCatalog:"\uefe8",ScatterChart:"\uefeb",AccountActivity:"\ueff4",DocumentManagement:"\ueffc",CRMReport:"\ueffe",KnowledgeArticle:"\uf000",Relationship:"\uf003",HomeVerify:"\uf00e",ZipFolder:"\uf012",SurveyQuestions:"\uf01b",TextDocument:"\uf029",TextDocumentShared:"\uf02b",PageCheckedOut:"\uf02c",PageShared:"\uf02d",SaveAndClose:"\uf038",Script:"\uf03a",Archive:"\uf03f",ActivityFeed:"\uf056",Compare:"\uf057",EventDate:"\uf059",ArrowUpRight:"\uf069",CaretRight:"\uf06b",SetAction:"\uf071",ChatBot:"\uf08b",CaretSolidLeft:"\uf08d",CaretSolidDown:"\uf08e",CaretSolidRight:"\uf08f",CaretSolidUp:"\uf090",PowerAppsLogo:"\uf091",PowerApps2Logo:"\uf092",SearchIssue:"\uf09a",SearchIssueMirrored:"\uf09b",FabricAssetLibrary:"\uf09c",FabricDataConnectionLibrary:"\uf09d",FabricDocLibrary:"\uf09e",FabricFormLibrary:"\uf09f",FabricFormLibraryMirrored:"\uf0a0",FabricReportLibrary:"\uf0a1",FabricReportLibraryMirrored:"\uf0a2",FabricPublicFolder:"\uf0a3",FabricFolderSearch:"\uf0a4",FabricMovetoFolder:"\uf0a5",FabricUnsyncFolder:"\uf0a6",FabricSyncFolder:"\uf0a7",FabricOpenFolderHorizontal:"\uf0a8",FabricFolder:"\uf0a9",FabricFolderFill:"\uf0aa",FabricNewFolder:"\uf0ab",FabricPictureLibrary:"\uf0ac",PhotoVideoMedia:"\uf0b1",AddFavorite:"\uf0c8"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-9"',src:"url('"+e+"fabric-icons-9-c6162b42.woff') format('woff')"},icons:{AddFavoriteFill:"\uf0c9",BufferTimeBefore:"\uf0cf",BufferTimeAfter:"\uf0d0",BufferTimeBoth:"\uf0d1",PublishContent:"\uf0d4",ClipboardList:"\uf0e3",ClipboardListMirrored:"\uf0e4",CannedChat:"\uf0f2",SkypeForBusinessLogo:"\uf0fc",TabCenter:"\uf100",PageCheckedin:"\uf104",PageList:"\uf106",ReadOutLoud:"\uf112",CaretBottomLeftSolid8:"\uf121",CaretBottomRightSolid8:"\uf122",FolderHorizontal:"\uf12b",MicrosoftStaffhubLogo:"\uf130",GiftboxOpen:"\uf133",StatusCircleOuter:"\uf136",StatusCircleInner:"\uf137",StatusCircleRing:"\uf138",StatusTriangleOuter:"\uf139",StatusTriangleInner:"\uf13a",StatusTriangleExclamation:"\uf13b",StatusCircleExclamation:"\uf13c",StatusCircleErrorX:"\uf13d",StatusCircleInfo:"\uf13f",StatusCircleBlock:"\uf140",StatusCircleBlock2:"\uf141",StatusCircleQuestionMark:"\uf142",StatusCircleSync:"\uf143",Toll:"\uf160",ExploreContentSingle:"\uf164",CollapseContent:"\uf165",CollapseContentSingle:"\uf166",InfoSolid:"\uf167",GroupList:"\uf168",ProgressRingDots:"\uf16a",CaloriesAdd:"\uf172",BranchFork:"\uf173",MuteChat:"\uf17a",AddHome:"\uf17b",AddWork:"\uf17c",MobileReport:"\uf18a",ScaleVolume:"\uf18c",HardDriveGroup:"\uf18f",FastMode:"\uf19a",ToggleLeft:"\uf19e",ToggleRight:"\uf19f",TriangleShape:"\uf1a7",RectangleShape:"\uf1a9",CubeShape:"\uf1aa",Trophy2:"\uf1ae",BucketColor:"\uf1b6",BucketColorFill:"\uf1b7",Taskboard:"\uf1c2",SingleColumn:"\uf1d3",DoubleColumn:"\uf1d4",TripleColumn:"\uf1d5",ColumnLeftTwoThirds:"\uf1d6",ColumnRightTwoThirds:"\uf1d7",AccessLogoFill:"\uf1db",AnalyticsLogo:"\uf1de",AnalyticsQuery:"\uf1df",NewAnalyticsQuery:"\uf1e0",AnalyticsReport:"\uf1e1",WordLogo:"\uf1e3",WordLogoFill:"\uf1e4",ExcelLogo:"\uf1e5",ExcelLogoFill:"\uf1e6",OneNoteLogo:"\uf1e7",OneNoteLogoFill:"\uf1e8",OutlookLogo:"\uf1e9",OutlookLogoFill:"\uf1ea",PowerPointLogo:"\uf1eb",PowerPointLogoFill:"\uf1ec",PublisherLogo:"\uf1ed",PublisherLogoFill:"\uf1ee",ScheduleEventAction:"\uf1ef",FlameSolid:"\uf1f3",ServerProcesses:"\uf1fe",Server:"\uf201",SaveAll:"\uf203",LinkedInLogo:"\uf20a",Decimals:"\uf218",SidePanelMirrored:"\uf221",ProtectRestrict:"\uf22a",Blog:"\uf22b",UnknownMirrored:"\uf22e",PublicContactCardMirrored:"\uf230",GridViewSmall:"\uf232",GridViewMedium:"\uf233",GridViewLarge:"\uf234",Step:"\uf241",StepInsert:"\uf242",StepShared:"\uf243",StepSharedAdd:"\uf244",StepSharedInsert:"\uf245",ViewDashboard:"\uf246",ViewList:"\uf247"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-10"',src:"url('"+e+"fabric-icons-10-c4ded8e4.woff') format('woff')"},icons:{ViewListGroup:"\uf248",ViewListTree:"\uf249",TriggerAuto:"\uf24a",TriggerUser:"\uf24b",PivotChart:"\uf24c",StackedBarChart:"\uf24d",StackedLineChart:"\uf24e",BuildQueue:"\uf24f",BuildQueueNew:"\uf250",UserFollowed:"\uf25c",ContactLink:"\uf25f",Stack:"\uf26f",Bullseye:"\uf272",VennDiagram:"\uf273",FiveTileGrid:"\uf274",FocalPoint:"\uf277",Insert:"\uf278",RingerRemove:"\uf279",TeamsLogoInverse:"\uf27a",TeamsLogo:"\uf27b",TeamsLogoFill:"\uf27c",SkypeForBusinessLogoFill:"\uf27d",SharepointLogo:"\uf27e",SharepointLogoFill:"\uf27f",DelveLogo:"\uf280",DelveLogoFill:"\uf281",OfficeVideoLogo:"\uf282",OfficeVideoLogoFill:"\uf283",ExchangeLogo:"\uf284",ExchangeLogoFill:"\uf285",Signin:"\uf286",DocumentApproval:"\uf28b",CloneToDesktop:"\uf28c",InstallToDrive:"\uf28d",Blur:"\uf28e",Build:"\uf28f",ProcessMetaTask:"\uf290",BranchFork2:"\uf291",BranchLocked:"\uf292",BranchCommit:"\uf293",BranchCompare:"\uf294",BranchMerge:"\uf295",BranchPullRequest:"\uf296",BranchSearch:"\uf297",BranchShelveset:"\uf298",RawSource:"\uf299",MergeDuplicate:"\uf29a",RowsGroup:"\uf29b",RowsChild:"\uf29c",Deploy:"\uf29d",Redeploy:"\uf29e",ServerEnviroment:"\uf29f",VisioDiagram:"\uf2a0",HighlightMappedShapes:"\uf2a1",TextCallout:"\uf2a2",IconSetsFlag:"\uf2a4",VisioLogo:"\uf2a7",VisioLogoFill:"\uf2a8",VisioDocument:"\uf2a9",TimelineProgress:"\uf2aa",TimelineDelivery:"\uf2ab",Backlog:"\uf2ac",TeamFavorite:"\uf2ad",TaskGroup:"\uf2ae",TaskGroupMirrored:"\uf2af",ScopeTemplate:"\uf2b0",AssessmentGroupTemplate:"\uf2b1",NewTeamProject:"\uf2b2",CommentAdd:"\uf2b3",CommentNext:"\uf2b4",CommentPrevious:"\uf2b5",ShopServer:"\uf2b6",LocaleLanguage:"\uf2b7",QueryList:"\uf2b8",UserSync:"\uf2b9",UserPause:"\uf2ba",StreamingOff:"\uf2bb",ArrowTallUpLeft:"\uf2bd",ArrowTallUpRight:"\uf2be",ArrowTallDownLeft:"\uf2bf",ArrowTallDownRight:"\uf2c0",FieldEmpty:"\uf2c1",FieldFilled:"\uf2c2",FieldChanged:"\uf2c3",FieldNotChanged:"\uf2c4",RingerOff:"\uf2c5",PlayResume:"\uf2c6",BulletedList2:"\uf2c7",BulletedList2Mirrored:"\uf2c8",ImageCrosshair:"\uf2c9",GitGraph:"\uf2ca",Repo:"\uf2cb",RepoSolid:"\uf2cc",FolderQuery:"\uf2cd",FolderList:"\uf2ce",FolderListMirrored:"\uf2cf",LocationOutline:"\uf2d0",POISolid:"\uf2d1",CalculatorNotEqualTo:"\uf2d2",BoxSubtractSolid:"\uf2d3"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-11"',src:"url('"+e+"fabric-icons-11-2a8393d6.woff') format('woff')"},icons:{BoxAdditionSolid:"\uf2d4",BoxMultiplySolid:"\uf2d5",BoxPlaySolid:"\uf2d6",BoxCheckmarkSolid:"\uf2d7",CirclePauseSolid:"\uf2d8",CirclePause:"\uf2d9",MSNVideosSolid:"\uf2da",CircleStopSolid:"\uf2db",CircleStop:"\uf2dc",NavigateBack:"\uf2dd",NavigateBackMirrored:"\uf2de",NavigateForward:"\uf2df",NavigateForwardMirrored:"\uf2e0",UnknownSolid:"\uf2e1",UnknownMirroredSolid:"\uf2e2",CircleAddition:"\uf2e3",CircleAdditionSolid:"\uf2e4",FilePDB:"\uf2e5",FileTemplate:"\uf2e6",FileSQL:"\uf2e7",FileJAVA:"\uf2e8",FileASPX:"\uf2e9",FileCSS:"\uf2ea",FileSass:"\uf2eb",FileLess:"\uf2ec",FileHTML:"\uf2ed",JavaScriptLanguage:"\uf2ee",CSharpLanguage:"\uf2ef",CSharp:"\uf2f0",VisualBasicLanguage:"\uf2f1",VB:"\uf2f2",CPlusPlusLanguage:"\uf2f3",CPlusPlus:"\uf2f4",FSharpLanguage:"\uf2f5",FSharp:"\uf2f6",TypeScriptLanguage:"\uf2f7",PythonLanguage:"\uf2f8",PY:"\uf2f9",CoffeeScript:"\uf2fa",MarkDownLanguage:"\uf2fb",FullWidth:"\uf2fe",FullWidthEdit:"\uf2ff",Plug:"\uf300",PlugSolid:"\uf301",PlugConnected:"\uf302",PlugDisconnected:"\uf303",UnlockSolid:"\uf304",Variable:"\uf305",Parameter:"\uf306",CommentUrgent:"\uf307",Storyboard:"\uf308",DiffInline:"\uf309",DiffSideBySide:"\uf30a",ImageDiff:"\uf30b",ImagePixel:"\uf30c",FileBug:"\uf30d",FileCode:"\uf30e",FileComment:"\uf30f",BusinessHoursSign:"\uf310",FileImage:"\uf311",FileSymlink:"\uf312",AutoFillTemplate:"\uf313",WorkItem:"\uf314",WorkItemBug:"\uf315",LogRemove:"\uf316",ColumnOptions:"\uf317",Packages:"\uf318",BuildIssue:"\uf319",AssessmentGroup:"\uf31a",VariableGroup:"\uf31b",FullHistory:"\uf31c",Wheelchair:"\uf31f",SingleColumnEdit:"\uf321",DoubleColumnEdit:"\uf322",TripleColumnEdit:"\uf323",ColumnLeftTwoThirdsEdit:"\uf324",ColumnRightTwoThirdsEdit:"\uf325",StreamLogo:"\uf329",PassiveAuthentication:"\uf32a",AlertSolid:"\uf331",MegaphoneSolid:"\uf332",TaskSolid:"\uf333",ConfigurationSolid:"\uf334",BugSolid:"\uf335",CrownSolid:"\uf336",Trophy2Solid:"\uf337",QuickNoteSolid:"\uf338",ConstructionConeSolid:"\uf339",PageListSolid:"\uf33a",PageListMirroredSolid:"\uf33b",StarburstSolid:"\uf33c",ReadingModeSolid:"\uf33d",SadSolid:"\uf33e",HealthSolid:"\uf33f",ShieldSolid:"\uf340",GiftBoxSolid:"\uf341",ShoppingCartSolid:"\uf342",MailSolid:"\uf343",ChatSolid:"\uf344",RibbonSolid:"\uf345"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-12"',src:"url('"+e+"fabric-icons-12-7e945a1e.woff') format('woff')"},icons:{FinancialSolid:"\uf346",FinancialMirroredSolid:"\uf347",HeadsetSolid:"\uf348",PermissionsSolid:"\uf349",ParkingSolid:"\uf34a",ParkingMirroredSolid:"\uf34b",DiamondSolid:"\uf34c",AsteriskSolid:"\uf34d",OfflineStorageSolid:"\uf34e",BankSolid:"\uf34f",DecisionSolid:"\uf350",Parachute:"\uf351",ParachuteSolid:"\uf352",FiltersSolid:"\uf353",ColorSolid:"\uf354",ReviewSolid:"\uf355",ReviewRequestSolid:"\uf356",ReviewRequestMirroredSolid:"\uf357",ReviewResponseSolid:"\uf358",FeedbackRequestSolid:"\uf359",FeedbackRequestMirroredSolid:"\uf35a",FeedbackResponseSolid:"\uf35b",WorkItemBar:"\uf35c",WorkItemBarSolid:"\uf35d",Separator:"\uf35e",NavigateExternalInline:"\uf35f",PlanView:"\uf360",TimelineMatrixView:"\uf361",EngineeringGroup:"\uf362",ProjectCollection:"\uf363",CaretBottomRightCenter8:"\uf364",CaretBottomLeftCenter8:"\uf365",CaretTopRightCenter8:"\uf366",CaretTopLeftCenter8:"\uf367",DonutChart:"\uf368",ChevronUnfold10:"\uf369",ChevronFold10:"\uf36a",DoubleChevronDown8:"\uf36b",DoubleChevronUp8:"\uf36c",DoubleChevronLeft8:"\uf36d",DoubleChevronRight8:"\uf36e",ChevronDownEnd6:"\uf36f",ChevronUpEnd6:"\uf370",ChevronLeftEnd6:"\uf371",ChevronRightEnd6:"\uf372",ContextMenu:"\uf37c",AzureAPIManagement:"\uf37f",AzureServiceEndpoint:"\uf380",VSTSLogo:"\uf381",VSTSAltLogo1:"\uf382",VSTSAltLogo2:"\uf383",FileTypeSolution:"\uf387",WordLogoInverse16:"\uf390",WordLogo16:"\uf391",WordLogoFill16:"\uf392",PowerPointLogoInverse16:"\uf393",PowerPointLogo16:"\uf394",PowerPointLogoFill16:"\uf395",ExcelLogoInverse16:"\uf396",ExcelLogo16:"\uf397",ExcelLogoFill16:"\uf398",OneNoteLogoInverse16:"\uf399",OneNoteLogo16:"\uf39a",OneNoteLogoFill16:"\uf39b",OutlookLogoInverse16:"\uf39c",OutlookLogo16:"\uf39d",OutlookLogoFill16:"\uf39e",PublisherLogoInverse16:"\uf39f",PublisherLogo16:"\uf3a0",PublisherLogoFill16:"\uf3a1",VisioLogoInverse16:"\uf3a2",VisioLogo16:"\uf3a3",VisioLogoFill16:"\uf3a4",TestBeaker:"\uf3a5",TestBeakerSolid:"\uf3a6",TestExploreSolid:"\uf3a7",TestAutoSolid:"\uf3a8",TestUserSolid:"\uf3a9",TestImpactSolid:"\uf3aa",TestPlan:"\uf3ab",TestStep:"\uf3ac",TestParameter:"\uf3ad",TestSuite:"\uf3ae",TestCase:"\uf3af",Sprint:"\uf3b0",SignOut:"\uf3b1",TriggerApproval:"\uf3b2",Rocket:"\uf3b3",AzureKeyVault:"\uf3b4",Onboarding:"\uf3ba",Transition:"\uf3bc",LikeSolid:"\uf3bf",DislikeSolid:"\uf3c0",CRMCustomerInsightsApp:"\uf3c8",EditCreate:"\uf3c9",PlayReverseResume:"\uf3e4",PlayReverse:"\uf3e5",SearchData:"\uf3f1",UnSetColor:"\uf3f9",DeclineCall:"\uf405"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-13"',src:"url('"+e+"fabric-icons-13-c3989a02.woff') format('woff')"},icons:{RectangularClipping:"\uf407",TeamsLogo16:"\uf40a",TeamsLogoFill16:"\uf40b",Spacer:"\uf40d",SkypeLogo16:"\uf40e",SkypeForBusinessLogo16:"\uf40f",SkypeForBusinessLogoFill16:"\uf410",FilterSolid:"\uf412",MailUndelivered:"\uf415",MailTentative:"\uf416",MailTentativeMirrored:"\uf417",MailReminder:"\uf418",ReceiptUndelivered:"\uf419",ReceiptTentative:"\uf41a",ReceiptTentativeMirrored:"\uf41b",Inbox:"\uf41c",IRMReply:"\uf41d",IRMReplyMirrored:"\uf41e",IRMForward:"\uf41f",IRMForwardMirrored:"\uf420",VoicemailIRM:"\uf421",EventAccepted:"\uf422",EventTentative:"\uf423",EventTentativeMirrored:"\uf424",EventDeclined:"\uf425",IDBadge:"\uf427",BackgroundColor:"\uf42b",OfficeFormsLogoInverse16:"\uf433",OfficeFormsLogo:"\uf434",OfficeFormsLogoFill:"\uf435",OfficeFormsLogo16:"\uf436",OfficeFormsLogoFill16:"\uf437",OfficeFormsLogoInverse24:"\uf43a",OfficeFormsLogo24:"\uf43b",OfficeFormsLogoFill24:"\uf43c",PageLock:"\uf43f",NotExecuted:"\uf440",NotImpactedSolid:"\uf441",FieldReadOnly:"\uf442",FieldRequired:"\uf443",BacklogBoard:"\uf444",ExternalBuild:"\uf445",ExternalTFVC:"\uf446",ExternalXAML:"\uf447",IssueSolid:"\uf448",DefectSolid:"\uf449",LadybugSolid:"\uf44a",NugetLogo:"\uf44c",TFVCLogo:"\uf44d",ProjectLogo32:"\uf47e",ProjectLogoFill32:"\uf47f",ProjectLogo16:"\uf480",ProjectLogoFill16:"\uf481",SwayLogo32:"\uf482",SwayLogoFill32:"\uf483",SwayLogo16:"\uf484",SwayLogoFill16:"\uf485",ClassNotebookLogo32:"\uf486",ClassNotebookLogoFill32:"\uf487",ClassNotebookLogo16:"\uf488",ClassNotebookLogoFill16:"\uf489",ClassNotebookLogoInverse32:"\uf48a",ClassNotebookLogoInverse16:"\uf48b",StaffNotebookLogo32:"\uf48c",StaffNotebookLogoFill32:"\uf48d",StaffNotebookLogo16:"\uf48e",StaffNotebookLogoFill16:"\uf48f",StaffNotebookLogoInverted32:"\uf490",StaffNotebookLogoInverted16:"\uf491",KaizalaLogo:"\uf492",TaskLogo:"\uf493",ProtectionCenterLogo32:"\uf494",GallatinLogo:"\uf496",Globe2:"\uf49a",Guitar:"\uf49b",Breakfast:"\uf49c",Brunch:"\uf49d",BeerMug:"\uf49e",Vacation:"\uf49f",Teeth:"\uf4a0",Taxi:"\uf4a1",Chopsticks:"\uf4a2",SyncOccurence:"\uf4a3",UnsyncOccurence:"\uf4a4",GIF:"\uf4a9",PrimaryCalendar:"\uf4ae",SearchCalendar:"\uf4af",VideoOff:"\uf4b0",MicrosoftFlowLogo:"\uf4b1",BusinessCenterLogo:"\uf4b2",ToDoLogoBottom:"\uf4b3",ToDoLogoTop:"\uf4b4",EditSolid12:"\uf4b5",EditSolidMirrored12:"\uf4b6",UneditableSolid12:"\uf4b7",UneditableSolidMirrored12:"\uf4b8",UneditableMirrored:"\uf4b9",AdminALogo32:"\uf4ba",AdminALogoFill32:"\uf4bb",ToDoLogoInverse:"\uf4bc"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-14"',src:"url('"+e+"fabric-icons-14-5cf58db8.woff') format('woff')"},icons:{Snooze:"\uf4bd",WaffleOffice365:"\uf4e0",ImageSearch:"\uf4e8",NewsSearch:"\uf4e9",VideoSearch:"\uf4ea",R:"\uf4eb",FontColorA:"\uf4ec",FontColorSwatch:"\uf4ed",LightWeight:"\uf4ee",NormalWeight:"\uf4ef",SemiboldWeight:"\uf4f0",GroupObject:"\uf4f1",UngroupObject:"\uf4f2",AlignHorizontalLeft:"\uf4f3",AlignHorizontalCenter:"\uf4f4",AlignHorizontalRight:"\uf4f5",AlignVerticalTop:"\uf4f6",AlignVerticalCenter:"\uf4f7",AlignVerticalBottom:"\uf4f8",HorizontalDistributeCenter:"\uf4f9",VerticalDistributeCenter:"\uf4fa",Ellipse:"\uf4fb",Line:"\uf4fc",Octagon:"\uf4fd",Hexagon:"\uf4fe",Pentagon:"\uf4ff",RightTriangle:"\uf500",HalfCircle:"\uf501",QuarterCircle:"\uf502",ThreeQuarterCircle:"\uf503","6PointStar":"\uf504","12PointStar":"\uf505",ArrangeBringToFront:"\uf506",ArrangeSendToBack:"\uf507",ArrangeSendBackward:"\uf508",ArrangeBringForward:"\uf509",BorderDash:"\uf50a",BorderDot:"\uf50b",LineStyle:"\uf50c",LineThickness:"\uf50d",WindowEdit:"\uf50e",HintText:"\uf50f",MediaAdd:"\uf510",AnchorLock:"\uf511",AutoHeight:"\uf512",ChartSeries:"\uf513",ChartXAngle:"\uf514",ChartYAngle:"\uf515",Combobox:"\uf516",LineSpacing:"\uf517",Padding:"\uf518",PaddingTop:"\uf519",PaddingBottom:"\uf51a",PaddingLeft:"\uf51b",PaddingRight:"\uf51c",NavigationFlipper:"\uf51d",AlignJustify:"\uf51e",TextOverflow:"\uf51f",VisualsFolder:"\uf520",VisualsStore:"\uf521",PictureCenter:"\uf522",PictureFill:"\uf523",PicturePosition:"\uf524",PictureStretch:"\uf525",PictureTile:"\uf526",Slider:"\uf527",SliderHandleSize:"\uf528",DefaultRatio:"\uf529",NumberSequence:"\uf52a",GUID:"\uf52b",ReportAdd:"\uf52c",DashboardAdd:"\uf52d",MapPinSolid:"\uf52e",WebPublish:"\uf52f",PieSingleSolid:"\uf530",BlockedSolid:"\uf531",DrillDown:"\uf532",DrillDownSolid:"\uf533",DrillExpand:"\uf534",DrillShow:"\uf535",SpecialEvent:"\uf536",OneDriveFolder16:"\uf53b",FunctionalManagerDashboard:"\uf542",BIDashboard:"\uf543",CodeEdit:"\uf544",RenewalCurrent:"\uf545",RenewalFuture:"\uf546",SplitObject:"\uf547",BulkUpload:"\uf548",DownloadDocument:"\uf549",GreetingCard:"\uf54b",Flower:"\uf54e",WaitlistConfirm:"\uf550",WaitlistConfirmMirrored:"\uf551",LaptopSecure:"\uf552",DragObject:"\uf553",EntryView:"\uf554",EntryDecline:"\uf555",ContactCardSettings:"\uf556",ContactCardSettingsMirrored:"\uf557"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-15"',src:"url('"+e+"fabric-icons-15-3807251b.woff') format('woff')"},icons:{CalendarSettings:"\uf558",CalendarSettingsMirrored:"\uf559",HardDriveLock:"\uf55a",HardDriveUnlock:"\uf55b",AccountManagement:"\uf55c",ReportWarning:"\uf569",TransitionPop:"\uf5b2",TransitionPush:"\uf5b3",TransitionEffect:"\uf5b4",LookupEntities:"\uf5b5",ExploreData:"\uf5b6",AddBookmark:"\uf5b7",SearchBookmark:"\uf5b8",DrillThrough:"\uf5b9",MasterDatabase:"\uf5ba",CertifiedDatabase:"\uf5bb",MaximumValue:"\uf5bc",MinimumValue:"\uf5bd",VisualStudioIDELogo32:"\uf5d0",PasteAsText:"\uf5d5",PasteAsCode:"\uf5d6",BrowserTab:"\uf5d7",BrowserTabScreenshot:"\uf5d8",DesktopScreenshot:"\uf5d9",FileYML:"\uf5da",ClipboardSolid:"\uf5dc",FabricUserFolder:"\uf5e5",FabricNetworkFolder:"\uf5e6",BullseyeTarget:"\uf5f0",AnalyticsView:"\uf5f1",Video360Generic:"\uf609",Untag:"\uf60b",Leave:"\uf627",Trending12:"\uf62d",Blocked12:"\uf62e",Warning12:"\uf62f",CheckedOutByOther12:"\uf630",CheckedOutByYou12:"\uf631",CircleShapeSolid:"\uf63c",SquareShapeSolid:"\uf63d",TriangleShapeSolid:"\uf63e",DropShapeSolid:"\uf63f",RectangleShapeSolid:"\uf640",ZoomToFit:"\uf649",InsertColumnsLeft:"\uf64a",InsertColumnsRight:"\uf64b",InsertRowsAbove:"\uf64c",InsertRowsBelow:"\uf64d",DeleteColumns:"\uf64e",DeleteRows:"\uf64f",DeleteRowsMirrored:"\uf650",DeleteTable:"\uf651",AccountBrowser:"\uf652",VersionControlPush:"\uf664",StackedColumnChart2:"\uf666",TripleColumnWide:"\uf66e",QuadColumn:"\uf66f",WhiteBoardApp16:"\uf673",WhiteBoardApp32:"\uf674",PinnedSolid:"\uf676",InsertSignatureLine:"\uf677",ArrangeByFrom:"\uf678",Phishing:"\uf679",CreateMailRule:"\uf67a",PublishCourse:"\uf699",DictionaryRemove:"\uf69a",UserRemove:"\uf69b",UserEvent:"\uf69c",Encryption:"\uf69d",PasswordField:"\uf6aa",OpenInNewTab:"\uf6ab",Hide3:"\uf6ac",VerifiedBrandSolid:"\uf6ad",MarkAsProtected:"\uf6ae",AuthenticatorApp:"\uf6b1",WebTemplate:"\uf6b2",DefenderTVM:"\uf6b3",MedalSolid:"\uf6b9",D365TalentLearn:"\uf6bb",D365TalentInsight:"\uf6bc",D365TalentHRCore:"\uf6bd",BacklogList:"\uf6bf",ButtonControl:"\uf6c0",TableGroup:"\uf6d9",MountainClimbing:"\uf6db",TagUnknown:"\uf6df",TagUnknownMirror:"\uf6e0",TagUnknown12:"\uf6e1",TagUnknown12Mirror:"\uf6e2",Link12:"\uf6e3",Presentation:"\uf6e4",Presentation12:"\uf6e5",Lock12:"\uf6e6",BuildDefinition:"\uf6e9",ReleaseDefinition:"\uf6ea",SaveTemplate:"\uf6ec",UserGauge:"\uf6ed",BlockedSiteSolid12:"\uf70a",TagSolid:"\uf70e",OfficeChat:"\uf70f"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-16"',src:"url('"+e+"fabric-icons-16-9cf93f3b.woff') format('woff')"},icons:{OfficeChatSolid:"\uf710",MailSchedule:"\uf72e",WarningSolid:"\uf736",Blocked2Solid:"\uf737",SkypeCircleArrow:"\uf747",SkypeArrow:"\uf748",SyncStatus:"\uf751",SyncStatusSolid:"\uf752",ProjectDocument:"\uf759",ToDoLogoOutline:"\uf75b",VisioOnlineLogoFill32:"\uf75f",VisioOnlineLogo32:"\uf760",VisioOnlineLogoCloud32:"\uf761",VisioDiagramSync:"\uf762",Event12:"\uf763",EventDateMissed12:"\uf764",UserOptional:"\uf767",ResponsesMenu:"\uf768",DoubleDownArrow:"\uf769",DistributeDown:"\uf76a",BookmarkReport:"\uf76b",FilterSettings:"\uf76c",GripperDotsVertical:"\uf772",MailAttached:"\uf774",AddIn:"\uf775",LinkedDatabase:"\uf779",TableLink:"\uf77a",PromotedDatabase:"\uf77d",BarChartVerticalFilter:"\uf77e",BarChartVerticalFilterSolid:"\uf77f",MicOff2:"\uf781",MicrosoftTranslatorLogo:"\uf782",ShowTimeAs:"\uf787",FileRequest:"\uf789",WorkItemAlert:"\uf78f",PowerBILogo16:"\uf790",PowerBILogoBackplate16:"\uf791",BulletedListText:"\uf792",BulletedListBullet:"\uf793",BulletedListTextMirrored:"\uf794",BulletedListBulletMirrored:"\uf795",NumberedListText:"\uf796",NumberedListNumber:"\uf797",NumberedListTextMirrored:"\uf798",NumberedListNumberMirrored:"\uf799",RemoveLinkChain:"\uf79a",RemoveLinkX:"\uf79b",FabricTextHighlight:"\uf79c",ClearFormattingA:"\uf79d",ClearFormattingEraser:"\uf79e",Photo2Fill:"\uf79f",IncreaseIndentText:"\uf7a0",IncreaseIndentArrow:"\uf7a1",DecreaseIndentText:"\uf7a2",DecreaseIndentArrow:"\uf7a3",IncreaseIndentTextMirrored:"\uf7a4",IncreaseIndentArrowMirrored:"\uf7a5",DecreaseIndentTextMirrored:"\uf7a6",DecreaseIndentArrowMirrored:"\uf7a7",CheckListText:"\uf7a8",CheckListCheck:"\uf7a9",CheckListTextMirrored:"\uf7aa",CheckListCheckMirrored:"\uf7ab",NumberSymbol:"\uf7ac",Coupon:"\uf7bc",VerifiedBrand:"\uf7bd",ReleaseGate:"\uf7be",ReleaseGateCheck:"\uf7bf",ReleaseGateError:"\uf7c0",M365InvoicingLogo:"\uf7c1",RemoveFromShoppingList:"\uf7d5",ShieldAlert:"\uf7d7",FabricTextHighlightComposite:"\uf7da",Dataflows:"\uf7dd",GenericScanFilled:"\uf7de",DiagnosticDataBarTooltip:"\uf7df",SaveToMobile:"\uf7e0",Orientation2:"\uf7e1",ScreenCast:"\uf7e2",ShowGrid:"\uf7e3",SnapToGrid:"\uf7e4",ContactList:"\uf7e5",NewMail:"\uf7ea",EyeShadow:"\uf7eb",FabricFolderConfirm:"\uf7ff",InformationBarriers:"\uf803",CommentActive:"\uf804",ColumnVerticalSectionEdit:"\uf806",WavingHand:"\uf807",ShakeDevice:"\uf80a",SmartGlassRemote:"\uf80b",Rotate90Clockwise:"\uf80d",Rotate90CounterClockwise:"\uf80e",CampaignTemplate:"\uf811",ChartTemplate:"\uf812",PageListFilter:"\uf813",SecondaryNav:"\uf814",ColumnVerticalSection:"\uf81e",SkypeCircleSlash:"\uf825",SkypeSlash:"\uf826"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";t.a=function(e,t){void 0===e&&(e="");var n={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"FabricMDL2Icons-17"',src:"url('"+e+"fabric-icons-17-0c4ed701.woff') format('woff')"},icons:{CustomizeToolbar:"\uf828",DuplicateRow:"\uf82a",RemoveFromTrash:"\uf82b",MailOptions:"\uf82c",Childof:"\uf82d",Footer:"\uf82e",Header:"\uf82f",BarChartVerticalFill:"\uf830",StackedColumnChart2Fill:"\uf831",PlainText:"\uf834",AccessibiltyChecker:"\uf835",DatabaseSync:"\uf842",ReservationOrders:"\uf845",TabOneColumn:"\uf849",TabTwoColumn:"\uf84a",TabThreeColumn:"\uf84b",BulletedTreeList:"\uf84c",MicrosoftTranslatorLogoGreen:"\uf852",MicrosoftTranslatorLogoBlue:"\uf853",InternalInvestigation:"\uf854",AddReaction:"\uf85d",ContactHeart:"\uf862",VisuallyImpaired:"\uf866",EventToDoLogo:"\uf869",Variable2:"\uf86d",ModelingView:"\uf871",DisconnectVirtualMachine:"\uf873",ReportLock:"\uf875",Uneditable2:"\uf876",Uneditable2Mirrored:"\uf877",BarChartVerticalEdit:"\uf89d",GlobalNavButtonActive:"\uf89f",PollResults:"\uf8a0",Rerun:"\uf8a1",QandA:"\uf8a2",QandAMirror:"\uf8a3",BookAnswers:"\uf8a4",AlertSettings:"\uf8b6",TrimStart:"\uf8bb",TrimEnd:"\uf8bc",TableComputed:"\uf8f5",DecreaseIndentLegacy:"\ue290",IncreaseIndentLegacy:"\ue291",SizeLegacy:"\ue2b2"}};Object(r.K)(n,t)};var r=n(53)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(53),i=function(){Object(r.J)("trash","delete"),Object(r.J)("onedrive","onedrivelogo"),Object(r.J)("alertsolid12","eventdatemissed12"),Object(r.J)("sixpointstar","6pointstar"),Object(r.J)("twelvepointstar","12pointstar"),Object(r.J)("toggleon","toggleleft"),Object(r.J)("toggleoff","toggleright")}},function(e,t,n){"use strict";var r=n(82);Object(r.a)("@uifabric/icons","7.3.19")},function(e,t,n){"use strict";var r=n(5554);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),i=n(0),o=(n.n(i),n(745)),s=n(258),a=n(264),c=n(5555),u=n(3320),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.keySequences,l=t.offset,h=t.overflowSetSequence,d=this.props.calloutProps;return e=h?Object(o.c)(Object(o.d)(n,h)):Object(o.c)(n),l&&(d=Object(r.a)(Object(r.a)({},d),{coverTarget:!0,directionalHint:a.c.topLeftEdge})),d&&void 0!==d.directionalHint||(d=Object(r.a)(Object(r.a)({},d),{directionalHint:a.c.bottomCenter})),i.createElement(s.a,Object(r.a)({},d,{isBeakVisible:!1,doNotLayer:!0,minPagePadding:0,styles:l?Object(u.a)(l):u.b,preventDismissOnScroll:!0,target:e}),i.createElement(c.a,Object(r.a)({},this.props)))},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(5556),o=n(3320),s=Object(r._21)(i.a,o.c,void 0,{scope:"KeytipContent"})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.content,n=e.styles,r=e.theme,s=e.disabled,a=e.visible,c=Object(o.s)()(n,{theme:r,disabled:s,visible:a});return i.createElement("div",{className:c.container},i.createElement("span",{className:c.root},t))},t}(i.Component)},function(e,t,n){"use strict";n(5558)},function(e,t,n){"use strict";n(5559),n(3321)},function(e,t,n){"use strict";var r=n(2),i=n(3321),o=n(3322);Object(r._21)(i.a,o.b,void 0,{scope:"KeytipLayer"})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(2),o=n(745),s=n(398),a=function(){function e(){this.nodeMap={},this.root={id:s.d,children:[],parent:"",keySequences:[]},this.nodeMap[this.root.id]=this.root}return e.prototype.addNode=function(e,t,n){var r=this._getFullSequence(e),i=Object(o.e)(r);r.pop();var s=this._getParentID(r),a=this._createNode(i,s,[],e,n);this.nodeMap[t]=a;var c=this.getNode(s);c&&c.children.push(i)},e.prototype.updateNode=function(e,t){var n=this._getFullSequence(e),r=Object(o.e)(n);n.pop();var i=this._getParentID(n),s=this.nodeMap[t],a=s.parent,c=this.getNode(a),u=this.getNode(i);if(s){if(c&&a!==i){var l=c.children.indexOf(s.id);l>=0&&c.children.splice(l,1)}if(u&&s.id!==r){var h=u.children.indexOf(s.id);h>=0?u.children[h]=r:u.children.push(r)}s.id=r,s.keySequences=e.keySequences,s.overflowSetSequence=e.overflowSetSequence,s.onExecute=e.onExecute,s.onReturn=e.onReturn,s.hasDynamicChildren=e.hasDynamicChildren,s.hasMenu=e.hasMenu,s.parent=i,s.disabled=e.disabled}},e.prototype.removeNode=function(e,t){var n=this._getFullSequence(e),r=Object(o.e)(n);n.pop();var i=this._getParentID(n),s=this.getNode(i);s&&s.children.splice(s.children.indexOf(r),1),this.nodeMap[t]&&delete this.nodeMap[t]},e.prototype.getExactMatchedNode=function(e,t){var n=this,r=this.getNodes(t.children);return Object(i.A)(r,function(t){return n._getNodeSequence(t)===e&&!t.disabled})},e.prototype.getPartiallyMatchedNodes=function(e,t){var n=this;return this.getNodes(t.children).filter(function(t){return 0===n._getNodeSequence(t).indexOf(e)&&!t.disabled})},e.prototype.getChildren=function(e){var t=this;if(!e&&!(e=this.currentKeytip))return[];var n=e.children;return Object.keys(this.nodeMap).reduce(function(e,r){return n.indexOf(t.nodeMap[r].id)>=0&&!t.nodeMap[r].persisted&&e.push(t.nodeMap[r].id),e},[])},e.prototype.getNodes=function(e){var t=this;return Object.keys(this.nodeMap).reduce(function(n,r){return e.indexOf(t.nodeMap[r].id)>=0&&n.push(t.nodeMap[r]),n},[])},e.prototype.getNode=function(e){var t=Object(i._25)(this.nodeMap);return Object(i.A)(t,function(t){return t.id===e})},e.prototype.isCurrentKeytipParent=function(e){if(this.currentKeytip){var t=Object(r.f)(e.keySequences);e.overflowSetSequence&&(t=Object(o.d)(t,e.overflowSetSequence)),t.pop();var n=0===t.length?this.root.id:Object(o.e)(t),i=!1;if(this.currentKeytip.overflowSetSequence)i=Object(o.e)(this.currentKeytip.keySequences)===n;return i||this.currentKeytip.id===n}return!1},e.prototype._getParentID=function(e){return 0===e.length?this.root.id:Object(o.e)(e)},e.prototype._getFullSequence=function(e){var t=Object(r.f)(e.keySequences);return e.overflowSetSequence&&(t=Object(o.d)(t,e.overflowSetSequence)),t},e.prototype._getNodeSequence=function(e){var t=Object(r.f)(e.keySequences);return e.overflowSetSequence&&(t=Object(o.d)(t,e.overflowSetSequence)),t[t.length-1]},e.prototype._createNode=function(e,t,n,r,i){var o=this,s=r.keySequences,a=r.hasDynamicChildren,c=r.overflowSetSequence,u=r.hasMenu,l=r.onExecute,h=r.onReturn,d=r.disabled,p={id:e,keySequences:s,overflowSetSequence:c,parent:t,children:n,onExecute:l,onReturn:h,hasDynamicChildren:a,hasMenu:u,disabled:d,persisted:i};return p.children=Object.keys(this.nodeMap).reduce(function(t,n){return o.nodeMap[n].parent===e&&t.push(o.nodeMap[n].id),t},[]),p},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),t.b=function(e,t){return!!Object(i.A)(e,function(e){return function(e,t){if(e.key!==t.key)return!1;var n=e.modifierKeys,r=t.modifierKeys;if(!n&&r||n&&!r)return!1;if(n&&r){if(n.length!==r.length)return!1;n=n.sort(),r=r.sort();for(var i=0;i<n.length;i++)if(n[i]!==r[i])return!1}return!0}(e,t)})};var r,i=n(2);!function(e){e[e.shift=i.h.shift]="shift",e[e.ctrl=i.h.ctrl]="ctrl",e[e.alt=i.h.alt]="alt",e[e.meta=i.h.leftWindow]="meta"}(r||(r={}))},function(e,t,n){"use strict";n(5563),n(140)},function(e,t,n){"use strict";var r=n(2),i=n(5564),o=n(5565);Object(r._21)(i.a,o.a,void 0,{scope:"MarqueeSelection"})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=Object(o.s)(),a=function(e){function t(t){var n=e.call(this,t)||this;return n._root=i.createRef(),n._onMouseDown=function(e){var t=n.props,r=t.isEnabled,i=t.onShouldStartSelection;n._isMouseEventOnScrollbar(e)||n._isInSelectionToggle(e)||n._isTouch||!r||n._isDragStartInSelection(e)||i&&!i(e)||n._scrollableSurface&&0===e.button&&n._root.current&&(n._selectedIndicies={},n._preservedIndicies=void 0,n._events.on(window,"mousemove",n._onAsyncMouseMove,!0),n._events.on(n._scrollableParent,"scroll",n._onAsyncMouseMove),n._events.on(window,"click",n._onMouseUp,!0),n._autoScroll=new o.b(n._root.current),n._scrollTop=n._scrollableSurface.scrollTop,n._scrollLeft=n._scrollableSurface.scrollLeft,n._rootRect=n._root.current.getBoundingClientRect(),n._onMouseMove(e))},n._onTouchStart=function(e){n._isTouch=!0,n._async.setTimeout(function(){n._isTouch=!1},0)},n._onPointerDown=function(e){"touch"===e.pointerType&&(n._isTouch=!0,n._async.setTimeout(function(){n._isTouch=!1},0))},Object(o._2)(n),n._async=new o.a(n),n._events=new o.e(n),n.state={dragRect:void 0},n}return Object(r.d)(t,e),t.prototype.componentDidMount=function(){this._scrollableParent=Object(o.D)(this._root.current),this._scrollableSurface=this._scrollableParent===window?document.body:this._scrollableParent;var e=this.props.isDraggingConstrainedToRoot?this._root.current:this._scrollableSurface;this._events.on(e,"mousedown",this._onMouseDown),this._events.on(e,"touchstart",this._onTouchStart,!0),this._events.on(e,"pointerdown",this._onPointerDown,!0)},t.prototype.componentWillUnmount=function(){this._autoScroll&&this._autoScroll.dispose(),delete this._scrollableParent,delete this._scrollableSurface,this._events.dispose(),this._async.dispose()},t.prototype.render=function(){var e=this.props,t=e.rootProps,n=e.children,o=e.theme,a=e.className,c=e.styles,u=this.state.dragRect,l=s(c,{theme:o,className:a});return i.createElement("div",Object(r.a)({},t,{className:l.root,ref:this._root}),n,u&&i.createElement("div",{className:l.dragMask}),u&&i.createElement("div",{className:l.box,style:u},i.createElement("div",{className:l.boxFill})))},t.prototype._isMouseEventOnScrollbar=function(e){var t=e.target,n=t.offsetWidth-t.clientWidth;if(n){var r=t.getBoundingClientRect();if(Object(o.S)(this.props.theme)){if(e.clientX<r.left+n)return!0}else if(e.clientX>r.left+t.clientWidth)return!0;if(e.clientY>r.top+t.clientHeight)return!0}return!1},t.prototype._getRootRect=function(){return{left:this._rootRect.left+(this._scrollLeft-this._scrollableSurface.scrollLeft),top:this._rootRect.top+(this._scrollTop-this._scrollableSurface.scrollTop),width:this._rootRect.width,height:this._rootRect.height}},t.prototype._onAsyncMouseMove=function(e){var t=this;this._async.requestAnimationFrame(function(){t._onMouseMove(e)}),e.stopPropagation(),e.preventDefault()},t.prototype._onMouseMove=function(e){if(this._autoScroll){void 0!==e.clientX&&(this._lastMouseEvent=e);var t=this._getRootRect(),n={x:e.clientX-t.left,y:e.clientY-t.top};if(this._dragOrigin||(this._dragOrigin=n),void 0!==e.buttons&&0===e.buttons)this._onMouseUp(e);else if(this.state.dragRect||Object(o.H)(this._dragOrigin,n)>5){if(!this.state.dragRect){var r=this.props.selection;e.shiftKey||r.setAllSelected(!1),this._preservedIndicies=r&&r.getSelectedIndices&&r.getSelectedIndices()}var i=this.props.isDraggingConstrainedToRoot?{x:Math.max(0,Math.min(t.width,this._lastMouseEvent.clientX-t.left)),y:Math.max(0,Math.min(t.height,this._lastMouseEvent.clientY-t.top))}:{x:this._lastMouseEvent.clientX-t.left,y:this._lastMouseEvent.clientY-t.top},s={left:Math.min(this._dragOrigin.x,i.x),top:Math.min(this._dragOrigin.y,i.y),width:Math.abs(i.x-this._dragOrigin.x),height:Math.abs(i.y-this._dragOrigin.y)};this._evaluateSelection(s,t),this.setState({dragRect:s})}return!1}},t.prototype._onMouseUp=function(e){this._events.off(window),this._events.off(this._scrollableParent,"scroll"),this._autoScroll&&this._autoScroll.dispose(),this._autoScroll=this._dragOrigin=this._lastMouseEvent=this._selectedIndicies=this._itemRectCache=void 0,this.state.dragRect&&(this.setState({dragRect:void 0}),e.preventDefault(),e.stopPropagation())},t.prototype._isPointInRectangle=function(e,t){return e.top<t.y&&e.bottom>t.y&&e.left<t.x&&e.right>t.x},t.prototype._isDragStartInSelection=function(e){var t=this.props.selection;if(!this._root.current||t&&0===t.getSelectedCount())return!1;for(var n=this._root.current.querySelectorAll("[data-selection-index]"),r=0;r<n.length;r++){var i=n[r],o=Number(i.getAttribute("data-selection-index"));if(t.isIndexSelected(o)){var s=i.getBoundingClientRect();if(this._isPointInRectangle(s,{x:e.clientX,y:e.clientY}))return!0}}return!1},t.prototype._isInSelectionToggle=function(e){for(var t=e.target;t&&t!==this._root.current;){if("true"===t.getAttribute("data-selection-toggle"))return!0;t=t.parentElement}return!1},t.prototype._evaluateSelection=function(e,t){if(e&&this._root.current){var n=this.props.selection,r=this._root.current.querySelectorAll("[data-selection-index]");this._itemRectCache||(this._itemRectCache={});for(var i=0;i<r.length;i++){var o=r[i],s=o.getAttribute("data-selection-index"),a=this._itemRectCache[s];a||(a={left:(a=o.getBoundingClientRect()).left-t.left,top:a.top-t.top,width:a.width,height:a.height,right:a.left-t.left+a.width,bottom:a.top-t.top+a.height}).width>0&&a.height>0&&(this._itemRectCache[s]=a),a.top<e.top+e.height&&a.bottom>e.top&&a.left<e.left+e.width&&a.right>e.left?this._selectedIndicies[s]=!0:delete this._selectedIndicies[s]}var c=this._allSelectedIndices||{};for(var s in this._allSelectedIndices={},this._selectedIndicies)this._selectedIndicies.hasOwnProperty(s)&&(this._allSelectedIndices[s]=!0);if(this._preservedIndicies)for(var u=0,l=this._preservedIndicies;u<l.length;u++){s=l[u];this._allSelectedIndices[s]=!0}var h=!1;for(var s in this._allSelectedIndices)if(this._allSelectedIndices[s]!==c[s]){h=!0;break}if(!h)for(var s in c)if(this._allSelectedIndices[s]!==c[s]){h=!0;break}if(h){n.setChangeEvents(!1),n.setAllSelected(!1);for(var d=0,p=Object.keys(this._allSelectedIndices);d<p.length;d++){s=p[d];n.setIndexSelected(Number(s),!0,!1)}n.setChangeEvents(!0)}}},t.defaultProps={rootTagName:"div",rootProps:{},isEnabled:!0},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(5),i=function(e){var t,n,i,o=e.theme,s=e.className,a=o.palette;return{root:[s,{position:"relative",cursor:"default"}],dragMask:[{position:"absolute",background:"rgba(255, 0, 0, 0)",left:0,top:0,right:0,bottom:0,selectors:(t={},t[r.e]={background:"none",backgroundColor:"transparent"},t)}],box:[{position:"absolute",boxSizing:"border-box",border:"1px solid "+a.themePrimary,pointerEvents:"none",zIndex:10,selectors:(n={},n[r.e]={borderColor:"Highlight"},n)}],boxFill:[{position:"absolute",boxSizing:"border-box",backgroundColor:a.themePrimary,opacity:.1,left:0,top:0,right:0,bottom:0,selectors:(i={},i[r.e]={background:"none",backgroundColor:"transparent"},i)}]}}},function(e,t,n){"use strict";n(5567)},function(e,t,n){"use strict";n(5568),n(3323)},function(e,t,n){"use strict";var r=n(2),i=n(3323),o=n(3324);Object(r._21)(i.a,o.b,void 0,{scope:"Nav"})},function(e,t,n){"use strict";n(5570)},function(e,t,n){"use strict";n(5571),n(3325),n(3326),n(2684)},function(e,t,n){"use strict";var r=n(2),i=n(3325),o=n(5572);Object(r._21)(i.a,o.a,void 0,{scope:"Pivot"})},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1),i=n(5),o=n(2),s={count:"ms-Pivot-count",icon:"ms-Pivot-icon",linkIsSelected:"is-selected",link:"ms-Pivot-link",linkContent:"ms-Pivot-linkContent",root:"ms-Pivot",rootIsLarge:"ms-Pivot--large",rootIsTabs:"ms-Pivot--tabs",text:"ms-Pivot-text"},a=function(e){var t,n,r=e.rootIsLarge,s=e.rootIsTabs,a=e.theme,c=a.semanticColors,u=a.fonts;return[u.medium,{color:c.actionLink,display:"inline-block",lineHeight:44,height:44,marginRight:8,padding:"0 8px",textAlign:"center",position:"relative",backgroundColor:"transparent",border:0,borderRadius:0,selectors:(t={":before":{backgroundColor:"transparent",bottom:0,content:'""',height:2,left:8,position:"absolute",right:8,transition:"left "+i.c.durationValue2+" "+i.c.easeFunction2+",\n                      right "+i.c.durationValue2+" "+i.c.easeFunction2},":after":{color:"transparent",content:"attr(data-content)",display:"block",fontWeight:i.d.bold,height:1,overflow:"hidden",visibility:"hidden"},":hover":{backgroundColor:c.buttonBackgroundHovered,color:c.buttonTextHovered,cursor:"pointer"},":active":{backgroundColor:c.buttonBackgroundPressed,color:c.buttonTextHovered},":focus":{outline:"none"}},t["."+o.g+" &:focus"]={outline:"1px solid "+c.focusBorder},t["."+o.g+" &:focus:after"]={content:"attr(data-content)",position:"relative",border:0},t)},r&&{fontSize:u.large.fontSize},s&&[{marginRight:0,height:44,lineHeight:44,backgroundColor:c.buttonBackground,padding:"0 10px",verticalAlign:"top",selectors:(n={":focus":{outlineOffset:"-1px"}},n["."+o.g+" &:focus::before"]={height:"auto",background:"transparent",transition:"none"},n)}]]},c=function(e){var t,n,o,c=e.className,u=e.rootIsLarge,l=e.rootIsTabs,h=e.theme,d=h.semanticColors,p=h.fonts,f=Object(i.w)(s,h);return{root:[f.root,p.medium,i.H,{position:"relative",color:d.link,whiteSpace:"nowrap"},u&&f.rootIsLarge,l&&f.rootIsTabs,c],link:Object(r.f)([f.link],a(e),[l&&{selectors:{"&:hover, &:focus":{color:d.buttonTextCheckedHovered},"&:active, &:hover":{color:d.primaryButtonText,backgroundColor:d.primaryButtonBackground}}}]),linkIsSelected:Object(r.f)([f.link,f.linkIsSelected],a(e),[{fontWeight:i.d.semibold,selectors:(t={":before":{backgroundColor:d.inputBackgroundChecked,selectors:(n={},n[i.e]={backgroundColor:"Highlight"},n)},":hover::before":{left:0,right:0}},t[i.e]={color:"Highlight"},t)},l&&{backgroundColor:d.primaryButtonBackground,color:d.primaryButtonText,fontWeight:i.d.regular,selectors:(o={":before":{backgroundColor:"transparent",transition:"none",position:"absolute",top:0,left:0,right:0,bottom:0,content:'""',height:"auto"},":hover":{backgroundColor:d.primaryButtonBackgroundHovered,color:d.primaryButtonText},"&:active":{backgroundColor:d.primaryButtonBackgroundPressed,color:d.primaryButtonText}},o[i.e]={fontWeight:i.d.semibold,color:"HighlightText",background:"Highlight",MsHighContrastAdjust:"none"},o)}]),linkContent:[f.linkContent,{flex:"0 1 100%",selectors:{"& > * ":{marginLeft:4},"& > *:first-child":{marginLeft:0}}}],text:[f.text,{display:"inline-block",verticalAlign:"top"}],count:[f.count,{display:"inline-block",verticalAlign:"top"}],icon:f.icon}}},function(e,t,n){"use strict";n(3263)},function(e,t,n){"use strict";n(5575)},function(e,t,n){"use strict";n(5576),n(3327),n(3328)},function(e,t,n){"use strict";var r=n(2),i=n(5577),o=n(3327);Object(r._21)(o.a,i.a,void 0,{scope:"Rating"})},function(e,t,n){"use strict";t.a=function(e){var t=e.disabled,n=e.readOnly,s=e.theme,a=s.semanticColors,c=s.palette,u=Object(r.w)(i,s),l=c.neutralSecondary,h=c.themePrimary,d=c.themeDark,p=c.neutralPrimary,f=a.disabledBodySubtext;return{root:[u.root,s.fonts.medium,!t&&!n&&{selectors:{"&:hover":{selectors:{".ms-RatingStar-back":o(p,"Highlight")}}}}],rootIsSmall:[u.rootIsSmall,{height:"32px"}],rootIsLarge:[u.rootIsLarge,{height:"36px"}],ratingStar:[u.ratingStar,{display:"inline-block",position:"relative",height:"inherit"}],ratingStarBack:[u.ratingStarBack,{color:l,width:"100%"},t&&o(f,"GrayText")],ratingStarFront:[u.ratingStarFront,{position:"absolute",height:"100 %",left:"0",top:"0",textAlign:"center",verticalAlign:"middle",overflow:"hidden"},o(p,"Highlight")],ratingButton:[Object(r.v)(s),u.ratingButton,{backgroundColor:"transparent",padding:"8px 2px",boxSizing:"content-box",margin:"0px",border:"none",cursor:"pointer",selectors:{"&:disabled":{cursor:"default"},"&[disabled]":{cursor:"default"}}},!t&&!n&&{selectors:{"&:hover ~ .ms-Rating-button":{selectors:{".ms-RatingStar-back":o(l,"WindowText"),".ms-RatingStar-front":o(l,"WindowText")}},"&:hover":{selectors:{".ms-RatingStar-back":{color:h},".ms-RatingStar-front":{color:d}}}}},t&&{cursor:"default"}],ratingStarIsSmall:[u.ratingStarIsSmall,{fontSize:"16px",lineHeight:"16px",height:"16px"}],ratingStarIsLarge:[u.ratingStartIsLarge,{fontSize:"20px",lineHeight:"20px",height:"20px"}],labelText:[u.labelText,r.C],ratingFocusZone:[Object(r.v)(s),u.ratingFocusZone,{display:"inline-block"}]}};var r=n(5),i={root:"ms-RatingStar-root",rootIsSmall:"ms-RatingStar-root--small",rootIsLarge:"ms-RatingStar-root--large",ratingStar:"ms-RatingStar-container",ratingStarBack:"ms-RatingStar-back",ratingStarFront:"ms-RatingStar-front",ratingButton:"ms-Rating-button",ratingStarIsSmall:"ms-Rating--small",ratingStartIsLarge:"ms-Rating--large",labelText:"ms-Rating-labelText",ratingFocusZone:"ms-Rating-focuszone"};function o(e,t){var n;return{color:e,selectors:(n={},n[r.e]={color:t},n)}}},function(e,t,n){"use strict";n(5579)},function(e,t,n){"use strict";n(5580),n(3329),n(2685)},function(e,t,n){"use strict";var r=n(5581),i=n(3329),o=n(2);Object(o._21)(i.a,r.a,void 0,{scope:"ScrollablePane"})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i={root:"ms-ScrollablePane",contentContainer:"ms-ScrollablePane--contentContainer"},o=function(e){var t,n,o=e.className,s=e.theme,a=Object(r.w)(i,s),c={position:"absolute",pointerEvents:"auto"},u={position:"absolute",top:0,right:0,bottom:0,left:0,WebkitOverflowScrolling:"touch"};return{root:[a.root,s.fonts.medium,u,o],contentContainer:[a.contentContainer,{overflowY:"always"===e.scrollbarVisibility?"scroll":"auto"},u],stickyAbove:[{top:0,zIndex:1,selectors:(t={},t[r.e]={borderBottom:"1px solid WindowText"},t)},c],stickyBelow:[{bottom:0,selectors:(n={},n[r.e]={borderTop:"1px solid WindowText"},n)},c],stickyBelowItems:[{bottom:0},c,{width:"100%"}]}}},function(e,t,n){"use strict";n(5583)},function(e,t,n){"use strict";n(5584),n(3330)},function(e,t,n){"use strict";var r=n(2),i=n(3330),o=n(5585);Object(r._21)(i.a,o.a,void 0,{scope:"SearchBox"})},function(e,t,n){"use strict";t.a=function(e){var t,n,s,a,c=e.theme,u=e.underlined,l=e.disabled,h=e.hasFocus,d=e.className,p=e.hasInput,f=e.disableAnimation,m=c.palette,g=c.fonts,b=c.semanticColors,v=c.effects,y=Object(r.w)(o,c),S={color:b.inputPlaceholderText,opacity:1},_=m.neutralSecondary,w=m.neutralPrimary,C=m.neutralLighter,k=m.neutralLighter,x=m.neutralLighter;return{root:[y.root,g.medium,r.H,{color:b.inputText,backgroundColor:b.inputBackground,display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"stretch",padding:"1px 0 1px 4px",borderRadius:v.roundedCorner2,border:"1px solid "+b.inputBorder,height:32,selectors:(t={},t[r.e]={borderColor:"WindowText"},t[":hover"]={borderColor:b.inputBorderHovered,selectors:(n={},n[r.e]={borderColor:"Highlight"},n)},t[":hover ."+y.iconContainer]={color:b.inputIconHovered},t)},!h&&p&&{selectors:(s={},s[":hover ."+y.iconContainer]={width:4},s[":hover ."+y.icon]={opacity:0},s)},h&&["is-active",{position:"relative"},Object(r.y)(b.inputFocusBorderAlt,u?0:v.roundedCorner2,u?"borderBottom":"border")],l&&["is-disabled",{borderColor:C,backgroundColor:x,pointerEvents:"none",cursor:"default",selectors:(a={},a[r.e]={borderColor:"GrayText"},a)}],u&&["is-underlined",{borderWidth:"0 0 1px 0",borderRadius:0,padding:"1px 0 1px 8px"}],u&&l&&{backgroundColor:"transparent"},p&&"can-clear",d],iconContainer:[y.iconContainer,{display:"flex",flexDirection:"column",justifyContent:"center",flexShrink:0,fontSize:16,width:32,textAlign:"center",color:b.inputIcon,cursor:"text"},h&&{width:4},l&&{color:b.inputIconDisabled},!f&&{transition:"width "+r.c.durationValue1}],icon:[y.icon,{opacity:1},h&&{opacity:0},!f&&{transition:"opacity "+r.c.durationValue1+" 0s"}],clearButton:[y.clearButton,{display:"flex",flexDirection:"row",alignItems:"stretch",cursor:"pointer",flexBasis:"32px",flexShrink:0,padding:0,margin:"-1px 0px",selectors:{"&:hover .ms-Button":{backgroundColor:k},"&:hover .ms-Button-icon":{color:w},".ms-Button":{borderRadius:Object(i.S)(c)?"1px 0 0 1px":"0 1px 1px 0"},".ms-Button-icon":{color:_}}}],field:[y.field,r.H,Object(r.z)(S),{backgroundColor:"transparent",border:"none",outline:"none",fontWeight:"inherit",fontFamily:"inherit",fontSize:"inherit",color:b.inputText,flex:"1 1 0px",minWidth:"0px",overflow:"hidden",textOverflow:"ellipsis",paddingBottom:.5,selectors:{"::-ms-clear":{display:"none"}}},l&&{color:b.disabledText}]}};var r=n(5),i=n(2),o={root:"ms-SearchBox",iconContainer:"ms-SearchBox-iconContainer",icon:"ms-SearchBox-icon",clearButton:"ms-SearchBox-clearButton",field:"ms-SearchBox-field"}},function(e,t,n){"use strict";n(756)},function(e,t,n){"use strict";n(5588)},function(e,t,n){"use strict";n(3331),n(5589),n(3332)},function(e,t,n){"use strict";var r=n(1),i=n(0),o=(n.n(i),n(3331)),s=n(3332),a=n(5591),c=n(5592);!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderItems=function(){return t.state.items.map(function(e,n){return t._renderItem(e,n)})},t._beginEditing=function(e){e.isEditing=!0,t.forceUpdate()},t._completeEditing=function(e,n){e.isEditing=!1,t.replaceItem(e,n)},t}Object(r.d)(t,e),t.prototype._renderItem=function(e,t){var n=this,o=this.props.removeButtonAriaLabel,s=this.props.onExpandGroup,u={item:e,index:t,key:e.key?e.key:t,selected:this.selection.isIndexSelected(t),onRemoveItem:function(){return n.removeItem(e)},onItemChange:this.onItemChange,removeButtonAriaLabel:o,onCopyItem:function(e){return n.copyItems([e])},onExpandItem:s?function(){return s(e)}:void 0,menuItems:this._createMenuItems(e)},l=u.menuItems.length>0;if(e.isEditing&&l)return i.createElement(c.a,Object(r.a)({},u,{onRenderFloatingPicker:this.props.onRenderFloatingPicker,floatingPickerProps:this.props.floatingPickerProps,onEditingComplete:this._completeEditing,getEditingItemText:this.props.getEditingItemText}));var h=(0,this.props.onRenderItem)(u);return l?i.createElement(a.a,{key:u.key,renderedItem:h,beginEditing:this._beginEditing,menuItems:this._createMenuItems(u.item),item:u.item}):h},t.prototype._createMenuItems=function(e){var t=this,n=[];return this.props.editMenuItemText&&this.props.getEditingItemText&&n.push({key:"Edit",text:this.props.editMenuItemText,onClick:function(e,n){t._beginEditing(n.data)},data:e}),this.props.removeMenuItemText&&n.push({key:"Remove",text:this.props.removeMenuItemText,onClick:function(e,n){t.removeItem(n.data)},data:e}),this.props.copyMenuItemText&&n.push({key:"Copy",text:this.props.copyMenuItemText,onClick:function(e,n){t.props.onCopyItems&&t.copyItems([n.data])},data:e}),n},t.defaultProps={onRenderItem:function(e){return i.createElement(s.a,Object(r.a)({},e))}}}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t}(o.a))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"personaContainer",function(){return i}),n.d(t,"hover",function(){return o}),n.d(t,"actionButton",function(){return s}),n.d(t,"personaContainerIsSelected",function(){return a}),n.d(t,"validationError",function(){return c}),n.d(t,"itemContent",function(){return u}),n.d(t,"removeButton",function(){return l}),n.d(t,"expandButton",function(){return h}),n.d(t,"personaWrapper",function(){return d}),n.d(t,"personaDetails",function(){return p}),n.d(t,"itemContainer",function(){return f});var r=n(731);Object(r.a)([{rawString:".personaContainer_9e4a605c{border-radius:15px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:"},{theme:"themeLighterAlt",defaultValue:"#eff6fc"},{rawString:";margin:4px;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;position:relative}.personaContainer_9e4a605c::-moz-focus-inner{border:0}.personaContainer_9e4a605c{outline:transparent}.personaContainer_9e4a605c{position:relative}.ms-Fabric--isFocusVisible .personaContainer_9e4a605c:focus:after{content:'';position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;pointer-events:none;border:1px solid "},{theme:"focusBorder",defaultValue:"#605e5c"},{rawString:"}.personaContainer_9e4a605c .ms-Persona-primaryText{color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:";font-size:14px;font-weight:400}.personaContainer_9e4a605c .ms-Persona-primaryText.hover_9e4a605c{color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:"}@media screen and (-ms-high-contrast: active){.personaContainer_9e4a605c .ms-Persona-primaryText{color:HighlightText}}.personaContainer_9e4a605c .actionButton_9e4a605c:hover{background:"},{theme:"themeLight",defaultValue:"#c7e0f4"},{rawString:"}.personaContainer_9e4a605c .actionButton_9e4a605c .ms-Button-icon{color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:"}@media screen and (-ms-high-contrast: active){.personaContainer_9e4a605c .actionButton_9e4a605c .ms-Button-icon{color:HighlightText}}.personaContainer_9e4a605c:hover{background:"},{theme:"themeLighter",defaultValue:"#deecf9"},{rawString:"}.personaContainer_9e4a605c:hover .ms-Persona-primaryText{color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:";font-size:14px;font-weight:400}@media screen and (-ms-high-contrast: active){.personaContainer_9e4a605c:hover .ms-Persona-primaryText{color:HighlightText}}.personaContainer_9e4a605c.personaContainerIsSelected_9e4a605c{background:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:"}.personaContainer_9e4a605c.personaContainerIsSelected_9e4a605c .ms-Persona-primaryText{color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:"}@media screen and (-ms-high-contrast: active){.personaContainer_9e4a605c.personaContainerIsSelected_9e4a605c .ms-Persona-primaryText{color:HighlightText}}.personaContainer_9e4a605c.personaContainerIsSelected_9e4a605c .actionButton_9e4a605c{color:"},{theme:"white",defaultValue:"#ffffff"},{rawString:"}.personaContainer_9e4a605c.personaContainerIsSelected_9e4a605c .actionButton_9e4a605c .ms-Button-icon{color:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:"}.personaContainer_9e4a605c.personaContainerIsSelected_9e4a605c .actionButton_9e4a605c .ms-Button-icon:hover{background:"},{theme:"themeDark",defaultValue:"#005a9e"},{rawString:"}@media screen and (-ms-high-contrast: active){.personaContainer_9e4a605c.personaContainerIsSelected_9e4a605c .actionButton_9e4a605c .ms-Button-icon{color:HighlightText}}@media screen and (-ms-high-contrast: active){.personaContainer_9e4a605c.personaContainerIsSelected_9e4a605c{border-color:Highlight;background:Highlight;-ms-high-contrast-adjust:none}}.personaContainer_9e4a605c.validationError_9e4a605c .ms-Persona-primaryText{color:"},{theme:"red",defaultValue:"#e81123"},{rawString:"}.personaContainer_9e4a605c.validationError_9e4a605c .ms-Persona-initials{font-size:20px}@media screen and (-ms-high-contrast: active){.personaContainer_9e4a605c{border:1px solid WindowText}}.personaContainer_9e4a605c .itemContent_9e4a605c{-webkit-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto;min-width:0px;max-width:100%}.personaContainer_9e4a605c .removeButton_9e4a605c{border-radius:15px;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:33px;height:33px;-ms-flex-preferred-size:32px;flex-basis:32px}.personaContainer_9e4a605c .expandButton_9e4a605c{border-radius:15px 0px 0px 15px;height:33px;width:44px;padding-right:16px;position:inherit;display:-webkit-box;display:-ms-flexbox;display:flex;margin-right:-17px}.personaContainer_9e4a605c .personaWrapper_9e4a605c{position:relative;display:inherit}.personaContainer_9e4a605c .personaWrapper_9e4a605c .ms-Persona-details{padding:0px 8px}.personaContainer_9e4a605c .personaDetails_9e4a605c{-webkit-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto}.itemContainer_9e4a605c{display:inline-block;vertical-align:top}\n"}]);var i="personaContainer_9e4a605c",o="hover_9e4a605c",s="actionButton_9e4a605c",a="personaContainerIsSelected_9e4a605c",c="validationError_9e4a605c",u="itemContent_9e4a605c",l="removeButton_9e4a605c",h="expandButton_9e4a605c",d="personaWrapper_9e4a605c",p="personaDetails_9e4a605c",f="itemContainer_9e4a605c"},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(264),a=function(e){function t(t){var n=e.call(this,t)||this;return n.itemElement=i.createRef(),n._onClick=function(e){e.preventDefault(),n.props.beginEditing&&!n.props.item.isValid?n.props.beginEditing(n.props.item):n.setState({contextualMenuVisible:!0})},n._onCloseContextualMenu=function(e){n.setState({contextualMenuVisible:!1})},Object(o._2)(n),n.state={contextualMenuVisible:!1},n}return Object(r.d)(t,e),t.prototype.render=function(){return i.createElement("div",{ref:this.itemElement,onContextMenu:this._onClick},this.props.renderedItem,this.state.contextualMenuVisible?i.createElement(s.a,{items:this.props.menuItems,shouldFocusOnMount:!0,target:this.itemElement.current,onDismiss:this._onCloseContextualMenu,directionalHint:s.c.bottomLeftEdge}):null)},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(5593),a=function(e){function t(t){var n=e.call(this,t)||this;return n._editingFloatingPicker=i.createRef(),n._renderEditingSuggestions=function(){var e=n.props.onRenderFloatingPicker,t=n.props.floatingPickerProps;return e&&t?i.createElement(e,Object(r.a)({componentRef:n._editingFloatingPicker,onChange:n._onSuggestionSelected,inputElement:n._editingInput,selectedItems:[]},t)):i.createElement(i.Fragment,null)},n._resolveInputRef=function(e){n._editingInput=e,n.forceUpdate(function(){n._editingInput.focus()})},n._onInputClick=function(){n._editingFloatingPicker.current&&n._editingFloatingPicker.current.showPicker(!0)},n._onInputBlur=function(e){if(n._editingFloatingPicker.current&&null!==e.relatedTarget){var t=e.relatedTarget;-1===t.className.indexOf("ms-Suggestions-itemButton")&&-1===t.className.indexOf("ms-Suggestions-sectionButton")&&n._editingFloatingPicker.current.forceResolveSuggestion()}},n._onInputChange=function(e){var t=e.target.value;""===t?n.props.onRemoveItem&&n.props.onRemoveItem():n._editingFloatingPicker.current&&n._editingFloatingPicker.current.onQueryStringChanged(t)},n._onSuggestionSelected=function(e){n.props.onEditingComplete(n.props.item,e)},Object(o._2)(n),n.state={contextualMenuVisible:!1},n}return Object(r.d)(t,e),t.prototype.componentDidMount=function(){var e=(0,this.props.getEditingItemText)(this.props.item);this._editingFloatingPicker.current&&this._editingFloatingPicker.current.onQueryStringChanged(e),this._editingInput.value=e,this._editingInput.focus()},t.prototype.render=function(){var e=Object(o.L)(),t=Object(o.P)(this.props,o._3),n=Object(o.s)()(s.a);return i.createElement("div",{"aria-labelledby":"editingItemPersona-"+e,className:n.root},i.createElement("input",Object(r.a)({autoCapitalize:"off",autoComplete:"off"},t,{ref:this._resolveInputRef,onChange:this._onInputChange,onKeyDown:this._onInputKeyDown,onBlur:this._onInputBlur,onClick:this._onInputClick,"data-lpignore":!0,className:n.input,id:e})),this._renderEditingSuggestions())},t.prototype._onInputKeyDown=function(e){e.which!==o.h.backspace&&e.which!==o.h.del||e.stopPropagation()},t}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(53),i={root:"ms-EditingItem",input:"ms-EditingItem-input"},o=function(e){var t=Object(r.B)();if(!t)throw new Error("theme is undefined or null in Editing item getStyles function.");var n=t.semanticColors,o=Object(r.w)(i,t);return{root:[o.root,{margin:"4px"}],input:[o.input,{border:"0px",outline:"none",width:"100%",backgroundColor:n.inputBackground,color:n.inputText,selectors:{"::-ms-clear":{display:"none"}}}]}}},function(e,t,n){"use strict";n(5595)},function(e,t,n){"use strict";n(3333),n(5596)},function(e,t,n){"use strict";var r=n(2),i=n(5597),o=n(3333);Object(r._21)(o.a,i.a,void 0,{scope:"Separator"})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=e.theme,n=e.alignContent,r=e.vertical,i=e.className,o="start"===n,s="center"===n,a="end"===n;return{root:[t.fonts.medium,{position:"relative"},n&&{textAlign:n},!n&&{textAlign:"center"},r&&(s||!n)&&{verticalAlign:"middle"},r&&o&&{verticalAlign:"top"},r&&a&&{verticalAlign:"bottom"},r&&{padding:"0 4px",height:"inherit",display:"table-cell",zIndex:1,selectors:{":after":{backgroundColor:t.palette.neutralLighter,width:"1px",content:'""',position:"absolute",top:"0",bottom:"0",left:"50%",right:"0",zIndex:-1}}},!r&&{padding:"4px 0",selectors:{":before":{backgroundColor:t.palette.neutralLighter,height:"1px",content:'""',display:"block",position:"absolute",top:"50%",bottom:"0",left:"0",right:"0"}}},i],content:[{position:"relative",display:"inline-block",padding:"0 12px",color:t.semanticColors.bodyText,background:t.semanticColors.bodyBackground},r&&{padding:"12px 0"}]}}},function(e,t,n){"use strict";var r=n(5599);n.d(t,"a",function(){return r.a});n(3335);var i=n(3338);n.d(t,"b",function(){return i.a});n(3339),n(3340),n(3343),n(3344),n(3341),n(3342);var o=n(3336);n.d(t,"c",function(){return o.a});n(3337)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(5600),o=n(3335),s=Object(r._21)(o.a,i.a,void 0,{scope:"Shimmer"})},function(e,t,n){"use strict";t.a=function(e){var t,n=e.isDataLoaded,u=e.className,l=e.theme,h=e.transitionAnimationInterval,d=e.shimmerColor,p=e.shimmerWaveColor,f=l.semanticColors,m=Object(r.w)(o,l),g=Object(i.S)(l);return{root:[m.root,l.fonts.medium,{position:"relative",height:"auto"},u],shimmerWrapper:[m.shimmerWrapper,{position:"relative",overflow:"hidden",transform:"translateZ(0)",backgroundColor:d||f.disabledBackground,transition:"opacity "+h+"ms",selectors:(t={"> *":{transform:"translateZ(0)"}},t[r.e]={background:"WindowText\n                        linear-gradient(\n                          to right,\n                          transparent 0%,\n                          Window 50%,\n                          transparent 100%)\n                        0 0 / 90% 100%\n                        no-repeat"},t)},n&&{opacity:"0",position:"absolute",top:"0",bottom:"0",left:"0",right:"0"}],shimmerGradient:[m.shimmerGradient,{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:(d||f.disabledBackground)+"\n                      linear-gradient(\n                        to right,\n                        "+(d||f.disabledBackground)+" 0%,\n                        "+(p||f.bodyDivider)+" 50%,\n                        "+(d||f.disabledBackground)+" 100%)\n                      0 0 / 90% 100%\n                      no-repeat",transform:"translateX(-"+s+")",animationDuration:"2s",animationTimingFunction:"ease-in-out",animationDirection:"normal",animationIterationCount:"infinite",animationName:g?c:a}],dataWrapper:[m.dataWrapper,{position:"absolute",top:"0",bottom:"0",left:"0",right:"0",opacity:"0",background:"none",backgroundColor:"transparent",border:"none",transition:"opacity "+h+"ms"},n&&{opacity:"1",position:"static"}],screenReaderText:r.C}};var r=n(5),i=n(2),o={root:"ms-Shimmer-container",shimmerWrapper:"ms-Shimmer-shimmerWrapper",shimmerGradient:"ms-Shimmer-shimmerGradient",dataWrapper:"ms-Shimmer-dataWrapper"},s="100%",a=Object(r.D)({"0%":{transform:"translateX(-"+s+")"},"100%":{transform:"translateX("+s+")"}}),c=Object(r.D)({"100%":{transform:"translateX(-"+s+")"},"0%":{transform:"translateX("+s+")"}})},function(e,t,n){"use strict";t.a=function(e){var t,n=e.height,o=e.borderStyle,s=e.theme,a=s.semanticColors,c=Object(r.w)(i,s),u=o||{},l={position:"absolute",fill:a.bodyBackground};return{root:[c.root,s.fonts.medium,{height:n+"px",boxSizing:"content-box",position:"relative",borderTopStyle:"solid",borderBottomStyle:"solid",borderColor:a.bodyBackground,borderWidth:0,selectors:(t={},t[r.e]={borderColor:"Window",selectors:{"> *":{fill:"Window"}}},t)},u],topLeftCorner:[c.topLeftCorner,{top:"0",left:"0"},l],topRightCorner:[c.topRightCorner,{top:"0",right:"0"},l],bottomRightCorner:[c.bottomRightCorner,{bottom:"0",right:"0"},l],bottomLeftCorner:[c.bottomLeftCorner,{bottom:"0",left:"0"},l]}};var r=n(5),i={root:"ms-ShimmerLine-root",topLeftCorner:"ms-ShimmerLine-topLeftCorner",topRightCorner:"ms-ShimmerLine-topRightCorner",bottomLeftCorner:"ms-ShimmerLine-bottomLeftCorner",bottomRightCorner:"ms-ShimmerLine-bottomRightCorner"}},function(e,t,n){"use strict";t.a=function(e){var t,n=e.height,o=e.borderStyle,s=e.theme,a=s.semanticColors,c=Object(r.w)(i,s),u=o||{};return{root:[c.root,s.fonts.medium,{backgroundColor:a.bodyBackground,height:n+"px",boxSizing:"content-box",borderTopStyle:"solid",borderBottomStyle:"solid",borderColor:a.bodyBackground,selectors:(t={},t[r.e]={backgroundColor:"Window",borderColor:"Window"},t)},u]}};var r=n(5),i={root:"ms-ShimmerGap-root"}},function(e,t,n){"use strict";t.a=function(e){var t,n,o=e.height,s=e.borderStyle,a=e.theme,c=a.semanticColors,u=Object(r.w)(i,a),l=s||{};return{root:[u.root,a.fonts.medium,{width:o+"px",height:o+"px",minWidth:o+"px",boxSizing:"content-box",borderTopStyle:"solid",borderBottomStyle:"solid",borderColor:c.bodyBackground,selectors:(t={},t[r.e]={borderColor:"Window"},t)},l],svg:[u.svg,{display:"block",fill:c.bodyBackground,selectors:(n={},n[r.e]={fill:"Window"},n)}]}};var r=n(5),i={root:"ms-ShimmerCircle-root",svg:"ms-ShimmerCircle-svg"}},function(e,t,n){"use strict";t.a=function(e){var t=e.flexWrap,n=e.theme;return{root:[Object(r.w)(i,n).root,n.fonts.medium,{display:"flex",alignItems:"center",flexWrap:t?"wrap":"nowrap",position:"relative"}]}};var r=n(5),i={root:"ms-ShimmerElementsGroup-root"}},function(e,t,n){"use strict";n(5606),n(3345)},function(e,t,n){"use strict";var r=n(2),i=n(3345),o=n(5607);Object(r._21)(i.a,o.a,void 0,{scope:"ShimmeredDetailsList"})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=e.theme.palette;return{root:{position:"relative",selectors:{":after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,backgroundImage:"linear-gradient(to bottom, transparent 30%, "+t.whiteTranslucent40+" 65%,"+t.white+" 100%)"}}}}}},function(e,t,n){"use strict";n(5609)},function(e,t,n){"use strict";n(5610),n(3346)},function(e,t,n){"use strict";var r=n(2),i=n(3346),o=n(5611);Object(r._21)(i.a,o.a,void 0,{scope:"Slider"})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(5),o=n(23),s={root:"ms-Slider",enabled:"ms-Slider-enabled",disabled:"ms-Slider-disabled",row:"ms-Slider-row",column:"ms-Slider-column",container:"ms-Slider-container",slideBox:"ms-Slider-slideBox",line:"ms-Slider-line",thumb:"ms-Slider-thumb",activeSection:"ms-Slider-active",inactiveSection:"ms-Slider-inactive",valueLabel:"ms-Slider-value",showValue:"ms-Slider-showValue",showTransitions:"ms-Slider-showTransitions",zeroTick:"ms-Slider-zeroTick"},a=function(e){var t,n,a,c,u,l,h,d,p,f,m,g,b,v=e.className,y=e.titleLabelClassName,S=e.theme,_=e.vertical,w=e.disabled,C=e.showTransitions,k=e.showValue,x=S.semanticColors,O=Object(i.w)(s,S),I=x.inputBackgroundCheckedHovered,T=x.inputBackgroundChecked,E=x.inputPlaceholderBackgroundChecked,N=x.smallInputBorder,M=x.disabledBorder,P=x.disabledText,j=x.disabledBackground,D=x.inputBackground,R=x.smallInputBorder,L=x.disabledBorder,A=!w&&{backgroundColor:I,selectors:(t={},t[i.e]={backgroundColor:"Highlight"},t)},F=!w&&{backgroundColor:E,selectors:(n={},n[i.e]={borderColor:"Highlight"},n)},B=!w&&{backgroundColor:T,selectors:(a={},a[i.e]={backgroundColor:"Highlight"},a)},q=!w&&{border:"2px solid "+I,selectors:(c={},c[i.e]={borderColor:"Highlight"},c)},z=!e.disabled&&{backgroundColor:x.inputPlaceholderBackgroundChecked,selectors:(u={},u[i.e]={backgroundColor:"Highlight"},u)};return{root:Object(r.f)([O.root,S.fonts.medium,{userSelect:"none"},_&&{marginRight:8}],[w?void 0:O.enabled],[w?O.disabled:void 0],[_?void 0:O.row],[_?O.column:void 0],[v]),titleLabel:[{padding:0},y],container:[O.container,{display:"flex",flexWrap:"nowrap",alignItems:"center"},_&&{flexDirection:"column",height:"100%",textAlign:"center",margin:"8px 0"}],slideBox:Object(r.f)([O.slideBox,Object(i.v)(S),{background:"transparent",border:"none",flexGrow:1,lineHeight:28,display:"flex",alignItems:"center",selectors:(l={},l[":active ."+O.activeSection]=A,l[":hover ."+O.activeSection]=B,l[":active ."+O.inactiveSection]=F,l[":hover ."+O.inactiveSection]=F,l[":active ."+O.thumb]=q,l[":hover ."+O.thumb]=q,l[":active ."+O.zeroTick]=z,l[":hover ."+O.zeroTick]=z,l)},_?{height:"100%",width:28,padding:"8px 0"}:{height:28,width:"auto",padding:"0 8px"}],[k?O.showValue:void 0],[C?O.showTransitions:void 0]),thumb:[O.thumb,{borderWidth:2,borderStyle:"solid",borderColor:R,borderRadius:10,boxSizing:"border-box",background:D,display:"block",width:16,height:16,position:"absolute"},_?{left:-6,margin:"0 auto",transform:"translateY(8px)"}:{top:-6,transform:Object(o._4)(S)?"translateX(50%)":"translateX(-50%)"},C&&{transition:"left "+i.c.durationValue3+" "+i.c.easeFunction1},w&&{borderColor:L,selectors:(h={},h[i.e]={borderColor:"GrayText"},h)}],line:[O.line,{display:"flex",position:"relative"},_?{height:"100%",width:4,margin:"0 auto",flexDirection:"column-reverse"}:{width:"100%"}],lineContainer:[{borderRadius:4,boxSizing:"border-box"},_?{width:4,height:"100%"}:{height:4,width:"100%"}],activeSection:[O.activeSection,{background:N,selectors:(d={},d[i.e]={backgroundColor:"WindowText"},d)},C&&{transition:"width "+i.c.durationValue3+" "+i.c.easeFunction1},w&&{background:P,selectors:(p={},p[i.e]={backgroundColor:"GrayText",borderColor:"GrayText"},p)}],inactiveSection:[O.inactiveSection,{background:M,selectors:(f={},f[i.e]={border:"1px solid WindowText"},f)},C&&{transition:"width "+i.c.durationValue3+" "+i.c.easeFunction1},w&&{background:j,selectors:(m={},m[i.e]={borderColor:"GrayText"},m)}],zeroTick:[O.zeroTick,{position:"absolute",background:x.disabledBorder,selectors:(g={},g[i.e]={backgroundColor:"WindowText"},g)},e.disabled&&{background:x.disabledBackground,selectors:(b={},b[i.e]={backgroundColor:"GrayText"},b)},e.vertical?{width:"16px",height:"1px",transform:Object(o._4)(S)?"translateX(6px)":"translateX(-6px)"}:{width:"1px",height:"16px",transform:"translateY(-6px)"}],valueLabel:[O.valueLabel,{flexShrink:1,width:30,lineHeight:"1"},_?{margin:"0 auto",whiteSpace:"nowrap",width:40}:{margin:"0 8px",whiteSpace:"nowrap",width:40}]}}},function(e,t,n){"use strict";n(5613)},function(e,t,n){"use strict";n(5614)},function(e,t,n){"use strict";var r,i=n(1),o=n(0),s=(n.n(o),n(106)),a=n(735),c=n(48),u=n(2),l=n(259),h=n(5615),d=n(5616),p=n(90);!function(e){e[e.down=-1]="down",e[e.notSpinning=0]="notSpinning",e[e.up=1]="up"}(r||(r={}));!function(e){function t(t){var n=e.call(this,t)||this;n._input=o.createRef(),n._initialStepDelay=400,n._stepDelay=75,n._onFocus=function(e){n._input.current&&((n._spinningByMouse||n.state.keyboardSpinDirection!==r.notSpinning)&&n._stop(),n._input.current.select(),n.setState({isFocused:!0}),n.props.onFocus&&n.props.onFocus(e))},n._onBlur=function(e){n._validate(e),n.setState({isFocused:!1}),n.props.onBlur&&n.props.onBlur(e)},n._onValidate=function(e,t){return n.props.onValidate?n.props.onValidate(e,t):n._defaultOnValidate(e)},n._calculatePrecision=function(e){var t=e.precision;return void 0===t?Math.max(Object(u.r)(e.step),0):t},n._defaultOnValidate=function(e){if(null===e||0===e.trim().length||isNaN(Number(e)))return n._lastValidValue;var t=Math.min(n.props.max,Math.max(n.props.min,Number(e)));return String(t)},n._onIncrement=function(e){return n.props.onIncrement?n.props.onIncrement(e):n._defaultOnIncrement(e)},n._defaultOnIncrement=function(e){var t=n.props,r=t.max,i=t.step,o=Math.min(Number(e)+Number(i),r);return o=Object(u._15)(o,n._precision),String(o)},n._onDecrement=function(e){return n.props.onDecrement?n.props.onDecrement(e):n._defaultOnDecrement(e)},n._defaultOnDecrement=function(e){var t=n.props,r=t.min,i=t.step,o=Math.max(Number(e)-Number(i),r);return o=Object(u._15)(o,n._precision),String(o)},n._validate=function(e){if(void 0!==n.state.value&&void 0!==n._valueToValidate&&n._valueToValidate!==n._lastValidValue){var t=n._onValidate(n._valueToValidate,e);t&&(n._lastValidValue=t,n._valueToValidate=void 0,n.setState({value:t}))}},n._onInputChange=function(e){var t=e.target.value;n._valueToValidate=t,n.setState({value:t})},n._updateValue=function(e,t,r){var i=r(n.state.value);i&&(n._lastValidValue=i,n.setState({value:i})),n._spinningByMouse!==e&&(n._spinningByMouse=e),e&&(n._currentStepFunctionHandle=n._async.setTimeout(function(){n._updateValue(e,n._stepDelay,r)},t))},n._stop=function(){n._currentStepFunctionHandle>=0&&(n._async.clearTimeout(n._currentStepFunctionHandle),n._currentStepFunctionHandle=-1),(n._spinningByMouse||n.state.keyboardSpinDirection!==r.notSpinning)&&(n._spinningByMouse=!1,n.setState({keyboardSpinDirection:r.notSpinning}))},n._handleKeyDown=function(e){if(e.which!==u.h.up&&e.which!==u.h.down&&e.which!==u.h.enter||(e.preventDefault(),e.stopPropagation()),n.props.disabled)n._stop();else{var t=r.notSpinning;switch(e.which){case u.h.up:t=r.up,n._updateValue(!1,n._initialStepDelay,n._onIncrement);break;case u.h.down:t=r.down,n._updateValue(!1,n._initialStepDelay,n._onDecrement);break;case u.h.enter:n._validate(e);break;case u.h.escape:n.state.value!==n._lastValidValue&&n.setState({value:n._lastValidValue})}n.state.keyboardSpinDirection!==t&&n.setState({keyboardSpinDirection:t})}},n._handleKeyUp=function(e){(n.props.disabled||e.which===u.h.up||e.which===u.h.down)&&n._stop()},n._onIncrementMouseDown=function(){n._updateValue(!0,n._initialStepDelay,n._onIncrement)},n._onDecrementMouseDown=function(){n._updateValue(!0,n._initialStepDelay,n._onDecrement)},Object(u._2)(n),Object(u._30)("SpinButton",t,{value:"defaultValue"});var i=t.value||t.defaultValue||String(t.min)||"0";return n._lastValidValue=i,n._precision=n._calculatePrecision(n.props),n.state={isFocused:!1,value:i,keyboardSpinDirection:r.notSpinning},n._async=new u.a(n),n._currentStepFunctionHandle=-1,n._labelId=Object(u.L)("Label"),n._inputId=Object(u.L)("input"),n._spinningByMouse=!1,n._valueToValidate=void 0,n}Object(i.d)(t,e),t.prototype.componentWillUnmount=function(){this._async.dispose()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this._lastValidValue=this.state.value;var t=void 0!==e.value?e.value:String(e.min);e.defaultValue&&(t=String(Math.max(e.min,Math.min(e.max,Number(e.defaultValue))))),void 0!==e.value&&this.setState({value:t}),this._precision=this._calculatePrecision(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.disabled,f=t.label,m=t.min,g=t.max,b=t.labelPosition,v=t.iconProps,y=t.incrementButtonIcon,S=t.incrementButtonAriaLabel,_=t.decrementButtonIcon,w=t.decrementButtonAriaLabel,C=t.ariaLabel,k=t.ariaDescribedBy,x=t.styles,O=t.upArrowButtonStyles,I=t.downArrowButtonStyles,T=t.theme,E=t.ariaPositionInSet,N=t.ariaSetSize,M=t.ariaValueNow,P=t.ariaValueText,j=t.keytipProps,D=t.className,R=t.inputProps,L=t.iconButtonProps,A=this.state,F=A.isFocused,B=A.value,q=A.keyboardSpinDirection,z=this.props.getClassNames?this.props.getClassNames(T,n,F,q,b,D):Object(d.a)(Object(h.b)(T,x),n,F,q,b,D),W=Object(u.P)(this.props,u.w,["onBlur","onFocus","className"]);return o.createElement("div",{className:z.root},b!==l.a.bottom&&(v||f)&&o.createElement("div",{className:z.labelWrapper},v&&o.createElement(c.b,Object(i.a)({},v,{className:z.icon,"aria-hidden":"true"})),f&&o.createElement(a.a,{id:this._labelId,htmlFor:this._inputId,className:z.label,disabled:n},f)),o.createElement(p.a,{keytipProps:j,disabled:n},function(t){return o.createElement("div",Object(i.a)({},W,{className:z.spinButtonWrapper,"aria-label":C&&C,"aria-posinset":E,"aria-setsize":N,"data-ktp-target":t["data-ktp-target"]}),o.createElement("input",Object(i.a)({value:B,id:e._inputId,onChange:e._onChange,onInput:e._onInputChange,className:z.input,type:"text",autoComplete:"off",role:"spinbutton","aria-labelledby":f&&e._labelId,"aria-valuenow":isNaN(Number(M))?isNaN(Number(B))?void 0:Number(B):M,"aria-valuetext":P||(isNaN(Number(B))?B:void 0),"aria-valuemin":m,"aria-valuemax":g,"aria-describedby":Object(u._11)(k,t["aria-describedby"]),onBlur:e._onBlur,ref:e._input,onFocus:e._onFocus,onKeyDown:e._handleKeyDown,onKeyUp:e._handleKeyUp,disabled:n,"aria-disabled":n,"data-lpignore":!0,"data-ktp-execute-target":t["data-ktp-execute-target"]},R)),o.createElement("span",{className:z.arrowBox},o.createElement(s.g,Object(i.a)({styles:Object(h.a)(T,!0,O),className:"ms-UpButton",checked:q===r.up,disabled:n,iconProps:y,onMouseDown:e._onIncrementMouseDown,onMouseLeave:e._stop,onMouseUp:e._stop,tabIndex:-1,ariaLabel:S,"data-is-focusable":!1},L)),o.createElement(s.g,Object(i.a)({styles:Object(h.a)(T,!1,I),className:"ms-DownButton",checked:q===r.down,disabled:n,iconProps:_,onMouseDown:e._onDecrementMouseDown,onMouseLeave:e._stop,onMouseUp:e._stop,tabIndex:-1,ariaLabel:w,"data-is-focusable":!1},L))))}),b===l.a.bottom&&(v||f)&&o.createElement("div",{className:z.labelWrapper},v&&o.createElement(c.b,{iconName:v.iconName,className:z.icon,"aria-hidden":"true"}),f&&o.createElement(a.a,{id:this._labelId,htmlFor:this._inputId,className:z.label,disabled:n},f)))},t.prototype.focus=function(){this._input.current&&this._input.current.focus()},Object.defineProperty(t.prototype,"value",{get:function(){return void 0===this.props.value?this.state.value:this.props.value},enumerable:!0,configurable:!0}),t.prototype._onChange=function(){},t.defaultProps={step:1,min:0,max:100,disabled:!1,labelPosition:l.a.start,label:"",incrementButtonIcon:{iconName:"ChevronUpSmall"},decrementButtonIcon:{iconName:"ChevronDownSmall"}},t=Object(i.c)([Object(u.u)("SpinButton",["theme","styles"],!0)],t)}(o.Component)},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a});var r=n(5),i=n(2),o=Object(i._10)(function(e){var t,n=e.semanticColors,i=n.disabledText,o=n.disabledBackground;return{backgroundColor:o,pointerEvents:"none",cursor:"default",color:i,selectors:(t={":after":{borderColor:o}},t[r.e]={color:"GrayText"},t)}}),s=Object(i._10)(function(e,t,n){var i,o,s,a=e.palette,c=e.semanticColors,u=e.effects,l=a.neutralSecondary,h=c.buttonText,d=c.buttonText,p=c.buttonBackgroundHovered,f=c.buttonBackgroundPressed,m={root:{outline:"none",display:"block",height:"50%",width:23,padding:0,backgroundColor:"transparent",textAlign:"center",cursor:"default",color:l,selectors:{"&.ms-DownButton":{borderRadius:"0 0 "+u.roundedCorner2+" 0"},"&.ms-UpButton":{borderRadius:"0 "+u.roundedCorner2+" 0 0"}}},rootHovered:{backgroundColor:p,color:h},rootChecked:{backgroundColor:f,color:d,selectors:(i={},i[r.e]={backgroundColor:"Highlight",color:"HighlightText"},i)},rootPressed:{backgroundColor:f,color:d,selectors:(o={},o[r.e]={backgroundColor:"Highlight",color:"HighlightText"},o)},rootDisabled:{opacity:.5,selectors:(s={},s[r.e]={color:"GrayText",opacity:1},s)},icon:{fontSize:8,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}};return Object(r.s)(m,{},n)}),a=Object(i._10)(function(e,t){var n,i,s=e.palette,a=e.semanticColors,c=e.effects,u=e.fonts,l=a.inputBorder,h=a.inputBackground,d=a.inputBorderHovered,p=a.inputFocusBorderAlt,f=a.inputText,m=s.white,g=a.inputBackgroundChecked,b=a.disabledText,v={root:{outline:"none",fontSize:u.medium.fontSize,width:"100%",minWidth:86},labelWrapper:{display:"inline-flex",alignItems:"center"},labelWrapperStart:{height:32,float:"left",marginRight:10},labelWrapperEnd:{height:32,float:"right",marginLeft:10},labelWrapperTop:{marginBottom:-1},labelWrapperBottom:{},icon:{padding:"0 5px",fontSize:r.h.large},iconDisabled:{color:b},label:{pointerEvents:"none",lineHeight:r.h.large},labelDisabled:{},spinButtonWrapper:{display:"flex",position:"relative",boxSizing:"border-box",height:32,minWidth:86,selectors:{":after":{pointerEvents:"none",content:"''",position:"absolute",left:0,top:0,bottom:0,right:0,borderWidth:"1px",borderStyle:"solid",borderColor:l,borderRadius:c.roundedCorner2}}},spinButtonWrapperTopBottom:{width:"100%"},spinButtonWrapperHovered:{selectors:(n={":after":{borderColor:d}},n[r.e]={selectors:{":after":{borderColor:"Highlight"}}},n)},spinButtonWrapperFocused:Object(r.y)(p,c.roundedCorner2),spinButtonWrapperDisabled:o(e),input:{boxSizing:"border-box",boxShadow:"none",borderStyle:"none",flex:1,margin:0,fontSize:u.medium.fontSize,color:f,backgroundColor:h,height:"100%",padding:"0 8px 0 9px",outline:0,display:"block",minWidth:61,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",cursor:"text",userSelect:"text",borderRadius:c.roundedCorner2+" 0 0 "+c.roundedCorner2},inputTextSelected:{backgroundColor:g,color:m,selectors:(i={},i[r.e]={backgroundColor:"Highlight",borderColor:"Highlight",color:"HighlightText"},i)},inputDisabled:o(e),arrowButtonsContainer:{display:"block",height:"100%",cursor:"default"},arrowButtonsContainerDisabled:o(e)};return Object(r.s)(v,t)})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(5),o=n(259),s=Object(r._10)(function(e,t,n,r,s,u){return void 0===s&&(s=o.a.start),void 0===u&&(u=void 0),{root:Object(i.F)(e.root,u),labelWrapper:Object(i.F)(e.labelWrapper,a(s,e)),icon:Object(i.F)(e.icon,t&&e.iconDisabled),label:Object(i.F)(e.label),spinButtonWrapper:Object(i.F)(e.spinButtonWrapper,c(s,e),!t&&[{selectors:{":hover":e.spinButtonWrapperHovered}},n&&{selectors:{"&&":e.spinButtonWrapperFocused}}],t&&e.spinButtonWrapperDisabled),input:Object(i.F)("ms-spinButton-input",e.input,!t&&{selectors:{"::selection":e.inputTextSelected}},t&&e.inputDisabled),arrowBox:Object(i.F)(e.arrowButtonsContainer,t&&e.arrowButtonsContainerDisabled)}});function a(e,t){switch(e){case o.a.start:return t.labelWrapperStart;case o.a.end:return t.labelWrapperEnd;case o.a.top:return t.labelWrapperTop;case o.a.bottom:return t.labelWrapperBottom}}function c(e,t){switch(e){case o.a.top:case o.a.bottom:return t.spinButtonWrapperTopBottom;default:return{}}}},function(e,t,n){"use strict";n(5618)},function(e,t,n){"use strict";n(5619),n(3348)},function(e,t,n){"use strict";var r=n(1),i=n(0),o=(n.n(i),n(2)),s=n(5),a=n(2685),c=n(3348);!function(e){function t(t){var n=e.call(this,t)||this;return n._root=i.createRef(),n._stickyContentTop=i.createRef(),n._stickyContentBottom=i.createRef(),n._nonStickyContent=i.createRef(),n._placeHolder=i.createRef(),n.syncScroll=function(e){var t=n.nonStickyContent;t&&n.props.isScrollSynced&&(t.scrollLeft=e.scrollLeft)},n._getContext=function(){return n.context},n._onScrollEvent=function(e,t){if(n.root&&n.nonStickyContent){var r=n._getNonStickyDistanceFromTop(e),i=!1,o=!1;if(n.canStickyTop)i=r-n._getStickyDistanceFromTop()<e.scrollTop;n.canStickyBottom&&e.clientHeight-t.offsetHeight<=r&&(o=r-Math.floor(e.scrollTop)>=n._getStickyDistanceFromTopForFooter(e,t)),document.activeElement&&n.nonStickyContent.contains(document.activeElement)&&(n.state.isStickyTop!==i||n.state.isStickyBottom!==o)?n._activeElement=document.activeElement:n._activeElement=void 0,n.setState({isStickyTop:n.canStickyTop&&i,isStickyBottom:o,distanceFromTop:r})}},n._getStickyDistanceFromTop=function(){var e=0;return n.stickyContentTop&&(e=n.stickyContentTop.offsetTop),e},n._getStickyDistanceFromTopForFooter=function(e,t){var r=0;return n.stickyContentBottom&&(r=e.clientHeight-t.offsetHeight+n.stickyContentBottom.offsetTop),r},n._getNonStickyDistanceFromTop=function(e){var t=0,r=n.root;if(r){for(;r&&r.offsetParent!==e;)t+=r.offsetTop,r=r.offsetParent;r&&r.offsetParent===e&&(t+=r.offsetTop)}return t},Object(o._2)(n),n.state={isStickyTop:!1,isStickyBottom:!1,distanceFromTop:void 0},n._activeElement=void 0,n}Object(r.d)(t,e),Object.defineProperty(t.prototype,"root",{get:function(){return this._root.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeHolder.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyContentTop",{get:function(){return this._stickyContentTop.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyContentBottom",{get:function(){return this._stickyContentBottom.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonStickyContent",{get:function(){return this._nonStickyContent.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canStickyTop",{get:function(){return this.props.stickyPosition===c.a.Both||this.props.stickyPosition===c.a.Header},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canStickyBottom",{get:function(){return this.props.stickyPosition===c.a.Both||this.props.stickyPosition===c.a.Footer},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){var e=this._getContext().scrollablePane;e&&(e.subscribe(this._onScrollEvent),e.addSticky(this))},t.prototype.componentWillUnmount=function(){var e=this._getContext().scrollablePane;e&&(e.unsubscribe(this._onScrollEvent),e.removeSticky(this))},t.prototype.componentDidUpdate=function(e,t){var n=this._getContext().scrollablePane;if(n){var r=this.state,i=r.isStickyBottom,o=r.isStickyTop,s=r.distanceFromTop,a=!1;t.distanceFromTop!==s&&(n.sortSticky(this,!0),a=!0),t.isStickyTop===o&&t.isStickyBottom===i||(this._activeElement&&this._activeElement.focus(),n.updateStickyRefHeights(),a=!0),a&&n.syncScrollSticky(this)}},t.prototype.shouldComponentUpdate=function(e,t){if(!this.context.scrollablePane)return!0;var n=this.state,r=n.isStickyTop,i=n.isStickyBottom,o=n.distanceFromTop;return r!==t.isStickyTop||i!==t.isStickyBottom||this.props.stickyPosition!==e.stickyPosition||this.props.children!==e.children||o!==t.distanceFromTop||u(this._nonStickyContent,this._stickyContentTop)||u(this._nonStickyContent,this._stickyContentBottom)||u(this._nonStickyContent,this._placeHolder)},t.prototype.render=function(){var e=this.state,t=e.isStickyTop,n=e.isStickyBottom,r=this.props,o=r.stickyClassName,a=r.children;return this.context.scrollablePane?i.createElement("div",{ref:this._root},this.canStickyTop&&i.createElement("div",{ref:this._stickyContentTop,"aria-hidden":!t,style:{pointerEvents:t?"auto":"none"}},i.createElement("div",{style:this._getStickyPlaceholderHeight(t)})),this.canStickyBottom&&i.createElement("div",{ref:this._stickyContentBottom,"aria-hidden":!n,style:{pointerEvents:n?"auto":"none"}},i.createElement("div",{style:this._getStickyPlaceholderHeight(n)})),i.createElement("div",{style:this._getNonStickyPlaceholderHeightAndWidth(),ref:this._placeHolder},(t||n)&&i.createElement("span",{style:s.C},a),i.createElement("div",{"aria-hidden":t||n,ref:this._nonStickyContent,className:t||n?o:void 0,style:this._getContentStyles(t||n)},a))):i.createElement("div",null,this.props.children)},t.prototype.addSticky=function(e){this.nonStickyContent&&e.appendChild(this.nonStickyContent)},t.prototype.resetSticky=function(){this.nonStickyContent&&this.placeholder&&this.placeholder.appendChild(this.nonStickyContent)},t.prototype.setDistanceFromTop=function(e){var t=this._getNonStickyDistanceFromTop(e);this.setState({distanceFromTop:t})},t.prototype._getContentStyles=function(e){return{backgroundColor:this.props.stickyBackgroundColor||this._getBackground(),overflow:e?"hidden":""}},t.prototype._getStickyPlaceholderHeight=function(e){var t=this.nonStickyContent?this.nonStickyContent.offsetHeight:0;return{visibility:e?"hidden":"visible",height:e?0:t}},t.prototype._getNonStickyPlaceholderHeightAndWidth=function(){var e=this.state,t=e.isStickyTop,n=e.isStickyBottom;if(t||n){var r=0,i=0;return this.nonStickyContent&&this.nonStickyContent.firstElementChild&&(r=this.nonStickyContent.offsetHeight,i=this.nonStickyContent.firstElementChild.scrollWidth+(this.nonStickyContent.firstElementChild.offsetWidth-this.nonStickyContent.firstElementChild.clientWidth)),{height:r,width:i}}return{}},t.prototype._getBackground=function(){if(this.root){for(var e=this.root;"rgba(0, 0, 0, 0)"===window.getComputedStyle(e).getPropertyValue("background-color")||"transparent"===window.getComputedStyle(e).getPropertyValue("background-color");){if("HTML"===e.tagName)return;e.parentElement&&(e=e.parentElement)}return window.getComputedStyle(e).getPropertyValue("background-color")}},t.defaultProps={stickyPosition:c.a.Both,isScrollSynced:!0},t.contextType=a.a}(i.Component);function u(e,t){return e&&t&&e.current&&t.current&&e.current.offsetHeight!==t.current.offsetHeight}},function(e,t,n){"use strict";n(5621)},function(e,t,n){"use strict";n(5622),n(3349),n(3350),n(3351)},function(e,t,n){"use strict";var r=n(2),i=n(3349),o=n(5624);Object(r._21)(i.a,o.a,void 0,{scope:"SwatchColorPicker"})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n(5),o={left:-2,top:-2,bottom:-2,right:-2,border:"none",outlineColor:"ButtonText"},s=function(e){var t,n,s,a,c,u=e.theme,l=e.disabled,h=e.selected,d=e.circle,p=e.isWhite,f=e.height,m=void 0===f?20:f,g=e.width,b=void 0===g?20:g,v=e.borderWidth,y=u.semanticColors,S=u.palette,_=S.neutralLighter,w=S.neutralLight,C=S.neutralSecondary,k=S.neutralTertiary,x=v||(b<24?2:4);return{colorCell:[Object(i.v)(u,{inset:-1,position:"relative",highContrastStyle:o}),{backgroundColor:y.bodyBackground,padding:0,position:"relative",boxSizing:"border-box",display:"inline-block",cursor:"pointer",userSelect:"none",borderRadius:0,border:"none",height:m,width:b},!d&&{selectors:(t={},t["."+r.g+" &:focus::after"]={outlineOffset:x-1+"px"},t)},d&&{borderRadius:"50%",selectors:(n={},n["."+r.g+" &:focus::after"]={outline:"none",borderColor:y.focusBorder,borderRadius:"50%",left:-x,right:-x,top:-x,bottom:-x,selectors:(s={},s[i.e]={outline:"1px solid ButtonText"},s)},n)},h&&{padding:2,border:x+"px solid "+w,selectors:(a={},a["&:hover::before"]={content:'""',height:m,width:b,position:"absolute",top:-x,left:-x,borderRadius:d?"50%":"default",boxShadow:"inset 0 0 0 1px "+C},a)},!h&&{selectors:(c={},c["&:hover, &:active, &:focus"]={backgroundColor:y.bodyBackground,padding:2,border:x+"px solid "+_},c["&:focus"]={borderColor:y.bodyBackground,padding:0,selectors:{":hover":{borderColor:u.palette.neutralLight,padding:2}}},c)},l&&{color:y.disabledBodyText,pointerEvents:"none",opacity:.3},p&&!h&&{backgroundColor:k,padding:1}],svg:[{width:"100%",height:"100%"},d&&{borderRadius:"50%"}]}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),i={focusedContainer:"ms-swatchColorPickerBodyContainer"},o=function(e){var t=e.className,n=e.theme;return{root:{margin:"8px 0",borderCollapse:"collapse"},tableCell:{padding:e.cellMargin/2},focusedContainer:[Object(r.w)(i,n).focusedContainer,{clear:"both",display:"block",minWidth:"180px"},t]}}},function(e,t,n){"use strict";n(5626)},function(e,t,n){"use strict";n(5627),n(3352),n(3353),n(3354)},function(e,t,n){"use strict";var r=n(2),i=n(3352),o=n(3355);Object(r._21)(i.a,o.a,void 0,{scope:"TeachingBubble"})},function(e,t,n){"use strict";n(5629)},function(e,t,n){"use strict";n(5630),n(3356),n(3357)},function(e,t,n){"use strict";var r=n(405),i=n(3356),o=n(3357);Object(r.a)(i.a,{displayName:"Text",styles:o.a})},function(e,t,n){"use strict";n(5632)},function(e,t,n){"use strict";n(5633),n(5634)},function(e,t,n){"use strict";var r=n(2171),i=n(2677),o=n(2);!function(){function e(){}e.setSlot=function(t,n,i,o,s){if(void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===s&&(s=!0),t.color||!t.value)if(s){var a=void 0;if("string"===typeof n){if(!(a=Object(r.a)(n)))throw"color is invalid in setSlot(): "+n}else a=n;e._setSlot(t,a,i,o,s)}else t.color&&e._setSlot(t,t.color,i,o,s)},e.insureSlots=function(t,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(!i.inherits&&!i.value){if(!i.color)throw"A color slot rule that does not inherit must provide its own color.";e._setSlot(i,i.color,n,!1,!1)}}},e.getThemeAsJson=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[r.name]=r.color?r.color.str:r.value||""}return t},e.getThemeAsCode=function(t){return e._makeRemainingCode("loadTheme({\n  palette: {\n",t)},e.getThemeAsCodeWithCreateTheme=function(t){return e._makeRemainingCode("const myTheme = createTheme({\n  palette: {\n",t)},e.getThemeAsSass=function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],i=r.name.charAt(0).toLowerCase()+r.name.slice(1);t+=Object(o.G)('${0}Color: "[theme: {1}, default: {2}]";\n',i,i,r.color?r.color.str:r.value||"")}return t},e.getThemeForPowerShell=function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(r.value)continue;var i=r.name.charAt(0).toLowerCase()+r.name.slice(1),s=r.color?"#"+r.color.hex:r.value||"";r.color&&r.color.a&&100!==r.color.a&&(s+=String(r.color.a.toString(16))),t+=Object(o.G)('"{0}" = "{1}";\n',i,s)}return"@{\n"+t+"}"},e._setSlot=function(t,n,r,o,s){if(void 0===s&&(s=!0),(t.color||!t.value)&&(s||!t.color||!t.isCustomized||!t.inherits)){!s&&t.isCustomized||o||!t.inherits||!Object(i.d)(t.asShade)?(t.color=n,t.isCustomized=!0):(t.isBackgroundShade?t.color=Object(i.b)(n,t.asShade,r):t.color=Object(i.c)(n,t.asShade,r),t.isCustomized=!1);for(var a=0,c=t.dependentRules;a<c.length;a++){var u=c[a];e._setSlot(u,t.color,r,!1,s)}}},e._makeRemainingCode=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],i=r.name.charAt(0).toLowerCase()+r.name.slice(1),s=r.color?"#"+r.color.hex:r.value||"";e+=Object(o.G)("    {0}: '{1}',\n",i,s)}return e+="  }});"}}()},function(e,t,n){"use strict";var r,i,o;n(2677),n(2171),n(2);!function(e){e[e.primaryColor=0]="primaryColor",e[e.backgroundColor=1]="backgroundColor",e[e.foregroundColor=2]="foregroundColor"}(r||(r={})),function(e){e[e.themePrimary=0]="themePrimary",e[e.themeLighterAlt=1]="themeLighterAlt",e[e.themeLighter=2]="themeLighter",e[e.themeLight=3]="themeLight",e[e.themeTertiary=4]="themeTertiary",e[e.themeSecondary=5]="themeSecondary",e[e.themeDarkAlt=6]="themeDarkAlt",e[e.themeDark=7]="themeDark",e[e.themeDarker=8]="themeDarker",e[e.neutralLighterAlt=9]="neutralLighterAlt",e[e.neutralLighter=10]="neutralLighter",e[e.neutralLight=11]="neutralLight",e[e.neutralQuaternaryAlt=12]="neutralQuaternaryAlt",e[e.neutralQuaternary=13]="neutralQuaternary",e[e.neutralTertiaryAlt=14]="neutralTertiaryAlt",e[e.neutralTertiary=15]="neutralTertiary",e[e.neutralSecondary=16]="neutralSecondary",e[e.neutralPrimaryAlt=17]="neutralPrimaryAlt",e[e.neutralPrimary=18]="neutralPrimary",e[e.neutralDark=19]="neutralDark",e[e.black=20]="black",e[e.white=21]="white"}(i||(i={})),function(e){e[e.bodyBackground=0]="bodyBackground",e[e.bodyText=1]="bodyText",e[e.disabledBackground=2]="disabledBackground",e[e.disabledText=3]="disabledText"}(o||(o={}))},function(e,t,n){"use strict";n(5636)},function(e,t,n){"use strict";n(5637),n(3358)},function(e,t,n){"use strict";var r=n(2),i=n(3358),o=n(5638);Object(r._21)(i.a,o.a,void 0,{scope:"Toggle"})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(5),i=function(e){var t,n,i,o,s,a,c,u=e.theme,l=e.className,h=e.disabled,d=e.checked,p=e.inlineLabel,f=e.onOffMissing,m=u.semanticColors,g=u.palette,b=m.bodyBackground,v=m.inputBackgroundChecked,y=g.themeDark,S=g.neutralDark,_=m.disabledBodySubtext,w=m.smallInputBorder,C=m.inputForegroundChecked,k=m.disabledBodySubtext,x=m.disabledBackground,O=m.smallInputBorder,I=m.inputBorderHovered,T=m.disabledBodySubtext,E=m.disabledText;return{root:["ms-Toggle",d&&"is-checked",!h&&"is-enabled",h&&"is-disabled",u.fonts.medium,{marginBottom:"8px"},p&&{display:"flex",alignItems:"center"},l],label:["ms-Toggle-label",h&&{color:E,selectors:(t={},t[r.e]={color:"GrayText"},t)},p&&!f&&{marginRight:16},f&&p&&{order:1,marginLeft:16},p&&{wordBreak:"break-all"}],container:["ms-Toggle-innerContainer",{display:"inline-flex",position:"relative"}],pill:["ms-Toggle-background",Object(r.v)(u,{inset:-3}),{fontSize:"20px",boxSizing:"border-box",width:40,height:20,borderRadius:10,transition:"all 0.1s ease",border:"1px solid "+O,background:b,cursor:"pointer",display:"flex",alignItems:"center",padding:"0 3px"},!h&&[!d&&{selectors:{":hover":[{borderColor:I}],":hover .ms-Toggle-thumb":[{backgroundColor:S,selectors:(n={},n[r.e]={borderColor:"Highlight"},n)}]}},d&&[{background:v,borderColor:"transparent",justifyContent:"flex-end"},{selectors:(i={":hover":[{backgroundColor:y,borderColor:"transparent",selectors:(o={},o[r.e]={backgroundColor:"Highlight"},o)}]},i[r.e]={backgroundColor:"WindowText"},i)}]],h&&[{cursor:"default"},!d&&[{borderColor:T}],d&&[{backgroundColor:_,borderColor:"transparent",justifyContent:"flex-end"}]],!h&&{selectors:{"&:hover":{selectors:(s={},s[r.e]={borderColor:"Highlight"},s)}}}],thumb:["ms-Toggle-thumb",{display:"block",width:12,height:12,borderRadius:"50%",transition:"all 0.1s ease",backgroundColor:w,borderColor:"transparent",borderWidth:".28em",borderStyle:"solid",boxSizing:"border-box"},!h&&d&&[{backgroundColor:C,selectors:(a={},a[r.e]={backgroundColor:"Window",borderColor:"Window"},a)}],h&&[!d&&[{backgroundColor:k}],d&&[{backgroundColor:x}]]],text:["ms-Toggle-stateText",{selectors:{"&&":{padding:"0",margin:"0 8px",userSelect:"none",fontWeight:r.d.regular}}},h&&{selectors:{"&&":{color:E,selectors:(c={},c[r.e]={color:"GrayText"},c)}}}]}}},function(e,t,n){"use strict";var r=n(1),i=n(0),o=(n.n(i),n(20)),s=n(730),a=n(2405),c=n(2213),u=n(2120);t.a=Object(o.connect)((e,{contentRef:t,id:n})=>({sessionStatus:u.sessionStatus(e),collabModel:u.model(e),hasRemoteCellId:u.cellIdExistsInMap(e,n),languageId:s.b.getCellLanguage(e,t,n)}),(e,{id:t})=>({onCursorPositionChange:n=>{if(n){const{positionLineNumber:r,positionColumn:i,selectionStartLineNumber:o,selectionStartColumn:s}=n;e(c.setCursorPosition(t,{line:r,column:i},{lineStart:o,columnStart:s,lineEnd:r,columnEnd:i}))}}}))(class extends i.PureComponent{render(){const e=s.b.EditorComponent;return i.createElement(e,this.props)}componentDidMount(){Object(a.a)("Editor adapter did mount",this.props.id,this.props.sessionStatus),this.ensureHandler()}componentWillUnmount(){Object(a.a)("Editor adapter will unmount",this.props.id),this.opHanlder&&(this.opHanlder.dispose(),this.opHanlder=void 0)}componentDidUpdate(e){this.ensureHandler()}ensureHandler(){return Object(r.b)(this,void 0,void 0,function*(){const{sessionStatus:e,collabModel:t,hasRemoteCellId:n,languageId:r}=this.props;if(t&&"joined"===e&&!this.opHanlder&&n){const{id:e,contentRef:n}=this.props;Object(a.a)("Create editor op handler",e);const i=s.b.DocumentUri.createCellUri(n,e,r),o=s.b.editor.getModel(i);o&&(this.opHanlder=yield t.bindEditor(e,o))}})}})},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(20),s=n(732),a=n(2120),c=n(5641);n.n(c);t.a=Object(o.connect)((e,t)=>{const{cellId:n}=t;return function(e){const t=a.outputCreatedBy(e,n);let r;return t&&(r=a.getPeerByUserId(e,t)),{sessionStatus:a.sessionStatus(e),userInfo:r}}})(class extends i.a.Component{constructor(e){super(e)}render(){const{sessionStatus:e,userInfo:t}=this.props;return"joined"===e&&t?i.a.createElement("div",{className:"collab-output-persona"},i.a.createElement(s.a,{initialsColor:t.color,size:s.d.size24,text:t.userName,title:t.userName,hidePersonaDetails:!0})):null}})},function(e,t,n){var r=n(5642);"string"===typeof r&&(r=[[e.i,r,""]]);var i={hmr:!1,transform:void 0};n(1971)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1970)(!1)).push([e.i,".collab-output-persona{z-index:6;cursor:auto;margin:10px auto 0;width:24px}",""])},function(e,t,n){"use strict";var r=n(1),i=n(0),o=(n.n(i),n(20)),s=n(9),a=(n.n(s),n(2405)),c=n(2120);t.a=Object(o.connect)((e,{cellId:t})=>({sessionStatus:c.sessionStatus(e),model:c.model(e),hasRemoteCellId:c.cellIdExistsInMap(e,t)}),(e,{cellId:t,contentRef:n})=>({updateCellSource:r=>{e(s.actions.updateCellSource({id:t,contentRef:n,value:r}))}}))(class extends i.Component{render(){return null}componentDidMount(){Object(a.a)("Markdown adapter did mount",this.props.cellId,this.props.sessionStatus),this.ensureHandler()}componentWillUnmount(){Object(a.a)("Markdown adapter will unmount",this.props.cellId),this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}componentDidUpdate(){this.ensureHandler()}ensureHandler(){return Object(r.b)(this,void 0,void 0,function*(){const{sessionStatus:e,model:t,cellId:n,updateCellSource:r,hasRemoteCellId:i}=this.props;if(t&&n&&"joined"===e&&!this.subscription&&i){Object(a.a)("Create markdown op handler",n);const e=yield t.getCellSourceObservable(n);e&&(this.subscription=e.subscribe(e=>{r(e)}))}})}})},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(20),s=n(3291),a=n(2369),c=(n.n(a),n(34)),u=n(2120);const l=c.k.div`
  max-width: 150px;
  padding-left: 10px;
`,h={personas:[],maxDisplayablePersonas:4,overflowButtonType:s.b.descriptive,overflowButtonProps:{ariaLabel:"More users",onClick:e=>alert("overflow icon clicked")},ariaDescription:"To move through the items use left and right arrow keys.",personaSize:10,getPersonaProps:()=>({hidePersonaDetails:!0})};t.a=Object(o.connect)(e=>{const t=u.audience(e),n=u.userId(e);return{sessionStatus:u.sessionStatus(e),peers:t?[...t.values()].map(e=>e.toJS()).filter(e=>e.userId!==n&&e.presence===a.PresenceStatus.active):[]}})(class extends i.a.Component{render(){const{sessionStatus:e,peers:t}=this.props;if("joined"===e&&t){const e=t.map(e=>({personaName:e.userName,data:{userId:e.userId}})),n=Object.assign(Object.assign({},h),{personas:[...e]});return i.a.createElement(l,null,i.a.createElement(s.a,Object.assign({},n)))}return null}})},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(20),s=n(17),a=n(730),c=n(2120),u=n(5646),l=n(5647),h=n(5648);t.a=Object(o.connect)(e=>{const t=Object(s.firstContentRef)(e),n=c.audience(e),r=c.presence(e);if(r&&n){const i=r.toArray().filter(([,e])=>e.get("userId")&&e.get("location")&&n.has(e.get("userId"))).map(([r,i])=>{const o=i.toJS(),s=n.get(o.userId).toJSON();return{id:r,name:s.userName,color:s.color||"grey",location:o.location,languageId:a.b.getCellLanguage(e,t,o.location.focusedCell)}});return{sessionStatus:c.sessionStatus(e),contentRef:t,presence:i}}return{sessionStatus:c.sessionStatus(e),contentRef:t}})(class extends i.a.PureComponent{render(){const{contentRef:e,presence:t}=this.props;return t?i.a.createElement(i.a.Fragment,null,this.renderCursorDecorators(e,t),this.renderTagDecorators(e,t),this.renderSelectionDecorators(e,t)):null}renderCursorDecorators(e,t){return t.map(t=>{const{line:n,column:r}=t.location.cursorPosition;return i.a.createElement(u.a,{key:t.id,cursorColor:t.color,contentRef:e,cellId:t.location.focusedCell,position:{lineNumber:n,column:r},languageId:t.languageId})})}renderTagDecorators(e,t){return t.map(t=>{const{line:n,column:r}=t.location.cursorPosition;return i.a.createElement(l.a,{key:t.id,tagColor:t.color,tagText:t.name,contentRef:e,cellId:t.location.focusedCell,position:{lineNumber:n,column:r},languageId:t.languageId})})}renderSelectionDecorators(e,t){return t.map(t=>{const{lineStart:n,columnStart:r,lineEnd:o,columnEnd:s}=t.location.selectionRange,c=new a.b.Range(n,r,o,s);return i.a.createElement(h.a,{key:t.id,selectionColor:t.color,hoverText:t.name,contentRef:e,cellId:t.location.focusedCell,selection:c,languageId:t.languageId})})}})},function(e,t,n){"use strict";var r=n(41),i=n(2686),o=n(730);const s=Object(r.default)(class extends i.a{renderDecorator(){return[{range:o.b.Range.fromPositions(this.props.position),options:{beforeContentClassName:this.props.className,stickiness:o.b.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}]}})`
  ::before {
    color: ${e=>e.cursorColor} !important;
    content: "ᛙ";
    text-decoration: none;
    margin: 0px 0px 0px -${e=>1===e.position.column?"0.17":"0.25"}ch;
    position: absolute;
    display: inline-block;
    top: 0;
    font-size: 200%;
    font-weight: bold;
    z-index: 1;
  }
`;t.a=s},function(e,t,n){"use strict";var r=n(41),i=n(2686),o=n(730);const s=Object(r.default)(class extends i.a{renderDecorator(){return[{range:o.b.Range.fromPositions(this.props.position),options:{afterContentClassName:this.props.className,stickiness:o.b.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,zIndex:99}}]}})`
  ::after {
    content: "${e=>e.tagText}";
    background-color: ${e=>e.tagColor};
    text-decoration: none;
    position: absolute;
    top: -0.75rem;
    border-radius: 0.15rem;
    padding: 0px 0.5ch;
    display: inline-block;
    pointer-events: none;
    color: white !important;
    font-size: 0.7rem;
    z-index: 1;
    font-weight: bold;
  }
`;t.a=s},function(e,t,n){"use strict";var r=n(41),i=n(5649),o=(n.n(i),n(2686));const s=Object(r.default)(class extends o.a{renderDecorator(){const e=this.props.selection;return!e||e.isEmpty()?[]:[{range:e,options:{inlineClassName:this.props.className,hoverMessage:{value:this.props.hoverText||""}}}]}})`
  background-color: ${e=>(function(e,t){const n=i.get.rgb(e);return n?(t=Math.min(1,Math.max(0,t)),n[3]=t,i.to.rgb(n)):e})(e.selectionColor,.35)};
  border-radius: 0.1rem;
`;t.a=s},function(e,t,n){var r=n(5650),i=n(5651),o={};for(var s in r)r.hasOwnProperty(s)&&(o[r[s]]=s);var a=e.exports={to:{},get:{}};function c(e,t,n){return Math.min(Math.max(t,e),n)}function u(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}a.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=a.get.hsl(e),n="hsl";break;case"hwb":t=a.get.hwb(e),n="hwb";break;default:t=a.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},a.get.rgb=function(e){if(!e)return null;var t,n,i,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var s=2*n;o[n]=parseInt(t.slice(s,s+2),16)}i&&(o[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)o[n]=parseInt(t[n]+t[n],16);i&&(o[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(t[n+1],0);t[4]&&(o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(o=r[t[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(o[3]=parseFloat(t[4]))}for(n=0;n<3;n++)o[n]=c(o[n],0,255);return o[3]=c(o[3],0,1),o},a.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},a.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},a.to.hex=function(){var e=i(arguments);return"#"+u(e[0])+u(e[1])+u(e[2])+(e[3]<1?u(Math.round(255*e[3])):"")},a.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},a.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},a.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},a.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},a.to.keyword=function(e){return o[e.slice(0,3)]}},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){"use strict";var r=n(5652),i=Array.prototype.concat,o=Array.prototype.slice,s=e.exports=function(e){for(var t=[],n=0,s=e.length;n<s;n++){var a=e[n];r(a)?t=i.call(t,o.call(a)):t.push(a)}return t};s.wrap=function(e){return function(){return e(s(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"===typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}}]));